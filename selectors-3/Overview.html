<!DOCTYPE html>

<html lang=en>
 <head>
  <meta charset=utf-8>

  <title>Selectors Level 3</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://www.w3.org/TR/2018/CR-selectors-3-20180130/"
   rel=canonical>
  <!--
  <link href="http://purl.org/dc/terms/" rel="schema.dcterms">
  <link href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright" rel="dcterms.rights">
  -->

  <meta content="Selectors Level 3" name=dcterms.title>
  <meta content=text name=dcterms.type>
  <meta content=2018-01-30 name=dcterms.date>
  <meta content="Tantek Çelik" name=dcterms.creator>
  <meta content="Elika J. Etemad" name=dcterms.creator>
  <meta content="Daniel Glazman" name=dcterms.creator>
  <meta content="Ian Hickson" name=dcterms.creator>
  <meta content="Peter Linss" name=dcterms.creator>
  <meta content="John Williams" name=dcterms.creator>
  <meta content=W3C name=dcterms.publisher>
  <meta content="https://www.w3.org/TR/2018/CR-selectors-3-20180130/"
   name=dcterms.identifier>
  <link href="default.css" rel=stylesheet type="text/css">
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-CR.css"
   rel=stylesheet type="text/css">
  <script defer=""
   src="https://test.csswg.org/harness/annotate.js#!selectors-3_dev/selectors-3"
   type="text/javascript"></script>

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="https://www.w3.org/"><img alt=W3C height=48
    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width=72></a>
    <!--end-logo-->

   <h1 id=title>Selectors Level 3</h1>

   <h2 class="no-num no-toc">W3C Candidate Recommendation 30 January 2018</h2>

   <dl>
    <dt>This version:

    <dd>
     <a href="https://www.w3.org/TR/2018/CR-selectors-3-20180130/">
             https://www.w3.org/TR/2018/CR-selectors-3-20180130/</a>

    <dt>Latest version:

    <dd><a href="https://www.w3.org/TR/selectors-3/">
     https://www.w3.org/TR/selectors-3/</a>

    <dt>Previous version:

    <dd><a href="http://www.w3.org/TR/2011/REC-css3-selectors-20110929/">
     http://www.w3.org/TR/2011/REC-css3-selectors-20110929/</a>


    <dt>Latest version of Selectors</dt>
    <dd><a href="https://www.w3.org/TR/selectors/">https://www.w3.org/TR/selectors/</a></dd>


    <dt>Feedback:

    <dd>File an <a href="https://github.com/w3c/csswg-drafts/labels/selectors-3">issue on GitHub</a>

    <dt id=editors-list>Editors:

    <dd class=vcard><a class="url fn" href="http://www.tantek.com/"
     lang=tr>Tantek Çelik</a> (Invited Expert)

    <dd class=vcard><a class="url fn"
     href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a>
     (Invited Expert)

    <dd class=vcard><span class=fn>Daniel Glazman</span> (Disruptive
     Innovations SARL)

    <dd class=vcard><a class="url fn" href="mailto:ian@hixie.ch">Ian
     Hickson</a> (<span class=company><a
     href="http://www.google.com/">Google</a></span>)

    <dd class=vcard><span class=fn>Peter Linss</span> (former editor, <span
     class=company><a
     href="http://www.netscape.com/">Netscape/AOL</a></span>)

    <dd class=vcard><span class=fn>John Williams</span> (former editor, <span
     class=company><a href="http://www.quark.com/">Quark, Inc.</a></span>)
   </dl>
   <!--begin-copyright-->
   <p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2018 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p><a href="#selector"><em>Selectors</em></a> are patterns that match
   against elements in a tree, and as such form one of several technologies
   that can be used to select nodes in an XML document. Selectors have been
   optimized for use with HTML and XML, and are designed to be usable in
   performance-critical code.

  <p><abbr title="Cascading Style Sheets">CSS</abbr> (Cascading Style
   Sheets) is a language for describing the rendering of <abbr
   title="Hypertext Markup Language">HTML</abbr> and <abbr
   title="Extensible Markup Language">XML</abbr> documents on screen, on
   paper, in speech, etc. CSS uses Selectors for binding style properties to
   elements in the document.

  <p>This document describes the selectors that already exist in <abbr
   title="CSS level 1">CSS1</abbr> <a
   href="#ref-CSS1">[CSS1]<!--{{CSS1}}--></a> and <abbr
   title="CSS level   2">CSS2</abbr> <a
   href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a>, and further introduces new
   selectors for <abbr title="CSS level 3">CSS3</abbr> and other languages
   that may need them.

  <p>Selectors define the following function:

  <pre>expression ∗ element → boolean</pre>

  <p>That is, given an element and a selector, this specification defines
   whether that element matches the selector.

  <p>These expressions can also be used, for instance, to select a set of
   elements, or a single element from a set of elements, by evaluating the
   expression across all the elements in a subtree. <abbr
   title="Simple Tree Transformation   Sheets">STTS</abbr> (Simple Tree
   Transformation Sheets), a language for transforming XML trees, uses this
   mechanism. <a href="#ref-STTS3">[STTS3]<!--{{STTS3}}--></a>

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p><em>This section describes the status of this document at the time of
    its publication. Other documents may supersede this document. A list
    of current W3C publications and the latest revision of this technical
    report can be found in the <a href="https://www.w3.org/TR/">W3C
      technical reports index</a> at https://www.w3.org/TR/.</em></p>

  <p>This Candidate Recommendation is identical to the
  <a href="http://www.w3.org/TR/2011/REC-css3-selectors-20110929/">
    29 September 2011 W3C Recommendation</a> except that the
    <a href="https://www.w3.org/Style/2011/REC-css3-selectors-20110929-errata.html">errata</a>
    have been incorporated, as noted in the <a href="#changes">changes section</a>.
    One of these is a technical change; a
    <a href="http://test.csswg.org/harness/test/selectors-3_dev/single/selector-structural-pseudo-root/format/html5/">
    test</a> is available for that change, and is
    <a href="http://test.csswg.org/harness/details/selectors-3_dev/selector-structural-pseudo-root/">
    passed by two or more implementations</a>.
  </p>

  <p>Publication as a Candidate Recommendation does not imply endorsement by
   the W3C Membership. This is a draft document and may be updated, replaced
   or obsoleted by other documents at any time. It is inappropriate to cite
   this document as other than work in progress.

  <p>This document was produced by the <a
   href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> as a <a
   href="http://www.w3.org/Consortium/Process/tr#RecsCR">Candidate
   Recommendation.</a>

  <p>A Candidate Recommendation is a document that has been widely reviewed
   and is ready for implementation. W3C encourages everybody to implement
   this specification and return comments as <a href="https://github.com/w3c/csswg-drafts/labels/selectors-3">GitHub issues</a>
   by 28 February 2018.
   All issues and comments are <a
     href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>,
     and there is also a <a
     href="https://lists.w3.org/Archives/Public/www-style/">historical
     archive</a>.


  <p>This document was produced by a group operating under the <a
   href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>. W3C maintains a <a
   href="https://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains
   <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance
    with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section
      6 of the W3C Patent Policy</a>. </p>

      <p>This document is governed by the <a id="w3c_process_revision"
      href="https://www.w3.org/2017/Process-20170301/">1 March 2017
      W3C Process Document</a>. </p>
  <!--end-status-->

  <p>A separate <a
   href="https://test.csswg.org/harness/suite/selectors-3_dev/">test
   suite</a> and <a
   href="https://test.csswg.org/harness/results/selectors-3_dev/grouped/">
   implementation report</a> is available.

   <nav id=toc>
   <h2 class="no-num no-toc" id=contents>Table of contents</h2>
   <!--begin-toc-->
   <ul class=toc>
    <li><a href="#context"><span class=secno>1. </span>Introduction</a>
     <ul class=toc>
      <li><a href="#dependencies"><span class=secno>1.1.
       </span>Dependencies</a>

      <li><a href="#terminology"><span class=secno>1.2.
       </span>Terminology</a>

      <li><a href="#changesFromCSS2"><span class=secno>1.3. </span>Changes
       from CSS2</a>
     </ul>

    <li><a href="#selectors"><span class=secno>2. </span>Selectors</a>

    <li><a href="#casesens"><span class=secno>3. </span>Case sensitivity</a>

    <li><a href="#selector-syntax"><span class=secno>4. </span>Selector
     syntax</a>

    <li><a href="#grouping"><span class=secno>5. </span>Groups of
     selectors</a>

    <li><a href="#simple-selectors"><span class=secno>6. </span>Simple
     selectors</a>
     <ul class=toc>
      <li><a href="#type-selectors"><span class=secno>6.1. </span>Type
       selector</a>
       <ul class=toc>
        <li><a href="#typenmsp"><span class=secno>6.1.1. </span>Type
         selectors and namespaces</a>
       </ul>

      <li><a href="#universal-selector"><span class=secno>6.2.
       </span>Universal selector </a>
       <ul class=toc>
        <li><a href="#univnmsp"><span class=secno>6.2.1. </span>Universal
         selector and namespaces</a>
       </ul>

      <li><a href="#attribute-selectors"><span class=secno>6.3.
       </span>Attribute selectors</a>
       <ul class=toc>
        <li><a href="#attribute-representation"><span class=secno>6.3.1.
         </span>Attribute presence and value selectors</a>

        <li><a href="#attribute-substrings"><span class=secno>6.3.2.
         </span>Substring matching attribute selectors</a>

        <li><a href="#attrnmsp"><span class=secno>6.3.3. </span>Attribute
         selectors and namespaces</a>

        <li><a href="#def-values"><span class=secno>6.3.4. </span>Default
         attribute values in DTDs</a>
       </ul>

      <li><a href="#class-html"><span class=secno>6.4. </span>Class
       selectors</a>

      <li><a href="#id-selectors"><span class=secno>6.5. </span>ID
       selectors</a>

      <li><a href="#pseudo-classes"><span class=secno>6.6.
       </span>Pseudo-classes</a>
       <ul class=toc>
        <li><a href="#dynamic-pseudos"><span class=secno>6.6.1.
         </span>Dynamic pseudo-classes</a>
         <ul class=toc>
          <li><a href="#the-link-pseudo-classes-link-and-visited"><span
           class=secno>6.6.1.1. </span>The link pseudo-classes: :link and
           :visited</a>

          <li><a href="#the-user-action-pseudo-classes-hover-act"><span
           class=secno>6.6.1.2. </span>The user action pseudo-classes :hover,
           :active, and :focus</a>
         </ul>

        <li><a href="#target-pseudo"><span class=secno>6.6.2. </span>The
         target pseudo-class :target</a>

        <li><a href="#lang-pseudo"><span class=secno>6.6.3. </span>The
         language pseudo-class :lang</a>

        <li><a href="#UIstates"><span class=secno>6.6.4. </span>The UI
         element states pseudo-classes</a>
         <ul class=toc>
          <li><a href="#enableddisabled"><span class=secno>6.6.4.1.
           </span>The :enabled and :disabled pseudo-classes</a>

          <li><a href="#checked"><span class=secno>6.6.4.2. </span>The
           :checked pseudo-class</a>

          <li><a href="#indeterminate"><span class=secno>6.6.4.3. </span>The
           :indeterminate pseudo-class</a>
         </ul>

        <li><a href="#structural-pseudos"><span class=secno>6.6.5.
         </span>Structural pseudo-classes</a>
         <ul class=toc>
          <li><a href="#root-pseudo"><span class=secno>6.6.5.1. </span>:root
           pseudo-class</a>

          <li><a href="#nth-child-pseudo"><span class=secno>6.6.5.2.
           </span>:nth-child() pseudo-class</a>

          <li><a href="#nth-last-child-pseudo"><span class=secno>6.6.5.3.
           </span>:nth-last-child() pseudo-class</a>

          <li><a href="#nth-of-type-pseudo"><span class=secno>6.6.5.4.
           </span>:nth-of-type() pseudo-class</a>

          <li><a href="#nth-last-of-type-pseudo"><span class=secno>6.6.5.5.
           </span>:nth-last-of-type() pseudo-class</a>

          <li><a href="#first-child-pseudo"><span class=secno>6.6.5.6.
           </span>:first-child pseudo-class</a>

          <li><a href="#last-child-pseudo"><span class=secno>6.6.5.7.
           </span>:last-child pseudo-class</a>

          <li><a href="#first-of-type-pseudo"><span class=secno>6.6.5.8.
           </span>:first-of-type pseudo-class</a>

          <li><a href="#last-of-type-pseudo"><span class=secno>6.6.5.9.
           </span>:last-of-type pseudo-class</a>

          <li><a href="#only-child-pseudo"><span class=secno>6.6.5.10.
           </span>:only-child pseudo-class</a>

          <li><a href="#only-of-type-pseudo"><span class=secno>6.6.5.11.
           </span>:only-of-type pseudo-class</a>

          <li><a href="#empty-pseudo"><span class=secno>6.6.5.12.
           </span>:empty pseudo-class</a>
         </ul>

        <li><a href="#content-selectors"><span class=secno>6.6.6.
         </span>Blank</a>

        <li><a href="#negation"><span class=secno>6.6.7. </span>The negation
         pseudo-class</a>
       </ul>
     </ul>

    <li><a href="#pseudo-elements"><span class=secno>7.
     </span>Pseudo-elements</a>
     <ul class=toc>
      <li><a href="#first-line"><span class=secno>7.1. </span>The
       ::first-line pseudo-element</a>
       <ul class=toc>
        <li><a href="#first-formatted-line"><span class=secno>7.1.1.
         </span>First formatted line definition in CSS</a>
       </ul>

      <li><a href="#first-letter"><span class=secno>7.2. </span>The
       ::first-letter pseudo-element</a>
       <ul class=toc>
        <li><a href="#application-in-css"><span class=secno>7.2.1.
         </span>Application in CSS</a>
       </ul>

      <li><a href="#selection"><span class=secno>7.3. </span>Blank</a>

      <li><a href="#gen-content"><span class=secno>7.4. </span>The ::before
       and ::after pseudo-elements</a>
     </ul>

    <li><a href="#combinators"><span class=secno>8. </span>Combinators</a>
     <ul class=toc>
      <li><a href="#descendant-combinators"><span class=secno>8.1.
       </span>Descendant combinator</a>

      <li><a href="#child-combinators"><span class=secno>8.2. </span>Child
       combinators</a>

      <li><a href="#sibling-combinators"><span class=secno>8.3.
       </span>Sibling combinators</a>
       <ul class=toc>
        <li><a href="#adjacent-sibling-combinators"><span class=secno>8.3.1.
         </span>Next-sibling combinator</a>

        <li><a href="#general-sibling-combinators"><span class=secno>8.3.2.
         </span>Subsequent-sibling combinator</a>
       </ul>
     </ul>

    <li><a href="#specificity"><span class=secno>9. </span>Calculating a
     selector's specificity</a>

    <li><a href="#w3cselgrammar"><span class=secno>10. </span>The grammar of
     Selectors</a>
     <ul class=toc>
      <li><a href="#grammar"><span class=secno>10.1. </span>Grammar</a>

      <li><a href="#lex"><span class=secno>10.2. </span>Lexical scanner</a>
     </ul>

    <li><a href="#profiling"><span class=secno>11. </span>Profiles</a>

    <li><a href="#Conformance"><span class=secno>12. </span>Conformance and
     requirements</a>

    <li><a href="#Tests"><span class=secno>13. </span>Tests</a>

    <li><a href="#ACKS"><span class=secno>14. </span>Acknowledgements</a>

    <li><a href="#references"><span class=secno>15. </span>References</a>
     <ul class=toc>
      <li><a href="#normative-references"><span class=secno>15.1.
       </span>Normative References</a>

      <li><a href="#informative-references"><span class=secno>15.2.
       </span>Informative References</a>

      <li><a href="#changes"><span class=secno>15.3. </span>Changes</a>
     </ul>
   </ul>
   <!--end-toc--> </nav>

  <h2 id=context><span class=secno>1. </span>Introduction</h2>

  <p>Selectors Level 1 and Selectors Level 2 are defined as the subsets of
   selector functionality defined in the <a
   href="https://www.w3.org/TR/REC-CSS1">CSS1</a> and <a
   href="https://www.w3.org/TR/CSS21/">CSS2.1</a> specifications,
   respectively.

  <h3 id=dependencies><span class=secno>1.1. </span>Dependencies</h3>

  <p>Some features of this specification are specific to CSS, or have
   particular limitations or rules specific to CSS. In this specification,
   these have been described in terms of CSS2.1. <a
   href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a>

  <h3 id=terminology><span class=secno>1.2. </span>Terminology</h3>

  <p>All of the text of this specification is normative except examples,
   notes, and sections explicitly marked as non-normative.

  <p>Additional terminology is defined in the <a
   href="https://www.w3.org/TR/CSS21/conform.html#defs">Definitions</a>
   section of <a href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a>. Examples of
   document source code and fragments are given in XML <a
   href="#ref-XML10">[XML10]<!--{{XML10}}--></a> or HTML <a
   href="#ref-HTML401">[HTML401]<!--{{HTML401}}--></a><a
   href="#ref-HTML5">[HTML5]<!--{{HTML5}}--></a> syntax.

  <h3 id=changesFromCSS2><span class=secno>1.3. </span>Changes from CSS2</h3>

  <p><em>This section is non-normative.</em>

  <p>The main differences between the selectors in CSS2 and those in
   Selectors are:

  <ul>
   <li>the list of basic definitions (selector, group of selectors, simple
    selector, etc.) has been changed; in particular, what was referred to in
    CSS2 as a simple selector is now called a sequence of simple selectors,
    and the term "simple selector" is now used for the components of this
    sequence

   <li>an optional namespace component is now allowed in element type
    selectors, the universal selector and attribute selectors

   <li>a <a href="#general-sibling-combinators">new combinator</a> has been
    introduced

   <li>new simple selectors including substring matching attribute selectors,
    and new pseudo-classes

   <li>new pseudo-elements, and introduction of the "::" convention for
    pseudo-elements

   <li>the grammar has been rewritten

   <li>profiles to be added to specifications integrating Selectors and
    defining the set of selectors which is actually supported by each
    specification

   <li>Selectors are now a CSS3 Module and an independent specification;
    other specifications can now refer to this document independently of CSS

   <li>the specification now has its own test suite
  </ul>

  <h2 id=selectors><span class=secno>2. </span>Selectors</h2>

  <p><em>This section is non-normative, as it merely summarizes the following
   sections.</em>

  <p>A Selector represents a structure. This structure can be used as a
   condition (e.g. in a CSS rule) that determines which elements a selector
   matches in the document tree, or as a flat description of the HTML or XML
   fragment corresponding to that structure.

  <p>Selectors may range from simple element names to rich contextual
   representations.

  <p>The following table summarizes the Selector syntax:

  <table class=selectorsReview>
   <thead>
    <tr>
     <th class=pattern>Pattern

     <th class=meaning>Represents

     <th class=described>Description

     <th class=origin>Level

   <tbody>
    <tr>
     <td class=pattern>*

     <td class=meaning>any element

     <td class=described><a href="#universal-selector">Universal selector</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E

     <td class=meaning>an element of type E

     <td class=described><a href="#type-selectors">Type selector</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E[foo]

     <td class=meaning>an E element with a "foo" attribute

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E[foo="bar"]

     <td class=meaning>an E element whose "foo" attribute value is exactly
      equal to "bar"

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E[foo~="bar"]

     <td class=meaning>an E element whose "foo" attribute value is a list of
      whitespace-separated values, one of which is exactly equal to "bar"

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E[foo^="bar"]

     <td class=meaning>an E element whose "foo" attribute value begins
      exactly with the string "bar"

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E[foo$="bar"]

     <td class=meaning>an E element whose "foo" attribute value ends exactly
      with the string "bar"

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E[foo*="bar"]

     <td class=meaning>an E element whose "foo" attribute value contains the
      substring "bar"

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E[foo|="en"]

     <td class=meaning>an E element whose "foo" attribute has a
      hyphen-separated list of values beginning (from the left) with "en"

     <td class=described><a href="#attribute-selectors">Attribute
      selectors</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E:root

     <td class=meaning>an E element, root of the document

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:nth-child(n)

     <td class=meaning>an E element, the n-th child of its parent

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:nth-last-child(n)

     <td class=meaning>an E element, the n-th child of its parent, counting
      from the last one

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:nth-of-type(n)

     <td class=meaning>an E element, the n-th sibling of its type

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:nth-last-of-type(n)

     <td class=meaning>an E element, the n-th sibling of its type, counting
      from the last one

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:first-child

     <td class=meaning>an E element, first child of its parent

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E:last-child

     <td class=meaning>an E element, last child of its parent

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:first-of-type

     <td class=meaning>an E element, first sibling of its type

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:last-of-type

     <td class=meaning>an E element, last sibling of its type

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:only-child

     <td class=meaning>an E element, only child of its parent

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:only-of-type

     <td class=meaning>an E element, only sibling of its type

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:empty

     <td class=meaning>an E element that has no children (including text
      nodes)

     <td class=described><a href="#structural-pseudos">Structural
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:link<br>
      E:visited

     <td class=meaning>an E element being the source anchor of a hyperlink of
      which the target is not yet visited (:link) or already visited
      (:visited)

     <td class=described><a href="#link">The link pseudo-classes</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E:active<br>
      E:hover<br>
      E:focus

     <td class=meaning>an E element during certain user actions

     <td class=described><a href="#useraction-pseudos">The user action
      pseudo-classes</a>

     <td class=origin>1 and 2

    <tr>
     <td class=pattern>E:target

     <td class=meaning>an E element being the target of the referring URI

     <td class=described><a href="#target-pseudo">The target pseudo-class</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:lang(fr)

     <td class=meaning>an element of type E in language "fr" (the document
      language specifies how language is determined)

     <td class=described><a href="#lang-pseudo">The :lang() pseudo-class</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E:enabled<br>
      E:disabled

     <td class=meaning>a user interface element E which is enabled or
      disabled

     <td class=described><a href="#UIstates">The UI element states
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E:checked<!--<br>E:indeterminate-->

     <td class=meaning>a user interface element E which is
      checked<!-- or in an
      indeterminate state--> (for instance a
      radio-button or checkbox)

     <td class=described><a href="#UIstates">The UI element states
      pseudo-classes</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E::first-line

     <td class=meaning>the first formatted line of an E element

     <td class=described><a href="#first-line">The ::first-line
      pseudo-element</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E::first-letter

     <td class=meaning>the first formatted letter of an E element

     <td class=described><a href="#first-letter">The ::first-letter
      pseudo-element</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E::before

     <td class=meaning>generated content before an E element

     <td class=described><a href="#gen-content">The ::before
      pseudo-element</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E::after

     <td class=meaning>generated content after an E element

     <td class=described><a href="#gen-content">The ::after
      pseudo-element</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E.warning

     <td class=meaning>an E element whose class is "warning" (the document
      language specifies how class is determined).

     <td class=described><a href="#class-html">Class selectors</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E#myid

     <td class=meaning>an E element with ID equal to "myid".

     <td class=described><a href="#id-selectors">ID selectors</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E:not(s)

     <td class=meaning>an E element that does not match simple selector s

     <td class=described><a href="#negation">Negation pseudo-class</a>

     <td class=origin>3

    <tr>
     <td class=pattern>E F

     <td class=meaning>an F element descendant of an E element

     <td class=described><a href="#descendant-combinators">Descendant
      combinator</a>

     <td class=origin>1

    <tr>
     <td class=pattern>E &gt; F

     <td class=meaning>an F element child of an E element

     <td class=described><a href="#child-combinators">Child combinator</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E + F

     <td class=meaning>an F element immediately preceded by an E element

     <td class=described><a href="#adjacent-sibling-combinators">Next-sibling
      combinator</a>

     <td class=origin>2

    <tr>
     <td class=pattern>E ~ F

     <td class=meaning>an F element preceded by an E element

     <td class=described><a
      href="#general-sibling-combinators">Subsequent-sibling combinator</a>

     <td class=origin>3
  </table>

  <h2 id=casesens><span class=secno>3. </span>Case sensitivity</h2>

  <p>All Selectors syntax is case-insensitive within the ASCII range (i.e.
   [a-z] and [A-Z] are equivalent), except for parts that are not under the
   control of Selectors. The case sensitivity of document language element
   names, attribute names, and attribute values in selectors depends on the
   document language. For example, in HTML, element names are
   case-insensitive, but in XML, they are case-sensitive. Case sensitivity of
   namespace prefixes is defined in <a
   href="#ref-CSS3NAMESPACE">[CSS3NAMESPACE]<!--{{!CSS3NAMESPACE}}--></a>.

  <h2 id=selector-syntax><span class=secno>4. </span>Selector syntax</h2>

  <p>A <dfn id=selector>selector</dfn> is a chain of one or more <a
   href="#sequence">sequences of simple selectors</a> separated by <a
   href="#combinators">combinators</a>. One <a
   href="#pseudo-elements">pseudo-element</a> may be appended to the last
   sequence of simple selectors in a selector.

  <p>A <dfn id=sequence-of-simple-selectors><a name=sequence>sequence of
   simple selectors</a></dfn> is a chain of <a
   href="#simple-selectors-dfn">simple selectors</a> that are not separated
   by a <a href="#combinators">combinator</a>. It always begins with a <a
   href="#type-selectors">type selector</a> or a <a
   href="#universal-selector">universal selector</a>. No other type selector
   or universal selector is allowed in the sequence.

  <p>A <dfn id=simple-selector><a name=simple-selectors-dfn></a><a
   href="#simple-selectors">simple selector</a></dfn> is either a <a
   href="#type-selectors">type selector</a>, <a
   href="#universal-selector">universal selector</a>, <a
   href="#attribute-selectors">attribute selector</a>, <a
   href="#class-html">class selector</a>, <a href="#id-selectors">ID
   selector</a>, or <a href="#pseudo-classes">pseudo-class</a>.

  <p><dfn id=combinators0>Combinators</dfn> are: whitespace,
   &quot;greater-than sign&quot; (U+003E, <code>&gt;</code>), &quot;plus
   sign&quot; (U+002B, <code>+</code>) and &quot;tilde&quot; (U+007E,
   <code>~</code>). White space may appear between a combinator and the
   simple selectors around it. <a name=whitespace></a>Only the characters
   "space" (U+0020), "tab" (U+0009), "line feed" (U+000A), "carriage return"
   (U+000D), and "form feed" (U+000C) can occur in whitespace. Other
   space-like characters, such as "em-space" (U+2003) and "ideographic space"
   (U+3000), are never part of whitespace.

  <p>The elements of a document tree that are represented by a selector are
   the <dfn id=subjects-of-the-selector><a name=subject></a>subjects of the
   selector</dfn>. A selector consisting of a single sequence of simple
   selectors represents any element satisfying its requirements. Prepending
   another sequence of simple selectors and a combinator to a sequence
   imposes additional matching constraints, so the subjects of a selector are
   always a subset of the elements represented by the last sequence of simple
   selectors.

  <p>An empty selector, containing no sequence of simple selectors and no
   pseudo-element, is an <a href="#Conformance">invalid selector</a>.

  <p>Characters in Selectors can be escaped with a backslash according to the
   same <a
   href="https://www.w3.org/TR/CSS21/syndata.html#characters">escaping
   rules</a> as CSS. <a href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a>.

  <p id=nsdecl>Certain selectors support namespace prefixes. The mechanism by
   which namespace prefixes are <dfn id=declared>declared</dfn> should be
   specified by the language that uses Selectors. If the language does not
   specify a namespace prefix declaration mechanism, then no prefixes are
   declared. In CSS, namespace prefixes are declared with the <a
   href="https://www.w3.org/TR/css3-namespace/#declaration"><code>@namespace</code></a>
   rule. <a
   href="#ref-CSS3NAMESPACE">[CSS3NAMESPACE]<!--{{!CSS3NAMESPACE}}--></a>

  <h2 id=grouping><span class=secno>5. </span>Groups of selectors</h2>

  <p>A comma-separated list of selectors represents the union of all elements
   selected by each of the individual selectors in the list. (A comma is
   U+002C.) For example, in CSS when several selectors share the same
   declarations, they may be grouped into a comma-separated list. White space
   may appear before and/or after the comma.

  <div class=example>
   <p>CSS example:

   <p>In this example, we condense three rules with identical declarations
    into one. Thus,

   <pre>h1 { font-family: sans-serif }
h2 { font-family: sans-serif }
h3 { font-family: sans-serif }</pre>

   <p>is equivalent to:

   <pre>h1, h2, h3 { font-family: sans-serif }</pre>
  </div>

  <p><strong>Warning</strong>: the equivalence is true in this example
   because all the selectors are valid selectors. If just one of these
   selectors were invalid, the entire group of selectors would be invalid.
   This would invalidate the rule for all three heading elements, whereas in
   the former case only one of the three individual heading rules would be
   invalidated.

  <div class=example>
   <p>Invalid CSS example:

   <pre>h1 { font-family: sans-serif }
h2..foo { font-family: sans-serif }
h3 { font-family: sans-serif }</pre>

   <p>is not equivalent to:

   <pre>h1, h2..foo, h3 { font-family: sans-serif }</pre>

   <p>because the above selector (<code>h1, h2..foo, h3</code>) is entirely
    invalid and the entire style rule is dropped. (When the selectors are not
    grouped, only the rule for <code>h2..foo</code> is dropped.)
  </div>

  <h2 id=simple-selectors><span class=secno>6. </span>Simple selectors</h2>

  <h3 id=type-selectors><span class=secno>6.1. </span>Type selector</h3>

  <p>A <dfn id=type-selector>type selector</dfn> is the name of a document
   language element type written using the syntax of <a
   href="https://www.w3.org/TR/css3-namespace/#css-qnames">CSS qualified
   names</a> <a
   href="#ref-CSS3NAMESPACE">[CSS3NAMESPACE]<!--{{!CSS3NAMESPACE}}--></a>. A
   type selector represents an instance of the element type in the document
   tree.

  <div class=example>
   <p>Example:

   <p>The following selector represents an <code>h1</code> element in the
    document tree:

   <pre>h1</pre>
  </div>

  <h4 id=typenmsp><span class=secno>6.1.1. </span>Type selectors and
   namespaces</h4>

  <p>Type selectors allow an optional namespace component: a namespace prefix
   that has been previously <a href="#nsdecl">declared</a> may be prepended
   to the element name separated by the namespace separator &quot;vertical
   bar&quot; (U+007C, <code>|</code>). (See, e.g., <a
   href="#ref-XML-NAMES">[XML-NAMES]<!--{{XML-NAMES}}--></a> for the use of
   namespaces in XML.)

  <p>The namespace component may be left empty (no prefix before the
   namespace separator) to indicate that the selector is only to represent
   elements with no namespace.

  <p>An asterisk may be used for the namespace prefix, indicating that the
   selector represents elements in any namespace (including elements with no
   namespace).

  <p>Element type selectors that have no namespace component (no namespace
   separator) represent elements without regard to the element's namespace
   (equivalent to "<code>*|</code>") unless a default namespace has been <a
   href="#nsdecl">declared</a> for namespaced selectors (e.g. in CSS, in the
   style sheet). If a default namespace has been declared, such selectors
   will represent only elements in the default namespace.

  <p>A type selector containing a namespace prefix that has not been
   previously <a href="#nsdecl">declared</a> for namespaced selectors is an
   <a href="#Conformance">invalid</a> selector.

  <p>In a namespace-aware client, the name part of element type selectors
   (the part after the namespace separator, if it is present) will only match
   against the <a
   href="https://www.w3.org/TR/REC-xml-names/#NT-LocalPart">local part</a> of
   the element's <a
   href="https://www.w3.org/TR/REC-xml-names/#ns-qualnames">qualified
   name</a>.

  <p>In summary:

  <dl>
   <dt><code>ns|E</code>

   <dd>elements with name E in namespace ns

   <dt><code>*|E</code>

   <dd>elements with name E in any namespace, including those without a
    namespace

   <dt><code>|E</code>

   <dd>elements with name E without a namespace

   <dt><code>E</code>

   <dd>if no default namespace has been <a href="#nsdecl">declared</a> for
    selectors, this is equivalent to *|E. Otherwise it is equivalent to ns|E
    where ns is the default namespace.
  </dl>

  <div class=example>
   <p>CSS examples:

   <pre>@namespace foo url(http://www.example.com);
 foo|h1 { color: blue }  /* first rule */
 foo|* { color: yellow } /* second rule */
 |h1 { color: red }      /* ...*/
 *|h1 { color: green }
 h1 { color: green }</pre>

   <p>The first rule (not counting the <code>@namespace</code> at-rule) will
    match only <code>h1</code> elements in the "http://www.example.com"
    namespace.

   <p>The second rule will match all elements in the "http://www.example.com"
    namespace.

   <p>The third rule will match only <code>h1</code> elements with no
    namespace.

   <p>The fourth rule will match <code>h1</code> elements in any namespace
    (including those without any namespace).

   <p>The last rule is equivalent to the fourth rule because no default
    namespace has been defined.
  </div>

  <h3 id=universal-selector><span class=secno>6.2. </span>Universal selector</h3>

  <p>The <dfn id=universal-selector0>universal selector</dfn>, written as a
   <a href="https://www.w3.org/TR/css3-namespace/#css-qnames">CSS qualified
   name</a> <a
   href="#ref-CSS3NAMESPACE">[CSS3NAMESPACE]<!--{{!CSS3NAMESPACE}}--></a>
   with an asterisk (<dfn data-dfn-type=selector data-export=data-export
   id=x>*</dfn> U+002A) as the local name, represents the qualified name of
   any element type. It represents any single element in the document tree in
   any namespace (including those without a namespace) if no default
   namespace has been specified for selectors. If a default namespace has
   been specified, see <a href="#univnmsp">Universal selector and
   Namespaces</a> below.

  <p>If a universal selector represented by <code>*</code> (i.e. without a
   namespace prefix) is not the only component of a <a
   href="#sequence">sequence of simple selectors</a> selectors or is
   immediately followed by a <a href="#pseudo-elements">pseudo-element</a>,
   then the <code>*</code> may be omitted and the universal selector's
   presence implied.

  <div class=example>
   <p>Examples:

   <ul>
    <li><code>*[hreflang|=en]</code> and <code>[hreflang|=en]</code> are
     equivalent,

    <li><code>*.warning</code> and <code>.warning</code> are equivalent,

    <li><code>*#myid</code> and <code>#myid</code> are equivalent.
   </ul>
  </div>

  <p class=note><strong>Note:</strong> it is recommended that the
   <code>*</code> not be omitted, because it decreases the potential
   confusion between, for example, <code style="white-space: nowrap">div
   :first-child</code> and <code
   style="white-space: nowrap">div:first-child</code>. Here, <code
   style="white-space: nowrap">div *:first-child</code> is more readable.

  <h4 id=univnmsp><span class=secno>6.2.1. </span>Universal selector and
   namespaces</h4>

  <p>The universal selector allows an optional namespace component. It is
   used as follows:

  <dl>
   <dt><code>ns|*</code>

   <dd>all elements in namespace ns

   <dt><code>*|*</code>

   <dd>all elements

   <dt><code>|*</code>

   <dd>all elements without a namespace

   <dt><code>*</code>

   <dd>if no default namespace has been specified, this is equivalent to *|*.
    Otherwise it is equivalent to ns|* where ns is the default namespace.
  </dl>

  <p>A universal selector containing a namespace prefix that has not been
   previously <a href="#nsdecl">declared</a> is an <a
   href="#Conformance">invalid</a> selector.

  <h3 id=attribute-selectors><span class=secno>6.3. </span>Attribute
   selectors</h3>

  <p>Selectors allow the representation of an element’s attributes. When a
   selector is used as an expression to match against an element, attribute
   selectors must be considered to match an element if that element has an
   attribute that matches the attribute represented by the attribute
   selector.

  <h4 id=attribute-representation><span class=secno>6.3.1. </span>Attribute
   presence and value selectors</h4>

  <p>CSS2 introduced four attribute selectors:

  <dl>
   <dt><code>[att]</code>

   <dd>Represents an element with the <code>att</code> attribute, whatever
    the value of the attribute.

   <dt><code>[att=val]</code>

   <dd>Represents an element with the <code>att</code> attribute whose value
    is exactly "val".

   <dt><code>[att~=val]</code>

   <dd>Represents an element with the <code>att</code> attribute whose value
    is a <a href="#whitespace">whitespace</a>-separated list of words, one of
    which is exactly "val". If "val" contains whitespace, it will never
    represent anything (since the words are <em>separated</em> by spaces).
    Also if "val" is the empty string, it will never represent anything.

   <dt><code>[att|=val]</code>

   <dd>Represents an element with the <code>att</code> attribute, its value
    either being exactly "val" or beginning with "val" immediately followed
    by "-" (U+002D). This is primarily intended to allow language subcode
    matches (e.g., the <code>hreflang</code> attribute on the <code>a</code>
    element in HTML) as described in BCP 47 (<a
    href="#ref-BCP47">[BCP47]<!--{{BCP47}}--></a>) or its successor. For
    <code>lang</code> (or <code>xml:lang</code>) language subcode matching,
    please see <a href="#lang-pseudo">the <code>:lang</code>
    pseudo-class</a>.
  </dl>

  <p>Attribute values must be CSS <a
   href="https://www.w3.org/TR/CSS21/syndata.html#value-def-identifier">identifiers</a>
   or <a href="https://www.w3.org/TR/CSS21/syndata.html#strings">strings</a>.
   <a href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a> The case-sensitivity of
   attribute names and values in selectors depends on the document language.

  <div class=example>
   <p>Examples:

   <p>The following attribute selector represents an <code>h1</code> element
    that carries the <code>title</code> attribute, whatever its value:

   <pre>h1[title]</pre>

   <p>In the following example, the selector represents a <code>span</code>
    element whose <code>class</code> attribute has exactly the value
    "example":

   <pre>span[class="example"]</pre>

   <p>Multiple attribute selectors can be used to represent several
    attributes of an element, or several conditions on the same attribute.
    Here, the selector represents a <code>span</code> element whose
    <code>hello</code> attribute has exactly the value "Cleveland" and whose
    <code>goodbye</code> attribute has exactly the value "Columbus":

   <pre>span[hello="Cleveland"][goodbye="Columbus"]</pre>

   <p>The following CSS rules illustrate the differences between "=" and
    "~=". The first selector would match, for example, an <code>a</code>
    element with the value "copyright copyleft copyeditor" on a
    <code>rel</code> attribute. The second selector would only match an
    <code>a</code> element with an <code>href</code> attribute having the
    exact value "http://www.w3.org/".

   <pre>a[rel~="copyright"] { ... }
a[href="http://www.w3.org/"] { ... }</pre>

   <p>The following selector represents an <code>a</code> element whose
    <code>hreflang</code> attribute is exactly "fr".

   <pre>a[hreflang=fr]</pre>

   <p>The following selector represents an <code>a</code> element for which
    the value of the <code>hreflang</code> attribute begins with "en",
    including "en", "en-US", and "en-scouse":

   <pre>a[hreflang|="en"]</pre>

   <p>The following selectors represent a <code>DIALOGUE</code> element
    whenever it has one of two different values for an attribute
    <code>character</code>:

   <pre>DIALOGUE[character=romeo]
DIALOGUE[character=juliet]</pre>
  </div>

  <h4 id=attribute-substrings><span class=secno>6.3.2. </span>Substring
   matching attribute selectors</h4>

  <p>Three additional attribute selectors are provided for matching
   substrings in the value of an attribute:

  <dl>
   <dt><code>[att^=val]</code>

   <dd>Represents an element with the <code>att</code> attribute whose value
    begins with the prefix "val". If "val" is the empty string then the
    selector does not represent anything.

   <dt><code>[att$=val]</code>

   <dd>Represents an element with the <code>att</code> attribute whose value
    ends with the suffix "val". If "val" is the empty string then the
    selector does not represent anything.

   <dt><code>[att*=val]</code>

   <dd>Represents an element with the <code>att</code> attribute whose value
    contains at least one instance of the substring "val". If "val" is the
    empty string then the selector does not represent anything.
  </dl>

  <p>Attribute values must be CSS <a
   href="https://www.w3.org/TR/CSS21/syndata.html#value-def-identifier">identifiers</a>
   or <a href="https://www.w3.org/TR/CSS21/syndata.html#strings">strings</a>.
   <a href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a> The case-sensitivity of
   attribute names in selectors depends on the document language.

  <div class=example>
   <p>Examples:

   <p>The following selector represents an HTML <code>object</code>,
    referencing an image:

   <pre>object[type^="image/"]</pre>

   <p>The following selector represents an HTML anchor <code>a</code> with an
    <code>href</code> attribute whose value ends with ".html".

   <pre>a[href$=".html"]</pre>

   <p>The following selector represents an HTML paragraph with a
    <code>title</code> attribute whose value contains the substring "hello"

   <pre>p[title*="hello"]</pre>
  </div>

  <h4 id=attrnmsp><span class=secno>6.3.3. </span>Attribute selectors and
   namespaces</h4>

  <p>The attribute name in an attribute selector is given as a <a
   href="https://www.w3.org/TR/css3-namespace/#css-qnames">CSS qualified
   name</a>: a namespace prefix that has been previously <a
   href="#nsdecl">declared</a> may be prepended to the attribute name
   separated by the namespace separator &quot;vertical bar&quot;
   (<code>|</code>). In keeping with the Namespaces in the XML
   recommendation, default namespaces do not apply to attributes, therefore
   attribute selectors without a namespace component apply only to attributes
   that have no namespace (equivalent to "<code>|attr</code>"). An asterisk
   may be used for the namespace prefix indicating that the selector is to
   match all attribute names without regard to the attribute's namespace.

  <p>An attribute selector with an attribute name containing a namespace
   prefix that has not been previously <a href="#nsdecl">declared</a> is an
   <a href="#Conformance">invalid</a> selector.

  <div class=example>
   <p>CSS examples:

   <pre>@namespace foo "http://www.example.com";
[foo|att=val] { color: blue }
[*|att] { color: yellow }
[|att] { color: green }
[att] { color: green }</pre>

   <p>The first rule will match only elements with the attribute
    <code>att</code> in the "http://www.example.com" namespace with the value
    "val".

   <p>The second rule will match only elements with the attribute
    <code>att</code> regardless of the namespace of the attribute (including
    no namespace).

   <p>The last two rules are equivalent and will match only elements with the
    attribute <code>att</code> where the attribute is not in a namespace.
  </div>

  <h4 id=def-values><span class=secno>6.3.4. </span>Default attribute values
   in DTDs</h4>

  <p>Attribute selectors represent attribute values in the document tree. How
   that document tree is constructed is outside the scope of Selectors. In
   some document formats default attribute values can be defined in a DTD or
   elsewhere, but these can only be selected by attribute selectors if they
   appear in the document tree. Selectors should be designed so that they
   work whether or not the default values are included in the document tree.

  <p>For example, a XML UA may, but is <em>not</em> required to read an
   "external subset" of the DTD but <em>is</em> required to look for default
   attribute values in the document's "internal subset." (See, e.g., <a
   href="#ref-XML10">[XML10]<!--{{XML10}}--></a> for definitions of these
   subsets.) Depending on the UA, a default attribute value defined in the
   external subset of the DTD might or might not appear in the document tree.

  <p>A UA that recognizes an XML namespace may, but is not required to use
   its knowledge of that namespace to treat default attribute values as if
   they were present in the document. (For example, an XHTML UA is not
   required to use its built-in knowledge of the XHTML DTD. See, e.g., <a
   href="#ref-XML-NAMES">[XML-NAMES]<!--{{XML-NAMES}}--></a> for details on
   namespaces in XML 1.0.)

  <p class=note><strong>Note:</strong> Typically, implementations choose to
   ignore external subsets. This corresponds to the behaviour of
   non-validating processors as defined by the XML specification.

  <div class=example>
   <p>Example:

   <p>Consider an element <code>EXAMPLE</code> with an attribute
    <code>radix</code> that has a default value of <code>"decimal"</code>.
    The DTD fragment might be

   <pre
    class=dtd-example>&lt;!ATTLIST EXAMPLE radix (decimal,octal) "decimal"></pre>

   <p>If the style sheet contains the rules

   <pre>EXAMPLE[radix=decimal] { /*... default property settings ...*/ }
EXAMPLE[radix=octal]   { /*... other settings...*/ }</pre>

   <p>the first rule might not match elements whose <code>radix</code>
    attribute is set by default, i.e. not set explicitly. To catch all cases,
    the attribute selector for the default value must be dropped:

   <pre>EXAMPLE                { /*... default property settings ...*/ }
EXAMPLE[radix=octal]   { /*... other settings...*/ }</pre>

   <p>Here, because the selector <code>EXAMPLE[radix=octal]</code> is more
    specific than the type selector alone, the style declarations in the
    second rule will override those in the first for elements that have a
    <code>radix</code> attribute value of <code>"octal"</code>. Care has to
    be taken that all property declarations that are to apply only to the
    default case are overridden in the non-default cases' style rules.
  </div>

  <h3 id=class-html><span class=secno>6.4. </span>Class selectors</h3>

  <p>Working with HTML, authors may use the "period" notation (also known as
   "full stop", U+002E, <code>.</code>) as an alternative to the
   <code>~=</code> notation when representing the <code>class</code>
   attribute. Thus, for HTML, <code>div.value</code> and
   <code>div[class~=value]</code> have the same meaning. The attribute value
   must immediately follow the full stop (<code>.</code>).

  <p>UAs may apply selectors using the period (.) notation in XML documents
   if the UA has namespace-specific knowledge that allows it to determine
   which attribute is the "class" attribute for the respective namespace. One
   such example of namespace-specific knowledge is the prose in the
   specification for a particular namespace (e.g. SVG 1.1 <a
   href="#ref-SVG11">[SVG11]<!--{{SVG11}}--></a> describes the <a
   href="https://www.w3.org/TR/SVG11/styling.html#ClassAttribute">SVG
   <code>class</code> attribute</a> and how a UA should interpret it, and
   similarly MathML <a href="#ref-MATHML3">[MATHML3]<!--{{MATHML3}}--></a>
   describes the <a
   href="https://www.w3.org/TR/MathML3/chapter2.html#fund.globatt">MathML
   <code>class</code> attribute</a>.)

  <div class=example>
   <p>CSS examples:

   <p>We can assign style information to all elements with
    <code>class~="pastoral"</code> as follows:

   <pre>*.pastoral { color: green }  /* all elements with class~=pastoral */</pre>

   <p>or just

   <pre>.pastoral { color: green }  /* all elements with class~=pastoral */</pre>

   <p>The following assigns style only to H1 elements with
    <code>class~="pastoral"</code>:

   <pre>H1.pastoral { color: green }  /* H1 elements with class~=pastoral */</pre>

   <p>Given these rules, the first <code>H1</code> instance below would not
    have green text, while the second would:

   <pre>&lt;H1&gt;Not green&lt;/H1&gt;
&lt;H1 class="pastoral"&gt;Very green&lt;/H1&gt;</pre>

   <p>The following rule matches any <code>P</code> element whose
    <code>class</code> attribute has been assigned a list of <a
    href="#whitespace">whitespace</a>-separated values that includes both
    <code>pastoral</code> and <code>marine</code>:

   <pre>p.pastoral.marine { color: green }</pre>

   <p>This rule matches when <code>class="pastoral blue aqua marine"</code>
    but does not match for <code>class="pastoral blue"</code>.
  </div>

  <p class=note><strong>Note:</strong> Because CSS gives considerable power
   to the "class" attribute, authors could conceivably design their own
   "document language" based on elements with almost no associated
   presentation (such as <code>DIV</code> and <code>SPAN</code> in HTML) and
   assigning style information through the "class" attribute. Authors should
   avoid this practice since the structural elements of a document language
   often have recognized and accepted meanings and author-defined classes may
   not.

  <p class=note><strong>Note:</strong> If an element has multiple class
   attributes, their values must be concatenated with spaces between the
   values before searching for the class. As of this time the working group
   is not aware of any manner in which this situation can be reached,
   however, so this behavior is explicitly non-normative in this
   specification.

  <h3 id=id-selectors><span class=secno>6.5. </span>ID selectors</h3>

  <p>Document languages may contain attributes that are declared to be of
   type ID. What makes attributes of type ID special is that no two such
   attributes can have the same value in a conformant document, regardless of
   the type of the elements that carry them; whatever the document language,
   an ID typed attribute can be used to uniquely identify its element. In
   HTML all ID attributes are named "id"; XML applications may name ID
   attributes differently, but the same restriction applies.

  <p>An ID-typed attribute of a document language allows authors to assign an
   identifier to one element instance in the document tree. An ID selector
   contains a &quot;number sign&quot; (U+0023, <code>#</code>) immediately
   followed by the ID value, which must be an CSS <a
   href="https://www.w3.org/TR/CSS21/syndata.html#value-def-identifier">identifiers</a>.
   An ID selector represents an element instance that has an identifier that
   matches the identifier in the ID selector.

  <p>Selectors does not specify how a UA knows the ID-typed attribute of an
   element. The UA may, e.g., read a document's DTD, have the information
   hard-coded or ask the user.

  <div class=example>
   <p>Examples:

   <p>The following ID selector represents an <code>h1</code> element whose
    ID-typed attribute has the value "chapter1":

   <pre>h1#chapter1</pre>

   <p>The following ID selector represents any element whose ID-typed
    attribute has the value "chapter1":

   <pre>#chapter1</pre>

   <p>The following selector represents any element whose ID-typed attribute
    has the value "z98y".

   <pre>*#z98y</pre>
  </div>

  <p class=note><strong>Note:</strong> In XML 1.0 <a
   href="#ref-XML10">[XML10]<!--{{XML10}}--></a>, the information about which
   attribute contains an element's IDs is contained in a DTD or a schema.
   When parsing XML, UAs do not always read the DTD, and thus may not know
   what the ID of an element is (though a UA may have namespace-specific
   knowledge that allows it to determine which attribute is the ID attribute
   for that namespace). If a style sheet author knows or suspects that a UA
   may not know what the ID of an element is, he should use normal attribute
   selectors instead: <code>[name=p371]</code> instead of <code>#p371</code>.

  <p>If an element has multiple ID attributes, all of them must be treated as
   IDs for that element for the purposes of the ID selector. Such a situation
   could be reached using mixtures of xml:id, DOM, XML DTDs, and
   namespace-specific knowledge.

  <h3 id=pseudo-classes><span class=secno>6.6. </span>Pseudo-classes</h3>

  <p>The pseudo-class concept is introduced to permit selection based on
   information that lies outside of the document tree or that cannot be
   expressed using the other simple selectors.

  <p>A pseudo-class always consists of a &quot;colon&quot; (<code>:</code>)
   followed by the name of the pseudo-class and optionally by a value between
   parentheses.

  <p>Pseudo-classes are allowed in all sequences of simple selectors
   contained in a selector. Pseudo-classes are allowed anywhere in sequences
   of simple selectors, after the leading type selector or universal selector
   (possibly omitted). Pseudo-class names are case-insensitive. Some
   pseudo-classes are mutually exclusive, while others can be applied
   simultaneously to the same element. Pseudo-classes may be dynamic, in the
   sense that an element may acquire or lose a pseudo-class while a user
   interacts with the document.

  <h4 id=dynamic-pseudos><span class=secno>6.6.1. </span>Dynamic
   pseudo-classes</h4>

  <p>Dynamic pseudo-classes classify elements on characteristics other than
   their name, attributes, or content, in principle characteristics that
   cannot be deduced from the document tree.

  <p>Dynamic pseudo-classes do not appear in the document source or document
   tree.

  <h5 id=the-link-pseudo-classes-link-and-visited><span class=secno>6.6.1.1.
   </span>The <a name=link>link pseudo-classes: :link and :visited</a></h5>

  <p>User agents commonly display unvisited links differently from previously
   visited ones. Selectors provides the pseudo-classes <dfn
   data-dfn-type=selector data-export=data-export id=sel-link>:link</dfn> and
   <dfn data-dfn-type=selector data-export=data-export
   id=sel-visited>:visited</dfn> to distinguish them:

  <ul>
   <li>The <a href="#sel-link"><code>:link</code></a> pseudo-class applies to
    links that have not yet been visited.

   <li>The <a href="#sel-visited"><code>:visited</code></a> pseudo-class applies
    once the link has been visited by the user.
  </ul>

  <p>After some amount of time, user agents may choose to return a visited
   link to the (unvisited) ‘<a href="#sel-link"><code
   class=css>:link</code></a>’ state.

  <p>The two states are mutually exclusive.

  <div class=example>
   <p>Example:

   <p>The following selector represents links carrying class
    <code>external</code> and already visited:

   <pre>a.external:visited</pre>
  </div>

  <p class=note><strong>Note:</strong> It is possible for style sheet authors
   to abuse the :link and :visited pseudo-classes to determine which sites a
   user has visited without the user's consent.

  <p>UAs may therefore treat all links as unvisited links, or implement other
   measures to preserve the user's privacy while rendering visited and
   unvisited links differently.

  <h5 id=the-user-action-pseudo-classes-hover-act><span class=secno>6.6.1.2.
   </span>The <a name=useraction-pseudos>user action pseudo-classes :hover,
   :active, and :focus</a></h5>

  <p>Interactive user agents sometimes change the rendering in response to
   user actions. Selectors provides three pseudo-classes for the selection of
   an element the user is acting on.

  <ul>
   <li>The <dfn data-dfn-type=selector data-export=data-export
    id=sel-hover>:hover</dfn> pseudo-class applies while the user designates
    an element with a pointing device, but does not necessarily activate it.
    For example, a visual user agent could apply this pseudo-class when the
    cursor (mouse pointer) hovers over a box generated by the element. User
    agents that do not support <a
    href="https://www.w3.org/TR/CSS21/media.html#interactive-media-group">interactive
    media</a> do not have to support this pseudo-class. Some conforming user
    agents that support <a
    href="https://www.w3.org/TR/CSS21/media.html#interactive-media-group">interactive
    media</a> may not be able to support this pseudo-class (e.g., a pen
    device that does not detect hovering).

   <li>The <dfn data-dfn-type=selector data-export=data-export
    id=sel-active>:active</dfn> pseudo-class applies while an element is
    being activated by the user. For example, between the times the user
    presses the mouse button and releases it. On systems with more than one
    mouse button, <a href="#sel-active"><code>:active</code></a> applies only
    to the primary or primary activation button (typically the "left" mouse
    button), and any aliases thereof.

   <li>The <dfn data-dfn-type=selector data-export=data-export
    id=sel-focus>:focus</dfn> pseudo-class applies while an element has the
    focus (accepts keyboard or mouse events, or other forms of input).
  </ul>

  <p>There may be document language or implementation specific limits on
   which elements can become <a href="#sel-active"><code>:active</code></a>
   or acquire <a href="#sel-focus"><code>:focus</code></a>.

  <p>These pseudo-classes are not mutually exclusive. An element may match
   several pseudo-classes at the same time.

  <p>Selectors doesn't define if the parent of an element that is ‘<a
   href="#sel-active"><code class=css>:active</code></a>’ or ‘<a
   href="#sel-hover"><code class=css>:hover</code></a>’ is also in that
   state.

  <p class=note><strong>Note:</strong> If the ‘<a href="#sel-hover"><code
   class=css>:hover</code></a>’ state applies to an element because its
   child is designated by a pointing device, then it's possible for ‘<a
   href="#sel-hover"><code class=css>:hover</code></a>’ to apply to an
   element that is not underneath the pointing device.

  <div class=example>
   <p>Examples:

   <pre>a:link    /* unvisited links */
a:visited /* visited links */
a:hover   /* user hovers */
a:active  /* active links */</pre>

   <p>An example of combining dynamic pseudo-classes:

   <pre>a:focus
a:focus:hover</pre>

   <p>The last selector matches <code>a</code> elements that are in the
    pseudo-class :focus and in the pseudo-class :hover.
  </div>

  <p class=note><strong>Note:</strong> An element can be both ‘<a
   href="#sel-link"><code class=css>:visited</code></a>’ and ‘<a
   href="#sel-active"><code class=css>:active</code></a>’ (or ‘<a
   href="#sel-link"><code class=css>:link</code></a>’ and ‘<a
   href="#sel-active"><code class=css>:active</code></a>’).

  <h4 id=target-pseudo><span class=secno>6.6.2. </span>The target
   pseudo-class :target</h4>

  <p>Some URIs refer to a location within a resource. This kind of URI ends
   with a &quot;number sign&quot; (#) followed by an anchor identifier
   (called the fragment identifier).

  <p>URIs with fragment identifiers link to a certain element within the
   document, known as the target element. For instance, here is a URI
   pointing to an anchor named <code>section_2</code> in an HTML document:

  <pre>http://example.com/html/top.html#section_2</pre>

  <p>A target element can be represented by the <dfn data-dfn-type=selector
   data-export=data-export id=sel-target>:target</dfn> pseudo-class. If the
   document’s URI has no fragment identifier, then the document has no
   target element.

  <div class=example>
   <p>Example:

   <pre>p.note:target</pre>

   <p>This selector represents a <code>p</code> element of class
    <code>note</code> that is the target element of the referring URI.
  </div>

  <div class=example>
   <p>CSS example:

   <p>Here, the <a href="#sel-target"><code>:target</code></a> pseudo-class
    is used to make the target element red and place an image before it, if
    there is one:

   <pre>*:target { color : red }
*:target::before { content : url(target.png) }</pre>
  </div>

  <h4 id=lang-pseudo><span class=secno>6.6.3. </span>The language
   pseudo-class :lang</h4>

  <p>If the document language specifies how the human language of an element
   is determined, it is possible to write selectors that represent an element
   based on its language. For example, in HTML <a
   href="#ref-HTML401">[HTML401]<!--{{HTML401}}--></a>, the language is
   determined by a combination of the <code>lang</code> attribute and
   possibly information from the <code>meta</code> elements or the protocol
   (such as HTTP headers). XML uses an attribute called
   <code>xml:lang</code>, and there may be other document language-specific
   methods for determining the language.

  <p>The pseudo-class <dfn data-dfn-type=selector data-export=data-export
   data-lt=":lang" id=sel-lang>:lang(C)</dfn> represents an element that is
   in language C. Whether an element is represented by a <code>:lang()</code>
   selector is based solely on the element's language value (normalized to
   BCP 47 syntax if necessary) being equal to the identifier C, or beginning
   with the identifier C immediately followed by "-" (U+002D). The matching
   of C against the element's language value is performed case-insensitively
   within the ASCII range. The identifier C does not have to be a valid
   language name.

  <p>C must be a valid CSS <a
   href="https://www.w3.org/TR/CSS21/syndata.html#value-def-identifier">identifier</a>
   <a href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a> and must not be empty.
   (Otherwise, the selector is invalid.)

  <p class=note><strong>Note:</strong> It is recommended that documents and
   protocols indicate language using codes from BCP 47 <a
   href="#ref-BCP47">[BCP47]<!--{{BCP47}}--></a> or its successor, and by
   means of "xml:lang" attributes in the case of XML-based documents <a
   href="#ref-XML10">[XML10]<!--{{XML10}}--></a>. See <a
   href="http://www.w3.org/International/questions/qa-lang-2or3.en.html"> "FAQ:
   Two-letter or three-letter language codes."</a>

  <div class=example>
   <p>Examples:

   <p>The two following selectors represent an HTML document that is in
    Belgian French or German. The two next selectors represent <code>q</code>
    quotations in an arbitrary element in Belgian French or German.

   <pre>html:lang(fr-be)
html:lang(de)
:lang(fr-be) &gt; q
:lang(de) &gt; q</pre>
  </div>

  <p>The difference between <a href="#sel-lang"><code>:lang(C)</code></a> and
   the ‘<code class=css>|=</code>’ operator is that the ‘<code
   class=css>|=</code>’ operator only performs a comparison against a given
   attribute on the element, while the <a
   href="#sel-lang"><code>:lang(C)</code></a> pseudo-class uses the UAs
   knowledge of the document's semantics to perform the comparison.

  <div class=example>
   <p>In this HTML example, only the BODY matches <code>[lang|=fr]</code>
    (because it has a LANG attribute) but both the BODY and the P match
    <code>:lang(fr)</code> (because both are in French). The P does not match
    the <code>[lang|=fr]</code> because it does not have a LANG attribute.

   <pre>&lt;body lang=fr>
  &lt;p>Je suis français.&lt;/p>
&lt;/body></pre>
  </div>

  <h4 id=UIstates><span class=secno>6.6.4. </span>The UI element states
   pseudo-classes</h4>

  <h5 id=enableddisabled><span class=secno>6.6.4.1. </span>The :enabled and
   :disabled pseudo-classes</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-enabled>:enabled</dfn> pseudo-class represents user interface
   elements that are in an enabled state; such elements have a corresponding
   disabled state.

  <p>Conversely, the <dfn data-dfn-type=selector data-export=data-export
   id=sel-disabled>:disabled</dfn> pseudo-class represents user interface
   elements that are in a disabled state; such elements have a corresponding
   enabled state.

  <p>What constitutes an enabled state, a disabled state, and a user
   interface element is language-dependent. In a typical document most
   elements will be neither <a href="#sel-enabled"><code>:enabled</code></a>
   nor <a href="#sel-disabled"><code>:disabled</code></a>.

  <p class=note><strong>Note:</strong> CSS properties that might affect a
   user’s ability to interact with a given user interface element do not
   affect whether it matches <a href="#sel-enabled"><code>:enabled</code></a>
   or <a href="#sel-disabled"><code>:disabled</code></a>; e.g., the
   <code>display</code> and <code>visibility</code> properties have no effect
   on the enabled/disabled state of an element.

  <h5 id=checked><span class=secno>6.6.4.2. </span>The :checked pseudo-class</h5>

  <p>Radio and checkbox elements can be toggled by the user. Some menu items
   are "checked" when the user selects them. When such elements are toggled
   "on" the <dfn data-dfn-type=selector data-export=data-export
   id=sel-checked>:checked</dfn> pseudo-class applies. While the <a
   href="#sel-checked"><code>:checked</code></a> pseudo-class is dynamic in
   nature, and can altered by user action, since it can also be based on the
   presence of semantic attributes in the document, it applies to all media.
   For example, the <a href="#sel-checked"><code>:checked</code></a>
   pseudo-class initially applies to such elements that have the HTML4
   <code>selected</code> and <a href="#sel-checked"><code>checked</code></a>
   attributes as described in <a
   href="https://www.w3.org/TR/REC-html40/interact/forms.html#h-17.2.1">Section
   17.2.1 of HTML4</a>, but of course the user can toggle "off" such elements
   in which case the <a href="#sel-checked"><code>:checked</code></a>
   pseudo-class would no longer apply.

  <h5 id=indeterminate><span class=secno>6.6.4.3. </span>The :indeterminate
   pseudo-class</h5>

  <div class=note>
   <p><strong>Note:</strong> Radio and checkbox elements can be toggled by
    the user, but are sometimes in an indeterminate state, neither checked
    nor unchecked. This can be due to an element attribute, or DOM
    manipulation.

   <p>A future version of this specification may introduce an
    <code>:indeterminate</code> pseudo-class that applies to such elements.
    <!--While the <code>:indeterminate</code> pseudo-class is dynamic in
nature, and is altered by user action, since it can also be based on
the presence of an element attribute, it applies to all media.</p>

<p>Components of a radio-group initialized with no pre-selected choice
are an example of :indeterminate state.-->
  </div>

  <h4 id=structural-pseudos><span class=secno>6.6.5. </span>Structural
   pseudo-classes</h4>

  <p>Selectors introduces the concept of <dfn
   id=structural-pseudo-classes>structural pseudo-classes</dfn> to permit
   selection based on extra information that lies in the document tree but
   cannot be represented by other simple selectors or combinators.

  <p>Standalone text and other non-element nodes are not counted when
   calculating the position of an element in its list of siblings; index
   numbering starts at 1.

  <h5 id=root-pseudo><span class=secno>6.6.5.1. </span>:root pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-root>:root</dfn> pseudo-class represents an element that is the
   root of the document. In HTML 4, this is always the <code>HTML</code>
   element.

  <h5 id=nth-child-pseudo><span class=secno>6.6.5.2. </span>:nth-child()
   pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   data-lt=":nth-child()"
   id=sel-nth-child>:nth-child(<var>a</var><code>n</code>+<var>b</var>)</dfn>
   pseudo-class notation represents an element that has
   <var>a</var><code>n</code>+<var>b</var>-1 siblings <a
   href="#sel-before"><strong>before</strong></a> it in the document tree,
   for any positive integer or zero value of <code>n</code>. It is not
   required to have a parent. For values of <var>a</var> and <var>b</var>
   greater than zero, this effectively divides the element's children into
   groups of <var>a</var> elements (the last group taking the remainder), and
   selecting the <var>b</var>th element of each group. For example, this
   allows the selectors to address every other row in a table, and could be
   used to alternate the color of paragraph text in a cycle of four. The
   <var>a</var> and <var>b</var> values must be integers (positive, negative,
   or zero). The index of the first child of an element is 1.

  <p>In addition to this, <code>:nth-child()</code> can take ‘<code
   class=css><code>odd</code></code>’ and ‘<code
   class=css><code>even</code></code>’ as arguments instead. ‘<code
   class=css><code>odd</code></code>’ has the same signification as
   <code>2n+1</code>, and ‘<code class=css><code>even</code></code>’ has
   the same signification as <code>2n</code>.

  <p>The argument to <code>:nth-child()</code> must match the grammar below,
   where <code>INTEGER</code> matches the token <code>[0-9]+</code> and the
   rest of the tokenization is given by the <a href="#lex">Lexical
   scanner</a> in section 10.2:

  <pre>nth
  : S* [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]? |
         ['-'|'+']? INTEGER | {O}{D}{D} | {E}{V}{E}{N} ] S*
  ;</pre>

  <div class=example>
   <p>Examples:

   <pre>tr:nth-child(2n+1) /* represents every odd row of an HTML table */
tr:nth-child(odd)  /* same */
tr:nth-child(2n+0) /* represents every even row of an HTML table */
tr:nth-child(even) /* same */

/* Alternate paragraph colours in CSS */
p:nth-child(4n+1) { color: navy; }
p:nth-child(4n+2) { color: green; }
p:nth-child(4n+3) { color: maroon; }
p:nth-child(4n+4) { color: purple; }</pre>
  </div>

  <p>When the value <var>b</var> is preceded by a negative sign, the "+"
   character in the expression must be removed (it is effectively replaced by
   the "-" character indicating the negative value of <var>b</var>).

  <div class=example>
   <p>Examples:

   <pre>:nth-child(10n-1)  /* represents the 9th, 19th, 29th, etc, element */
:nth-child(10n+9)  /* Same */
:nth-child(10n+-1) /* Syntactically invalid, and would be ignored */</pre>
  </div>

  <p>When <var>a</var>=0, the <var>a</var><code>n</code> part need not be
   included (unless the <var>b</var> part is already omitted). When
   <var>a</var><code>n</code> is not included and <var>b</var> is
   non-negative, the <code>+</code> sign before <var>b</var> (when allowed)
   may also be omitted. In this case the syntax simplifies to
   <code>:nth-child(<var>b</var>)</code>.

  <div class=example>
   <p>Examples:

   <pre>foo:nth-child(0n+5)   /* represents an element foo that is the 5th child
                         of its parent element */
foo:nth-child(5)      /* same */</pre>
  </div>

  <p>When <var>a</var>=1, or <var>a</var>=-1, the <code>1</code> may be
   omitted from the rule.

  <div class=example>
   <p>Examples:

   <p>The following selectors are therefore equivalent:

   <pre>bar:nth-child(1n+0)   /* represents all bar elements, specificity (0,1,1) */
bar:nth-child(n+0)    /* same */
bar:nth-child(n)      /* same */
bar                   /* same but lower specificity (0,0,1) */</pre>
  </div>

  <p>If <var>b</var>=0, then every <var>a</var>th element is picked. In such
   a case, the +<var>b</var> (or -<var>b</var>) part may be omitted unless
   the <var>a</var> part is already omitted.

  <div class=example>
   <p>Examples:

   <pre>tr:nth-child(2n+0) /* represents every even row of an HTML table */
tr:nth-child(2n) /* same */</pre>
  </div>

  <p>Whitespace is permitted after the "(", before the ")", and on either
   side of the "+" or "-" that separates the <var>a</var><code>n</code> and
   <var>b</var> parts when both are present.

  <div class=example>
   <p>Valid Examples with white space:

   <pre>
:nth-child( 3n + 1 )
:nth-child( +3n - 2 )
:nth-child( -n+ 6)
:nth-child( +6 )
</pre>

   <p>Invalid Examples with white space:

   <pre>
:nth-child(3 n)
:nth-child(+ 2n)
:nth-child(+ 2)
</pre>
  </div>

  <p>If both <var>a</var> and <var>b</var> are equal to zero, the
   pseudo-class represents no element in the document tree.

  <p>The value <var>a</var> can be negative, but only the positive values of
   <var>a</var><code>n</code>+<var>b</var>, for <code>n</code>≥0, may
   represent an element in the document tree.

  <div class=example>
   <p>Example:

   <pre>html|tr:nth-child(-n+6)  /* represents the 6 first rows of XHTML tables */</pre>
  </div>

  <h5 id=nth-last-child-pseudo><span class=secno>6.6.5.3.
   </span>:nth-last-child() pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   data-lt=":nth-last-child()"
   id=sel-nth-last-child>:nth-last-child(<var>a</var>n+<var>b</var>)</dfn>
   pseudo-class notation represents an element that has
   <var>a</var><code>n</code>+<var>b</var>-1 siblings <a
   href="#sel-after"><strong>after</strong></a> it in the document tree, for
   any positive integer or zero value of <code>n</code>. It is not required
   to have a parent. See <a
   href="#nth-child-pseudo"><code>:nth-child()</code></a> pseudo-class for
   the syntax of its argument. It also accepts the ‘<code
   class=css><code>even</code></code>’ and ‘<code
   class=css><code>odd</code></code>’ values as arguments.

  <div class=example>
   <p>Examples:

   <pre>tr:nth-last-child(-n+2)    /* represents the two last rows of an HTML table */

foo:nth-last-child(odd)    /* represents all odd foo elements in their parent element,
                              counting from the last one */</pre>
  </div>

  <h5 id=nth-of-type-pseudo><span class=secno>6.6.5.4. </span>:nth-of-type()
   pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   data-lt=":nth-of-type()"
   id=sel-nth-of-type>:nth-of-type(<var>a</var>n+<var>b</var>)</dfn>
   pseudo-class notation represents an element that has
   <var>a</var><code>n</code>+<var>b</var>-1 siblings with the same expanded
   element name <a href="#sel-before"><strong>before</strong></a> it in the
   document tree, for any zero or positive integer value of <code>n</code>.
   It is not required to have a parent. See <a
   href="#nth-child-pseudo"><code>:nth-child()</code></a> pseudo-class for
   the syntax of its argument. It also accepts the ‘<code
   class=css><code>even</code></code>’ and ‘<code
   class=css><code>odd</code></code>’ values.

  <div class=example>
   <p>CSS example:

   <p>This allows an author to alternate the position of floated images:

   <pre>img:nth-of-type(2n+1) { float: right; }
img:nth-of-type(2n) { float: left; }</pre>
  </div>

  <h5 id=nth-last-of-type-pseudo><span class=secno>6.6.5.5.
   </span>:nth-last-of-type() pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   data-lt=":nth-last-of-type()"
   id=sel-nth-last-of-type>:nth-last-of-type(<var>a</var>n+<var>b</var>)</dfn>
   pseudo-class notation represents an element that has
   <var>a</var><code>n</code>+<var>b</var>-1 siblings with the same expanded
   element name <a href="#sel-after"><strong>after</strong></a> it in the
   document tree, for any zero or positive integer value of <code>n</code>.
   It is not required to have a parent. See <a
   href="#nth-child-pseudo"><code>:nth-child()</code></a> pseudo-class for
   the syntax of its argument. It also accepts the ‘<code
   class=css><code>even</code></code>’ and ‘<code
   class=css><code>odd</code></code>’ values.

  <div class=example>
   <p>Example:

   <p>To represent all <code>h2</code> children of an XHTML <code>body</code>
    except the first and last, one could use the following selector:

   <pre>body &gt; h2:nth-of-type(n+2):nth-last-of-type(n+2)</pre>

   <p>In this case, one could also use <code>:not()</code>, although the
    selector ends up being just as long:

   <pre>body &gt; h2:not(:first-of-type):not(:last-of-type)</pre>
  </div>

  <h5 id=first-child-pseudo><span class=secno>6.6.5.6. </span>:first-child
   pseudo-class</h5>

  <p>Same as <code>:nth-child(1)</code>. The <dfn data-dfn-type=selector
   data-export=data-export id=sel-first-child>:first-child</dfn> pseudo-class
   represents an element that is first in a list of siblings.

  <div class=example>
   <p>Examples:

   <p>The following selector represents a <code>p</code> element that is the
    first child of a <code>div</code> element:

   <pre>div &gt; p:first-child</pre>

   <p>This selector can represent the <code>p</code> inside the
    <code>div</code> of the following fragment:

   <pre>&lt;p&gt; The last P before the note.&lt;/p&gt;
&lt;div class="note"&gt;
   &lt;p&gt; The first P inside the note.&lt;/p&gt;
&lt;/div&gt;</pre>
   but cannot represent the second <code>p</code> in the following fragment:
   <pre>&lt;p&gt; The last P before the note.&lt;/p&gt;
&lt;div class="note"&gt;
   &lt;h2&gt; Note &lt;/h2&gt;
   &lt;p&gt; The first P inside the note.&lt;/p&gt;
&lt;/div&gt;</pre>

   <p>The following two selectors are usually equivalent:

   <pre>* &gt; a:first-child /* a is first child of any element */
a:first-child /* Same (assuming a is not the root element) */</pre>
  </div>

  <h5 id=last-child-pseudo><span class=secno>6.6.5.7. </span>:last-child
   pseudo-class</h5>

  <p>Same as <code>:nth-last-child(1)</code>. The <dfn data-dfn-type=selector
   data-export=data-export id=sel-last-child>:last-child</dfn> pseudo-class
   represents an element that is last in a list of siblings.

  <div class=example>
   <p>Example:

   <p>The following selector represents a list item <code>li</code> that is
    the last child of an ordered list <code>ol</code>.

   <pre>ol &gt; li:last-child</pre>
  </div>

  <h5 id=first-of-type-pseudo><span class=secno>6.6.5.8.
   </span>:first-of-type pseudo-class</h5>

  <p>Same as <code>:nth-of-type(1)</code>. The <dfn data-dfn-type=selector
   data-export=data-export id=sel-first-of-type>:first-of-type</dfn>
   pseudo-class represents an element that is the first sibling of its type.

  <div class=example>
   <p>Example:

   <p>The following selector represents a definition title <code>dt</code>
    inside a definition list <code>dl</code>, this <code>dt</code> being the
    first of its type in the list of children of its parent element.

   <pre>dl dt:first-of-type</pre>

   <p>It is a valid description for the first two <code>dt</code> elements in
    the following example but not for the third one:

   <pre>&lt;dl&gt;
 &lt;dt&gt;gigogne&lt;/dt&gt;
 &lt;dd&gt;
  &lt;dl&gt;
   &lt;dt&gt;fusée&lt;/dt&gt;
   &lt;dd&gt;multistage rocket&lt;/dd&gt;
   &lt;dt&gt;table&lt;/dt&gt;
   &lt;dd&gt;nest of tables&lt;/dd&gt;
  &lt;/dl&gt;
 &lt;/dd&gt;
&lt;/dl&gt;</pre>
  </div>

  <h5 id=last-of-type-pseudo><span class=secno>6.6.5.9. </span>:last-of-type
   pseudo-class</h5>

  <p>Same as <code>:nth-last-of-type(1)</code>. The <dfn
   data-dfn-type=selector data-export=data-export
   id=sel-last-of-type>:last-of-type</dfn> pseudo-class represents an element
   that is the last sibling of its type.

  <div class=example>
   <p>Example:

   <p>The following selector represents the last data cell <code>td</code> of
    a table row <code>tr</code>.

   <pre>tr &gt; td:last-of-type</pre>
  </div>

  <h5 id=only-child-pseudo><span class=secno>6.6.5.10. </span>:only-child
   pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-only-child>:only-child</dfn> pseudo-class represents an element
   that has no siblings. Same as <code>:first-child:last-child</code> or
   <code>:nth-child(1):nth-last-child(1)</code>, but with a lower
   specificity.

  <h5 id=only-of-type-pseudo><span class=secno>6.6.5.11. </span>:only-of-type
   pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-only-of-type>:only-of-type</dfn> pseudo-class represents an element
   that has no siblings with the same expanded element name. Same as
   <code>:first-of-type:last-of-type</code> or
   <code>:nth-of-type(1):nth-last-of-type(1)</code>, but with a lower
   specificity.

  <h5 id=empty-pseudo><span class=secno>6.6.5.12. </span>:empty pseudo-class</h5>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-empty>:empty</dfn> pseudo-class represents an element that has no
   children at all. In terms of the document tree, only element nodes and
   content nodes (such as DOM <a
   href="#ref-DOM-LEVEL-3-CORE">[DOM-LEVEL-3-CORE]<!--{{DOM-LEVEL-3-CORE}}--></a>
   text nodes, CDATA nodes, and entity references) whose data has a non-zero
   length must be considered as affecting emptiness; comments, processing
   instructions, and other nodes must not affect whether an element is
   considered empty or not.

  <div class=example>
   <p>Examples:

   <p><code>p:empty</code> is a valid representation of the following
    fragment:

   <pre>&lt;p&gt;&lt;/p&gt;</pre>

   <p><code>foo:empty</code> is not a valid representation for the following
    fragments:

   <pre>&lt;foo&gt;bar&lt;/foo&gt;</pre>

   <pre>&lt;foo&gt;&lt;bar&gt;bla&lt;/bar&gt;&lt;/foo&gt;</pre>

   <pre>&lt;foo&gt;this is not &lt;bar&gt;:empty&lt;/bar&gt;&lt;/foo&gt;</pre>
  </div>

  <h4 id=content-selectors><span class=secno>6.6.6. </span>Blank</h4>
  <!-- It’s the Return of Appendix H!!! Run away! -->

  <p>This section intentionally left blank. (This section previously defined
   a <code>:contains()</code> pseudo-class.)</p>
  <!-- (used to be :contains()) -->

  <h4 id=negation><span class=secno>6.6.7. </span>The negation pseudo-class</h4>

  <p>The negation pseudo-class, <dfn data-dfn-type=selector
   data-export=data-export data-lt=":not()"
   id=sel-not>:not(<var>X</var>)</dfn>, is a functional notation taking a <a
   href="#simple-selectors-dfn">simple selector</a> (excluding the negation
   pseudo-class itself) as an argument. It represents an element that is not
   represented by its argument.

  <p>Negations may not be nested; <code>:not(:not(...))</code> is invalid.
   Note also that since pseudo-elements are not simple selectors, they are
   not a valid argument to <code>:not()</code>.

  <div class=example>
   <p>Examples:

   <p>The following selector matches all <code>button</code> elements in an
    HTML document that are not disabled.

   <pre>button:not([DISABLED])</pre>

   <p>The following selector represents all but <code>FOO</code> elements.

   <pre>*:not(FOO)</pre>

   <p>The following group of selectors represents all HTML elements except
    links.

   <pre>html|*:not(:link):not(:visited)</pre>
  </div>

  <p>Default namespace declarations do not affect the argument of the
   negation pseudo-class unless the argument is a universal selector or a
   type selector.

  <div class=example>
   <p>Examples:

   <p>Assuming that the default namespace is bound to "http://example.com/",
    the following selector represents all elements that are not in that
    namespace:

   <pre>*|*:not(*)</pre>

   <p>The following selector matches any element that is not being hovered,
    regardless of its namespace. In particular, it is not limited to only
    matching elements in the default namespace that are not being hovered,
    and elements not in the default namespace don't match the rule when they
    <em>are</em> being hovered.

   <pre>*|*:not(:hover)</pre>
  </div>

  <p class=note><strong>Note</strong>: the :not() pseudo allows useless
   selectors to be written. For instance <code>:not(*|*)</code>, which
   represents no element at all, or <code>foo:not(bar)</code>, which is
   equivalent to <code>foo</code> but with a higher specificity.

  <h2 id=pseudo-elements><span class=secno>7. </span>Pseudo-elements</h2>

  <p>Pseudo-elements create abstractions about the document tree beyond those
   specified by the document language. For instance, document languages do
   not offer mechanisms to access the first letter or first line of an
   element’s content. Pseudo-elements allow authors to refer to this
   otherwise inaccessible information. Pseudo-elements may also provide
   authors a way to refer to content that does not exist in the source
   document (e.g., the <a href="#sel-before"><code>::before</code></a> and <a
   href="#sel-after"><code>::after</code></a> pseudo-elements give access to
   generated content).

  <p>A pseudo-element is made of two colons (<code>::</code>) followed by the
   name of the pseudo-element.

  <p>This <code>::</code> notation is introduced by the current document in
   order to establish a discrimination between pseudo-classes and
   pseudo-elements. For compatibility with existing style sheets, user agents
   must also accept the previous one-colon notation for pseudo-elements
   introduced in CSS levels 1 and 2 (namely, <a
   href="#sel-first-line"><code>:first-line</code></a>, <a
   href="#first-letter0"><code>:first-letter</code></a>, <a
   href="#sel-before"><code>:before</code></a> and <a
   href="#sel-after"><code>:after</code></a>). This compatibility is not
   allowed for the new pseudo-elements introduced in this specification.

  <p>Only one pseudo-element may appear per selector, and if present it must
   appear after the sequence of simple selectors that represents the <a
   href="#subject">subjects</a> of the selector. <span
   class=note><strong>Note:</strong> A future version of this specification
   may allow multiple pseudo-elements per selector.</span>

  <h3 id=first-line><span class=secno>7.1. </span>The ::first-line
   pseudo-element</h3>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-first-line>::first-line</dfn> pseudo-element describes the contents
   of the first formatted line of an element.

  <div class=example>
   <p>CSS example:

   <pre>p::first-line { text-transform: uppercase }</pre>

   <p>The above rule means "change the letters of the first line of every
    <code>p</code> element to uppercase".

   <p>The selector <code>p::first-line</code> does not match any real
    document element. It does match a pseudo-element that conforming user
    agents will insert at the beginning of every <code>p</code> element.
  </div>

  <p>Note that the length of the first line depends on a number of factors,
   including the width of the page, the font size, etc. Thus, an ordinary
   HTML paragraph such as:

  <pre>
&lt;P&gt;This is a somewhat long HTML
paragraph that will be broken into several
lines. The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>

  <p>the lines of which happen to be broken as follows:

  <pre>
THIS IS A SOMEWHAT LONG HTML PARAGRAPH THAT
will be broken into several lines. The first
line will be identified by a fictional tag
sequence. The other lines will be treated as
ordinary lines in the paragraph.
</pre>

  <p>This paragraph might be "rewritten" by user agents to include the
   <em>fictional tag sequence</em> for <a
   href="#sel-first-line"><code>::first-line</code></a>. This fictional tag
   sequence helps to show how properties are inherited.

  <pre>
&lt;P&gt;<b>&lt;P::first-line&gt;</b> This is a somewhat long HTML
paragraph that <b>&lt;/P::first-line&gt;</b> will be broken into several
lines. The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>

  <p>If a pseudo-element breaks up a real element, the desired effect can
   often be described by a fictional tag sequence that closes and then
   re-opens the element. Thus, if we mark up the previous paragraph with a
   <code>span</code> element:

  <pre>
&lt;P&gt;<b>&lt;SPAN class="test"&gt;</b> This is a somewhat long HTML
paragraph that will be broken into several
lines.<b>&lt;/SPAN&gt;</b> The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>

  <p>the user agent could simulate start and end tags for <code>span</code>
   when inserting the fictional tag sequence for <a
   href="#sel-first-line"><code>::first-line</code></a>.

  <pre>
&lt;P&gt;&lt;P::first-line&gt;<b>&lt;SPAN class="test"&gt;</b> This is a
somewhat long HTML
paragraph that will <b>&lt;/SPAN&gt;</b>&lt;/P::first-line&gt;<b>&lt;SPAN class="test"&gt;</b> be
broken into several
lines.<b>&lt;/SPAN&gt;</b> The first line will be identified
by a fictional tag sequence. The other lines
will be treated as ordinary lines in the
paragraph.&lt;/P&gt;
</pre>

  <h4 id=first-formatted-line><span class=secno>7.1.1. </span>First formatted
   line definition in CSS</h4>

  <p>In CSS, the <a href="#sel-first-line"><code>::first-line</code></a>
   pseudo-element can only have an effect when attached to a block-like
   container such as a block box, inline-block, table-caption, or table-cell.
   In such a case, it refers to the <dfn id=first-formatted-line0>first
   formatted line</dfn> of that container.

  <p>The first formatted line of an element may occur inside a block-level
   descendant in the same flow (i.e., a block-level descendant that is not
   out-of-flow due to floating or positioning). For example, the first line
   of the <code>DIV</code> in <code>&lt;DIV>&lt;P>This
   line...&lt;/P>&lt;/DIV></code> is the first line of the <code>P</code>
   (assuming that both <code>P</code> and <code>DIV</code> are block-level).

  <p>The first line of a table-cell or inline-block cannot be the first
   formatted line of an ancestor element. Thus, in <code>&lt;DIV&gt;&lt;P
   STYLE="display: inline-block">Hello&lt;BR&gt;Goodbye&lt;/P&gt;
   etcetera&lt;/DIV&gt;</code> the first formatted line of the <code>DIV
   </code> is not the line "Hello".

  <p class=note><strong>Note:</strong> Note that the first line of the
   <code>p</code> in this fragment: <code>&lt;p&gt;&lt;br&gt;First...</code>
   doesn't contain any letters (assuming the default style for
   <code>br</code> in HTML 4). The word "First" is not on the first formatted
   line.

  <p>A UA should act as if the fictional start tags of the <a
   href="#sel-first-line"><code>::first-line</code></a> pseudo-elements were
   nested just inside the innermost enclosing block-level element. (Since
   CSS1 and CSS2 were silent on this case, authors should not rely on this
   behavior.) For example, the fictional tag sequence for

  <pre>
&lt;DIV>
  &lt;P>First paragraph&lt;/P>
  &lt;P>Second paragraph&lt;/P>
&lt;/DIV>
</pre>

  <p>is

  <pre>
&lt;DIV>
  &lt;P>&lt;DIV::first-line>&lt;P::first-line>First paragraph&lt;/P::first-line>&lt;/DIV::first-line>&lt;/P>
  &lt;P>&lt;P::first-line>Second paragraph&lt;/P::first-line>&lt;/P>
&lt;/DIV>
</pre>

  <p>The <a href="#sel-first-line"><code>::first-line</code></a>
   pseudo-element is similar to an inline-level element, but with certain
   restrictions. The following CSS properties apply to a <a
   href="#sel-first-line"><code>::first-line</code></a> pseudo-element: font
   properties, color property, background properties, ‘<code
   class=property>word-spacing</code>’, ‘<code
   class=property>letter-spacing</code>’, ‘<code
   class=property>text-decoration</code>’, ‘<code
   class=property>text-transform</code>’, ‘<code
   class=property>line-height</code>’. UAs may apply other properties as
   well.

  <p>During CSS inheritance, the portion of a child element that occurs on
   the first line only inherits properties applicable to the <a
   href="#sel-first-line"><code>::first-line</code></a> pseudo-element from
   the <a href="#sel-first-line"><code>::first-line</code></a>
   pseudo-element. For all other properties inheritance is from the
   non-pseudo-element parent of the first line pseudo element. (The portion
   of a child element that does not occur on the first line always inherits
   from the parent of that child.)

  <h3 id=first-letter><span class=secno>7.2. </span>The ::first-letter
   pseudo-element</h3>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=first-letter0>::first-letter</dfn> pseudo-element represents the first
   letter of an element, if it is not preceded by any other content (such as
   images or inline tables) on its line. The ::first-letter pseudo-element
   may be used for "initial caps" and "drop caps", which are common
   typographical effects.

  <p>Punctuation (i.e, characters defined in Unicode in the "open" (Ps),
   "close" (Pe), "initial" (Pi). "final" (Pf) and "other" (Po) punctuation
   classes), that precedes or follows the first letter should be included. <a
   href="#ref-UNICODE">[UNICODE]<!--{{!UNICODE}}--></a>

  <div class=figure>
   <p><img alt="Quotes that precede the first letter should be included."
    src=first-letter2.gif>
  </div>

  <p>The <a href="#first-letter0"><code>::first-letter</code></a> also
   applies if the first letter is in fact a digit, e.g., the "6" in "67
   million dollars is a lot of money."

  <p class=note><strong>Note:</strong> In some cases the <a
   href="#first-letter0"><code>::first-letter</code></a> pseudo-element
   should include more than just the first non-punctuation character on a
   line. For example, combining characters must be kept with their base
   character. Additionally, some languages may have specific rules about how
   to treat certain letter combinations. The UA definition of <a
   href="#first-letter0"><code>::first-letter</code></a> should include at
   least the default grapheme cluster as defined by UAX29 and may include
   more than that as appropriate. In Dutch, for example, if the letter
   combination "ij" appears at the beginning of an element, both letters
   should be considered within the <a
   href="#first-letter0"><code>::first-letter</code></a> pseudo-element. <a
   href="#ref-UAX29">[UAX29]<!--{{UAX29}}--></a>

  <p>If the letters that would form the <a
   href="#first-letter0"><code>::first-letter</code></a> are not in the same
   element, such as "‘T" in <code>&lt;p>‘&lt;em>T...</code>, the UA may
   create a <a href="#first-letter0"><code>::first-letter</code></a>
   pseudo-element from one of the elements, both elements, or simply not
   create a pseudo-element.

  <p>Similarly, if the first letter(s) of the block are not at the start of
   the line (for example due to bidirectional reordering), then the UA need
   not create the pseudo-element(s).

  <div class=example>
   <p>Example:

   <p><a name=overlapping-example>The following CSS and HTML example</a>
    illustrates how overlapping pseudo-elements may interact. The first
    letter of each P element will be green with a font size of ‘<code
    class=css>24pt</code>’. The rest of the first formatted line will be
    ‘<code class=property>blue</code>’ while the rest of the paragraph
    will be ‘<code class=property>red</code>’.

   <pre>p { color: red; font-size: 12pt }
p::first-letter { color: green; font-size: 200% }
p::first-line { color: blue }

&lt;P&gt;Some text that ends up on two lines&lt;/P&gt;</pre>

   <p>Assuming that a line break will occur before the word "ends", the <span
    class=index-inst id=fictional-tag-sequence
    title="fictional tag sequence">fictional tag sequence</span> for this
    fragment might be:

   <pre>&lt;P&gt;
&lt;P::first-line&gt;
&lt;P::first-letter&gt;
S
&lt;/P::first-letter&gt;ome text that
&lt;/P::first-line&gt;
ends up on two lines
&lt;/P&gt;</pre>

   <p>Note that the <a href="#first-letter0"><code>::first-letter</code></a>
    element is inside the <a
    href="#sel-first-line"><code>::first-line</code></a> element. Properties
    set on <a href="#sel-first-line"><code>::first-line</code></a> are
    inherited by <a href="#first-letter0"><code>::first-letter</code></a>,
    but are overridden if the same property is set on <a
    href="#first-letter0"><code>::first-letter</code></a>.
  </div>

  <p>The first letter must occur on the <a href="#first-formatted-line">first
   formatted line.</a> For example, in this HTML fragment:
   <code>&lt;p&gt;&lt;br&gt;First...</code> the first line doesn't contain
   any letters and <a href="#first-letter0"><code>::first-letter</code></a>
   doesn't match anything (assuming the default style for <code>br</code> in
   HTML 4). In particular, it does not match the "F" of "First."

  <h4 id=application-in-css><span class=secno>7.2.1. </span>Application in
   CSS</h4>

  <p>In CSS, the <a href="#first-letter0"><code>::first-letter</code></a>
   pseudo-element applies to block-like containers such as block, list-item,
   table-cell, table-caption, and inline-block elements. <span
   class=note><strong>Note:</strong> A future version of this specification
   may allow this pseudo-element to apply to more display types.</span>

  <p>The <a href="#first-letter0"><code>::first-letter</code></a>
   pseudo-element can be used with all such elements that contain text, or
   that have a descendant in the same flow that contains text. A UA should
   act as if the fictional start tag of the ::first-letter pseudo-element is
   just before the first text of the element, even if that first text is in a
   descendant.

  <div class=example>
   <p>Example:

   <p>The fictional tag sequence for this HTML fragment:

   <pre>&lt;div>
&lt;p>The first text.</pre>

   <p>is:

   <pre>&lt;div>
&lt;p>&lt;div::first-letter>&lt;p::first-letter>T&lt;/...>&lt;/...>he first text.</pre>
  </div>

  <p>In CSS the first letter of a table-cell or inline-block cannot be the
   first letter of an ancestor element. Thus, in <code>&lt;DIV&gt;&lt;P
   STYLE="display: inline-block">Hello&lt;BR&gt;Goodbye&lt;/P&gt;
   etcetera&lt;/DIV&gt;</code> the first letter of the <code>DIV</code> is
   not the letter "H". In fact, the <code>DIV</code> doesn't have a first
   letter.

  <p>If an element is a list item (‘<code class=css>display:
   list-item</code>’), the <a
   href="#first-letter0"><code>::first-letter</code></a> applies to the first
   letter in the principal box after the marker. UAs may ignore <a
   href="#first-letter0"><code>::first-letter</code></a> on list items with
   ‘<code class=css>list-style-position: inside</code>’. If an element
   has <a href="#sel-before"><code>::before</code></a> or <a
   href="#sel-after"><code>::after</code></a> content, the <a
   href="#first-letter0"><code>::first-letter</code></a> applies to the first
   letter of the element <em>including</em> that content.

  <div class=example>
   <p>Example:

   <p>After the rule <code>p::before {content: "Note: "}</code>, the selector
    <code>p::first-letter</code> matches the "N" of "Note".
  </div>

  <p>In CSS a ::first-line pseudo-element is similar to an inline-level
   element if its ‘<code class=property>float</code>’ property is
   ‘<code class=property>none</code>’; otherwise, it is similar to a
   floated element. The following properties that apply to <a
   href="#first-letter0"><code>::first-letter</code></a> pseudo-elements:
   font properties, ‘<code class=property>text-decoration</code>’,
   ‘<code class=property>text-transform</code>’, ‘<code
   class=property>letter-spacing</code>’, ‘<code
   class=property>word-spacing</code>’ (when appropriate), ‘<code
   class=property>line-height</code>’, ‘<code
   class=property>float</code>’, ‘<code
   class=property>vertical-align</code>’ (only if ‘<code
   class=property>float</code>’ is ‘<code class=property>none</code>’),
   margin properties, padding properties, border properties, color property,
   background properties. UAs may apply other properties as well. To allow
   UAs to render a typographically correct drop cap or initial cap, the UA
   may choose a line-height, width and height based on the shape of the
   letter, unlike for normal elements.

  <div class=example>
   <p>Example:

   <p>This CSS and HTML example shows a possible rendering of an initial cap.
    Note that the ‘<code class=property>line-height</code>’ that is
    inherited by the <a href="#first-letter0"><code>::first-letter</code></a>
    pseudo-element is 1.1, but the UA in this example has computed the height
    of the first letter differently, so that it doesn't cause any unnecessary
    space between the first two lines. Also note that the fictional start tag
    of the first letter is inside the <span>span</span>, and thus the font
    weight of the first letter is normal, not bold as the <span>span</span>:

   <pre>
p { line-height: 1.1 }
p::first-letter { font-size: 3em; font-weight: normal }
span { font-weight: bold }
...
&lt;p>&lt;span>Het hemelsche&lt;/span> gerecht heeft zich ten lange lesten&lt;br>
Erbarremt over my en mijn benaeuwde vesten&lt;br>
En arme burgery, en op mijn volcx gebed&lt;br>
En dagelix geschrey de bange stad ontzet.
</pre>

   <div class=figure>
    <p><img alt="Image illustrating the ::first-letter pseudo-element"
     src=initial-cap.png>
   </div>
  </div>

  <div class=example>
   <p>The following CSS will make a drop cap initial letter span about two
    lines:

   <pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
 &lt;HEAD&gt;
  &lt;TITLE&gt;Drop cap initial letter&lt;/TITLE&gt;
  &lt;STYLE type="text/css"&gt;
   P               { font-size: 12pt; line-height: 1.2 }
   P::first-letter { font-size: 200%; font-weight: bold; float: left }
   SPAN            { text-transform: uppercase }
  &lt;/STYLE&gt;
 &lt;/HEAD&gt;
 &lt;BODY&gt;
  &lt;P&gt;&lt;SPAN&gt;The first&lt;/SPAN&gt; few words of an article
    in The Economist.&lt;/P&gt;
 &lt;/BODY&gt;
&lt;/HTML&gt;
</pre>

   <p>This example might be formatted as follows:

   <div class=figure>
    <p><img
     alt="Image illustrating the combined effect of the ::first-letter and ::first-line pseudo-elements"
     src=first-letter.gif>
   </div>

   <p>The <span class=index-inst id=fictional-tag-sequence0
    title="fictional tag sequence">fictional tag sequence</span> is:

   <pre>
&lt;P&gt;
&lt;SPAN&gt;
&lt;P::first-letter&gt;
T
&lt;/P::first-letter&gt;he first
&lt;/SPAN&gt;
few words of an article in the Economist.
&lt;/P&gt;
</pre>

   <p>Note that the <a href="#first-letter0"><code>::first-letter</code></a>
    pseudo-element tags abut the content (i.e., the initial character), while
    the ::first-line pseudo-element start tag is inserted right after the
    start tag of the block element.
  </div>

  <p>In order to achieve traditional drop caps formatting, user agents may
   approximate font sizes, for example to align baselines. Also, the glyph
   outline may be taken into account when formatting.

  <h3 id=selection><span class=secno>7.3. </span>Blank</h3>

  <p>This section intentionally left blank. (This section previously defined
   a <code>::selection</code> pseudo-element.)

  <h3 id=gen-content><span class=secno>7.4. </span>The ::before and ::after
   pseudo-elements</h3>

  <p>The <dfn data-dfn-type=selector data-export=data-export
   id=sel-before>::before</dfn> and <dfn data-dfn-type=selector
   data-export=data-export id=sel-after>::after</dfn> pseudo-elements can be
   used to describe generated content before or after an element’s content.
   They are explained in CSS 2.1 <a
   href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a>.

  <p>When the <a href="#first-letter0"><code>::first-letter</code></a> and <a
   href="#sel-first-line"><code>::first-line</code></a> pseudo-elements are
   applied to an element having content generated using <a
   href="#sel-before"><code>::before</code></a> or <a
   href="#sel-after"><code>::after</code></a>, they apply to the first letter
   or line of the element including the generated content.

  <h2 id=combinators><span class=secno>8. </span>Combinators</h2>

  <h3 id=descendant-combinators><span class=secno>8.1. </span>Descendant
   combinator</h3>

  <p>At times, authors may want selectors to describe an element that is the
   descendant of another element in the document tree (e.g., "an
   <code>EM</code> element that is contained within an <code>H1</code>
   element"). Descendant combinators express such a relationship. A
   descendant combinator is <a href="#whitespace">whitespace</a> that
   separates two sequences of simple selectors. A selector of the form
   "<code>A B</code>" represents an element <code>B</code> that is an
   arbitrary descendant of some ancestor element <code>A</code>.

  <div class=example>
   <p>Examples:

   <p>For example, consider the following selector:

   <pre>h1 em</pre>

   <p>It represents an <code>em</code> element being the descendant of an
    <code>h1</code> element. It is a correct and valid, but partial,
    description of the following fragment:

   <pre>&lt;h1&gt;This &lt;span class="myclass"&gt;headline
is &lt;em&gt;very&lt;/em&gt; important&lt;/span&gt;&lt;/h1&gt;</pre>

   <p>The following selector:

   <pre>div * p</pre>

   <p>represents a <code>p</code> element that is a grandchild or later
    descendant of a <code>div</code> element. Note the whitespace on either
    side of the "*" is not part of the universal selector; the whitespace is
    a combinator indicating that the <code>div</code> must be the ancestor of
    some element, and that that element must be an ancestor of the
    <code>p</code>.

   <p>The following selector, which combines descendant combinators and <a
    href="#attribute-selectors">attribute selectors</a>, represents an
    element that (1) has the <code>href</code> attribute set and (2) is
    inside a <code>p</code> that is itself inside a <code>div</code>:

   <pre>div p *[href]</pre>
  </div>

  <h3 id=child-combinators><span class=secno>8.2. </span>Child combinators</h3>

  <p>A <dfn id=child-combinator>child combinator</dfn> describes a childhood
   relationship between two elements. A child combinator is made of the
   &quot;greater-than sign&quot; (U+003E, <code>&gt;</code>) character and
   separates two sequences of simple selectors.

  <div class=example>
   <p>Examples:

   <p>The following selector represents a <code>p</code> element that is
    child of <code>body</code>:

   <pre>body &gt; p</pre>

   <p>The following example combines descendant combinators and child
    combinators.

   <pre>div ol&gt;li p</pre>
   <!-- LEAVE THOSE SPACES OUT! see below -->
   <p>It represents a <code>p</code> element that is a descendant of an
    <code>li</code> element; the <code>li</code> element must be the child of
    an <code>ol</code> element; the <code>ol</code> element must be a
    descendant of a <code>div</code>. Notice that the optional white space
    around the "&gt;" combinator has been left out.
  </div>

  <p>For information on selecting the first child of an element, please see
   the section on the <code><a
   href="#structural-pseudos">:first-child</a></code> pseudo-class above.

  <h3 id=sibling-combinators><span class=secno>8.3. </span>Sibling
   combinators</h3>

  <p>There are two different sibling combinators: the next-sibling combinator
   and the subsequent-sibling combinator. In both cases, non-element nodes
   (e.g. text between elements) are ignored when considering adjacency of
   elements.

  <h4 id=adjacent-sibling-combinators><span class=secno>8.3.1.
   </span>Next-sibling combinator</h4>

  <p>The <dfn id=next-sibling-combinator>next-sibling combinator</dfn> is
   made of the &quot;plus sign&quot; (U+002B, <code>+</code>) character that
   separates two sequences of simple selectors. The elements represented by
   the two sequences share the same parent in the document tree and the
   element represented by the first sequence immediately precedes the element
   represented by the second one.

  <div class=example>
   <p>Examples:

   <p>The following selector represents a <code>p</code> element immediately
    following a <code>math</code> element:

   <pre>math + p</pre>

   <p>The following selector is conceptually similar to the one in the
    previous example, except that it adds an attribute selector — it adds a
    constraint to the <code>h1</code> element, that it must have
    <code>class="opener"</code>:

   <pre>h1.opener + h2</pre>
  </div>

  <h4 id=general-sibling-combinators><span class=secno>8.3.2.
   </span>Subsequent-sibling combinator</h4>

  <p>The <dfn id=subsequent-sibling-combinator>subsequent-sibling
   combinator</dfn> is made of the &quot;tilde&quot; (U+007E, <code>~</code>)
   character that separates two sequences of simple selectors. The elements
   represented by the two sequences share the same parent in the document
   tree and the element represented by the first sequence precedes (not
   necessarily immediately) the element represented by the second one.

  <div class=example>
   <p>Example:

   <pre>h1 ~ pre</pre>

   <p>represents a <code>pre</code> element following an <code>h1</code>. It
    is a correct and valid, but partial, description of:

   <pre>&lt;h1&gt;Definition of the function a&lt;/h1&gt;
&lt;p&gt;Function a(x) has to be applied to all figures in the table.&lt;/p&gt;
&lt;pre&gt;function a(x) = 12x/13.5&lt;/pre&gt;</pre>
  </div>

  <h2 id=specificity><span class=secno>9. </span>Calculating a selector's
   specificity</h2>

  <p>A selector's specificity is calculated as follows:

  <ul>
   <li>count the number of ID selectors in the selector (= a)

   <li>count the number of class selectors, attributes selectors, and
    pseudo-classes in the selector (= b)

   <li>count the number of type selectors and pseudo-elements in the selector
    (= c)

   <li>ignore the universal selector
  </ul>

  <p>Selectors inside <a href="#negation">the negation pseudo-class</a> are
   counted like any other, but the negation itself does not count as a
   pseudo-class.

  <p>Concatenating the three numbers a-b-c (in a number system with a large
   base) gives the specificity.

  <div class=example>
   <p>Examples:

   <pre>*               /* a=0 b=0 c=0 -&gt; specificity =   0 */
LI              /* a=0 b=0 c=1 -&gt; specificity =   1 */
UL LI           /* a=0 b=0 c=2 -&gt; specificity =   2 */
UL OL+LI        /* a=0 b=0 c=3 -&gt; specificity =   3 */
H1 + *[REL=up]  /* a=0 b=1 c=1 -&gt; specificity =  11 */
UL OL LI.red    /* a=0 b=1 c=3 -&gt; specificity =  13 */
LI.red.level    /* a=0 b=2 c=1 -&gt; specificity =  21 */
#x34y           /* a=1 b=0 c=0 -&gt; specificity = 100 */
#s12:not(FOO)   /* a=1 b=0 c=1 -&gt; specificity = 101 */
</pre>
  </div>

  <p class=note><strong>Note:</strong> Repeated occurrences of the same
   simple selector are allowed and do increase specificity.

  <p class=note><strong>Note:</strong> the specificity of the styles
   specified in an HTML <code>style</code> attribute is described in CSS 2.1.
   <a href="#ref-CSS21">[CSS21]<!--{{!CSS21}}--></a>.

  <h2 id=w3cselgrammar><span class=secno>10. </span>The grammar of Selectors</h2>

  <h3 id=grammar><span class=secno>10.1. </span>Grammar</h3>

  <p>The grammar below defines the syntax of Selectors. It is globally LL(1)
   and can be locally LL(2) (but note that most UAs should not use it
   directly, since it doesn’t express the parsing conventions). The format
   of the productions is optimized for human consumption and some shorthand
   notations beyond Yacc (see <a href="#ref-YACC">[YACC]<!--{{!YACC}}--></a>)
   are used:

  <ul>
   <li><b>*</b>: 0 or more

   <li><b>+</b>: 1 or more

   <li><b>?</b>: 0 or 1

   <li><b>|</b>: separates alternatives

   <li><b>[ ]</b>: grouping
  </ul>

  <p>The productions are:

  <pre>selectors_group
  : selector [ COMMA S* selector ]*
  ;

selector
  : simple_selector_sequence [ combinator simple_selector_sequence ]*
  ;

combinator
  /* combinators can be surrounded by whitespace */
  : PLUS S* | GREATER S* | TILDE S* | S+
  ;

simple_selector_sequence
  : [ type_selector | universal ]
    [ HASH | class | attrib | pseudo | negation ]*
  | [ HASH | class | attrib | pseudo | negation ]+
  ;

type_selector
  : [ namespace_prefix ]? element_name
  ;

namespace_prefix
  : [ IDENT | '*' ]? '|'
  ;

element_name
  : IDENT
  ;

universal
  : [ namespace_prefix ]? '*'
  ;

class
  : '.' IDENT
  ;

attrib
  : '[' S* [ namespace_prefix ]? IDENT S*
        [ [ PREFIXMATCH |
            SUFFIXMATCH |
            SUBSTRINGMATCH |
            '=' |
            INCLUDES |
            DASHMATCH ] S* [ IDENT | STRING ] S*
        ]? ']'
  ;

pseudo
  /* '::' starts a pseudo-element, ':' a pseudo-class */
  /* Exceptions: :first-line, :first-letter, :before and :after. */
  /* Note that pseudo-elements are restricted to one per selector and */
  /* occur only in the last simple_selector_sequence. */
  : ':' ':'? [ IDENT | functional_pseudo ]
  ;

functional_pseudo
  : FUNCTION S* expression ')'
  ;

expression
  /* In CSS3, the expressions are identifiers, strings, */
  /* or of the form "an+b" */
  : [ [ PLUS | '-' | DIMENSION | NUMBER | STRING | IDENT ] S* ]+
  ;

negation
  : NOT S* negation_arg S* ')'
  ;

negation_arg
  : type_selector | universal | HASH | class | attrib | pseudo
  ;</pre>

  <h3 id=lex><span class=secno>10.2. </span>Lexical scanner</h3>

  <p>The following is the <a name=x3>tokenizer</a>, written in Flex (see <a
   href="#ref-FLEX">[FLEX]<!--{{!FLEX}}--></a>) notation. The tokenizer is
   case-insensitive.

  <p>The two occurrences of "\377" represent the highest character number
   that current versions of Flex can deal with (decimal 255). They should be
   read as "\4177777" (decimal 1114111), which is the highest possible code
   point in Unicode/ISO-10646. <a
   href="#ref-UNICODE">[UNICODE]<!--{{!UNICODE}}--></a>

  <pre>%option case-insensitive

ident     [-]?{nmstart}{nmchar}*
name      {nmchar}+
nmstart   [_a-z]|{nonascii}|{escape}
nonascii  [^\0-\177]
unicode   \\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?
escape    {unicode}|\\[^\n\r\f0-9a-f]
nmchar    [_a-z0-9-]|{nonascii}|{escape}
num       [0-9]+|[0-9]*\.[0-9]+
string    {string1}|{string2}
string1   \"([^\n\r\f\\"]|\\{nl}|{nonascii}|{escape})*\"
string2   \'([^\n\r\f\\']|\\{nl}|{nonascii}|{escape})*\'
invalid   {invalid1}|{invalid2}
invalid1  \"([^\n\r\f\\"]|\\{nl}|{nonascii}|{escape})*
invalid2  \'([^\n\r\f\\']|\\{nl}|{nonascii}|{escape})*
nl        \n|\r\n|\r|\f
w         [ \t\r\n\f]*

D         d|\\0{0,4}(44|64)(\r\n|[ \t\r\n\f])?
E         e|\\0{0,4}(45|65)(\r\n|[ \t\r\n\f])?
N         n|\\0{0,4}(4e|6e)(\r\n|[ \t\r\n\f])?|\\n
O         o|\\0{0,4}(4f|6f)(\r\n|[ \t\r\n\f])?|\\o
T         t|\\0{0,4}(54|74)(\r\n|[ \t\r\n\f])?|\\t
V         v|\\0{0,4}(58|78)(\r\n|[ \t\r\n\f])?|\\v

%%

[ \t\r\n\f]+     return S;

"~="             return INCLUDES;
"|="             return DASHMATCH;
"^="             return PREFIXMATCH;
"$="             return SUFFIXMATCH;
"*="             return SUBSTRINGMATCH;
{ident}          return IDENT;
{string}         return STRING;
{ident}"("       return FUNCTION;
{num}            return NUMBER;
"#"{name}        return HASH;
{w}"+"           return PLUS;
{w}"&gt;"           return GREATER;
{w}","           return COMMA;
{w}"~"           return TILDE;
":"{N}{O}{T}"("  return NOT;
@{ident}         return ATKEYWORD;
{invalid}        return INVALID;
{num}%           return PERCENTAGE;
{num}{ident}     return DIMENSION;
"&lt;!--"           return CDO;
"--&gt;"            return CDC;

\/\*[^*]*\*+([^/*][^*]*\*+)*\/                    /* ignore comments */

.                return *yytext;</pre>

  <h2 id=profiling><span class=secno>11. </span>Profiles</h2>

  <p>Each specification using Selectors must define the subset of Selectors
   it allows and excludes, and describe the local meaning of all the
   components of that subset.

  <p>Non normative examples:

  <div class=profile>
   <table class=tprofile>
    <tbody>
     <tr>
      <th class=title colspan=2>Selectors profile

     <tr>
      <th>Specification

      <td>CSS level 1

     <tr>
      <th>Accepts

      <td>type selectors<br>
       class selectors<br>
       ID selectors<br>
       :link, :visited and :active pseudo-classes<br>
       descendant combinator <br>
       ::first-line and ::first-letter pseudo-elements

     <tr>
      <th>Excludes

      <td>
       <p>universal selector<br>
        attribute selectors<br>
        :hover and :focus pseudo-classes<br>
        :target pseudo-class<br>
        :lang() pseudo-class<br>
        all UI element states pseudo-classes<br>
        all structural pseudo-classes<br>
        negation pseudo-class<br>
        ::before and ::after pseudo-elements<br>
        child combinators<br>
        sibling combinators

       <p>namespaces

     <tr>
      <th>Extra constraints

      <td>only one class selector allowed per sequence of simple selectors
   </table>
   <br>
   <br>

   <table class=tprofile>
    <tbody>
     <tr>
      <th class=title colspan=2>Selectors profile

     <tr>
      <th>Specification

      <td>CSS level 2

     <tr>
      <th>Accepts

      <td>type selectors<br>
       universal selector<br>
       attribute presence and values selectors<br>
       class selectors<br>
       ID selectors<br>
       :link, :visited, :active, :hover, :focus, :lang() and :first-child
       pseudo-classes <br>
       descendant combinator<br>
       child combinator<br>
       next-sibling combinator<br>
       ::first-line and ::first-letter pseudo-elements<br>
       ::before and ::after pseudo-elements

     <tr>
      <th>Excludes

      <td>
       <p>substring matching attribute selectors<br>
        :target pseudo-classes<br>
        all UI element states pseudo-classes<br>
        all structural pseudo-classes other than :first-child<br>
        negation pseudo-class <br>
        subsequent-sibling combinators

       <p>namespaces

     <tr>
      <th>Extra constraints

      <td>more than one class selector per sequence of simple selectors (CSS1
       constraint) allowed
   </table>

   <p>In CSS, selectors express pattern matching rules that determine which
    style rules apply to elements in the document tree.

   <p>The following selector (CSS level 2) will <b>match</b> all anchors
    <code>a</code> with attribute <code>name</code> set inside a section 1
    header <code>h1</code>:

   <pre>h1 a[name]</pre>

   <p>All CSS declarations attached to such a selector are applied to
    elements matching it.
  </div>

  <div class=profile>
   <table class=tprofile>
    <tbody>
     <tr>
      <th class=title colspan=2>Selectors profile

     <tr>
      <th>Specification

      <td>STTS 3

     <tr>
      <th>Accepts

      <td>
       <p>type selectors<br>
        universal selectors<br>
        attribute selectors<br>
        class selectors<br>
        ID selectors<br>
        all structural pseudo-classes<br>
        all combinators

       <p>namespaces

     <tr>
      <th>Excludes

      <td>non-accepted pseudo-classes<br>
       pseudo-elements<br>

     <tr>
      <th>Extra constraints

      <td>some selectors and combinators are not allowed in fragment
       descriptions on the right side of STTS declarations.
   </table>

   <p>Selectors can be used in STTS 3 in two different manners:

   <ol>
    <li>a selection mechanism equivalent to CSS selection mechanism:
     declarations attached to a given selector are applied to elements
     matching that selector,

    <li>fragment descriptions that appear on the right side of declarations.
   </ol>
  </div>

  <h2 id=Conformance><span class=secno>12. </span>Conformance and
   requirements</h2>

  <p>This section defines conformance with the present specification only.

  <p>The inability of a user agent to implement part of this specification
   due to the limitations of a particular device (e.g., non interactive user
   agents will probably not implement dynamic pseudo-classes because they
   make no sense without interactivity) does not imply non-conformance.

  <p>All specifications reusing Selectors must contain a <a
   href="#profiling">Profile</a> listing the subset of Selectors it accepts
   or excludes, and describing the constraints it adds to the current
   specification.

  <p>Invalidity is caused by a parsing error, e.g. an unrecognized token or a
   token which is not allowed at the current parsing point.

  <p>User agents must observe the rules for handling parsing errors:

  <ul>
   <li>a simple selector containing an <a href="#nsdecl">undeclared namespace
    prefix</a> is invalid

   <li>a selector containing an invalid simple selector, an invalid
    combinator or an invalid token is invalid.

   <li>a group of selectors containing an invalid selector is invalid.
  </ul>

  <p>Specifications reusing Selectors must define how to handle parsing
   errors. (In the case of CSS, the entire rule in which the selector is used
   is dropped.)

  <h2 id=Tests><span class=secno>13. </span>Tests</h2>

  <p>This specification has <a
   href="https://test.csswg.org/harness/suite/selectors-3_dev/">a test
   suite</a> allowing user agents to verify their basic conformance to the
   specification. This test suite does not pretend to be exhaustive and does
   not cover all possible combined cases of Selectors.

  <h2 id=ACKS><span class=secno>14. </span>Acknowledgements</h2>

  <p>The CSS working group would like to thank everyone who has sent comments
   on this specification over the years.

  <p>In particular, the working group would like to extend special thanks to
   Donna McManus, Justin Baker, Joel Sklar, and Molly Ives Brower who
   performed the final editorial review of the last call draft. The working
   group would also like to thank Adam Kuehn, Boris Zbarsky, David Perrell,
   Elliotte Harold, Matthew Raymond, Ruud Steltenpool, Patrick Garies, Anton
   Prowse, and the W3C Internationalization Working Group for their last call
   comments and kind words.

  <h2 id=references><span class=secno>15. </span>References</h2>

  <h3 id=normative-references><span class=secno>15.1. </span>Normative
   References</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography><!---->

   <dt id=ref-CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
   </dd>
   <!---->

   <dt id=ref-CSS3NAMESPACE>[CSS3NAMESPACE]

   <dd>Elika J. Etemad. <a
    href="http://www.w3.org/TR/2014/REC-css-namespaces-3-20140320/"><cite>CSS
    Namespaces Module Level 3.</cite></a> 29 September 2011. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2014/REC-css-namespaces-3-20140320/">http://www.w3.org/TR/2014/REC-css-namespaces-3-20140320/</a>
   </dd>
   <!---->

   <dt id=ref-FLEX>[FLEX]

   <dd><cite>Flex: The Lexical Scanner Generator.</cite> Version 2.3.7, ISBN
    1882114213</dd>
   <!---->

   <dt id=ref-UNICODE>[UNICODE]

   <dd>The Unicode Consortium. <a
    href="http://www.unicode.org/standard/versions/enumeratedversions.html"><cite>The
    Unicode Standard.</cite></a> 2012. Defined by: The Unicode Standard,
    Version 6.2.0 (Mountain View, CA: The Unicode Consortium, 2012. ISBN
    978-1-936213-07-8), as updated from time to time by the publication of
    new versions URL: <a
    href="http://www.unicode.org/standard/versions/enumeratedversions.html">http://www.unicode.org/standard/versions/enumeratedversions.html</a>
   </dd>
   <!---->

   <dt id=ref-YACC>[YACC]

   <dd>S. C. Johnson. <cite>YACC - Yet another compiler compiler.</cite>
    Murray Hill. 1975. Technical Report.</dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 id=informative-references><span class=secno>15.2. </span>Informative
   References</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography><!---->

   <dt id=ref-BCP47>[BCP47]

   <dd>A. Phillips; M. Davis. <a
    href="ftp://ftp.rfc-editor.org/in-notes/bcp/bcp47.txt"><cite>Tags for
    Identifying Languages.</cite></a> September 2009. 47. BCP. Currently
    represented by RFC 5646. URL: <a
    href="ftp://ftp.rfc-editor.org/in-notes/bcp/bcp47.txt">ftp://ftp.rfc-editor.org/in-notes/bcp/bcp47.txt</a>
   </dd>
   <!---->

   <dt id=ref-CSS1>[CSS1]

   <dd>Håkon Wium Lie; Bert Bos. <a
    href="http://www.w3.org/TR/2008/REC-CSS1-20080411"><cite>Cascading Style
    Sheets (CSS1) Level 1 Specification.</cite></a> 11 April 2008. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2008/REC-CSS1-20080411">http://www.w3.org/TR/2008/REC-CSS1-20080411</a>
   </dd>
   <!---->

   <dt id=ref-DOM-LEVEL-3-CORE>[DOM-LEVEL-3-CORE]

   <dd>Gavin Nicol; et al. <a
    href="http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407"><cite>Document
    Object Model (DOM) Level 3 Core Specification.</cite></a> 7 April 2004.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407">http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407</a>
   </dd>
   <!---->

   <dt id=ref-HTML401>[HTML401]

   <dd>Dave Raggett; Arnaud Le Hors; Ian Jacobs. <a
    href="http://www.w3.org/TR/1999/REC-html401-19991224"><cite>HTML 4.01
    Specification.</cite></a> 24 December 1999. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/1999/REC-html401-19991224">http://www.w3.org/TR/1999/REC-html401-19991224</a>
   </dd>
   <!---->

   <dt id=ref-HTML5>[HTML5]

   <dd>Ian Hickson; et al. <a
    href="http://www.w3.org/TR/2014/REC-html5-20141028/"><cite>HTML5.</cite></a>
    28 October 2014. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2014/REC-html5-20141028/">http://www.w3.org/TR/2014/REC-html5-20141028/</a>
   </dd>
   <!---->

   <dt id=ref-MATHML3>[MATHML3]

   <dd>David Carlisle; Patrick Ion; Robert Miner. <a
    href="http://www.w3.org/TR/2014/REC-MathML3-20140410/"><cite>Mathematical
    Markup Language (MathML) Version 3.0 2nd Edition.</cite></a> 10 April
    2014. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2014/REC-MathML3-20140410/">http://www.w3.org/TR/2014/REC-MathML3-20140410/</a>
   </dd>
   <!---->

   <dt id=ref-STTS3>[STTS3]

   <dd>Daniel Glazman. <a href="http://www.w3.org/TR/NOTE-STTS3"><cite>Simple
    Tree Transformation Sheets 3.</cite></a> Electricité de France. 11
    November 1998. Submission to the W3C. URL: <a
    href="http://www.w3.org/TR/NOTE-STTS3">http://www.w3.org/TR/NOTE-STTS3</a>
   </dd>
   <!---->

   <dt id=ref-SVG11>[SVG11]

   <dd>Erik Dahlström; et al. <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/"><cite>Scalable
    Vector Graphics (SVG) 1.1 (Second Edition).</cite></a> 16 August 2011.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">http://www.w3.org/TR/2011/REC-SVG11-20110816/</a>
   </dd>
   <!---->

   <dt id=ref-UAX29>[UAX29]

   <dd>Mark Davis. <a
    href="http://www.unicode.org/reports/tr29/"><cite>Unicode Text
    Segmentation.</cite></a> 12 September 2012. Unicode Standard Annex #29.
    URL: <a
    href="http://www.unicode.org/reports/tr29/">http://www.unicode.org/reports/tr29/</a>
   </dd>
   <!---->

   <dt id=ref-XML-NAMES>[XML-NAMES]

   <dd>Tim Bray; et al. <a
    href="http://www.w3.org/TR/2009/REC-xml-names-20091208/"><cite>Namespaces
    in XML 1.0 (Third Edition).</cite></a> 8 December 2009. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2009/REC-xml-names-20091208/">http://www.w3.org/TR/2009/REC-xml-names-20091208/</a>
   </dd>
   <!---->

   <dt id=ref-XML10>[XML10]

   <dd>C. M. Sperberg-McQueen; et al. <a
    href="http://www.w3.org/TR/2008/REC-xml-20081126/"><cite>Extensible
    Markup Language (XML) 1.0 (Fifth Edition).</cite></a> 26 November 2008.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2008/REC-xml-20081126/">http://www.w3.org/TR/2008/REC-xml-20081126/</a>
   </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h3 id=changes><span class=secno>15.3. </span>Changes</h3>

  <p>Substantive since the previous Recommendation are:

  <ul>
   <li>Allowing the <a href="#structural-pseudos">Structural
    pseudo-classes</a> to match the root element. See <a
    href="http://lists.w3.org/Archives/Public/www-style/2013Apr/0246.html">minutes</a>
    and <a href="http://test.csswg.org/harness/details/selectors-3_dev/selector-structural-pseudo-root/">results</a>
    of a <a
    href="http://test.csswg.org/harness/test/selectors-3_dev/single/selector-structural-pseudo-root/format/html5/">testcase</a>.
  </ul>

  <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to top">↑</abbr></a></p>


  <script src="//www.w3.org/scripts/TR/2016/fixup.js"
   type="application/javascript"></script>
