<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Filter Effects Module Level 2</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="exploring" name="csswg-work-status">
  <meta content="ED" name="w3c-status">
  <meta content="Filter effects are a way of processing an element&apos;s rendering before it is displayed in the document. Typically, rendering an element via CSS or SVG can conceptually described as if the element, including its children, are drawn into a buffer (such as a raster image) and then that buffer is composited into the elements parent. Filters apply an effect before the compositing stage. Examples of such effects are blurring, changing color intensity and warping the image.  This is Level 2 of the Filter Effects Module." name="abstract">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED" rel="stylesheet" type="text/css">
  <meta content="Bikeshed version 8ac92da89bb2253e0da87e20a9b9caa745f5f5b6" name="generator">
  <link href="https://www.w3.org/TR/filter-effects-2/" rel="canonical">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: #DDDDDD;
    color: black;
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: black; }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1>Filter Effects Module Level 2</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2019-03-22">22 March 2019</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://drafts.fxtf.org/filter-effects-2/">https://drafts.fxtf.org/filter-effects-2/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/filter-effects-2/">https://www.w3.org/TR/filter-effects-2/</a>
     <dt>Test Suite:
     <dd><a href="http://test.csswg.org/suites/filter-effects/nightly-unstable/">http://test.csswg.org/suites/filter-effects/nightly-unstable/</a>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dd><a href="https://github.com/w3c/fxtf-drafts/labels/filter-effects-2">GitHub Issues</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard" data-editor-id="42080"><a class="p-name fn u-email email" href="mailto:dino@apple.com">Dean Jackson</a> (<a class="p-org org" href="http://www.apple.com/">Apple Inc.</a>)
     <dd class="editor p-author h-card vcard" data-editor-id="90243"><a class="p-name fn u-email email" href="mailto:chrishtr@chromium.org">Chris Harrelson</a> (<a class="p-org org" href="http://www.google.com/">Google Inc.</a>)
     <dt class="editor">Former Editor:
     <dd class="editor p-author h-card vcard" data-editor-id="51803"><a class="p-name fn u-email email" href="mailto:dschulze@adobe.com">Dirk Schulze</a> (<span class="p-org org">Adobe Inc.</span>)
     <dt>Suggest an Edit for this Spec:
     <dd><a href="https://github.com/w3c/fxtf-drafts/blob/master/filter-effects-2/Overview.bs">GitHub Editor</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2019 <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>, <a href="https://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Filter effects are a way of processing an element’s rendering before it is displayed in the document. Typically, rendering an element via CSS or SVG can conceptually described as if the element, including its children, are drawn into a buffer (such as a raster image) and then that buffer is composited into the elements parent. Filters apply an effect before the compositing stage. Examples of such effects are blurring, changing color intensity and warping the image.

This is Level 2 of the Filter Effects Module.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> <a href="https://github.com/w3c/fxtf-drafts/issues">GitHub Issues</a> are preferred for discussion of this specification.
	When filing an issue, please put the text “filter-effects” in the title,
	preferably like this:
	“[filter-effects] <i data-lt>…summary of comment…</i>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-fxtf-archive/">archived</a>,
	and there is also a <a href="http://lists.w3.org/Archives/Public/public-fx/">historical archive</a>. </p>
   <p> This document was produced by the <a href="https://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of the <a href="https://www.w3.org/Style/">Style Activity</a>). </p>
   <p> This document was produced by a group operating under
	the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>.
	W3C maintains a <a href="https://www.w3.org/2004/01/pp-impl/32061/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2019/Process-20190301/" id="w3c_process_revision">1 March 2019 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#BackdropFilterProperty"><span class="secno">2</span> <span class="content">Backdrop filters: the <span class="property">backdrop-filter</span> property</span></a>
     <ol class="toc">
      <li><a href="#backdrop-filter-operation"><span class="secno">2.1</span> <span class="content">Filtering and Clipping</span></a>
     </ol>
    <li>
     <a href="#BackdropRoot"><span class="secno">3</span> <span class="content">Backdrop Root</span></a>
     <ol class="toc">
      <li><a href="#BackdropRootMotivation"><span class="secno">3.1</span> <span class="content">Motivation</span></a>
      <li><a href="#BackdropRootTriggers"><span class="secno">3.2</span> <span class="content">Backdrop Root Triggers</span></a>
      <li><a href="#mix-blend-mode"><span class="secno">3.3</span> <span class="content">Mix Blend Mode</span></a>
     </ol>
    <li><a href="#priv-sec"><span class="secno">4</span> <span class="content">Privacy and Security Considerations</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#document-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#conform-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#conform-responsible"><span class="secno"></span> <span class="content"> Requirements for Responsible Implementation of CSS</span></a>
       <ol class="toc">
        <li><a href="#conform-partial"><span class="secno"></span> <span class="content"> Partial Implementations</span></a>
        <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
        <li><a href="#conform-testing"><span class="secno"></span> <span class="content"> Implementations of CR-level Features</span></a>
       </ol>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <p class="issue" id="issue-cbfded64"><a class="self-link" href="#issue-cbfded64"></a> This specification is under discussion, <a href="https://github.com/w3c/fxtf-drafts/issues/53">here</a>.</p>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative</em></p>
   <p>A filter effect is a graphical operation that is applied to an element as it is
drawn into the document. It is an image-based effect, in that it takes zero or
more images as input, a number of parameters specific to the effect, and then
produces an image as output. The output image is either rendered into the
document instead of the original element, used as an input image to another
filter effect, or provided as a CSS image value.</p>
   <p>This is Level 2 of the Filter Effects Module. It is currently written as
a "delta", describing any differences from Level 1.</p>
   <h2 class="heading settled" data-level="2" id="BackdropFilterProperty"><span class="secno">2. </span><span class="content">Backdrop filters: the <a class="property" data-link-type="propdesc" href="#propdef-backdrop-filter" id="ref-for-propdef-backdrop-filter">backdrop-filter</a> property</span><a class="self-link" href="#BackdropFilterProperty"></a></h2>
   <p>The description of the <a class="property" data-link-type="propdesc" href="#propdef-backdrop-filter" id="ref-for-propdef-backdrop-filter①">backdrop-filter</a> property is as follows:</p>
   <table class="def propdef" data-link-for-hint="backdrop-filter">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-backdrop-filter">backdrop-filter</dfn>
     <tr class="value">
      <th><a href="https://drafts.csswg.org/css-values/#value-defs">Value:</a>
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a class="production css" data-link-type="type" href="https://drafts.fxtf.org/filter-effects-1/#typedef-filter-value-list" id="ref-for-typedef-filter-value-list">&lt;filter-value-list></a>
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#initial-values">Initial:</a>
      <td>none
     <tr>
      <th>Applies to:
      <td>All elements. In SVG, it applies to <a data-link-type="dfn" href="https://svgwg.org/svg2-draft/struct.html#container-element" id="ref-for-container-element">container elements</a> without the defs element and all graphics elements
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#inherited-property">Inherited:</a>
      <td>no
     <tr>
      <th><a href="https://drafts.csswg.org/css-values/#percentages">Percentages:</a>
      <td>n/a
     <tr>
      <th><a href="https://drafts.csswg.org/css-cascade/#computed">Computed value:</a>
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th><a href="https://drafts.csswg.org/web-animations/#animation-type">Animatable:</a>
      <td>yes
   </table>
   <p>If the value of the <a class="property" data-link-type="propdesc" href="#propdef-backdrop-filter" id="ref-for-propdef-backdrop-filter②">backdrop-filter</a> property is <span class="css">none</span> then there is no
filter effect applied. Otherwise, the list of functions are applied in the
order provided.</p>
   <h3 class="heading settled" data-level="2.1" id="backdrop-filter-operation"><span class="secno">2.1. </span><span class="content">Filtering and Clipping</span><a class="self-link" href="#backdrop-filter-operation"></a></h3>
   <p>An element (call it B) with a backdrop-filter property other than <span class="css">none</span> is rendered as if
the following steps are performed:</p>
   <ol>
    <li data-md>
     <p>Copy the <a data-link-type="dfn" href="#backdrop-root-image" id="ref-for-backdrop-root-image">Backdrop Root Image</a> into a temporary buffer, such as a raster image. Call this buffer T’.</p>
    <li data-md>
     <p>Apply the backdrop-filter’s filter operations to the entire contents of T'.</p>
    <li data-md>
     <p>If element B has any transforms (between B and the Backdrop Root), apply the <b>inverse</b> of those transforms to the contents of T’.</p>
    <li data-md>
     <p>Apply a clip to the contents of T’, using the border box of element B, including <a href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a> if specified. Note that the children of B are not considered for the sizing or location of this clip.</p>
    <li data-md>
     <p>Draw all of element B, including its background, border, and any children elements, into T’.</p>
    <li data-md>
     <p>If element B has any transforms, effects, or clips, apply those to T’.</p>
    <li data-md>
     <p>Composite the contents of T’ into element B’s parent, using source-over compositing.</p>
   </ol>
   <p>The first <a data-link-type="element" href="https://drafts.fxtf.org/filter-effects-1/#elementdef-filter" id="ref-for-elementdef-filter">filter</a> function or filter reference in the <a class="production css" data-link-type="type" href="https://drafts.fxtf.org/filter-effects-1/#typedef-filter-value-list" id="ref-for-typedef-filter-value-list①">&lt;filter-value-list></a> takes the element’s <a data-link-type="dfn" href="#backdrop-root-image" id="ref-for-backdrop-root-image①">Backdrop Root Image</a> as the input image. Subsequent
operations take the output from the previous filter function or <span id="ref-for-elementdef-filter①">filter</span> reference as the input image. The <span id="ref-for-elementdef-filter②">filter</span> element
reference functions can specify an alternate input, but still uses the previous
output as its SourceGraphic.</p>
   <p>Filter functions must operate in the sRGB color space.</p>
   <p>A computed value of other than <span class="css">none</span> results in the
creation of both a <a href="https://www.w3.org/TR/CSS21/zindex.html">stacking
context</a> <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> and a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block">Containing
Block</a> for absolute and fixed position descendants, in the same way that CSS <a class="property" data-link-type="propdesc" href="https://drafts.fxtf.org/filter-effects-1/#propdef-filter" id="ref-for-propdef-filter">filter</a> does.</p>
   <p class="note" role="note"><span>Note:</span> that the effect of the backdrop-filter will not be visible unless some
portion of element B is semi-transparent. Also note that any opacity applied to
element B will be applied to the filtered backdrop image as well. Therefore, to
create a "transparent" element that allows the full filtered backdrop image to
be seen, you can use "background-color: transparent;".</p>
   <h2 class="heading settled" data-level="3" id="BackdropRoot"><span class="secno">3. </span><span class="content">Backdrop Root</span><a class="self-link" href="#BackdropRoot"></a></h2>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="backdrop-root-image">Backdrop Root Image</dfn> is defined as the entire painted output produced by
drawing, in <a href="https://www.w3.org/TR/CSS2/zindex.html#painting-order">painting order</a>,
all content between (and including) the <a data-link-type="dfn" href="#backdrop-root" id="ref-for-backdrop-root">Backdrop Root</a> element and the
child element that needs access to the "backdrop". No content that is a DOM
ancestor of the Backdrop Root element should contribute to or affect the
Backdrop Root Image.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="backdrop-root">Backdrop Root</dfn> is formed, anywhere in the document, by an element in any of the following scenarios. See <a href="#BackdropRootTriggers">§3.2 Backdrop Root Triggers</a> for more details on each:</p>
   <ul>
    <li data-md>
     <p>The root element of the document (HTML).</p>
    <li data-md>
     <p>An element with a filter property other than "none".</p>
    <li data-md>
     <p>An element with an opacity value less than 1.</p>
    <li data-md>
     <p>An element with mask, mask-image, mask-border, or clip-path properties with values other than “none”.</p>
    <li data-md>
     <p>An element with a backdrop-filter value other than "none".</p>
    <li data-md>
     <p>An element with a mix-blend-mode value other than "normal".</p>
    <li data-md>
     <p>An element with a will-change value specifying any property that would create a Backdrop Root on non-initial value.</p>
   </ul>
   <p class="note" role="note"><span>Note:</span> this definition encompases fewer element types than the definition for a
Stacking Context. In particular, a Backdrop Root is not formed by elements with
z-index applied, fixed or sticky-positioned elements, and elements with
transforms applied. This allows elements with backdrop-filter or mix-blend-mode
to apply to elements higher up the DOM tree than would otherwise apply if they
stopped at the parent Stacking Context. For example, a container can be used to
contain elements with backdrop-filter applied, and that container can use
transforms for animation or positioning, while still allowing the
backdrop-filter to apply to the background behind the container.</p>
   <h3 class="heading settled" data-level="3.1" id="BackdropRootMotivation"><span class="secno">3.1. </span><span class="content">Motivation</span><a class="self-link" href="#BackdropRootMotivation"></a></h3>
   <p><em>This section is non-normative</em></p>
   <p>There are currently three related, but distinct, concepts in the web
platform:</p>
   <ul>
    <li data-md>
     <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context">Stacking Context</a>. A Stacking Context is induced by many different types of element properties, and is primarily related to defining the painting (Z) order of elements.</p>
    <li data-md>
     <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block">Containing Block</a>. A Containing Block is also induced by several types of element properties, and is primarily related to defining how layout (X/Y) is performed for elements.</p>
    <li data-md>
     <p>The <a href="https://drafts.csswg.org/css-transforms-2/#3d-rendering-contexts">3D Rendering Context</a>. A 3D Rendering Context is induced by several properties, mainly transform-style, but also any of the grouping properties, and is primarily related to defining the relevant coordinate space for 3D transforms.</p>
   </ul>
   <p>There is an important motivation for the creation of a separate web platform
concept for the Backdrop Root, rather than just re-using an existing concept.
There are essentially two other choices that might be used as a definition of
the "backdrop": 1) “everything that painted before, up to the root node”, or 2)
“everything up to the parent stacking context”. However, there are ambiguities
with definition #1, and excessive limitations with definition #2. Therefore, the
Backdrop Root concept strikes a balance between the two.</p>
   <p>In particular, it is important to note that including “everything that paints
before” an element is ambiguous in the case where an ancestor of the element
contains filtering and/or opacity. Because those effects are inherited by
descendant elements, including the element containing backdrop-filter or
mix-blend-mode, it is not clear “when” to apply the effect. Filters and opacity
create a stacking context, and the <a href="https://drafts.fxtf.org/filter-effects/#FilterProperty">css filter-effect
specification</a> states that “All the [Stacking Context] descendants are
rendered together as a group with the filter effect applied to the group as a
whole.” If, somewhere inside that stacking context, an element contains a
backdrop-filter property other than “none”, then it is impossible to
honor the preceding sentence. At the point of the backdrop-filtered element, all
of the (partially-painted) contents of the stacking context need to be fully
rendered, including applied filters, opacity, and blending with the backdrop,
and the resulting image needs to be used as the input to the backdrop-filtered
element. That fundamentally breaks the atomicity of the stacking context. And the ambiguity
arises from the need, at the end of rendering the fully-completed stacking
context, to apply those filters and opacity <b>again</b> to the completed rendering.
The filters and opacity will, at this point, be applied twice to the portion of
the image that has been backdrop-filtered. This situation grows exponentially
worse if backdrop-filters are nested inside each other. For this reason, it is
necessary to prevent the backdrop-filter from “seeing" above nodes that have
filters, opacity, and the other conditions listed above in the definition of the
Backdrop Root.</p>
   <p>Performance would also be an issue, if backdrop-filter and mix-blend-mode were
defined to filter "everything" that comes before them on the page. Each
application of backdrop-filter or mix-blend-mode would require a separate
rendering pass, to temporarily finish any partially-complete stacking contexts,
and get the "final" output that would appear behind each element. That would
double the required rendering time, and would potentially require twice the
memory usage and GPU bandwidth to store the intermediate graphics texture
holding the contents to be filtering. And assuming nested backdrop-filters or
mix-blend-mode elements were allowed, this doubling would become an exponential
performance breakdown. Clearly, this is not a scalable approach.</p>
   <div class="example" id="example-2baed611">
    <a class="self-link" href="#example-2baed611"></a> 
    <p>Given the following html code:</p>
<pre><code class="highlight"><c- p>&lt;</c-><c- f>html</c-> <c- e>style</c-><c- o>=</c-><c- s>"background:lightgrey;"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"box"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>b</c-><c- p>></c->"Box"<c- p>&lt;/</c-><c- f>b</c-><c- p>>&lt;</c-><c- f>br</c-><c- p>>&lt;</c-><c- f>br</c-><c- p>></c->Lorem ipsum dolor sit amet, consectetur adipiscing elit,
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
    ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip
    ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
    velit esse cillum
    <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>"dialog"</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>html</c-><c- p>></c->
</code></pre>
    <p>And the following style rules:</p>
<pre><code class="highlight"><c- f>&lt;style></c->
<c- f>  div </c-><c- p>{</c->
    <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
    <c- k>width</c-><c- p>:</c-> <c- m>200</c-><c- l>px</c-><c- p>;</c->
    <c- k>height</c-><c- p>:</c-> <c- m>200</c-><c- l>px</c-><c- p>;</c->
    <c- k>top</c-><c- p>:</c-> <c- m>70</c-><c- l>px</c-><c- p>;</c->
    <c- k>left</c-><c- p>:</c-> <c- m>70</c-><c- l>px</c-><c- p>;</c->
  <c- p>}</c->
  <c- f>.box </c-><c- p>{</c->
    <c- k>background</c-><c- p>:</c-> white<c- p>;</c->
    <c- k>filter</c-><c- p>:</c-> <c- nf>invert</c-><c- p>(</c-><c- m>1</c-><c- p>);</c->
  <c- p>}</c->
  <c- f>.dialog </c-><c- p>{</c->
    <c- k>border</c-><c- p>:</c-> <c- m>10</c-><c- l>px</c-> solid blue<c- p>;</c->
    <c- k>backdrop-filter</c-><c- p>:</c-> <c- nf>blur</c-><c- p>(</c-><c- m>2</c-><c- l>px</c-><c- p>);</c->
  <c- p>}</c->
&lt;/style>
</code></pre>
    <p>Consider the sequence of painting operations to produce the final result,
   assuming that the "dialog" element accesses <b>everything behind it</b>, all
   the way to the root element. <b>Important note:</b> this is <b>not</b> how
   the Backdrop Root is defined - this example is intended to illustrate why a
   Backdrop Root is formed by elements containing filters.</p>
    <div class="figure">
      <img alt="ALT TEXT HERE" src="examples/step1.png" style="width:30%"> 
     <p class="caption"><b>Step 1.</b> "Box" is rendered, but filters are not yet applied.</p>
      <img alt="ALT TEXT HERE" src="examples/step2.png" style="width:30%"> 
     <p class="caption"><b>Step 2.</b> "Dialog" is about to be rendered, but it has
    backdrop-filter applied. Since, for this example, the backdrop-filter "sees"
    all the way to the root, the "Box" element needs to be temporarily
    "completed" so that the final product can be used as input to "Dialog". This
    means applying its "filter: invert(1)" style. Note, this is where the
    atomicity of the Stacking Context created by "Box" is broken. This is also
    where the performance penalty applies - the GPU draw work that is
    performed here will end up being done twice.</p>
      <img alt="ALT TEXT HERE" src="examples/step3.png" style="width:30%"> 
     <p class="caption"><b>Step 3.</b> Start painting the "Dialog" element by
    reading back its backdrop image, applying the "backdrop-filter: blur(2px)"
    filter, and cropping those results to the border box of "Dialog". (The
    dotted black border has been added here for clarity: this is the border box
    for the "Dialog" element.)</p>
      <img alt="ALT TEXT HERE" src="examples/step4.png" style="width:30%"> 
     <p class="caption"><b>Step 4.</b> Now that the backdrop-filtered contents have
    been read back and filtered, discard the previously "completed" Box element
    and go back to the unfiltered version. Note that you can now see the black
    text at the bottom bleeding through the white, blurred version inside
    "Dialog".</p>
      <img alt="ALT TEXT HERE" src="examples/step5.png" style="width:30%"> 
     <p class="caption"><b>Step 5.</b> Draw the contents of the "Dialog" element -
    the <b>blue</b> border.</p>
      <img alt="ALT TEXT HERE" src="examples/step6.png" style="width:30%"> 
     <p class="caption"><b>Step 6.</b> Complete the Stacking Context formed by the
    "Box" element - apply the "filter: invert(1)" to "Box" and all of its
    contents, including the now-completed "Dialog" element. Note that the area
    inside the yellow "Dialog" element has been inverted twice - it appears
    white. Also note that the text outside "Box" has been drawn in blurred black
    text over the top of un-blurred white text, and the black edge of "Box"
    shows through the now-white blurred edge of "Box". None of these visual
    effects is expected or intuitive.</p>
    </div>
   </div>
   <div class="example" id="example-dbba084f">
    <a class="self-link" href="#example-dbba084f"></a> 
    <p>Opacity poses much the same problem that filter does. Using the example
  above, but with the <code>filter: invert(1);</code> style replaced with <code>opacity: 0.5;</code> the results are similarly unintuitive. <b>Important note:</b> the left image below does <b>not</b> represent how the
  Backdrop Root is defined - this example is intended to illustrate why a
  Backdrop Root is formed by elements containing opacity less than 1.</p>
    <p></p>
    <div class="figure">
      <img alt="ALT TEXT HERE" src="examples/opacity.png" style="width:30%">      <img alt="ALT TEXT HERE" src="examples/opacity_correct.png" style="width:30%"> 
     <p class="caption">The left image is the final result of rendering, assuming
  the Backdrop Root includes everything on the page. Note that the blurred
  region inside the blue border is very faint. It is rendered at 0.25 opacity
  (double-counted), instead of the 0.5 opacity inherited from the "Box" element.
  The right image is the final result using the correct definition of Backdrop
  Root. The blurred region inside the blue border has opacity 0.5, as
  expected.</p>
    </div>
   </div>
   <div class="example" id="example-42ce43fb">
    <a class="self-link" href="#example-42ce43fb"></a> 
    <p>Because masks effectively change the opacity of parts of the elements they
  are masking, the behavior for mask operations is quite similar to that for
  elements with opacity applied. Using the same example as above, but replacing
  the filter/opacity style line with <code>-webkit-mask-image:
  linear-gradient(to top, transparent 25%, black 75%);</code> the results are
  quite similar. The masked area is applied twice, meaning the alpha channel is
  effectively squared. <b>Important note:</b> the left image below does <b>not</b> represent how the Backdrop Root is defined - this example is
  intended to illustrate why a Backdrop Root is formed by elements containing
  masks.</p>
    <div class="figure">
      <img alt="ALT TEXT HERE" src="examples/mask.png" style="width:30%">      <img alt="ALT TEXT HERE" src="examples/mask_correct.png" style="width:30%"> 
     <p class="caption">The left image is the final result of rendering, assuming
  the Backdrop Root includes everything on the page. Note that the gradient
  applied to the blurred region inside the blue border (but not the border
  itself) is very faint at the bottom. The opacity of the mask has been applied
  twice, so the gradient is no longer a linear gradient, but is instead a
  quadratic gradient. The right image is the final result using the correct
  definition of Backdrop Root. The mask is applied correctly as a linear
  gradient for both the blue border and the blurred region inside.</p>
    </div>
   </div>
   <h3 class="heading settled" data-level="3.2" id="BackdropRootTriggers"><span class="secno">3.2. </span><span class="content">Backdrop Root Triggers</span><a class="self-link" href="#BackdropRootTriggers"></a></h3>
   <p><em>This section is non-normative</em></p>
   <p>As described in <a href="#BackdropRootMotivation">§3.1 Motivation</a>, several operations pose fundamental problems for operations that need to read back content that was painted before, and then re-paint that content (possibly filtered or blended) again. The list of element types that trigger a <a href="#BackdropRoot">§3 Backdrop Root</a> each pose one of these problems. Some are obvious and some are more nuanced. This section describes why each trigger is necessary.</p>
   <p>Obvious triggers:</p>
   <ul>
    <li data-md>
     <p><b>The root element.</b> There is nothing above the root element, so it must form a Backdrop Root.</p>
    <li data-md>
     <p><b>Will-change values.</b> The will-change hint means that the element might take on a value that creates a Backdrop Root. For this reason, the Backdrop Root should be created immediately, to avoid changing it (and therefore changing the rendered appearance) during animation.</p>
   </ul>
   <p>Less obvious triggers:</p>
   <ul>
    <li data-md>
     <p><b>An element with a filter.</b> Filters apply to an element and all of its children, rendered together. Allowing the Backdrop Root to read back content above a filtered element necessitates breaking the atomicity of the filter, with undefined results. See <a href="#BackdropRootMotivation">§3.1 Motivation</a> for more a much more detailed explanation and some examples.</p>
    <li data-md>
     <p><b>An element with opacity &lt; 1.</b> Elements with an opacity value less than 1.0 suffer from a very similar problem as elements with filters. Because the opacity applies to the element and all children, rendered together, the opacity value would be "applied twice" if the Backdrop Root Image were to read back content above the semi-transparent element. Effectively, the backdrop-filtered portion of the backdrop would be rendered with (Opacity)^2. See <a href="#BackdropRootMotivation">§3.1 Motivation</a> for more details and an example.</p>
    <li data-md>
     <p><b>CSS Masks.</b> There are two reasons why a CSS mask triggers a Backdrop Root element. The first is that masks are exactly analogous to the opacity problem described in the bullet above. Masks can contain regions of partial opacity (e.g. <code>style="mask-image: linear-gradient(to bottom, transparent 25%, black 75%);"</code>). If the Backdrop Root Image were to read back content above the mask, those partially-opaque regions would be double-applied to the final backdrop image, which would result in incorrect rendering. See <a href="#BackdropRootMotivation">§3.1 Motivation</a> for more details and an example.</p>
    <li data-md>
     <p><b>Elements with clip-path.</b> These elements are effectively rendered as if they were a mask. While in general that mask doesn’t explicitly contain partially-opaque regions, it is usually rendered with antialiasing, which introduces semi-transparent portions around the edges of the clip. Therefore, for the same reasons as described above for masks, those semi-transparent regions will be incorrectly rendered, producing visual artifacts near the edges of the clip. Disabling antialiasing for clip-paths would produce poor rendering quality, and relaxing the Backdrop Root restriction on these elements would similarly lead to observable artifacts.</p>
    <li data-md>
     <p><b>Backdrop-filter and mix-blend-mode.</b> These elements themselves must form a Backdrop Root for two reasons. First, they cause the same problems that filters and opacity cause: there is an ambiguity about what constitutes the image to be filtered or blended, given the atomicity of the operations. Second, there would likely be an exponential performance degradation in the case of nested backdrop-filter or mix-blend-mode elements, due to the need to re-paint the content behind each element. Each nesting level will double the number of these required re-paint cycles, leading to significant performance problems.</p>
   </ul>
   <p>For all of the above triggers, performance is also an important motivation. In all of these cases, relaxing the Backdrop Root constraint would lead to a potential doubling of the CPU/GPU memory and bandwidth. See <a href="#BackdropRootMotivation">§3.1 Motivation</a> for a more detailed discussion.</p>
   <h3 class="heading settled" data-level="3.3" id="mix-blend-mode"><span class="secno">3.3. </span><span class="content">Mix Blend Mode</span><a class="self-link" href="#mix-blend-mode"></a></h3>
   <p><em>This section is non-normative</em></p>
   <p>The current definition of mix-blend-mode <a href="https://www.w3.org/TR/compositing-1/#csscompositingrules_CSS">defines</a> the input (backdrop) image for mix-blend-mode as being all of the underlying content of the parent stacking context. This definition could likely be relaxed to use the Backdrop Root definition instead, allowing more elements to be blended.</p>
   <h2 class="heading settled" data-level="4" id="priv-sec"><span class="secno">4. </span><span class="content">Privacy and Security Considerations</span><a class="self-link" href="#priv-sec"></a></h2>
   <p>All of the same privacy and security concerns exist for backdrop-filter as do for "standard" filters. See <a href="https://www.w3.org/TR/filter-effects-1/#tainted-filter-primitives">Filter Effects Module Level 1 §tainted-filter-primitives</a> for more details.</p>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>The editors would like to thank Mason Freed, Marcus Stange, Matt Rakow, Simon Fraser, Amelia Bellamy-Royds, Dirk Schulze, and Tab Atkins for their careful reviews, comments, and corrections.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
  <h3 class="heading settled" id="document-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#document-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
  <p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this: </p>
  <div class="example" id="example-ae2b6bc0">
   <a class="self-link" href="#example-ae2b6bc0"></a> 
   <p>This is an example of an informative example. </p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note. </p>
  <p>Advisements are normative sections styled to evoke special attention and are
	set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
	this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong> </p>
  <h3 class="heading settled" id="conform-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#conform-classes"></a></h3>
  <p>Conformance to this specification
	is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#style-sheet">CSS
			style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
			documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
	if all of its statements that use syntax defined in this module are valid
	according to the generic CSS grammar and the individual grammars of each
	feature defined in this module. </p>
  <p>A renderer is conformant to this specification
	if, in addition to interpreting the style sheet as defined by the
	appropriate specifications, it supports all the features defined
	by this specification by parsing them correctly
	and rendering the document accordingly. However, the inability of a
	UA to correctly render a document due to limitations of the device
	does not make the UA non-conformant. (For example, a UA is not
	required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
	if it writes style sheets that are syntactically correct according to the
	generic CSS grammar and the individual grammars of each feature in
	this module, and meet all other conformance requirements of style sheets
	as described in this module. </p>
  <h3 class="heading settled" id="conform-responsible"><span class="content"> Requirements for Responsible Implementation of CSS</span><a class="self-link" href="#conform-responsible"></a></h3>
  <p>The following sections define several conformance requirements
		for implementing CSS responsibly,
		in a way that promotes interoperability in the present and future. </p>
  <h4 class="heading settled" id="conform-partial"><span class="content"> Partial Implementations</span><a class="self-link" href="#conform-partial"></a></h4>
  <p>So that authors can exploit the forward-compatible parsing rules to assign fallback values, <strong>CSS renderers <em>must</em> treat as invalid
		(and <a href="http://www.w3.org/TR/CSS2/conform.html#ignore">ignore as appropriate</a>)
		any at-rules, properties, property values, keywords, and other syntactic constructs
		for which they have no usable level of support</strong>.
		In particular, user agents <em>must not</em> selectively ignore
		unsupported property values and honor supported values in a single multi-value property declaration:
		if any value is considered invalid (as unsupported values must be),
		CSS requires that the entire declaration be ignored. </p>
  <h4 class="heading settled" id="conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
		the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h4 class="heading settled" id="conform-testing"><span class="content"> Implementations of CR-level Features</span><a class="self-link" href="#conform-testing"></a></h4>
  <p>Once a specification reaches the Candidate Recommendation stage,
		implementers should release an <a data-link-type="dfn" href="http://www.w3.org/TR/CSS/#vendor-prefix">unprefixed</a> implementation
		of any CR-level feature they can demonstrate
		to be correctly implemented according to spec,
		and should avoid exposing a prefixed variant of that feature. </p>
  <p>To establish and maintain the interoperability of CSS across
		implementations, the CSS Working Group requests that non-experimental
		CSS renderers submit an implementation report (and, if necessary, the
		testcases used for that implementation report) to the W3C before
		releasing an unprefixed implementation of any CSS features. Testcases
		submitted to W3C are subject to review and correction by the CSS
		Working Group. </p>
  <p>
   Further information on submitting testcases and implementation reports
		can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
		Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list. 
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  </p>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#propdef-backdrop-filter">backdrop-filter</a><span>, in §2</span>
   <li><a href="#backdrop-root">Backdrop Root</a><span>, in §3</span>
   <li><a href="#backdrop-root-image">Backdrop Root Image</a><span>, in §3</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-comb-one">
   <a href="https://drafts.csswg.org/css-values-4/#comb-one">https://drafts.csswg.org/css-values-4/#comb-one</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-comb-one">2. Backdrop filters: the backdrop-filter property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-typedef-filter-value-list">
   <a href="https://drafts.fxtf.org/filter-effects-1/#typedef-filter-value-list">https://drafts.fxtf.org/filter-effects-1/#typedef-filter-value-list</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-filter-value-list">2. Backdrop filters: the backdrop-filter property</a>
    <li><a href="#ref-for-typedef-filter-value-list①">2.1. Filtering and Clipping</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-propdef-filter">
   <a href="https://drafts.fxtf.org/filter-effects-1/#propdef-filter">https://drafts.fxtf.org/filter-effects-1/#propdef-filter</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-filter">2.1. Filtering and Clipping</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-container-element">
   <a href="https://svgwg.org/svg2-draft/struct.html#container-element">https://svgwg.org/svg2-draft/struct.html#container-element</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-container-element">2. Backdrop filters: the backdrop-filter property</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-values-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-comb-one" style="color:initial">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[filter-effects-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-typedef-filter-value-list" style="color:initial">&lt;filter-value-list></span>
     <li><span class="dfn-paneled" id="term-for-propdef-filter" style="color:initial">filter</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SVG2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-container-element" style="color:initial">container element</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-4/">CSS Values and Units Module Level 4</a>. 31 January 2019. WD. URL: <a href="https://www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
   <dt id="biblio-css21">[CSS21]
   <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS2/">Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS2/">https://www.w3.org/TR/CSS2/</a>
   <dt id="biblio-filter-effects-1">[FILTER-EFFECTS-1]
   <dd>Dirk Schulze; Dean Jackson. <a href="https://www.w3.org/TR/filter-effects-1/">Filter Effects Module Level 1</a>. 18 December 2018. WD. URL: <a href="https://www.w3.org/TR/filter-effects-1/">https://www.w3.org/TR/filter-effects-1/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-svg2">[SVG2]
   <dd>Amelia Bellamy-Royds; et al. <a href="https://www.w3.org/TR/SVG2/">Scalable Vector Graphics (SVG) 2</a>. 4 October 2018. CR. URL: <a href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Ani­mat­able
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
      <th scope="col">Media
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-backdrop-filter" id="ref-for-propdef-backdrop-filter③">backdrop-filter</a>
      <td>none | &lt;filter-value-list>
      <td>none
      <td>All elements. In SVG, it applies to container elements without the defs element and all graphics elements
      <td>no
      <td>n/a
      <td>yes
      <td>per grammar
      <td>as specified
      <td>visual
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> This specification is under discussion, <a href="https://github.com/w3c/fxtf-drafts/issues/53">here</a>.<a href="#issue-cbfded64"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="propdef-backdrop-filter">
   <b><a href="#propdef-backdrop-filter">#propdef-backdrop-filter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-backdrop-filter">2. Backdrop filters: the backdrop-filter property</a> <a href="#ref-for-propdef-backdrop-filter①">(2)</a> <a href="#ref-for-propdef-backdrop-filter②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="backdrop-root-image">
   <b><a href="#backdrop-root-image">#backdrop-root-image</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backdrop-root-image">2.1. Filtering and Clipping</a> <a href="#ref-for-backdrop-root-image①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="backdrop-root">
   <b><a href="#backdrop-root">#backdrop-root</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-backdrop-root">3. Backdrop Root</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>