<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>CSS3 Values and Units</title>
  <style type="text/css">
    code, small { white-space: nowrap }
    .say { clor: gray; }
    pre.value { font: inherit; white-space: pre-wrap; margin: 0; padding: 0; }
    #propvalues td { text-align: right; }
    #propvalues td + td { text-align: left; }
  </style>
  <link rel="stylesheet" type="text/css" href="../default.css">
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-[STATUS].css">
</head>


<body>
<div class="head">
<!--logo-->

<h1 id="css3-template">CSS3 Values and Units</h1>

<h2 class="no-num no-toc">[LONGSTATUS] [DATE]</h2>

<dl>
<dt>This version:</dt>

<dd><a href="[VERSION]">[VERSION]</a></dd>

<dt>Latest version:</dt>

<dd><a href="http://www.w3.org/TR/css3-values">[LATEST]</a></dd>

<dt>Previous version:</dt>

<dd><a href="http://www.w3.org/TR/2005/WD-css3-values-20050726">http://www.w3.org/TR/2005/WD-css3-values-20050726</a></dd>

<dt>Editors:</dt>
<dd>H&aring;kon Wium Lie, Opera Software &lt;howcome@opera.com&gt;</dd>
<dd>Tab Atkins, Google
<dd>Elika J. Etemad, Mozilla
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>


<h2 class="no-num no-toc" id="abstract">Abstract</h2>

<p>This CSS3 module describes the various values and units that CSS
properties accept. Also, it describes how values are computed from
"specified" through "computed" and "used" into "actual" values. The
main purpose of this module is to define common values and units in
one specification which can be referred to by other modules. As such,
it does not make sense to claim conformance with this module
alone.</p>

<h2 class="no-num no-toc" id="status">Status of this document</h2>

<!--status-->

<p>All features described in this specification that also
exist in CSS 2.1 [[!CSS21]] are intended to be backwards compatible.
In case of conflict between this draft and CSS&nbsp;2.1 [[!CSS21]],
CSS&nbsp;2.1 probably represents the intention of the CSS WG better
than this draft (other than on values and units that are new to
CSS3).

<p>The following features are at-risk and may be dropped during the
CR period: ''vh'', ''vw'', ''vm'', ''fr'', ''gr'', ''cycle()'', ''attr()''.

<h2 class="no-num no-toc" id="contents">Table of contents</h2>

<!--toc-->

<h2>Introduction</h2>

	<p>The value definition field of each CSS property can contain keywords,
	data types (which appear between ''<'' and ''>''), and information on how
	they can be combined.
	Generic data types (<code>&lt;length&gt;</code> being the most widely used)
	that can be used by many properties are described in this specification,
	while more specific data types (e.g., <code>&lt;spacing-limit&gt;</code>)
	are described in the corresponding modules.

<h3 id="placement">
Module Interactions</h3>

	<p>This module replaces and extends the data type definitions in [[!CSS21]]
	sections
	<a href="http://www.w3.org/TR/CSS21/about.html#value-defs">1.4.2.1</a>,
	<a href="http://www.w3.org/TR/CSS21/syndata.html#values">4.3</a>,
	and <a href="http://www.w3.org/TR/CSS21/aural.html#aural-intro">A.2</a>.

<h2 id="value-defs">
Value Definition Syntax</h2>

	<p>The syntax described here is used to define the set of valid values
	for CSS properties. A property value can have one or more components.

<h3 id="component-types">
Component value types</h3>

	<p>Component value types are designated in several ways:

	<ol>
		<li><a href="#keyword">keyword</a> values (such as ''auto'', ''disc'', etc.),
		which appear literally, without quotes (e.g. <code>auto</code>)

		<li>basic data types, which appear between ''&lt;'' and ''&gt;''
		(e.g., <code>&lt;length&gt;</code>, <code>&lt;percentage&gt;</code>, etc.).

		<li>types that have the same range of values as a property bearing
		the same name
		(e.g., <code>&lt;'border-width'&gt;</code> <code>&lt;'background-attachment'&gt;</code>, etc.).
		In this case, the type name is the property name (complete with quotes)
		between the brackets.  Such a type does <em>not</em>
		include the value 'inherit'.

		<li>non-terminals that do not share the same name as a property. In this
		case, the non-terminal name appears between ''&lt;'' and ''&gt;'', as in
		<code>&lt;spacing-limit&gt;</code>.  Notice the distinction between
		<code>&lt;border-width&gt;</code> and <code>&lt;'border-width'&gt;</code>:
		the latter is defined as the value of the 'border-width' property,
		the former requires an explicit expansion elsewhere.
		The definition of a non-terminal is located near its first appearance
		in the specification.
	</ol>

	<p>Some property value definitions also include the slash (/) and/or the
	comma (,) as literals. These represent their corresponding tokens.

	<p>All CSS properties also accept the keyword values ''inherit'' and
	''initial'' as their property value, but for readability these are not
	listed explicitly in the property value syntax definitions. These
	keywords cannot be combined with other component values in same
	declaration; such a declaration is invalid. For example,
	''background: url(corner.png) no-repeat, inherit;'' is invalid.

<h3 id="component-combinators">
Component value combinators</h3>

	<p>Component values can be arranged into property values as follows:

	<ul>
		<li>Several juxtaposed words mean that all of them must occur, in the
			given order.
		<li>A double ampersand (&&) separates two or more components,
			all of which must occur, in any order.
		<li>A double bar (||) separates two or more options:
			one or more of them must occur, in any order.
		<li>A bar (|) separates two or more alternatives: 
			exactly one of them must occur.
		<li>Brackets ([&nbsp;]) are for grouping. 
	</ul>

	<p>Juxtaposition is stronger than the double ampersand, the double
	ampersand is stronger than the double bar, and the double bar
	is stronger than the bar. Thus, the following lines are equivalent:
	<pre>
<!---->  a b   |   c ||   d &&   e f
<!---->[ a b ] | [ c || [ d && [ e f ]]]</pre>

<h3 id="component-multipliers">
Component value multipliers</h3>

	<p>Every type, keyword, or bracketed group may be followed by one of
	the following modifiers:</p>

	<ul>
		<li>An asterisk (*) indicates that the preceding type, word, or
		group occurs zero or more times.

		<li>A plus (+) indicates that the preceding type, word, or group
		occurs one or more times.

		<li>A question mark (?) indicates that the preceding type, word, or
		group is optional.

		<li>A pair of numbers in curly braces ({<var>A</var>,<var>B</var>})
		indicates that the preceding type, word, or group occurs at least
		<var>A</var> and at most <var>B</var> times.

		<li>A hash mark (#) indicates that the preceding type, word, or
		group occurs one or more times, separated by comma tokens.
	</ul>

<h3 id="component-whitespace">
Component values and white space</h3>

	<p>Component values are specified in terms of tokens, as described in <a
	href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">Chapter 4</a>
	of [[!CSS21]].
	As the grammar allows spaces between tokens in the components of the
	<code>value</code> production, spaces may appear between tokens in
	property values.

	<p class=note>Note: In many cases, spaces will in fact be
	<em>required</em> between tokens in order to distinguish them from
	each other. For example, the value ''1em2em'' would be parsed as a
	single <code>DIMEN</code> token with the number ''1'' and the identifier
	''em2em'', which is an invalid unit. In this case, a space would be
	required before the ''2'' to get this parsed as the two lengths ''1em''
	and ''2em''.

<h3 id="value-examples">
Property value examples</h3>

	<p>Below are some examples of properties with their corresponding value
	definition fields

	<div class=example>
		<table class="data" id="propvalues">
			<thead>
				<tr><th>Property
				    <th>Value definition field
				    <th>Example value
			</thead>
			<tbody>
				<tr><td>'orphans'
				    <td>&lt;integer&gt;
				    <td>''3''
				<tr><td>'text-align'
				    <td>left | right | center | justify
				    <td>''center''
				<tr><td>'padding-top'
				    <td>&lt;length&gt; | &lt;percentage&gt;
				    <td>''5%''
				<tr><td>'outline-color'
				    <td>&lt;color&gt; | invert
				    <td>''#fefefe''
				<tr><td>'text-decoration'
				    <td>none | underline || overline || line-through || blink
				    <td>''overline underline''
				<tr><td>'font-family'
				    <td>&lt;family-name&gt;#
				    <td>''"Gill Sans", Futura, sans-serif''
				<tr><td>'border-width'
				    <td>[ &lt;length&gt; | thick | medium | thin ]{1,4}
				    <td>''2px medium 4px''
				<tr><td>'text-shadow'
				    <td>[ inset? && [ &lt;length&gt;{2,4} && &lt;color&gt;? ] ]# | none
				    <td>''3px 3px rgba(50%, 50%, 50%, 50%), lemonchiffon 0 0 4px inset''
				<tr><td>'voice-pitch'
				    <td><pre class="value">&lt;frequency> && absolute |
<!--				      -->[[x-low | low | medium | high | x-high] ||
<!--				      --> [&lt;frequency> | &lt;semitones> | &lt;percentage>]]</pre>
						<td>''-2st x-low''
			</tbody>
		</table>
	</div>

<h2 id="textual-values">
Textual Data Types</h2>

	<p>An <dfn>identifier</dfn> is a sequence of characters conforming to
	the <code>IDENT</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>. [[!CSS21]]
	Identifiers cannot be quoted; otherwise they would be interpreted
	as a string.

<h3 id="keywords">
Pre-defined Keywords</h3>

	<p>In the value definition fields, keywords with a pre-defined meaning
	appear literally. Keywords are CSS <i>identifiers</i> and are interpreted
	case-insensitively within the ASCII range (i.e., [a-z] and [A-Z] are
	equivalent).</p>

	<div class="example">
		<p>For example, here is the value definition for the 'border-collapse'
		property:</p>
		<pre>Value:&nbsp;collapse | separate</pre>
		
		<p>And here is an example of its use:</p>
		<pre>table { border-collapse: separate }</pre>
	</div>

<h4 id="common-keywords">
CSS-wide keywords: ''initial'' and ''inherit''</h4>

	<p>As defined <a href="#component-types">above</a>,
	all properties accept the ''initial'' and ''inherit'' keywords,
	which represent value computations common to all CSS properties.

	<p>The <dfn>''inherit''</dfn> keyword is
	<a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">defined</a>
	in [[!CSS21]].

	<p>The <dfn>''initial''</dfn> keyword represents the specified value that
	is designated as the property's initial value. [[CSS3CASCADE]]

	<p class="issue">Should these keywords affect the specified or computed
	value? See <a href="http://lists.w3.org/Archives/Public/www-style/2011Jan/0075.html">various</a>
	<a href="http://lists.w3.org/Archives/Public/www-style/2011May/0402.html">issues</a>.

<p class="issue">Would it be useful to have a value defined
to be equivalent to <span class="css">'inherit'</span> for properties
that are inherited by default and equivalent to <span
class="css">'initial'</span> for properties that are not inherited by
default? This might be easier for authors to use than <span
class="css">'initial'</span> and <span class="css">'inherit'</span>
since it wouldn't require thinking about whether a property is
inherited by default or not (which isn't obvious for some properties,
such as text-decoration and visibility).</p>

<p class="issue">It's been requested to have a value that rolls back
to the bottom of that level of the cascade, e.g. for an author rule
it would roll back to the end of the user cascade, for a user rule
it would roll back to the end of the UA cascade, and for the UA it
would roll back to ''initial''/''inherit''. Is that something we should
add?

<h3 id="identifiers">
User-defined Identifiers: the ''&lt;identifier&gt;'' type</h3>

  <p>Some properties accept arbitrary user-defined identifiers as a
  component value. This generic data type is denoted by
  <dfn id="identifier-value"><code>&lt;identifier&gt;</code></dfn>,
  and represents any valid CSS <i>identifier</i> that does not
  otherwise appear as a pre-defined keyword in that property's value
  definition.
  Such identifiers are fully case-sensitive, even in the ASCII range
  (e.g. ''example'' and ''EXAMPLE'' are two different, unrelated
  user-defined identifiers).

<h3 id="strings">
Quoted Strings: the ''&lt;string&gt;'' type</h3>

	<p>Strings are denoted by <dfn id="string-value"><code>&lt;string&gt;</code></dfn>
	and consist of a sequence of characters delimited by double quotes or
	single quotes. They correspond to the <code>STRING</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	[[!CSS21]]

	<div class=example>
		<p>Double quotes cannot occur inside double quotes, unless escaped
		(as '\"' or as '\22'). Analogously for single quotes ("\'" or "\27").
		<pre>
<!-- -->content: "this is a 'string'.";
<!-- -->content: "this is a \"string\".";
<!-- -->content: 'this is a "string".';
<!-- -->content: 'this is a \'string\'.';</pre>
	</div>

	<p>It is possible to break strings over several lines, for aesthetic or
	other reasons, but in such a case the newline itself has to be escaped
	with a backslash (\). The newline is subsequently removed from the
	string. For instance, the following two selectors are exactly the
	same:</p>

	<div class="example">
		<p style="display:none">Example(s):</p>
		<pre>
<!-- -->a[title="a not s\
<!-- -->o very long title"] {/*...*/}
<!-- -->a[title="a not so very long title"] {/*...*/}</pre>
	</div>

	<p>Since a string cannot directly represent a newline, to include a
	newline in a string, use the escape "\A". (Hexadecimal A is the line
	feed character in Unicode (U+000A), but represents the generic notion
	of "newline" in CSS.)</p>

<h3 id="urls">
Resource Locators: the ''&lt;url&gt;'' type</h3>

	<p>A <dfn>URL</dfn> is a pointer to a resource and is a
	<a href="http://www.w3.org/TR/CSS21/syndata.html#uri">specially-parsed</a>
	<a href="#functional-notation">functional notation</a> denoted by
	<dfn id="url-value"><code>&lt;url&gt;</code></dfn>. It corresponds to the
	<code>URI</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	[[!CSS21]]

	<div class="example">
		<p>Below is an example of a URL being used as a background image:
		<pre>body { background: url("http://www.example.com/pinkish.gif") }</pre>
		<p>The same example can be written without quotes:
		<pre>body { background: url(http://www.example.com/pinkish.gif) }</pre>
	</div>

	<p class="note">Note that in some CSS syntactic contexts (as defined
	by that context), a URL can be represented as a <code>&lt;string&gt;</code>
	rather than by <code>&lt;URL&gt;</code>. An example of this is the
	<a href="http://www.w3.org/TR/CSS21/cascade.html#at-import">''@import'' rule</a>.

	<p>Parentheses, whitespace characters, single quotes (&apos;) and
	double quotes (") appearing in a URL must be escaped with a backslash
	so that the resulting value is a valid <code>URL</code> token,
	e.g. 'url(open\(parens)', 'url(close\)parens)'.
	Depending on the type of URL, it might also be possible to write these
	characters as URI-escapes (where <code>(</code> = <code>%28</code>,
	<code>)</code> = <code>%29</code>, etc.) as described in [[URI]].
	Alternatively a URL containing such characters may be represented as
	a quoted <a href="#string">string</a> within the ''url()'' notation.

	<p>In order to create modular style sheets that are not dependent on
	the absolute location of a resource, authors should use relative URIs.
	Relative URIs (as defined in [[RFC3986]]) are resolved to full URIs
	using a base URI. RFC&nbsp;3986, section&nbsp;3, defines the normative
	algorithm for this process. For CSS style sheets, the base URI is that
	of the style sheet, not that of the source document.

	<div class="example">
		<p>For example, suppose the following rule:
		<pre>body { background: url("tile.png") }</pre>
		<p>is located in a style sheet designated by the URL:</p>
		<pre>http://www.example.org/style/basic.css</pre>
		<p>The background of the source document's <code>&lt;body&gt;</code>
		will be tiled with whatever image is described by the resource
		designated by the URL:
		<pre>http://www.example.org/style/tile.png</pre>
		<p>The same image will be used regardless of the URL of the source
		document containing the <code>&lt;body&lt;</code>.
	</div>

<h2 id="numeric-types">
Numeric Data Types</h2>

<h3 id="integers">
Integers: the ''&lt;integer&gt;'' type</h3>

	<p>Integer values are denoted by
	<dfn id="integer-value"><code>&lt;integer&gt;</code></dfn>.
	An <dfn>integer</dfn> is one or more decimal digits ''0'' through ''9''
	and corresponds to a subset of the <code>NUMBER</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	Integers may be immediately preceded by ''-'' or ''+'' to indicate the
	sign.
	
	<p>Properties may restrict the integer value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<h3 id="numbers">
Numbers: the ''&lt;number&gt;'' type</h3>
	
	<p>Number values are denoted by
	<dfn id="number-value"><code>&lt;number&gt;</code></dfn>.
	A <dfn>number</dfn> is either an <i>integer</i>, or zero or more decimal
	digits followed by a dot (.) followed by one or more decimal digits.
	It corresponds to the <code>NUMBER</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	Like integers, numbers may also be immediately preceded by ''-'' or ''+''
	to indicate the sign.
	
	<p>Properties may restrict the number value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<h3 id="percentages">
Percentages: the ''&lt;percentage&gt;'' type</h3>

	<p>A percentage value is denoted by
	<dfn id="percentage-value"><code>&lt;percentage&gt;</code></dfn>, 
	consists of a <i>&lt;number&gt;</i> immediately followed by a percent
	sign ''%''. It corresponds to the <code>PERCENTAGE</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.

	<p>Percentage values are always relative to another value, for example a
	length. Each property that allows percentages also defines the value to which
	the percentage refers. The value may be that of another property for the same
	element, a property for an ancestor element, or a value of the formatting
	context (e.g., the width of a <i>containing block</i>). When a percentage
	value is set for a property of the <i>root</i> element and the percentage
	is defined as referring to the inherited value of some property, the
	resultant value is the percentage times the <i>initial value</i> of that
	property.</p>

	<p>Properties may restrict the percentage value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<h2 id="lengths">
Distance Units: the ''&lt;length&gt;'' type</h2>

	<p>Lengths refer to distance measurements and are denoted by
	<dfn id="length-value"><code>&lt;length&gt;</code></dfn> in the
	property definitions. 
	A length is a <i>dimension</i>. A zero length may be represented
	instead as the <code>&lt;number&gt;</code> ''0''. (In other words,
	for zero lengths the unit identifier is optional.)</p>

	A <dfn>dimension</dfn> is a <i>number</i> immediately followed by a
	unit identifier. It corresponds to the <code>DIMENSION</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	[[!CSS21]] Like keywords, unit identifiers are case-insensitive within
	the ASCII range.

	<p>Properties may restrict the length value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

	<p>While some properties allow negative length values, this may
	complicate the formatting and there may be implementation-specific
	limits. If a negative length value is allowed but cannot be supported,
	it must be converted to the nearest value that can be supported.</p>

	<p>In cases where the <a href="#used-value">used</a> length cannot be
	supported, user agents must approximate it in the
	<a href="#actual-value">actual</a> value.

	<p>There are two types of length units: relative and absolute.

<h3 id="relative-lengths">
Relative lengths</h3>

	<p><dfn title="relative length">Relative length units</dfn> specify a
	length relative to another length. Style sheets that use relative
	units can more easily scale from one output environment to another.

	<p>The relative units are:</p>
	
	<table class="data">
	<caption>Informative Summary of Relative Units</caption>
	<thead>
		<tr><th>unit<th>relative to
	</thead>
	<tbody>
		<tr><td>''em''
		    <td>font size of the element
		<tr><td>''ex''
		    <td><i>x-height</i> of the element's font
		<tr><td>''ch''
		    <td>width of the "0" glyph in the element's font
		<tr><td>''rem''
		    <td>font size of the root element
		<tr><td>''vw''
		    <td>viewport's width
		<tr><td>''vh''
		    <td>viewport's height
		<tr><td>''vm''
		    <td>minimum of the viewport's height and width
	</tbody>
	</table>

	<p>Child elements do not inherit the relative values as specified for
	their parent; they inherit the <a href="#computed-value">computed values</a>.

<h4 id="font-relative-lengths">
Font-relative lengths: the ''em'', ''ex'', ''ch'', ''rem'' units</h4>

	<p>Aside from ''rem'' (which refers to the font-size of the root element),
	the font-relative lengths refer to the computed font metrics of the
	element on which they are used.
	The exception is when they occur in the value of the 'font-size' property 
	itself, in which case they refer to the font metrics of the parent element 
	(or the font metrics corresponding to the initial values of the 'font'
	property, if the element has no parent).

	<dl>
		<dt><dfn title="em">em unit</dfn>
		<dd><p>Equal to the computed value of the 'font-size' property of
		the element on which it is used.

		<div class="example">
			<p>The rule:</p>
			<pre>h1 { line-height: 1.2em }</pre>
			<p>means that the line height of <code>h1</code> elements will be
			20% greater than the font size of <code>h1</code> element. On the
			other hand:
			<pre>h1 { font-size: 1.2em }</pre>
			<p>means that the font size of <code>h1</code> elements will be 20%
			greater than the font size inherited by <code>h1</code> elements.</p>
		</div>

		<dt><dfn title="ex">ex unit</dfn>
		<dd><p>Equal to the font's x-height. The x-height is so called because
		it is often equal to the height of the lowercase "x". However, an
		''ex'' is defined even for fonts that do not contain an "x".
		<p>The x-height of a font can be found in different ways. Some fonts
		contain reliable metrics for the x-height. If reliable font metrics
		are not available, UAs may determine the x-height from the height
		of a lowercase glyph. One possible heuristic is to look at how far
		the glyph for the lowercase "o" extends below the baseline, and
		subtract that value from the top of its bounding box. In the cases
		where it is impossible or impractical to determine the x-height,
		a value of 0.5em must be assumed.

		<dt><dfn title="ch">ch unit</dfn>
		<dd><p>Equal to the advance measure of the "0" (ZERO, U+0030) glyph
		found in the font used to render it.

		<dt><dfn title="rem">rem unit</dfn>
		<dd><p>Equal to the computed value of 'font-size' on the root element.
		<p>When specified on the 'font-size' property of the root element, the
		''rem'' units refer to the property's <em>initial value</em>.</p>
	</dl>

<h4 id="viewport-relative-lengths">
Viewport-relative lengths: the ''vw'', ''vh'', ''vm'' units</h4>

	<p>The viewport-relative lengths are relative to the size of the initial
	containing block. When the height or width of the viewport is changed,
	they are scaled proportionally.

	<dl>
		<dt><dfn title="vw">vw unit</dfn>
		<dd>Equal to 1/100th of the width of the initial containing block.
		<div class="example">
			<p>In the example below, if the width of the viewport is 200mm,
			the font size of <code>h1</code> elements will be
			16mm (i.e. (8&times;200mm)/100).
			<pre>h1 { font-size: 8vw }</pre>
		</div>

		<dt><dfn title="vh">vh unit</dfn>
		<dd>Equal to 1/100th of the height of the initial containing block.

		<dt><dfn title="vm">vm unit</dfn>
		<dd>Equal to the smaller of ''vw'' or ''vh''.
		<p class=issue>Do we need this now that we have the min() function?
	</dl>

<h3 id="absolute-lengths">
Absolute lengths: the ''cm'', ''mm'', ''in'', ''pt'', ''pc'', ''px'' units</h4>


	<p>The <dfn>absolute length units</dfn> are fixed in relation to
	each other and anchored to some physical measurement.
	They are mainly useful when the output environment is known.
	The absolute units consist of the physical units (in, cm, mm, pt, pc)
	and the px unit:

	<table class="data">
	<thead>
		<tr><th>unit<th>definition
	</thead>
	<tbody>
		<tr><td>''cm''
		    <td>centimeters
		<tr><td>''mm''
		    <td>millimeters
		<tr><td>''in''
		    <td>inches; 1in is equal to 2.54cm
		<tr><td>''px''
		    <td>pixels; 1px is equal to 1/96th of 1in
		<tr><td>''pt''
		    <td>points; 1pt is equal to 1/72nd of 1in
		<tr><td>''pc''
		    <td>picas; 1pc is equal to 12pt
	</tbody>
	</table>

<pre class="example">
h1 { margin: 0.5in }      /* inches  */
h2 { line-height: 3cm }   /* centimeters */
h3 { word-spacing: 4mm }  /* millimeters */
h4 { font-size: 12pt }    /* points */
h4 { font-size: 1pc }     /* picas */
p  { font-size: 12px }    /* px */</pre>
</div>


	<p>For a CSS device, these dimensions are either anchored (i) by
	relating the physical units to their physical measurements, or
	(ii) by relating the pixel unit to the <i>reference pixel</i>.
	For print media and similar high-resolution devices, the anchor unit
	should be one of the standard physical units (inches, centimeters, etc).
	For lower-resolution devices, and devices with unusual viewing distances,
	it is recommended instead that the anchor unit be the pixel unit. For
	such devices it is recommended that the pixel unit refer to the whole
	number of device pixels that best approximates the reference pixel.
	
	<p class="note">Note that if the anchor unit is the pixel unit,
	the physical units might not match their physical measurements.
	Alternatively if the anchor unit is a physical unit, the pixel
	unit might not map to a whole number of device pixels.</p>
	
	<p class="note">Note that this definition of the pixel unit and
	the physical units differs from previous versions of CSS. In
	particular, in previous versions of CSS the pixel unit and the
	physical units were not related by a fixed ratio: the physical
	units were always tied to their physical measurements while the
	pixel unit would vary to most closely match the reference pixel.
	(This change was made because too much existing content relies
	on the assumption of 96dpi, and breaking that assumption breaks
	the content.)

	<p>The <dfn>reference pixel</dfn> is the
	visual angle of one pixel on a device with a pixel density of 96dpi
	and a distance from the reader of an arm's length. For a nominal arm's
	length of 28 inches, the visual angle is therefore about 0.0213
	degrees. For reading at arm's length, 1px thus corresponds to about
	0.26&nbsp;mm (1/96&nbsp;inch).
	
	<p>The image below illustrates the effect of viewing distance on
	the size of a reference pixel: a reading distance of 71&nbsp;cm
	(28&nbsp;inches) results in a reference pixel of 0.26&nbsp;mm,
	while a reading distance of 3.5&nbsp;m (12&nbsp;feet) results in
	a reference pixel of 1.3&nbsp;mm.

	<div class="figure">
		<p><img src="pixel1.png"
		        alt="This diagram illustrates how the definition of a pixel
		             depends on the users distance from the viewing surface
		             (paper or screen).
		             The image depicts the user looking at two planes, one
		             28 inches (71 cm) from the user, the second 140 inches
		             (3.5 m) from the user. An expanding cone is projected
		             from the user's eye onto each plane. Where the cone
		             strikes the first plane, the projected pixel is 0.26 mm 
		             high. Where the cone strikes the second plane, the
		             projected pixel is 1.4 mm high.">
		<p class="caption">Showing that pixels must become larger if the
		viewing distance increases
	</div>

	<p>This second image illustrates the effect of a device's resolution
	on the pixel unit: an area of 1px by 1px is covered by a single dot
	in a low-resolution device (e.g. a typical computer display), while
	the same area is covered by 16 dots in a higher resolution device
	(such as a printer).

	<div class="figure">
		<p><img src="pixel2.png"
		        alt='This diagram illustrates the relationship between the
		             reference pixel and device pixels (called "dots" below).
		             The image depicts a high resolution (large dot density)
		             laser printer output on the left and a low resolution
		             monitor screen on the right. For the laser printer, one
		             square reference pixel is implemented by 16 dots. For
		             the monitor screen, one square reference pixel is
		             implemented by a single dot.'>
		<p class="caption">Showing that more device pixels (dots) are needed to
		cover a 1px by 1px area on a high-resolution device than on a low-res one
	</div>

<h2 id="other-units">
Other Units</h2>

<h3 id="angles">
Angles: the ''&lt;angle&gt;'' type and ''deg'', ''grad'', ''rad'', ''turn'' units</h3>

	<p>Angle values are <i>dimensions</i> denoted by
	<dfn id="angle-value">&lt;angle&gt;</dfn>.
	The angle unit identifiers are:
	<dl>
		<dt><dfn title="deg">deg</dfn>
		<dd>Degrees. There are 360 degrees in a full circle.
		<dt><dfn title="grad">grad</dfn>
		<dd>Gradians. There are 400 gradians in a full circle.
		<dt><dfn title="rad">rad</dfn>
		<dd>Radians. There are 2&pi; radians in a full circle.
		<span class="issue">Who is going to use this anyway?</span>
		<dt><dfn title="turn">turn</dfn>
		<dd>Turns. There is 1 turn in a full circle.
	</dl>

	<p>For example, a right angle is '90deg' or '100grad' or '0.25turn' or
	approximately '1.570796326794897rad'.</p>

<h3 id="time">
Times: the ''&lt;time&gt;'' type and ''s'', ''ms'' units</h3>

	<p>Time values are <i>dimensions</i> denoted by
	<dfn id="time-value">&lt;time&gt;</dfn>.
	The time unit identifiers are:

	<dl>
		<dt><dfn title="s">s</dfn>
		<dd>Seconds.
		<dt><dfn title="ms">ms</dfn>
		<dd>Milliseconds. There are 1000 milliseconds in a second.
	</dl>

	<p>Properties may restrict the time value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<h3>Frequencies: the ''&lt;frequency&gt;'' type and ''Hz'', ''kHz'' units</h3>
	
	<p>Frequency values are <i>dimensions</i> denoted by
	<dfn id="frequency-value">&lt;frequency&gt;</dfn>.
	The frequency unit identifiers are:</p>

	<dl>
	  <dt><dfn title="Hz">Hz</dfn>
	  <dd>Hertz. It represents the number of occurrences per second.
	  <dt><dfn title="kHz">kHz</dfn>
	  <dd>KiloHertz. A kiloHertz is 1000 Hertz.
	</dl>
	
	<p>For example, when representing sound pitches, 200Hz (or 200hz)
	is a bass sound, and 6kHz (or 6khz) is a treble sound.</p>

<h2 id="defined-elsewhere">
Data Types Defined Elsewhere</h2>

<p>Some data types are defined in their own modules. The two common
ones are <code>&lt;color&gt;</code> and <code>&lt;image&gt;</code>.

<h3 id="colors">
Colors: the ''&lt;color&gt;'' type</h3>

	<p>The <dfn id="color-value"><code>&lt;color&gt;</code></dfn> data type is
	<a href="http://www.w3.org/TR/CSS21/syndata.html#color-units">defined</a>
	in [[!CSS21]] and
	<a href="http://www.w3.org/TR/css3-color/#colorunits">extended</a> in [[!CSS3COLOR]].
	UAs that support CSS Color Level 3 must interpret <code>&lt;color&gt;</code>
	as defined therein.

<h3 id="images">
Images: the ''&lt;image&gt;'' type</h3>

	<p>The <dfn id="image-value"><code>&lt;image&gt;</code></dfn> data type is
	defined herein as equivalent to <code>&lt;url&gt;</code>.
	It is <a href="http://www.w3.org/TR/css3-images/#image">extended</a> in
	[[!CSS3IMAGES]]: UAs that support CSS Image Values Level 3 must interpret
	<code>&lt;image&gt;</code> as defined therein.

<h2 id="layout-values">
Layout-specific Data Types</h2>

<h3 id="proportions">
Proportions: the ''&lt;fraction&gt;'' type and ''fr'' unit</h3>

	<p>The <dfn title="fr">fr unit</dfn> is used to represent proportions,
	such as the proportions used to distribute remaining space in a flex
	layout computation. [[CSS3FLEX]] When multiple fractions participate
	in a calculation, the remainder is distributed proportionally to their
	numeric value.

	<div class="example">
		<pre>
<!-- -->border-parts: 10px 1fr 10px;
<!-- -->border-parts: 10px 1fr 10px 1fr 10px;
<!-- -->border-parts: 10px 2fr 10px 2fr 10px;</pre>
	</div>

<h3 id="grids">
Grid Units: the ''&lt;grid&gt;'' type and ''gr'' unit</h3>

	<p>A grid is a set of invisible vertical and horizontal lines that can
	be used to align content. In CSS, grid lines can be established
	implicitly (as in [[CSS3COL]]) or explicitly (as in [[CSS3GRID]]).
	In either case, the distance between grid lines can be referred to by
	the <dfn title="gr">''gr'' unit</dfn>.

	<div class="example">
		<pre>
<!-- -->img { 
<!-- -->  float: top left multicol; 
<!-- -->  float-offset: 2gr; 
<!-- -->  width: 1gr;
<!-- -->}</pre>
	</div>

	<p>Grid lines can be laid out in uneven patterns. Therefore, the
	''gr'' unit is not linear. For example, "2gr" is not necessarily
	twice as long as "1gr".

<h2 id="functional-notation">
Functional Notations</h2>

	<p>Some values use a <dfn>functional notation</dfn> to type values and
	to and lump values together. The syntax starts with the name of the
	function immediately followed by a left parenthesis followed by optional
	whitespace followed by the argument(s) to the notation followed by
	optional whitespace followed by a right parenthesis. If a function
	takes more than one argument, the arguments are separated by a comma
	(',') with optional whitespace before and after the comma.

	<pre class="example">
<!-- -->background: url(http://www.example.org/image);
<!-- -->color: rgb(100, 200, 50 );
<!-- -->content: counter(list-item) ". ";
<!-- -->width: calc(50% - 2em);<pre>

<h3 id="calc">
Calculations: ''calc()'', ''min()'' and ''max()''</h4>

	<p>The <dfn>calc()</dfn>, <dfn>min()</dfn>, and <dfn>max()</dfn> functions
	can be used wherever
	<code>&lt;length&gt;</code>,
	<code>&lt;frequency&gt;</code>,
	<code>&lt;angle&gt;</code>,
	<code>&lt;time&gt;</code>, or
	<code>&lt;number&gt;</code>
	values are allowed.


<div class="example">
<pre>
section {
  float: left;
  margin: 1em; border: solid 1px;
  width: calc(100%/3 - 2*1em - 2*1px);
}
</pre>
</div>

<div class="example">
<pre>
p {
  margin: calc(1rem - 2px) calc(1rem - 1px);
}
</pre>
</div>

<div class="example">
<pre>
p { font-size: min(10px, 3em) }
blockquote { font-size: max(30px, 3em) }
</pre>
</div>

<div class="example">
<pre>
.box { width: min(10% + 20px, 300px) }
</pre>
</div>


<p>The expression language of these functions is described by
the grammar and prose below.

<pre>
S       : calc | min | max;
calc    : "calc(" S* sum ")" S*;
min     : "min(" S* sum [ "," S* sum ]* ")" S*;
max     : "max(" S* sum [ "," S* sum ]* ")" S*;
sum     : product [ [ "+" | "-" ] S* product ]*;
product : unit [ [ "*" | "/" | "mod" ] S* unit ]*;
unit    : ["+"|"-"]? [ NUMBER S* | DIMENSION S* | PERCENTAGE S* |
          min | max | "(" S* sum ")" S* ];
</pre>

<p>The context of the expression imposes a target type, which is one
of length, frequency, angle, time, or number. NUMBER tokens are of
type number. DIMENSION tokens have types of their units ('cm' is
length, 'deg' is angle etc.); any DIMENSION whose type does not match
the target type causes the ''calc()'' expression to be invalid. If
percentages are accepted in that context and convertible to the target
type, a PERCENTAGE token in the expression has the target type;
otherwise percentages are likewise invalid.

<p>To make expressions simpler, operators have restrictions on the
types they accept. At each operator, the types of the left and right
side are be checked for these restrictions. If compatible, they
return roughly as follows (the following ignores precedence rules on
the operators for simplicity):

<ol>
<li>At ",", "+", "-":<br>
   check: both sides have the same type<br>
   return: that type
<li>At "*":<br>
   check: at least one side is "number" <br>
   return: the type of the other side
<li>At "/":<br> 
   check: right side is "number"<br>
   return: the type of the left side
</ol>

	<p>Division by zero is not allowed. Declarations containing such a
	construct are invalid and must be
	<a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<p>The value resulting from an expression must be clamped to the
range allowed in the target context.  

	<p class="note">Note this requires all contexts accepting ''calc()''
	to define their allowable values as a closed (not open) interval.

<div class=example>
These two are equivalentequivalent to 'width: 0px' since widths
smaller than 0px are not allowed.

<pre>
width: calc(5px - 10px);
width: 0px;
</pre>
</div>


<p>Given the complexities of 'width' and 'height' on table cells and
  table elements, calc() expressions for widths and heights on table
  columns, table column groups, table rows, table row groups, and
  table cells in both auto and fixed layout tables may be treated as if
  'auto' had been specified.

<h3 id="cycle">
Cycling Values: ''cycle()''</h3>

	<p>The <dfn>''cycle()''</dfn> expression allows descendant elements
	to cycle over a list of values instead of inheriting the same value.
	The syntax of the ''cycle()'' expression is:

	<pre>cycle( &lt;value&gt;# )</pre>

	<p>where <code>&lt;value&gt;</code> is a CSS value that is valid where
	the expression is placed.  If any of the values inside are not valid,
	then the entire ''cycle()'' expression is invalid.

	<p>The value returned by ''cycle()'' must be determined by comparing
	the inherited value <var>I</var> (the computed value on the parent,
	or, for the root, the initial value) to the computed values
	<var>C<sub>n</sub></var> returned by the <var>n</var>-th argument to
	''cycle()''.
	For the earliest <var>C<sub>n</sub></var> such that
	<var>C<sub>n</sub></var> = <var>I</var>, the value returned by cycle
	is <var>C<sub>n+1</sub></var>.  However, if this <var>C<sub>n</sub></var>
	is the last value, or if there are no <var>C<sub>n</sub></var> that
	equal <var>I</var>, the computed value of the first value is returned
	instead.

	<pre class="example">
  /* make em elements italic, but make them normal if they're inside
     something that's italic */
  em { font-style: cycle(italic, normal); }</pre>

	<pre class="example">
  /* cycle between markers for nested lists, so that the top level has
     disk markers, but nested lists use circle, square, box, and then
     (for the 5th list deep) repeat */
  ul { list-style-type: disk; }
  li > ul { list-style-type: cycle(disk, circle, square, box); }</pre>

	<p>The ''cycle()'' notation is not allowed to be nested; nor may it
	contain ''attr()'', ''calc()'', ''min()'', or ''max()'' notations.
	Declarations containing such constructs are invalid and must be
	<a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<h3 id="attr">
Attribute References: ''attr()''</h3>

<p class=issue>Describe the feature fully here, not just a delta from CSS 21.

<p class=issue>When attr is set on a pseudo-element, it should apply to the originating element

<p>In CSS2.1 [[!CSS21]], the 'attr()' expression always returns a
string. In CSS3, the 'attr()' expression can return many different
types. The new syntax for the attr() expression is:

<pre>
'attr(' ident [ ',' &lt;type> [ ',' &lt;value> ]? ]? ')'
</pre>


<p>The first argument represents the attribute name. The value of the
attribute with that name on the element whose computed values are
being computed is used as the value of the expression, according to
the rules given below.

<p>The first argument accepts an optional namespace prefix to identify
the namespace of the attribute. The namespace prefix and the attribute
name is separated by '|', with no whitespace before or after the
separator [[CSS3NAMESPACE]].

<p>The second argument (which is optional but must be present if the
third argument is present) is a &lt;type> and tells the UA how to
interpret the attribute value. It may be one of the values from the
list below.

<p>The third argument (which is optional) is a CSS value which must be
valid where the attr() expression is placed. If it is not valid, then
the whole attr() expression is invalid.

<p>If the attribute named by the first argument is missing, cannot be
parsed, or is invalid for the property, then the value returned by
attr() will be the third argument, or, if the third argument is
absent, will be the value given as the default for the relevant type
in the list below.


<dl>
<dt>string
<dd>The attribute value will be interpreted as the contents of a CSS
string. The default is the empty string.

<dt>color

<dd>The attribute value will be interpreted as a CSS &lt;color> value. The
default is UA dependent but must be the same as the initial
value of the 'color' property.

<dt>url

<dd>The attribute value will be interpreted as the URI part of a
'url()' expression. The default is a UA-dependent URI defined
to point to a non-existent document with a generic error
condition. (i.e. it shouldn't be an FTP URI that causes a DNS
error, or an HTTP URI that results in a 404, it should be a
nondescript error condition.)

<dt>integer

<dd>The attribute value will be interpreted as a CSS integer. The
default is 0. The default should also be used if the property
in question only accepts integers within a certain range and
the attribute is out of range.

<dt>number

<dd>The attribute value will be interpreted as a CSS number. The
default is 0.0. The default should also be used if the
property in question only accepts numbers within a certain
range and the attribute is out of range.

<dt>length, angle, time, frequency

<dd>The attribute value will be interpreted as a CSS length, angle,
time or frequency (respectively), and the unit identifier (if any)
will appear in the attribute value. The default is 0. The default
should also be used if the property in question only accepts values
within a certain range (e.g. positive lengths or angles from 0 to
90deg) and the attribute is out of range (e.g. a negative length or
180deg).


<dt>em, ex, px, gr, rem, vw, vh, vm, mm, cm, in, pt, pc, deg, grad, rad, ms, s, Hz, kHz, %

<dd>The attribute value will be interpreted as a float, with the given
type suffixed as a unit. The default is 0 in the relevant
units.

</dl>

<p class="issue">Should there also be a "keyword" type to, e.g., support 'float: attr(align)'</p>


<p>If the &lt;type> is missing, 'string' is implied.

<p class="issue">Ideally, it shouldn't be necessary to specify the
type if it is obvious. For example, this should be valid:
"<tt>background-image: attr(href);</tt>". This could be described as:
<q>If the property only accepts one type of value (aside from
'inherit' and 'initial'), that type is implied</q>.

<p>The attr() form is only valid if the type given (or implied, if it
is missing) is valid for the property. For example, all of the
following are invalid and would cause a parse-time error (and thus
cause the relevant declaration, in this case all of them, to be
ignored):


<div class="illegal example">
<p style="display:none">Illegal Examples:
<pre>
      content: attr(title, color); /* 'content' doesn't accept colors */

      content: attr(end-of-quote, string, inherit) close-quote; /* the
      'inherit' value is not allowed there, since the result would be
      'inherit close-quote', which is invalid. */

      margin: attr(vertical, length) attr(horizontal, deg); /* deg
      units are not valid at that point */
<!--
      font: attr(weight, integer) attr(size, length)/attr(height,
      integer) attr(family, string); /* invalid because
      &lt;'font-weight'>s are not integers, but identifiers. */
-->
      color: attr(color); /* 'color' doesn't accept strings */
</pre>
</div>

<p>The attr() expression cannot return everything, for example it cannot
   do counters, named strings, quotes, or values such as 'auto',
   'nowrap', or 'baseline'. This is intentional, as the intent of the
   'attr()' expression is not to make it possible to describe a
   presentational language's formatting using CSS, but to enable CSS
   to take semantic data into account.

<p>Note that the default value need not be of the type given. For
instance, if the type required of the attribute by the author is
'px', the default could still be '5em'.


<div class="example">
<p>Examples:

<pre>
      &lt;stock>
        &lt;wood length="12"/>
        &lt;wood length="5"/>
        &lt;metal length="19"/>
        &lt;wood length="4"/>
      &lt;/stock>

      stock::before {
        display: block;
        content: "To scale, the lengths of materials in stock are:";
      }
      stock > * {
        display: block;
        width: attr(length, em); /* default 0 */
        height: 1em;
        border: solid thin;
        margin: 0.5em;
      }
      wood {
        background: orange url(wood.png);
      }
      metal {
        background: silver url(metal.png);
      }

      /* this also uses a possible extension to the 'content' property
      to handle replaced content and alternatives to unavailable,
      corrupted or unsupported content */
      img {
         content: replaced attr(src, url), attr(alt, string, none);
         height: attr(height, px, auto);
         width: attr(width, px, auto);
      }
</pre>
</div>

<p>The attr() expression cannot currently fall back onto another
   attribute. Future versions of CSS may extend attr() in this
   direction.


<p class="issue">Should 'attr()' be allowed on any property, in any
source language? For example, do we expect UAs to honor this rule for HTML
documents?: <tt>P[COLOR] { color: attr(COLOR, color)
}</tt>.


<!--
<h4>The 'counter' function</h4>

<p><dfn title="&lt;counter&gt;, definition of">Counters</dfn> are denoted by
identifiers (see the <span class="property">'counter-increment'</span> and
<span class="property">'counter-reset'</span> properties). To refer to the
value of a counter, the notation <dfn>'counter(&lt;identifier&gt;)'</dfn> or
<dfn>'counter(&lt;identifier&gt;, &lt;list-style-type&gt;)'</dfn> is used.
The default style is 'decimal'.</p>

<p>To refer to a sequence of nested counters of the same name, the notation
is 'counters(&lt;identifier&gt;, &lt;string&gt;)' or
'counters(&lt;identifier&gt;, &lt;string&gt;, &lt;list-style-type&gt;)'. See
"Nested counters and scope" [add ref] in the chapter on generated content
[add ref].</p>

<p>In CSS2.1, the values of counters can only be referred to from the <span
class="property">'content'</span> property. Note that 'none' is a possible
&lt;list-style-type&gt;: 'counter(x, none)' yields an empty string.</p>

<div class="example">
<p style="display:none">Example(s):</p>

<p>Here is a style sheet that numbers paragraphs (P) for each chapter (H1).
The paragraphs are numbered with roman numerals, followed by a period and a
space:</p>

<pre>
p { counter-increment: par-num }
h1 { counter-reset: par-num }
p:before { content: counter(par-num, upper-roman) ". " }
</pre>
</div>
-->

<!--

<h3>Special cases</h3>

<p>Two common types of values fall outside the types
described above: the value for font families and the hexadecimal color
notation.

<h4>Font families</h4>

<p>The <span class="property">'font'</span>
and <span class="property">'font-family'</span> properties accept a
comma-separated list of font families. Font families can either be the
name of a certain font, or it can be one of
five <em class="index">generic font families</em>: 'serif',
'sans-serif', 'cursive','fantasy', and 'monospace'. Font family names
are like strings, except that the quotes around them may be omitted.
If quoting is omitted, any white space characters before and after the
font name are ignored and any sequence of white space characters
inside the font name is converted to a single space. Font family names
that happen to be the same as a keyword value (e.g. 'initial',
'inherit', 'default', 'serif', 'sans-serif', 'monospace', 'fantasy',
and 'cursive') must be quoted to prevent confusion with the keywords
with the same names. UAs must not consider these keywords as matching
the ''&lt;family-name&gt;'' type.

<p>Generic font family names are keywords and must not be quoted.

<div class="example">
<pre>body { font-family: "Helvetica", "Univers", "Arial", sans-serif }</pre>
</div>
-->


<h2 id="value-stages">
Stages of Value Computation</h2>

	<p class="issue">Shouldn't this section move to [[CSS3CASCADE]]?</p>

	<p>Once a user agent has parsed a document and constructed a document tree,
	it must assign, for every element in the tree, a value to every property
	that applies to the target media type. 

	<p>The final value of a CSS3 property for a given element is the
	result of a four-step calculation:
	<ul>
		<li>First, cascading and inheritance yields the <i>specified value</i>.
		<li>Second, relative values are computed into absolute values as far
		as possible without formatting the document, thereby yielding the
		<i>computed value</i>.
		<li>The computed value is transformed into the <i>used value</i> in the
		formatting process.
		<li>Finally, the computed value is transformed to the <i>actual value</i>
		based on constraints of local environment.
	</ul>

<h3 id="specified">
Finding the <dfn>specified value</dfn></h3>

	<p>The <dfn>specified value</dfn> is the output of the
	<a href="http://www.w3.org/TR/CSS21/cascade.html">cascading and inheritance
	process</a>. [[!CSS21]] [[CSS3CASCADE]]

	<p class="note">If the output of the cascade is ''inherit'' or ''initial'',
	the specified value contains the inherited or initial value, respectively.
	See examples (d) and (e) in the <a href="#stages-examples">table below</a>.

	<p>The cascading and inheritance process guarantees that a <i>specified value</i>
	exists for every property on every element.

<h3 id="computed">
Finding the computed value</h3>

	<p>A <i>specified value</i> can be either absolute
	(i.e., not relative to another value, as in 'red' or '2mm')
	or relative (i.e., relative to another value, as in 'auto', '2em').

	<p>For absolute values, no extra processing is needed to find the computed
	value. For relative values, on the other hand, computation is necessary to
	find the computed value: percentages must be multiplied by a
	reference value (each property defines which value that is), values
	with relative units (em, ex, vh, vw) must be made absolute by multiplying
	with the appropriate reference size, certain keywords
	(e.g., 'smaller', 'bolder') must be replaced according to their
	definitions, and valid relative URLs must be resolved to become absolute.
	See examples (f), (g) and (h) in the <a href="#stages-examples">table below</a>.

	<p>The <dfn>computed value</dfn> is the result of resolving the
	<i>specified value</i> insofar as possible without formatting the
	document, as defined in the "Computed value" line of the property
	definition tables.

	<p class="note">The <i>computed value</i> is the value that is
	transferred from parent to child during inheritance.

	<p>The computed value exists even when the property does not apply
	(as defined by the 'Applies To' line). However, some properties may
	define the computed value of a property for an element to depend on
	whether the property applies to that element.

<h3>Finding the <dfn>used value</dfn></h3>

	<p><i>Computed values</i> are processed as far as possible without formatting
	the document. Some values, however, can only be determined when the
	document is being laid out. For example, if the width of an element is
	set to be a certain percentage of its containing block, the width
	cannot be determined until the width of the containing block has been
	determined. The <dfn>used value</dfn> is the result of taking the
	<i>computed value</i> and resolving any remaining dependencies into an
	absolute value.

<h3 id="actual">
Finding the actual value</h3>

<p>A <i>used value</i> is in principle ready to be used, but a user agent may
	not be able to make use of the value in a given environment. For
	example, a user agent may only be able to render borders with integer
	pixel widths and may therefore have to approximate the computed width.
	Also, the font size of an element may need adjustment based on the
	availability of fonts or the value of the 'font-size-adjust' property.
	The <dfn>actual value</dfn> is the used value after any such approximations
	have been made.

	<p class="note">
	By probing the actual values of elements, much can be learned about
	how the document is laid out. However, not all information is recorded
	in the actual values. For example, the actual value of the
	'page-break-after' property does not reflect whether there is a page
	break or not after the element. Similarly, the actual value of
	'orphans' does not reflect how many orphan lines there is in a certain
	element.
	See examples (j) and (k) in the <a href="#stages-examples">table below</a>.

<h3 id="stages-examples">
Examples</h3>

	<table class="data">
	<thead>
		<tr>
			<th>
			<th>Property
			<th>Winning declaration
			<!--  <th>Cascaded value  -->
			<th>Specified value
			<th>Computed value
			<th>Used value
			<th>Actual value
		</tr>
	<thead>
	<tbody>
		<tr>
			<td>(a)
			<th>'text-align'
			<td><code class="declaration">text-align: left</code>
			<!--  <td>''left''-->
			<td>''left''
			<td>''left''
			<td>''left''
			<td>''left''
		</tr>
		<tr>
			<td>(b)
			<th>'border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'
			<td><code class="declaration">border-width: inherit</code>
			<!--  <td>''inherit'' -->
			<td class="say">''4.2px''
			<td>''4.2px''
			<td>''4.2px''
			<td>''4px''
		</tr>
		<tr>
			<td>(c)
			<th>'width'
			<td><small>(none)</small>
			<!--  <td><small>(none)</small>-->
			<td>''auto'' <small>(initial&nbsp;value)</small>
			<td>''auto''
			<td>''120px''
			<td>''120px''
		</tr>
		<tr>
			<td>(d)
			<th>'list-style-position'
			<td><code class="declaration">list-style-position: inherit</code>
			<!--  <td>''inherit'' -->
			<td class="say">''inside''
			<td>''inside''
			<td>''inside''
			<td>''inside''
		</tr>
		<tr>
			<td>(e)
			<th>'list-style-position'
			<td><code class="declaration">list-style-position: initial</code>
			<!--  <td>''initial''-->
			<td>''outside'' <small>(initial&nbsp;value)</small>
			<td>''outside''
			<td>''outside''
			<td>''outside''
		</tr>
		<tr>
			<td>(f)
			<th>'font-size'
			<td><code class="declaration">font-size: 1.2em</code>
			<!--  <td>''1.2em''-->
			<td>''1.2em''
			<td class="say">''14.1px''
			<td>''14.1px''
			<td>''14px''
		</tr>
		<tr>
			<td>(g)
			<th>'width'
			<td><code class="declaration">width: 80%</code>
			<!--  <td>''80%''-->
			<td>''80%''
			<td>''80%''
			<td class="say">''354.2px''
			<td>''354px''
		</tr>
		<tr>
			<td>(h)
			<th>'width'
			<td><code class="declaration">width: auto</code>
			<!--  <td>''auto''-->
			<td>''auto''
			<td>''auto''
			<td class="say">''134px''
			<td>''134px''
		</tr>
		<tr>
			<td>(i)
			<th>'height'
			<td><code class="declaration">height: auto</code>
			<!--  <td>''auto''-->
			<td>''auto''
			<td>''auto''
			<td class="say">''176px''
			<td>''176px''
		</tr>
		<tr>
			<td>(j)
			<th>'page-break-after'
			<td><small>(none)</small>
			<!--  <td><small>(none)</small>-->
			<td>''auto'' <small>(initial&nbsp;value)</small>
			<td>''auto''
			<td>''auto''
			<td>''auto''
		</tr>
		<tr>
			<td>(k)
			<th>'orphans'
			<td><code class="declaration">orphans: 3</code>
			<!--  <td>''3''-->
			<td>''3''
			<td>''3''
			<td>''3''
			<td>''3''
		</tr>
	</tbody>
	</table>


<h2 class="no-num" id="acknowledgments">Acknowledgments</h2>

<p>Comments and suggestions from Giovanni Campagna, Christoph P&auml;per, Keith Rarick, Alex Mogilevsky, Ian Hickson, David Baron, Edward Welbourne, Boris Zbarsky, Bj&ouml;rn H&ouml;hrmann and Michael Day improved this module.

<!--

Ian's proposal:
  http://lists.w3.org/Archives/Member/w3c-css-wg/2002OctDec/0141.html
David's proposal
  http://lists.w3.org/Archives/Member/w3c-css-wg/2002OctDec/0191.html

-->


<h2 class="no-num" id="references">References</h2>

<h3 class="no-num">Normative references</h3>
<!--begin-normative-->
<!--end-normative-->

<h3 class="no-num">Other references</h3>
<!--begin-informative-->
<!--end-informative-->


<h2 class="no-num">Index</h2>
<!--begin-index-->
<!--end-index-->

</body>
</html>
