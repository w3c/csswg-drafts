<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head>
  <title>CSS3 module: Generated Content for Paged Media</title>

  <style type="text/css">
.cols { width: 500px; height: 200px; background: #fff; position: relative; border: solid 10px blue; margin: 0.5em 2em 1em 0; font: bold 14px/19px Arial, sans-serif }
.cols p { padding: 3px; margin: 0 }
.gap { position: absolute; background: black; width: 5px; bottom: 0px; top: 0px; border: 10px solid red; border-top-width: 0; border-bottom-width: 0;  }
.rep { position: absolute; top: 45px; background: #333; height: 110px; width: 100px;  color: white; z-index: 4 }
div.example:before { width: 9em !important }
div.example { padding-top: 0.5em }

table.hyphenate { border-collapse: collapse }
table.hyphenate th { 
  text-align: left; white-space: nowrap; border: 1px solid black; padding: 0.2em }
table.hyphenate td { 
  border: 1px solid black; padding: 0.2em 0.2em 0.2em 1em; font-size: 0.8em }

table.border, table.border td, table.border th, table.border table { 
  border-collapse: collapse;
  border: thin solid black;
  padding: 0.2em;
  vertical-align: top;
}
table.border td + td { white-space: pre }
table.border table { padding: 0; border-collapse: separate; border: none; }
table.border table td { border: thin dotted black; padding: 0.2em; margin: 0.2em  }
table.border .comment { margin-top: 0; white-space: normal; font-style: italic }


</style>
  <!--<link rel="stylesheet" type="text/css" href="default.css">-->
  <link href="http://www.w3.org/TR/css3-gcpm/default.css" rel=stylesheet
  type="text/css">

<link href="http://www.w3.org/StyleSheets/TR/W3C-WD.css" rel=stylesheet type="text/css">


 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo--></p>

   <h1 id=css3-module>CSS3 module: Generated Content for Paged Media</h1>

   <h2 class="no-num no-toc" id=w3c-working>W3C Working Draft 20 August 2008</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://www.w3.org/TR/2008/WD-css3-gcpm-20080820">http://www.w3.org/TR/2008/WD-css3-gcpm-20080820</a>

    <dt>Latest version:

    <dd><a href="http://www.w3.org/TR/css3-gcpm">
     http://www.w3.org/TR/css3-gcpm</a>

    <dt>Previous version:

    <dd><a href="http://www.w3.org/TR/2007/WD-css3-gcpm-20070205">
     http://www.w3.org/TR/2007/WD-css3-gcpm-20070205</a>

    <dt>Editor:

    <dd>H&aring;kon Wium Lie, Opera Software, howcome@opera.com
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> &copy; 2008 <a
    href="http://www.w3.org/"><acronym title="World Wide Web
    Consortium">W3C</acronym></a><sup>&reg;</sup> (<a
    href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute
    of Technology">MIT</acronym></a>, <a
    href="http://www.ercim.org/"><acronym title="European Research Consortium
    for Informatics and Mathematics">ERCIM</acronym></a>, <a
    href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>This module describes features often used in printed publications. In
   particular, this specification describes how CSS style sheets can express
   running headers and footers, leaders, cross-references, footnotes, named
   flows, hyphenation, new counter styles, character substitution, image
   resolution, page floats, advanced multi-column layout, conditional
   content, crop and cross marks, bookmarks, CMYK colors, continuation
   markers, change bars, line numbers, named page lists, and generated lists.
   Most of this functionality involves some sort of generated content where
   content from the document is adorned, replicated, or moved in the
   presentation of the document. Along with two other CSS3 modules &ndash;
   multi-column layout and paged media &ndash; this module offers advanced
   functionality for presenting structured documents on paged media. This
   specification only applies to the &lsquo;<code
   class=property>print</code>&rsquo; media type.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p><em>This section describes the status of this document at the time of
   its publication. Other documents may supersede this document. A list of
   current W3C publications and the latest revision of this technical report
   can be found in the <a href="http://www.w3.org/TR/">W3C technical reports
   index at http://www.w3.org/TR/.</a></em>

  <p>Publication as a Working Draft does not imply endorsement by the W3C
   Membership. This is a draft document and may be updated, replaced or
   obsoleted by other documents at any time. It is inappropriate to cite this
   document as other than work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a href="mailto:www-style@w3.org">www-style@w3.org</a> (see
   <a href="http://www.w3.org/Mail/Request">instructions</a>) is preferred
   for discussion of this specification. When sending e-mail, please put the
   text &#8220;css3-gcpm&#8221; in the subject, preferably like this:
   &#8220;[<!---->css3-gcpm<!---->] <em>&hellip;summary of
   comment&hellip;</em>&#8221;

  <p>This document was produced by the <a
   href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of
   the <a href="http://www.w3.org/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.</p>
  <!--end-status-->

  <p>This WD describes functionality at various levels of maturity. Some
   features have been part of other WDs in the past and have already been
   implemented. These parts are fairly stable and unlikely to change much.
   Other features are still at the sketching stage. In general, features
   presented earlier in this draft are more mature that those presented later
   in the draft.

  <h2 class="no-num no-toc" id=table><a name=contents>Table of contents</a></h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#dependencies"><span class=secno>1. </span>Dependencies on
    other modules</a>

   <li><a href="#introduction"><span class=secno>2. </span>Introduction</a>

   <li><a href="#running"><span class=secno>3. </span>Running headers and
    footers</a>
    <ul class=toc>
     <li><a href="#named"><span class=secno>3.1 </span>Named strings</a>
      <ul class=toc>
       <li><a href="#setting"><span class=secno>3.1.1 </span>Setting named
        strings</a>

       <li><a href="#using"><span class=secno>3.1.2 </span>Using named
        strings</a>
      </ul>

     <li><a href="#running0"><span class=secno>3.2 </span>Running
      elements</a>
    </ul>

   <li><a href="#leaders"><span class=secno>4. </span>Leaders</a>

   <li><a href="#cross-references"><span class=secno>5.
    </span>Cross-references</a>
    <ul class=toc>
     <li><a href="#the-target-counter"><span class=secno>5.1 </span>The
      &lsquo;<code class=css>target-counter</code>&rsquo; and &lsquo;<code
      class=css>target-counters</code>&rsquo; values</a>

     <li><a href="#the-target-text"><span class=secno>5.2 </span>The
      &lsquo;<code class=css>target-text</code>&rsquo; value</a>
    </ul>

   <li><a href="#footnotes"><span class=secno>6. </span>Footnotes</a>
    <ul class=toc>
     <li><a href="#turning"><span class=secno>6.1 </span>Turning elements
      into footnotes</a>

     <li><a href="#the-footnote"><span class=secno>6.2 </span>The footnote
      area</a>

     <li><a href="#the-border-length"><span class=secno>6.3 </span>The
      &lsquo;<code class=property>border-length</code>&rsquo; property</a>

     <li><a href="#footnote"><span class=secno>6.4 </span>Footnote calls</a>

     <li><a href="#footnote0"><span class=secno>6.5 </span>Footnote
      markers</a>

     <li><a href="#counting"><span class=secno>6.6 </span>Counting
      footnotes</a>

     <li><a href="#the-target-pull"><span class=secno>6.7 </span>The
      &lsquo;<code class=css>target-pull()</code>&rsquo; value</a>

     <li><a href="#laying"><span class=secno>6.8 </span>Laying out
      footnotes</a>

     <li><a href="#footnote1"><span class=secno>6.9 </span>Footnote magic</a>
    </ul>

   <li><a href="#named0"><span class=secno>7. </span>Named flows</a>

   <li><a href="#hyphenation"><span class=secno>8. </span>Hyphenation</a>
    <ul class=toc>
     <li><a href="#hyphenate"><span class=secno>8.1 </span>Hyphenate
      properties</a>
    </ul>

   <li><a href="#new-counter"><span class=secno>9. </span>New counter
    styles</a>
    <ul class=toc>
     <li><a href="#the-super-decimal"><span class=secno>9.1 </span>The
      &lsquo;<code class=css>super-decimal</code>&rsquo; list-style-type</a>

     <li><a href="#named1"><span class=secno>9.2 </span>Named counter
      styles</a>

     <li><a href="#the-symbols"><span class=secno>9.3 </span>The &lsquo;<code
      class=css>symbols()</code>&rsquo; list-style-type</a>
    </ul>

   <li><a href="#character"><span class=secno>10. </span>Character
    substitution</a>

   <li><a href="#image"><span class=secno>11. </span>Image resolution</a>

   <li><a href="#page-marks"><span class=secno>12. </span>Page marks and
    bleed area</a>

   <li><a href="#bookmarks"><span class=secno>13. </span>Bookmarks</a>

   <li><a href="#cmyk-colors"><span class=secno>14. </span>CMYK colors</a>

   <li><a href="#page-groups"><span class=secno>15. </span>Page groups</a>

   <li><a href="#page-floats"><span class=secno>16. </span>Page floats
    alternative 1; one property, compound values</a>

   <li><a href="#advanced"><span class=secno>17. </span>Advanced multi-column
    layout</a>
    <ul class=toc>
     <li><a href="#the-float-offset"><span class=secno>17.1 </span>The
      &lsquo;<code class=property>float-offset</code>&rsquo; property</a>
    </ul>

   <li><a href="#conditional"><span class=secno>18. </span>Conditional
    content</a>

   <li><a href="#page-floats0"><span class=secno>19. </span>Page floats
    alternative 2; one property, one keyword</a>

   <li><a href="#page-floats1"><span class=secno>20. </span>Page floats
    alternative 3; several properties with one value each</a>

   <li><a href="#page-floats2"><span class=secno>21. </span>Page floats
    alternative 4; one property, several (simpler) values</a>

   <li><a href="#continuation"><span class=secno>22. </span>Continuation
    markers</a>

   <li><a href="#change"><span class=secno>23. </span>Change bars</a>

   <li><a href="#line-numbers"><span class=secno>24. </span>Line numbers</a>

   <li><a href="#named2"><span class=secno>25. </span>Named page lists</a>

   <li><a href="#generated"><span class=secno>26. </span>Generated lists</a>
    <ul class=toc>
     <li><a href="#the-prototype"><span class=secno>26.1 </span>The prototype
      properties</a>

     <li><a href="#toc"><span class=secno>26.2 </span>TOC</a>

     <li><a href="#glossary"><span class=secno>26.3 </span>Glossary</a>

     <li><a href="#index0"><span class=secno>26.4 </span>Index</a>

     <li><a href="#a-more"><span class=secno>26.5 </span>A more complex
      example</a>
    </ul>

   <li><a href="#conformance"><span class=secno>27. </span>Conformance</a>

   <li><a href="#appendix"><span class=secno>28. </span>Appendix A: Default
    style sheet</a>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property-index">Property index</a>
  </ul>
  <!--end-toc-->

  <h2 id=dependencies><span class=secno>1. </span>Dependencies on other
   modules</h2>

  <p>This CSS3 module has normative references to the following other CSS3
   modules:

  <ul>
   <li><a href="#CSS3LIST" rel=biblioentry>[CSS3LIST]<!--{{!CSS3LIST}}--></a>

   <li><a href="#CSS3VAL" rel=biblioentry>[CSS3VAL]<!--{{!CSS3VAL}}--></a>
  </ul>

  <p>This CSS3 module has non-normative references to the following other
   CSS3 modules:

  <ul>
   <li><a href="#CSS3COL" rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a>

   <li><a href="#CSS3PAGE" rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>
  </ul>

  <h2 id=introduction><span class=secno>2. </span>Introduction</h2>

  <p>(This section is not normative.)

  <p>This specification describes features ofthe used in printed
   publications. Some of the proposed functionality (e.g., hyphenation, the
   new list style types, and the &lsquo;<code class=property><a
   href="#border-length">border-length</a></code>&rsquo; property) may also
   used with other media types. However, this specification is only concerned
   with the &lsquo;<code class=property>print</code>&rsquo; media type.

  <h2 id=running><span class=secno>3. </span>Running headers and footers</h2>

  <p>To aid navigation in printed material, headers and footers are often
   printed in the page margins. <a href="#CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a> describes how to place
   headers and footers on a page, but not how to fetch headers and footers
   from elements in the document. This specification offers two ways to
   achieve this. The first mechanism is <dfn id=named3>named strings</dfn>
   which <em>copies</em> the text (without style, structure, or replaced
   content) from one element for later reuse in margin boxes. The second
   mechanism is <dfn id=running1>running elements</dfn> which <em>moves</em>
   elements (with style, structure, and replaced content) into a margin box.

  <h3 id=named><span class=secno>3.1 </span>Named strings</h3>
  <!--
<p>Named strings are discussed both in the CSS3 Generated and Replaced
Content (section 9) and in CSS3 Paged Media (several places). For a
proposed definition of the property, one has to go back to the <a href="http://www.w3.org/1999/06/WD-css3-page-19990623">CSS3 draft from 1999</a>
1999:
-->

  <p>Named strings can be thought of as variables that can hold one string of
   text each. Named strings are created with the &lsquo;<code
   class=property><a href="#string-set">string-set</a></code>&rsquo; property
   which copies a string of text into the named string. Only text is copied;
   not style, structure, or replaced content.

  <div class=example>
   <p>Consider this code:</p>

   <pre>
h1, h2 { string-set: header content() }
</pre>

   <p>Whenever an <code>h1</code> or <code>h2</code> element is encountered,
    its textual content is copied into a named string called <em>header</em>.
    Its content can be retrieved in the &lsquo;<code
    class=property>content</code>&rsquo; property:</p>

   <pre>
@page :right { @top-right { content: string(header) }}
</pre>
  </div>

  <h4 id=setting><span class=secno>3.1.1 </span>Setting named strings</h4>

  <table class=propdef id=name->
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=string-set>string-set</dfn>

    <tr>
     <td><em>Value:</em>

     <td>[[ &lt;identifier> &lt;content-list>] [, &lt;identifier>
      &lt;content-list>]* ] | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>as specified value
  </table>

  <p>The &lsquo;<code class=property><a
   href="#string-set">string-set</a></code>&rsquo; property accepts a
   comma-separated list of named strings. Each named string is followed by a
   content list that specifies which text to copy into the named string.
   Whenever an element with value of &lsquo;<code class=property><a
   href="#string-set">string-set</a></code>&rsquo; different from
   &lsquo;<code class=css>none</code>&rsquo; is encountered, the named
   strings are assigned their respective value.

  <p>For the &lsquo;<code class=property><a
   href="#string-set">string-set</a></code>&rsquo; property,
   &lt;content-list> expands to one or more of these values, in any order:

  <dl>
   <dt>&lt;string&gt;

   <dd>a string, e.g. "foo"

   <dt>&lt;counter&gt;

   <dd>the counter() or counters() function, as per <a
    href="http://www.w3.org/TR/CSS21/syndata.html#counter">CSS 2.1 section
    4.3.5</a>

   <dt>&lt;content&gt;

   <dd>the &lsquo;<code class=css>content()</code>&rsquo; function, which
    accepts an optional argument:
    <dl>
     <dt>&lsquo;<code class=css>content()</code>&rsquo;

     <dd>Without any arguments, the function returns the textual content of
      the element, not including the content of its ::before and ::after
      pseudo-element. The content of the element's descendants, including
      their respective ::before and ::after pseudo-elements, are included in
      the returned content.

     <dt>&lsquo;<code class=css>content(before)</code>&rsquo;

     <dd>The function returns the textual content of the ::before
      pseudo-element the content of the element.

     <dt>&lsquo;<code class=css>content(after)</code>&rsquo;

     <dd>The function returns the textual content of the ::after
      pseudo-element the content of the element.

     <dt>&lsquo;<code class=css>content(first-letter)</code>&rsquo;

     <dd>The function returns the first letter of the content of the element.
      The definition of a letter is the same as for :first-letter
      pseudo-elements.
      <p class=note>The expected use for &lsquo;<code
       class=css>content(first-letter)</code>&rsquo; is to create one-letter
       headers, e.g., in dictionaries.</p>
    </dl>
  </dl>
  <!--<p class="issue">Should target-counter() and leader() also be allowed?</p>-->

  <p>Named strings can only hold the result of one assignment; whenever a new
   assignment is made to a named string, its old value is replaced.

  <p class=note>User agents, however, must be able to remember the result of
   more than one assignment as the &lsquo;<code
   class=css>string()</code>&rsquo; functional value (described below) can
   refer to different assignments.

  <p>The scope of a named string is the page of the element to which the
   &lsquo;<code class=property><a
   href="#string-set">string-set</a></code>&rsquo; property is attached and
   subsequent pages.

  <p>The name space of named strings is different from other sets of names in
   CSS.

  <p>The &lsquo;<code class=property><a
   href="#string-set">string-set</a></code>&rsquo; property copies text as
   well as white-space into the named string.

  <div class=example>
   <pre>
h1 { 
  string-set: header "Chapter " counter(header) ": " content();
  counter-increment: header }
</pre>

   <p>Note that the string called "header" is different from the counter with
    the same name. The above code may result in <em>header</em> being set to
    "Chapter 2: Europa".</p>
  </div>

  <div class=example>
   <p>This example results in the same value being assigned to
    <em>header</em> as in the previous example.</p>

   <pre>
h1:before { content: "Chapter " counter (header) } 
h1 { 
  string-set: header content(before) content();
  counter-increment: header } 
</pre>
  </div>

  <div class=example>
   <pre>
dt { string-set: index content(first-letter) }
</pre>
  </div>

  <h4 id=using><span class=secno>3.1.2 </span>Using named strings</h4>

  <p>The content of named strings can be recalled by using the &lsquo;<code
   class=css>string()</code>&rsquo; value on the &lsquo;<code
   class=property>content</code>&rsquo; property. The &lsquo;<code
   class=css>string()</code>&rsquo; value has one required argument, namely
   the name of the string.

  <div class=example>
   <pre>
@page { @top-center { content: string(header) }}
@page { @right-middle { content: string(index) }}
@page { @top-left { content: string(entry) }}
h1 { string-set: header "Chapter " counter(chapter) content() }
dt { string-set: index content(first-letter), entry content() }
</pre>
  </div>

  <p>If the value of the named string is changed by an element on a certain
   page, the named string may have several values on that page. In order to
   specify which of these values should be used, an optional argument is
   accepted on the &lsquo;<code class=css>string()</code>&rsquo; value. This
   argument can have one of four keywords:

  <ul>
   <li>&lsquo;<code class=css>start</code>&rsquo;: the named string's entry
    value for that page is used.

   <li>&lsquo;<code class=css>first</code>&rsquo;: the value of the first
    assignment is used. If there is no assignment on the page, the start
    value is used. &lsquo;<code class=css>first</code>&rsquo; is the default
    value.

   <li>&lsquo;<code class=css>last</code>&rsquo;: the named string's exit
    value for that page is used

   <li>&lsquo;<code class=css>first-except</code>&rsquo;: similar to
    &lsquo;<code class=css>first</code>&rsquo;, except on the page where the
    value was assigned. On that page, the empty string is used.
  </ul>

  <div class=example>
   <p>In this example, the first term on the page will be shown in the top
    left corner and the last term on the page will be shown in the top right
    corner. In top center of the page, the first letter of first term will be
    shown.</p>

   <pre>
@page { @top-left { content: string(term, first) }}
@page { @top-right { content: string(term, last) }}
@page { @top-center { content: string(index, first) }}
dt { string-set: index content(first-letter), term content() }
</pre>
  </div>

  <div class=example>
   <p>In this example, the header in the top center will be blank on pages
    where &lsquo;<code class=css>h1</code>&rsquo; elements appear. On other
    pages, the string of the previous &lsquo;<code class=css>h1</code>&rsquo;
    element will be shown.</p>

   <pre>
@page { @top-center { content: string(chapter, first-except) }}
h1 { string-set: chapter content() }
</pre>
  </div>

  <p>If the named string referred to in a &lsquo;<code
   class=css>string()</code>&rsquo; value has not been assigned a value, the
   empty string is used.

  <h3 id=running0><span class=secno>3.2 </span>Running elements</h3>

  <p>Named strings, as described above, can only hold textual content; any
   style, structure or replaced content associated with the element is
   ignored. To overcome this limitation, a way of moving elements into
   running headers and footers is introduced.

  <p>Elements that are moved into headers and footers are repeated on several
   pages; they are said to be <em><a href="#running1">running
   elements</a></em>. To support running elements, a new value &ndash;
   running() &ndash; is introduced on the &lsquo;<code
   class=property>position</code>&rsquo; property. It has one required
   argument: the name by which the running element can be referred to. A
   running element is not shown in its natural place; there it is treated as
   if &lsquo;<code class=css>display: none</code>&rsquo; had been set.
   Instead, the running element may be displayed in a margin box.

  <p>Like counters and named strings, the name of a running element is chosen
   by the style sheet author, and the names have a separate name space. A
   running element can hold one element, including its pseudo-elements and
   its descendants. Whenever a new element is assigned to a running element,
   the old element is lost.

  <p class=note>User agents, however, must be able to remember the result of
   more than one assignment as the &lsquo;<code
   class=css>element()</code>&rsquo; value (described below) can refer to
   different assignments.

  <p>Running elements inherit through their normal place in the structure of
   the document.

  <div class=example>
   <pre>
title { position: running(header) }
@page { @top-center {
  content: element(header) }
}
</pre>
  </div>

  <p>Like the &lsquo;<code class=css>string()</code>&rsquo; value, the
   &lsquo;<code class=css>element()</code>&rsquo; value accepts an optional
   second argument:

  <dl>
   <dt>&lsquo;<code class=css>start</code>&rsquo;

   <dt>&lsquo;<code class=css>first</code>&rsquo;

   <dt>&lsquo;<code class=css>last</code>&rsquo;

   <dt>&lsquo;<code class=css>first-except</code>&rsquo;
  </dl>

  <p>The keywords have the same meaning as for the &lsquo;<code
   class=css>string()</code>&rsquo; value.

  <p>The &lsquo;<code class=css>element()</code>&rsquo; value cannot be
   combined with any other values.

  <div class=example>
   <p>In this example, the header is hidden from view in all media types
    except print. On printed pages, the header is displayed top center on all
    pages, except where h1 elements appear.</p>

   <pre>
&lt;style>
  div.header { display: none }
  @media print {
  div.header {
    display: block;
    position: running(header);
  }
  @page { @top-center { content: element(header, first-except) }}
&lt;/style>
...
&lt;div class="header">Introduction&lt;/div>
&lt;h1 class="chapter">An introduction&lt;/div>

</pre>
  </div>

  <div class=example>
   <p>This code illustrates how to change the running header on one page in
    the middle of a run of pages:</p>

   <pre>
...
&lt;style>
@page { @top-center {
  content: element(header, first) }}
.header { position: running(header) }
.once { font-weight: bold }
&lt;/style>
...
&lt;div class="header">Not now&lt;/div>
&lt;p>Da di ha di da di ...
  &lt;span class="header once">NOW!&lt;/span>
  &lt;span class="header">Not now&lt;/span>
  ... da di ha di hum.&lt;/p>
...
</pre>
   The header is "Not now" from the outset, due to the "div" element. The
   first "span" element changes it to "<b>NOW!</b>" on the page where the
   "span" element would have appeared. The second "span" element, which would
   have appeared on the same page as the first is not used because the
   &lsquo;<code class=css>first</code>&rsquo; keyword has been specified.
   However, the second "span" element still sets the exit value for "header"
   and this value is used on subsequent pages.</div>

  <h2 id=leaders><span class=secno>4. </span>Leaders</h2>

  <p>A leader is a visual pattern that guides the eye. Typically, leaders are
   used to visually connect an entry in a list with a corresponding code. For
   example, there are often leaders between titles and page numbers in a
   table of contents (TOC). Another example is the phone book where there are
   leaders between a name and a telephone number.

  <p>In CSS3, a leader is composed of series of glyphs through the
   &lsquo;<code class=css>leader()</code>&rsquo; value on the &lsquo;<code
   class=property>content</code>&rsquo; property. The functional notation
   accepts one value which describes the glyph pattern that make up the
   leader. These values are allowed:

  <ul>
   <li>leader(dotted)

   <li>leader(solid)

   <li>leader(space)

   <li>leader(&lt;string&gt;)
  </ul>

  <p>Using the keyword values is equivalent to setting a string value. The
   table below shows the equivalents:

  <table class=border>
   <tbody>
    <tr>
     <th>Keyword

     <th>String

     <th>Unicode characters

    <tr>
     <td>leader(dotted)

     <td>leader(&lsquo;<code class=css>. </code>&rsquo;)

     <td>\002E \0020

    <tr>
     <td>leader(solid)

     <td>leader(&lsquo;<code class=css>_</code>&rsquo;)

     <td>\005F

    <tr>
     <td>leader(space)

     <td>leader(&lsquo;<code class=css> </code>&rsquo;)

     <td>\0020
  </table>

  <p class=issue>Can leaders also be composed of images or SVG? <!--
<p class="issue">Some fonts may not have suitable glyphs for all
patterns. For example, in some Eastern languages, the alignment of the
shape within the glyph may not be optimal for creating leaders.
-->
   <!--<p class="issue">Are the keywords really necessary?</p>-->

  <p>The string inside the parenthesis is called the <em>leader string</em>.

  <p>In its simplest form, the &lsquo;<code
   class=property>content</code>&rsquo; property only takes one &lsquo;<code
   class=css>leader()</code>&rsquo; value:

  <div class=example>
   <pre>
heading::after { content: leader(dotted) }
</pre>
  </div>

  <p>The leader string must be shown in full at least once and this
   establishes the minimum length of the leader. To fill the available space,
   the leader string is repeated as many times as possible in the writing
   direction. At the end of the leader, a partial string pattern may be
   shown. White space in leaders is collapsed according to the values on
   white-space properties.
   <!-- <span class="issue">Or, partial strings be avoided?</span> -->
   <!--<p class="issue">Should other properties influence the appearance of leaders?-->
   

  <p>These properties influence the appearance of leaders: all font
   properties, text properties, &lsquo;<code
   class=property>letter-spacing</code>&rsquo;, white-space properties,
   background properties, and &lsquo;<code
   class=property>color</code>&rsquo;.

  <p>User Agents should attempt to align corresponding glyphs from the leader
   pattern between consecutive lines.

  <p>In a more complex example, the &lsquo;<code
   class=property>leader</code>&rsquo; value is combined with other values on
   the &lsquo;<code class=property>content</code>&rsquo; property:

  <div class=example>
   <pre>
ul.toc a::after {
  content: leader(". . . ") target-counter(attr(href, url), page);
}
</pre>
  </div>

  <p>If the content connected by a leader end up on different lines, the
   leader will be present on all lines. Each leader fragment honors the
   minimum length of the leader.

  <div class=example>
   <p>Consider this code:</p>

   <pre>
&lt;style>
.name::after { content: leader(dotted) }
&lt;/style>
&lt;div class="entry">
&lt;span class="name">John Doe&lt;/span>
&lt;span class="number">123456789&lt;/span>
&lt;/div>
</pre>

   <p>If the name and number end up on different lines (e.g., in a narrow
    column), it may be formatted like this:</p>

   <pre>
John Doe....
...123456789
</pre>
  </div>

  <p>To determine the length of the leaders, user agents must do the
   following for each line:

  <ol>
   <li>Lay out the content with leaders of minimum lengths

   <li>Determine the empty space left on the line.

   <li>Distribute the empty space between the leaders on the line. Glyphs
    must not be shown partially. All leaders on the line should, to the
    extent possible, have the same length. This may not always be possible as
    the minimum leader length must be honored.

   <li>Fill the empty space with the specified leader pattern.
  </ol>

  <div class=example>
   <p>Consider this code:</p>

   <pre>
&lt;style>
cite::before { content: leader(&lsquo;<code class=css>  </code>&rsquo;) }
&lt;/style>
&lt;blockquote>
  Bla great bla bla world bla bla
  empire bla bla color bla bla
  history bla bla forever.
    &lt;cite>John Johnson&lt;/cite>
&lt;/blockquote>
</pre>

   <p>Depending on the width of the containing block, this may be rendered
    as:</p>

   <pre>
  Bla great bla bla world bla bla
  empire bla bla color bla bla
  history bla bla forever.   John 
  Johnson
</pre>

   <p>However, this rendering is preferable:</p>

   <pre>
  Bla great bla bla world bla bla
  empire bla bla color bla bla
  history bla bla forever.
                     John Johnson
</pre>

   <p>To indicate that <q>John Johnson</q> should be kept on one line, this
    rule can be added to the style sheet:</p>

   <pre>
cite { text-wrap: suppress }
</pre>

   <p>Until &lsquo;<code class=property>text-wrap</code>&rsquo; is widely
    supported, this rule can also be used:</p>

   <pre>
cite { white-space: nowrap }
</pre>

   <p>If the containing element is wider, this may be the resultant
    presentation:</p>

   <pre>
  Bla great bla bla world bla bla empire
  bla bla color bla bla history bla bla 
  forever.                  John Johnson
</pre>
  </div>

  <h2 id=cross-references><span class=secno>5. </span>Cross-references</h2>

  <p>It is common to refer to other parts of a document by way of a section
   number (e.g., "See section 3.4.1"), a page number (e.g., "See discussion
   on page 72"), or a string (e.g., "See the chapter on Europe"). Being able
   to resolve these cross-references automatically saves time and reduces the
   number of errors.

  <h3 id=the-target-counter><span class=secno>5.1 </span>The &lsquo;<code
   class=css>target-counter</code>&rsquo; and &lsquo;<code
   class=css>target-counters</code>&rsquo; values</h3>

  <p>Numerical cross-references are generated by &lsquo;<code
   class=css>target-counter()</code>&rsquo; and &lsquo;<code
   class=css>target-counters()</code>&rsquo; values that fetch the value of a
   counter at the target end of the link. These functions are similar to the
   &lsquo;<code class=css>counter()</code>&rsquo; and &lsquo;<code
   class=css>counters()</code>&rsquo; functions, except that they fetch
   counter values from remote elements. &lsquo;<code
   class=css>target-counter()</code>&rsquo; has two required arguments: the
   url of the link, and the name of a counter. &lsquo;<code
   class=css>target-counters()</code>&rsquo; has three required arguments:
   the url of the link, the name of a counter, and a separator string. Both
   functions accepts an optional argument at the end that describes which
   list style type to use when presenting the resulting number; &lsquo;<code
   class=css>decimal</code>&rsquo; being the default.

  <div class=example>
   <p>This style sheet specifies that a string like " (see page 72)" is added
    after a link:</p>

   <pre>
a::after { content: "(see page " target-counter(attr(href, url), page, decimal) ")" }
</pre>
  </div>

  <div class=example>
   <p>This style sheet specifies that a string like " (see section 1.3.5)" is
    added after a link:</p>

   <pre>
a::after { content: "(see section " target-counters(attr(href, url), section, ".", decimal) ")" }
</pre>
  </div>

  <h3 id=the-target-text><span class=secno>5.2 </span>The &lsquo;<code
   class=css>target-text</code>&rsquo; value</h3>

  <p>Textual cross-references are generated by &lsquo;<code
   class=css>target-text()</code>&rsquo; which fetches the textual content
   from the target end of the link. Only text is copied; not style,
   structure, or replaced content. &lsquo;<code
   class=css>target-text()</code>&rsquo; has one required argument: the url
   of the link. An optional second argument specifies exactly which content
   is fetched. There are four possible values:

  <dl>
   <dt>&lsquo;<code class=css>content()</code>&rsquo;

   <dd>refers to the textual content of the element, not including the
    content of its ::before and ::after pseudo-element. The content of the
    element's descendants, including their respective ::before and ::after
    pseudo-elements, are included in the returned content.

   <dt>&lsquo;<code class=css>content(before)</code>&rsquo;

   <dd>refers to the content of the element's ::before pseudo-element. This
    is the default value.

   <dt>&lsquo;<code class=css>content(after)</code>&rsquo;

   <dd>refers to the content of the element's ::after pseudo-element

   <dt>&lsquo;<code class=css>content(first-letter)</code>&rsquo;

   <dd>refers to the first letter of the textual content of the element, not
    including the content of its ::before and ::after pseudo-element.
  </dl>

  <div class=example>
   <p>To generate this text</p>

   <blockquote>
    <p>See Chapter 3 ("A better way") on page 31 for an in-depth evaluation.
   </blockquote>
   from this markup:
   <pre>
&lt;p>See &lt;a href="#chx">this chapter&lt;/a> for an in-depth evaluation.
...
&lt;h2 id="chx">A better way&lt;/h2>
</pre>
   this CSS code can be used:
   <pre>
h2 { counter-increment: chapter }
a { content: "Chapter " target-counter(attr(href, url), chapter) 
   &lsquo;<code class=css> ("</code>&rsquo;  target-text(attr(href), content()) &lsquo;<code class=css>") on page </code>&rsquo;
   target-counter(attr(href, url), page);
</pre>
  </div>

  <h2 id=footnotes><span class=secno>6. </span>Footnotes</h2>

  <p>A footnote is a note typically placed at the bottom of a page that
   comments on or cites a reference. References to footnotes are marked with
   a <em>note-call</em> in the main text. The rendering of footnotes is
   complex. As far as possible, footnotes try to reuse other parts of CSS.
   However, due to the typographic traditions footnotes, some new
   functionality is required to support footnotes in CSS:

  <p>In order to support footnotes in CSS, the following functionality is
   added:

  <ul>
   <li>one new value on the &lsquo;<code class=property>float</code>&rsquo;
    property: &lsquo;<code class=css>footnote</code>&rsquo;

   <li>one new page area: &lsquo;<code class=css>@footnote</code>&rsquo;

   <li>two new pseudo-elements: &lsquo;<code
    class=css>::footnote-call</code>&rsquo; and &lsquo;<code
    class=css>::footnote-marker</code>&rsquo;

   <li>one predefined counter: &lsquo;<code class=css>footnote</code>&rsquo;

   <li>one new value on the &lsquo;<code class=property>content</code>&rsquo;
    property: &lsquo;<code class=css>target-pull()</code>&rsquo;

   <li>one new property: &lsquo;<code class=property><a
    href="#border-length">border-length</a></code>&rsquo;

   <li>two new &lsquo;<code class=property>list-style-type</code>&rsquo;
    values: &lsquo;<code class=css>super-decimal</code>&rsquo;, and
    symbol(...)
  </ul>

  <div class=example>
   <p>In its simplest form, making a footnote is simple.</p>

   <pre>
&lt;style>
.footnote { float: footnote }
&lt;/style>

&lt;p>A sentence consists of words. &lt;span class="footnote">Most often.&lt;/span>.
</pre>

   <p>In this example, the text <q>Most often.</q> will be placed in a
    footnote. A note-call will be left behind in the main text and a
    corresponding marker will be shown next to the footnote. Here is one
    possible rendering:</p>

   <pre>
A sentence consists of words. &#xB9;

&#xB9; Most often.
</pre>
  </div>

  <div class=example>
   <p>To support legacy browsers, it is often better to make a link to the
    note rather than including the text inline. This example shows how to
    fetch the content of a note and place it in a footnote.</p>

   <pre>
&lt;style>
@media print {
  .footnote { 
    float: footnote;
    content: target-pull(attr(href, url)) }
  .call { display: none }
}
&lt;/style>
...
&lt;p>A sentence consists of words&lt;a class="footnote" href="#words"> [3]&lt;/a>.
...
&lt;p id=words>&lt;span class="call">[3]&lt;/span> Most often.
</pre>

   <p>When shown in a legacy browser, the content of the element will be
    shown as a clickable link to an endnote. When printed according to this
    specification, there will be a footnote:</p>

   <pre>
A sentence consists of words&#xB9;.

&#xB9; Most often.
</pre>
  </div>

  <div class=example> Consider this markup:
   <pre>
&lt;p>Sorry, &lt;span title="This is, of course, a lie.">we're closing for lunch&lt;/span>.
</pre>

   <p>The content of the "title" attribute can be turned into a footnote with
    this code:</p>

   <pre>
span[title]::after { 
  content: attr(title);
  float: footnote;
}
</pre>
  </div>

  <h3 id=turning><span class=secno>6.1 </span>Turning elements into footnotes</h3>

  <p>An element with &lsquo;<code class=css>float: footnote</code>&rsquo;
   (called a <em>footnote element</em>) is moved to the <em>footnote
   area</em> and a <em>footnote-call</em> pseudo-element is put in its
   original place.

  <div class=example>
   <pre>
span.footnote { 
  float: footnote;
}
</pre>
  </div>

  <p>For each new footnote element, the &lsquo;<code
   class=css>footnote</code>&rsquo; counter is automatically incremented.

  <p>Footnote elements are presented inside the <em>footnote area</em>, but
   they inherit through their normal place in the structure of the document.
   <!--
<p class="issue">There has been a number of proposals on how to achieve this, including &lsquo;<code class=css>position: footnote</code>&rsquo;, &lsquo;<code class=css>flow: footnote</code>&rsquo;, and &lsquo;<code class=css>display: footnote</code>&rsquo;. The current thinking is that &lsquo;<code class=property>float</code>&rsquo; is suitable as the content still takes up space.
-->
   

  <h3 id=the-footnote><span class=secno>6.2 </span>The footnote area</h3>

  <p>All elements with &lsquo;<code class=css>float: footnote</code>&rsquo;
   are moved to the <em>footnote area</em>. The footnote area is described by
   an @footnote-rule inside the @page-rule. By default, the footnote area
   appears at the bottom of the page, but it can be positioned using page
   floats (as described below) and &lsquo;<code class=css>position:
   fixed</code>&rsquo;. <!--
<div class="example">

<pre>
@page {
  @footnote { 
    float: bottom page;
    width: 100%;
  }
}
</pre>
</div>
-->
   <!--<p>An element with &lsquo;<code class=css>float: footnote</code>&rsquo; inherits from its parent, not from @footnote.-->
   

  <p>The footnote area does not have to be placed at the bottom of the page.
   It can be moved to anywhere on the page using the &lsquo;<code
   class=property>float</code>&rsquo; property or &lsquo;<code
   class=css>position: fixed</code>&rsquo;.

  <div class=example>
   <p>These rules place the footnote area on the left side of the page:</p>

   <pre>
@page {
  @footnote { 
    position: fixed;
    top: 10em;
    left: 3em;
    width: 5em;
  }
}
</pre>
  </div>

  <div class=example>
   <p>These rules place the footnote area at the bottom of the left column:</p>

   <pre>
@page {
  @footnote { 
    float: bottom left column;
  }
}
</pre>

   <p>The &lsquo;<code class=property>column</code>&rsquo; keyword specifies
    that the containing block is a column box. For the footnote area, one of
    the column boxes of the oldest multicol element on the page will be the
    containing block. In this example, the right-most column-box is chosen
    due to the &lsquo;<code class=property>right</code>&rsquo; keyword.
    Finally, the footnote area appears at the bottom of that column due to
    the &lsquo;<code class=property>bottom</code>&rsquo; keyword.</p>
  </div>
  <!--
<p class=issue>How should one indicate that the footnote area should
span columns? Typically, footnotes are put inside columns rather than
spanning the full width, but there could be exceptions.
-->

  <p>The content of the footnote area is considered to come before other
   content which may compete for the same space on the same page.

  <div class=example>
   <pre>
@page { @footnote { float: bottom page}}
div.figure { float: bottom page }
</pre>

   <p>If figures and footnotes are on the same page, the footnotes will
    appear below the figures as they are floated to the bottom before the
    figures.</p>
  </div>

  <p>Potentially, every page has a footnote area. If there are no footnotes
   on the page, the footnote area will not take up any space. If there are
   footnotes on a page, the layout of the footnote area will be determined by
   the properties/values set on it, and by the footnote elements elements
   inside it.

  <p>These properties apply to the footnote area: &lsquo;<code
   class=property>content</code>&rsquo;, &lsquo;<code
   class=property>border</code>&rsquo;, &lsquo;<code
   class=property>padding</code>&rsquo;, &lsquo;<code
   class=property>margin</code>&rsquo;, &lsquo;<code
   class=property>height</code>&rsquo;, &lsquo;<code
   class=property>width</code>&rsquo;, &lsquo;<code
   class=property>max-height</code>&rsquo;, &lsquo;<code
   class=property>max-width</code>&rsquo;, &lsquo;<code
   class=property>min-height</code>&rsquo;, &lsquo;<code
   class=property>min-width</code>&rsquo;, the background properties, and
   &lsquo;<code class=property><a
   href="#border-length">border-length</a></code>&rsquo;. <!--
<p class="note">In published books, it is customary for the footnote
area to be limited to less than half the height of the page area. Long
footnotes may need more space, and the customary solution is for
footnotes to span several pages. To achieve this, the &lsquo;<code class=property>max-height</code>&rsquo;
property should be used. However, footnotes spanning several pages is
an advanced feature which is not a conformance requirement for this
specification.
-->
   

  <div class=example>
   <p>This example uses some of the applicable properties on @footnote:</p>

   <pre>
@footnote {
  margin-top: 0.5em;
  border-top: thin solid black;
  border-length: 4em;
  padding-top: 0.5em;
}
</pre>

   <p>The result of this code is that a footnote area will have some margin
    above the border. Unlike normal borders, only part of the border is
    visible due to the &lsquo;<code class=property><a
    href="#border-length">border-length</a></code>&rsquo; property.
    Underneath the border, there will be padding.</p>
  </div>

  <h3 id=the-border-length><span class=secno>6.3 </span>The &lsquo;<code
   class=property><a href="#border-length">border-length</a></code>&rsquo;
   property</h3>

  <table class=propdef id=name-0>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=border-length>border-length</dfn>

    <tr>
     <td><em>Value:</em>

     <td>[ &lt;length&gt; | auto ]{1,8}

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>refer to width of element

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>two absolute lengths
  </table>

  <p>This property limits the length of borders. If the length of a border is
   longer than the value specified on this property, part of the border will
   be made invisible. The border will still take up space. For the purpose of
   this property, a border box is is considered to consist of eight border
   stumps:

  <pre>
    &#x250F; 1      2 &#x2513;
    8           3

    7           4
    &#x2517; 6      5 &#x251B;
</pre>

  <p>The border lengths are specified in sequence, from 1 to 8. To avoid
   having to specify eight values, a shorthand notation is offered where a
   minimum of one value has to be specified. The remaining values are found
   by this pseudo-algorithm:

  <ol>
   <li>the border stump value is sought from the border stump directly
    opposite (6 is copied from 1, 8 is copied from 3, etc.).

   <li>the border stump value is sought from the previous stump (2 is copied
    from 1, 3 is copied from 2, etc.)
  </ol>

  <div class=example>
   <pre>
border-length: 5px;
</pre>

   <div style="position: relative; width: 250px; height: 150px; background:
    white;">
    <div style="border: 2px solid black; width: 200px; height: 100px;
     position: absolute; top: 20px; left: 20px">
     <div style="position: absolute; background: white; left: 15px; top:
      -5px; height: 110px; width: 170px"></div>

     <div style="position: absolute; background: white; left: -5px; top:
      15px; height: 70px; width: 210px"></div>
    </div>
   </div>
  </div>

  <div class=example>
   <pre>
border-length: 10px 10px 5px;
</pre>

   <div style="position: relative; width: 250px; height: 150px; background:
    white;">
    <div style="border: 2px solid black; width: 200px; height: 100px;
     position: absolute; top: 20px; left: 20px">
     <div style="position: absolute; background: white; left: 15px; top:
      -5px; height: 110px; width: 170px"></div>

     <div style="position: absolute; background: white; left: -5px; top: 5px;
      height: 90px; width: 210px"></div>
    </div>
   </div>
  </div>

  <div class=example>
   <pre>
border-length: 10px 10px 0;
</pre>

   <div style="position: relative; width: 250px; height: 150px; background:
    white;">
    <div style="border: 2px solid black; width: 200px; height: 100px;
     position: absolute; top: 20px; left: 20px">
     <div style="position: absolute; background: white; left: 15px; top:
      -5px; height: 110px; width: 170px"></div>

     <div style="position: absolute; background: white; left: -5px; top: 0px;
      height: 100px; width: 210px"></div>
    </div>
   </div>
  </div>

  <div class=example>
   <pre>
border: none;
border-top: thin solid black;
border-bottom: thin solid black;
border-length: 10px;
</pre>

   <div style="position: relative; width: 250px; height: 150px; background:
    white;">
    <div style="border: 2px solid black; width: 200px; height: 100px;
     position: absolute; top: 20px; left: 20px">
     <div style="position: absolute; background: white; left: 15px; top:
      -5px; height: 110px; width: 170px"></div>

     <div style="position: absolute; background: white; left: -5px; top: 0px;
      height: 100px; width: 210px"></div>
    </div>
   </div>
  </div>

  <div class=example>
   <pre>
border-length: 10px 0px;
</pre>

   <div style="position: relative; width: 250px; height: 150px; background:
    white;">
    <div style="border: 2px solid black; width: 200px; height: 100px;
     position: absolute; top: 20px; left: 20px">
     <div style="position: absolute; background: white; left: 15px; top:
      -5px; height: 110px; width: 200px"></div>

     <div style="position: absolute; background: white; left: -5px; top: 0px;
      height: 100px; width: 210px"></div>
    </div>
   </div>
  </div>

  <div class=example>
   <pre>
border: none;
border-top: thin solid black;
border-length: 10px 0px;
</pre>

   <div style="position: relative; width: 250px; height: 150px; background:
    white;">
    <div style="border: 2px solid black; width: 200px; height: 100px;
     position: absolute; top: 20px; left: 20px">
     <div style="position: absolute; background: white; left: 15px; top:
      -5px; height: 110px; width: 200px"></div>

     <div style="position: absolute; background: white; left: -5px; top: 0px;
      height: 100px; width: 210px"></div>
    </div>
   </div>
  </div>

  <div class=example> This rendering:
   <pre>
A sentence consists of words&#xB9;.
______
&#xB9; Most often.
</pre>
   can be achived with this style sheet:
   <pre>
</pre>

   <pre>
@footnote {
  border-top: thin solid black;
  border-length: 4em 0;
}
</pre>
  </div>
  <!--
<p class="issue">Footnotes in tables and floats may be problematic. In
some cases, the author may want the footnote to go at the end of the
table or float instead of the bottom of the page.
-->

  <h3 id=footnote><span class=secno>6.4 </span>Footnote calls</h3>

  <p>When an element is moved to the footnote area, a <em>footnote-call</em>
   is left behind. By default, User Agents must behave as if this code is
   part of the default style sheet:

  <pre>
::footnote-call {
  content: counter(footnote, super-decimal);
}
</pre>

  <p>The resulting note call is a super-scripted decimal number. <!--
<div class="example">

The content and style of the footnote-call is set on the
&lsquo;<code class=css>footnote-call</code>&rsquo; pseudo-element.

</div>
-->
   <!--
<p class="issue">Should any white space characters between the
note-call and and the preceding content be removed?
-->
   <!--
<div class="example">
The goal is to achieve this result:

<pre>
  ... some notion
</pre>

<p>rather than this:

<pre>
  ... some notion 
</pre>
</div>
-->
   

  <h3 id=footnote0><span class=secno>6.5 </span>Footnote markers</h3>

  <p>A ::footnote-marker pseudo-element is added to each footnote element.
   User agents must, by default, show the "footnote" counter in the
   footnote-marker.

  <div class=example>
   <p>User Agents may display footnote-calls and footnote-markers this way by
    default:</p>

   <pre>
::footnote-call {
  content: counter(footnote, super-decimal);
}
::footnote-marker {
  content: counter(footnote, super-decimal);
}
</pre>
  </div>

  <p>Marker elements are discussed in more detail in the CSS Lists module <a
   href="#CSS3LIST" rel=biblioentry>[CSS3LIST]<!--{{!CSS3LIST}}--></a>. One
   suggested change to that module is to honor the value of &lsquo;<code
   class=property>list-style-position</code>&rsquo; on the ::footnote-marker
   pseudo-element itself rather than the corresponding list-item element.
   Further, one clarification to the horizontal placement of the marker is
   suggested: the <em>margin</em> box of the marker box is horizontally
   aligned with the start of the line box.

  <h3 id=counting><span class=secno>6.6 </span>Counting footnotes</h3>

  <p>The "footnote" counter is automatically incremented each time a footnote
   is generated. That is, the "footnote" counter is incremented by one each
   time an element with &lsquo;<code class=css>float: footnote</code>&rsquo;
   appears.

  <p>The footnote counter can be reset with teh &lsquo;<code
   class=property>counter-reset</code>&rsquo; property.

  <div class=example> This code resets the "footnote" counter on a per-page
   page basis:
   <pre>
@page { counter-reset: footnote }
</pre>
  </div>

  <p class=issue>Should one also be able to manually increment the "footnote"
   counter? <!--
<p>The &lsquo;<code class=property>counter-increment</code>&rsquo; property can be set in the @footnote rule.
Each time an element with &lsquo;<code class=css>float: footnote</code>&rsquo; is found, the corresponding
counter is incremented.

<div class="example">
<p>This rule is part of the default style sheet:

<pre>
@page {
  @footnote {
    counter-increment: footnote;
  }
}
</pre>

As a result, the "footnote" counter is incremented each time a footnote is generated.
</div>
-->
   

  <h3 id=the-target-pull><span class=secno>6.7 </span>The &lsquo;<code
   class=css>target-pull()</code>&rsquo; value</h3>

  <p>In order to fetch the content of another element (e.g., a linked note),
   the &lsquo;<code class=css>target-pull()</code>&rsquo; value is
   introduced. The value uses a functional notation and takes a URI value as
   argument. In combination with the &lsquo;<code
   class=property>content</code>&rsquo; property, target elements can be
   pulled to the anchor element.

  <div class=example>
   <p>Consider this example:</p>

   <pre>
&lt;style>
@media print {
  .footnote { 
     float: footnote; 
     content: target-pull(attr(href, url)) }
  .footnote::footnote-call { content: counter(footnote, super-decimal) }
  .footnote::footnote-marker { content: counter(footnote, super-decimal) }
  .marker { display: none }
}
&lt;/style>
...
&lt;p>A sentence consists of words&lt;a class="footnote" href="#words"> [3]&lt;/a>.&lt;/p>
...
&lt;p id="words">&lt;span class="marker">[3]&lt;/span> Most often.&lt;/p>
</pre>

   <p>As a result of the &lsquo;<code class=css>target-pull()</code>&rsquo;
    value, the last <code>p</code> element is moved from its normal place of
    presentation and into the footnote.</p>
  </div>
  <!--
<p class=issue>Describe <code>target-pull</code> in more detail.
-->
  <!--

what's the differnece between target-pull and named flows?

In named flows; the element itself declares that it wants to go somewhere, and the recipient accepts
In &lsquo;<code class=property>target-pull</code>&rsquo;, the recipient says "I want you" and pulls it over without 

-->

  <h3 id=laying><span class=secno>6.8 </span>Laying out footnotes</h3>

  <p>Footnotes must appear as early as possible under the following
   constraints:

  <ol>
   <li>A footnote marker may not appear on an earlier page than the footnote
    call.

   <li>Footnotes may not appear out of document order.
    <!--<span class="issue">(What order is that: the document order or the visual order?
    Probably the document order, the same order as the footnote counter
    values, although the visual order of the footnote calls may be
    different, due to their occurrence in positioned and floating
    elements.)</span>-->
    

   <li>The footnote area is limited in size by &lsquo;<code
    class=property>max-height</code>&rsquo;, unless the page contains only
    footnotes. (E.g., if at the end of the document there are still footnotes
    unprinted, the User Agent can use the whole page to display footnotes.)

   <li>If there is a footnote call on a page, the footnote area may not be
    empty, unless its &lsquo;<code class=property>max-height</code>&rsquo; is
    too small.
  </ol>

  <h3 id=footnote1><span class=secno>6.9 </span>Footnote magic</h3>

  <p>When rendering footnotes, User Agents may apply certain heuristics to
   achieve optimal presentation. For example, the space between a
   footnote-call and surrounding text may be adjusted. Another example is the
   height of the footnote area; it may be heuristically constrained to limit
   the area that is used for footnotes.

  <p>The "footnote" counter represents another kind of magic; it is
   automatically created and incremented each time an element is turned into
   a footnote, and the footnotes and footnote-calls are automatically labeled
   with the value of . <!--
<h2>Sidenotes</h2>

<p>Sidenotes are supported the same way as footnotes; only the name
and the settings in the default style sheet differentiates the two.

<p class=note>The motivation for having another page-based area into
which content can be floated is that footnotes and sidenotes are
often used in the same document. 

<div class="example">
<p>This example moves images to the outside margin of pages:

<pre>
@page :left { 
  margin-left: 10em;
  @sidenote { position: fixed; left: -8em; width: 6em }
}
@page :right { 
  margin-right: 10em;
  @sidenote { position: fixed; right: -8em; width: 6em }
}
img { float: sidenote }
</pre>
</div>

<p class=note>The reason for having both a footnote and a sidenote area
on every page is that some documents use both.

<p class=issue>Should there be a mechanism to create new areas like
footnote/sidenote, or are two "magic" areas enough?
-->
   

  <h2 id=named0><span class=secno>7. </span>Named flows</h2>
  <!--
<p class=issue>Unlike footnotes, however, there is no need to add new functionality for endnotes. Either, traditional HTML can be used, or named flows can be used.

<p class="issue">Do we need endnotes, given that &lsquo;<code class=property>target-pull</code>&rsquo; supports
legacy endnote-like renderings?
-->
  <!--

<p>Like for footnotes, a ::endnote-call pseudo element is left at the
place of origin.

<p>Like for footnotes, a predefined &lsquo;<code class=css>endnote</code>&rsquo; counter is incremented
for every endnote element due to a setting in the default style sheet. 

<p>Like for footnotes, a ::endnote-marker pseudo-element is generated at the
place of presentation.

<p>Like for footnotes, the content of ::endnote-call and ::endnote-marker
pseudo-elements can be set with the &lsquo;<code class=property>content</code>&rsquo; property.

<p class=issue>Footnotes and endnotes are very similar and it may seem
excessive to define different call and marker types for them. The
reason for doing so is to create hooks to be used in the default style
sheets. As a result, changing &lsquo;<code class=css>float: footnote</code>&rsquo; to &lsquo;<code class=css>float:
endnote</code>&rsquo; will just work.
-->
  <!--
<p class=issue>Endnotes are similar to footnotes, except that they are placed at
the end of a structured element (e.g., a section) rather than at
certain place in the layout. Endnotes can be achieved with named
flows, described below.
-->
  <!--
CSS is not a transformation language, so
the motivation for supporting <em>flows</em> is presentational rather
than structural. 
-->

  <p>Footnotes and running elements are print-specific conventions that move
   content from one place to another in the presentaion of a document. In
   this section, a generic mechanism for moving content is described:
   <em>named flows</em> make it possible to push elements from one place to
   another. Different from footnotes, named flows are not counted by default.
   Also, while UAs are allowed to employ certain heuristics when formatting
   footnotes, this is not the case in named flows.

  <p>Named flows introduces two new values:

  <ol>
   <li>On the &lsquo;<code class=property>float</code>&rsquo; property,
    &lsquo;<code class=css>to()</code>&rsquo; is introduced to indicate that
    the element should be pushed from its natural position and into a named
    flow.

   <li>On the &lsquo;<code class=property>content</code>&rsquo; property,
    &lsquo;<code class=css>from()</code>&rsquo; is introduced to indicate
    that a named flow should be emptied and that the emtied elements should
    become the content of the element. The &lsquo;<code
    class=css>from()</code>&rsquo; value cannot be combined with any other
    values.
  </ol>

  <p>Elements that are moved into a new flow are removed from their current
   position to where &lsquo;<code class=css>from()</code>&rsquo; has been
   set. Like for footnotes, elements that are moved into a named flow are
   only displayed once.

  <div class=example>
   <p>Named flows can be used to create endnotes:</p>

   <pre>
.note { 
  float: to(endnote);
}
div.chapter::after { content: from(endnote) }
</pre>
  </div>

  <div class=example>
   <p>Consider this markup</p>

   <pre>
&lt;contrib contrib-type="author">
  &lt;name>
    &lt;surname>Knuth&lt;/surname>
    &lt;given-names>Donald E.&lt;/given-names>
  &lt;/name>
  &lt;role>professor&lt;/role>
&lt;/contrib>
</pre>

   <p>combined with this style sheet:</p>

   <pre>
surname { float: to(lastname) }
given-names::after { content: from(lastname) }
role::before { content: ", " }
</pre>
   will result in this presentation:
   <pre>
Donald E. Knuth, professor
</pre>
  </div>

  <p>Just like footnotes, elements in named flows can have <em>call</em> and
   <em>marker</em> pseudo-elements. However, these pseudo-elements are not
   shown by default.

  <div class=example>
   <p>Notes inside tables can be moved to after the table by way of a named
    flow.</p>

   <pre>
table .note { float: to(tablenote); counter-increment: tablenotes }
table .note::note-marker { content: counter(tablenotes, super-decimal) }
table .note::note-call { content: counter(tablenotes, super-decimal) }
table::after { content: from(tablenote) }
</pre>

   <p class=issue>How does one remove identical table notes?</p>
  </div>

  <p>If a named flow isn't emtied, its content is lost.

  <div class=example>
   <p>Consider this code:</p>

   <pre>
.remove { to(dev-null) }
</pre>

   <p>If there is no corresponding &lsquo;<code
    class=css>from()</code>&rsquo; value, elements with class names "remove"
    are not displayed. The effect is identical to this code:</p>

   <pre>
.remove { display: none }
</pre>
  </div>

  <h2 id=hyphenation><span class=secno>8. </span>Hyphenation</h2>
  <!--
<table class=hyphenate>
<tr><th>CSS<th>XSL<th>DSSSL
<tr><th>hyphens<th>hyphenate<th>hyphenate

<tr><td>none<td>false
<tr><td>manual<td>
<tr><td>auto<td>true

<tr><th>hyphenate-resource<th>country, language, script<th>?
<tr><td>auto
<tr><td>&lt;uri>

<tr><th>hyphenate-before<th>hyphenation-remain-character-count<th>hyphenation-remain-char-count
<tr><td>auto<td>
<tr><td>&lt;integer><td>&lt;integer>

<tr><th>hyphenate-after<th>hyphenation-push-character-count<th>hyphenation-push-char-count
<tr><td>auto<td>
<tr><td>&lt;integer><td>&lt;integer>

<tr><th>hyphenate-lines<th>hyphenation-ladder-count<th>hyphenation-ladder-count
<tr><td>no-limit<td>no-limit
<tr><td>&lt;integer>

<tr><th>hyphenate-character<th>hyphenation-character<th>hyphenation-char
<tr><td>&lt;string><td>&lt;character>
<tr><td>auto

<tr><th><th>hyphenation-keep<th>hyphenation-keep
<tr><td><td>auto
<tr><td><td>column
<tr><td><td>page
<tr><th><th><th>hyphenation-exceptions
<tr><td><td><td>The value is a list of strings. Each string is a word which may contain hyphen characters, #\-, indicating where hyphenation may occur. If a word to be hyphenated occurs in the list, it may only be hyphenated in the specified places. The initial value is the empty list.


</table>

-->

  <h3 id=hyphenate><span class=secno>8.1 </span>Hyphenate properties</h3>

  <p>This specification defines six new properties to describe hyphenation.

  <table class=propdef id=name-1>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=hyphens>hyphens</dfn>

    <tr>
     <td><em>Value:</em>

     <td>none | manual | auto

    <tr>
     <td><em>Initial:</em>

     <td>manual

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>Values are:

  <dl>
   <dt>none

   <dd>Words are not broken at line breaks, even if characters inside the
    word suggest line break points.

   <dt>manual

   <dd>Words are only broken at line breaks where there are characters inside
    the word that suggest line break opportunities. Characters can be
    explicit or conditional.
    <div class=example> In Unicode, U+00AD is a conditional "soft hyphen" and
     U+2010 is an explicit hyphen. Unicode Standard Annex #14 describes the
     <a href="http://unicode.org/reports/tr14/#SoftHyphen">role of soft
     hyphens in the</a> Unicode Line breaking algorithm.</div>

    <div class=example> In HTML, &amp;shy; represents the soft hyphen
     character which suggests a line break opportunity.
     <pre>
ex&amp;shy;ample.
</pre>
    </div>

   <dt>auto

   <dd>Words can be broken at appropriate hyphenation points, as determined
    by characters inside the word, resources listed in &lsquo;<code
    class=property><a
    href="#hyphenate-resource">hyphenate-resource</a></code>&rsquo;, or other
    UA-dependent resources. Characters inside the word take priority over
    hyphenation points determined by other resources.
  </dl>

  <table class=propdef id=name-2>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=hyphenate-resource>hyphenate-resource</dfn>

    <tr>
     <td><em>Value:</em>

     <td>none | &lt;uri&gt;

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property specifies a comma-separated list of external resources
   that can help the UA determine hyphenation points. If more than one
   resource is specified, the UA should consult each resource until it finds
   one that is able to determine hyphenation points in a word. The
   &lsquo;<code class=property>none</code>&rsquo; value indicates that no
   external resources are available. In any case, the UA can also use local
   resources not listed on this property.

  <div class=example>
   <p>Often, finding the right hyphenate resource is based on knowing the
    language of the text. The <code>lang</code> attribute is recommended for
    encoding the language, and the corresponding selector is used in this
    example:</p>

   <pre>
:lang(dk) { hyphenate-resource: url("hyph_da_DK.dic"), url("hyph_da_NO.dic") }
</pre>
  </div>

  <table class=propdef id=name-3>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=hyphenate-before>hyphenate-before</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;integer> | auto

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property specifies the minimum number of characters in a hyphenated
   word before the hyphenation character. The &lsquo;<code
   class=css>auto</code>&rsquo; value means that the UA chooses a value that
   adapts to the current layout.

  <p class=note>Unless the UA is able to calculate a better value, it is
   suggested that &lsquo;<code class=css>auto</code>&rsquo; means 2.

  <table class=propdef id=name-4>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=hyphenate-after>hyphenate-after</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;integer> | auto

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property specifies the minimum number of characters in a hyphenated
   word after the hyphenation character. The &lsquo;<code
   class=css>auto</code>&rsquo; value means that the UA chooses a value that
   adapts to the current layout.

  <p class=note>Unless the UA is able to calculate a better value, it is
   suggested that &lsquo;<code class=css>auto</code>&rsquo; means 2.

  <table class=propdef id=name-5>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=hyphenate-lines>hyphenate-lines</dfn>

    <tr>
     <td><em>Value:</em>

     <td>no-limit | &lt;integer>

    <tr>
     <td><em>Initial:</em>

     <td>no-limit

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property indicates the maximum number of successive hyphenated
   lines in an element. In some cases, user agents may not be able to honor
   the specified value. The &lsquo;<code class=css>no-limit</code>&rsquo;
   value means that there is no limit.

  <table class=propdef id=name-6>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=hyphenate-character>hyphenate-character</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | &lt;string>

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property specifies a string that is shown when a hyphenate-break
   occurs. The &lsquo;<code class=property>auto</code>&rsquo; value means
   that the User Agent should find an appropriate value. <!--
<p class=issue>Which character is it, "minus hyphen" or U+2010?
-->
   

  <div class=example>
   <p>In Latin scripts, the hyphen character (U+2010) is often used to
    indicate that a word has been split. Normally, it will not be necessary
    to set it explicitly. However, this can easily be done:</p>

   <pre>
article { hyphenate-character: "\2010" }
</pre>
  </div>
  <!--
<p class=issue>XSL uses a different list of <a href="http://www.w3.org/TR/2006/CR-xsl11-20060220/#common-hyphenation-properties">properties</a>. Reuse of these properties has been considered.
-->

  <h2 id=new-counter><span class=secno>9. </span>New counter styles</h2>

  <h3 id=the-super-decimal><span class=secno>9.1 </span>The &lsquo;<code
   class=css>super-decimal</code>&rsquo; list-style-type</h3>

  <p>A new list-style-type, &lsquo;<code
   class=css>super-decimal</code>&rsquo;, is introduced to better support
   footnotes. Small, super-scripted footnote calls are common; the first
   three numbers have code points in Latin-1 and some font families have even
   more super-scripted glyphs. The &lsquo;<code
   class=css>super-decimal</code>&rsquo; keyword allow these font resources
   to be used and replaces the use of &lsquo;<code
   class=property>font-size</code>&rsquo; and &lsquo;<code
   class=property>vertical-align</code>&rsquo; (which prohibit the use of
   special-purpose glyphs).

  <div class=example> This example specifies that footnote markers should
   consist of super-scripted decimal numbers.
   <pre>
::footnote-marker { content: counter(footnote, super-decimal) }
</pre>
  </div>

  <h3 id=named1><span class=secno>9.2 </span>Named counter styles</h3>

  <p>CSS defines a number of predefined list style types for the &lsquo;<code
   class=property>list-style-type</code>&rsquo; property and other places
   where a list-style-type value is accepted. Some styles repeat the same
   glyph (e.g., &lsquo;<code class=css>disc</code>&rsquo; and &lsquo;<code
   class=css>circle</code>&rsquo;) while others have lists of glyphs (e.g.,
   &lsquo;<code class=css>decimal</code>&rsquo;, and &lsquo;<code
   class=css>lower-roman</code>&rsquo;). To increase the range of lists that
   can be achieved through CSS without adding many new keywords,
   @counter-style rules are introduced. By using @counter-style, a style
   sheet can name new counter styles.

  <p>An @counter-style rule consists of the keyword &lsquo;<code
   class=css>@counter-style</code>&rsquo;, followed by the name of the symbol
   counter style, followed by a space-separated list of strings.

  <div class=example>
   <pre>
@counter-style daggers "*" "\2020" "\2021" "\A7" "#";
ol { list-style-type: daggers }
</pre>
  </div>

  <div class=example>
   <pre>
@counter-style ordinal "1st" "2nd" "3rd" "4th";
h1:before { content: counter(chapter, ordinal) " chapter" }
</pre>
  </div>

  <p>The first string in the list represents number one, the second string
   represents number two, etc. Outside the range of specified values, the
   rendering will be as if the &lsquo;<code class=css>decimal</code>&rsquo;
   list style type had been specified.

  <div class=example>
   <p>Consider this example:</p>

   <pre>
@counter-style ordinal "1st" "2nd" "3rd" "4th";
ordered-list { counter-reset: items -1 }
list-item { counter-increment: items 2 }
</pre>

   <p>For a series of <tt>list-item</tt> elements inside an
    <tt>ordered-list</tt> element, the value of the <tt>items</tt> counter
    will be -1, 1, 3, 5, 7 etc. Given that the <tt>ordinal</tt> counter style
    only defines a counter style for 1, 2, 3, and 4, the list will be
    numbered "-1", "1st", "3rd", "5", "7" etc.</p>
  </div>

  <p>Named counter styles can be imported through @import statements.

  <div class=example>
   <pre>
@import url(http://www.example.com/armenian-counters.css); /* defines &lsquo;<code class=property>armenian</code>&rsquo; */
ol { list-style-type: armenian }
</pre>
  </div>
  <!--
<div class="issue">Should we allow images in addition to strings? 
<pre>
  @counter-style graphic url("1.gif") url("2.gif") url("3.gif")
</pre>
</div>
-->

  <h3 id=the-symbols><span class=secno>9.3 </span>The &lsquo;<code
   class=css>symbols()</code>&rsquo; list-style-type</h3>

  <p>A new list-style-type with a functional notation is introduced to avoid
   the indirection of having to name counter styles. The &lsquo;<code
   class=css>symbols()</code>&rsquo; value takes a comma-separated list of
   strings as arguments.

  <div class=example>
   <pre>
::footnote-call {
    content: counter(footnote, symbols(&lsquo;<code class=css>*</code>&rsquo;, &lsquo;<code class=css>+</code>&rsquo;, &lsquo;<code class=css>!</code>&rsquo;))
}
</pre>
  </div>

  <p>Outside the range of specified values, the rendering will be as if the
   &lsquo;<code class=css>decimal</code>&rsquo; list style type had been
   specified.

  <div class=example> This code:
   <pre>
ol { list-style: symbols("*", "\2020", "\2021", "\A7", "#") }
</pre>
   will result in these list-items markers: * &#x2020; &#x2021; &#xA7; # 6 7
   8 ...</div>
  <!--
<p class="issue">Should there be a way to indicate the behavior if there are more items than strings? Proposals include: "alphabetic", "enumerate", "numeric", "cycle", "ideographic".
-->

  <h2 id=character><span class=secno>10. </span>Character substitution</h2>

  <p>It is sometimes convenient to replace one character with another without
   changing the source document. For example, the apostrophe character is
   easily found on keyboards, but in print it is often better to replace it
   with a quotation character. The &lsquo;<code class=property><a
   href="#text-replace">text-replace</a></code>&rsquo; property offers a way
   to perform the replacement in the style sheet.

  <table class=propdef id=name-7>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=text-replace>text-replace</dfn>

    <tr>
     <td><em>Value:</em>

     <td> [&lt;string> &lt;string>]+ | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes <span class=issue>or?</span>

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>as specified value
  </table>

  <p>This property is used to replace all occurrences of a certain string
   with another string in the content of the element. The property accepts
   pairs of strings as value, in addition to the initial &lsquo;<code
   class=css>none</code>&rsquo; value. For each pair of strings, occurrences
   of the first string in the content will be replaced with the second
   string. If &lsquo;<code class=css>none</code>&rsquo; is specified, no
   replacements will occur.

  <div class=example>
   <p>In this example, the apostrophe character is converted to a quotation
    character.</p>

   <pre>
body { text-replace: "&lsquo;<code class=css>" "\2019" }
</code></pre>
  </div>

  <div class=example> In this example, the string "--" is replaced with an
   em-dash:
   <pre>
body { text-replace: "--" "\2014" }
</pre>
  </div>

  <div class=example> In this example, the string "..." is replaced with an
   ellipsis:
   <pre>
body { text-replace: "..." "\2026" }
</pre>
  </div>

  <div class=example>
   <p>In this example, all references to &rsquo;Soviet Union' are replaced
    with &lsquo;<code class=property>Russia</code>&rsquo;.</p>

   <pre>
body { text-replace: "Soviet Union" "Russia" }
</pre>
  </div>

  <p>Text replacements are applied sequentially.

  <div class=example>
   <p>The two rules below yield the same result. In the first rule all
    &lsquo;<code class=property>a</code>&rsquo; characters are converted to
    &lsquo;<code class=property>b</code>&rsquo;. Subsequently, all
    &lsquo;<code class=property>b</code>&rsquo; characters are converted to
    &lsquo;<code class=property>c</code>&rsquo;. In the second rule, all
    &lsquo;<code class=property>a</code>&rsquo; and &lsquo;<code
    class=property>b</code>&rsquo; characters are converted directly to
    &lsquo;<code class=property>c</code>&rsquo;.</p>

   <pre>
body { text-replace: "a" "b" "b" "c" }
body { text-replace: "a" "c" "b" "c" }
</pre>
  </div>

  <p>The first string in a pair must have at least one character, while the
   second may be empty.

  <div class=example>
   <p>In this example, all &lsquo;<code class=property>a</code>&rsquo;
    characters are removed.</p>

   <pre>
body { text-replace: "a" "" }
</pre>
  </div>

  <p>If the first string of a pair is empty, or if an odd number of strings
   has been specified, the whole value is ignored and no text replacements
   are performed.

  <p>This property is evaluated after the &lsquo;<code
   class=property>content</code>&rsquo; property, and before &lsquo;<code
   class=property>text-transform</code>&rsquo;.

  <p class=note>This property is very powerful. Use with care. The primary
   purpose is to beautify and correct text where changing the source document
   is impractical.

  <p class=issue>Should regular expressions be allowed?

  <div class="example issue">
   <pre class=issue>
body { text-replace: &lsquo;<code class=css>s/"([^"]*?)"/&#xAB;$1&#xBB;/g</code>&rsquo; }
</pre>
  </div>
  <!-- "-->

  <h2 id=image><span class=secno>11. </span>Image resolution</h2>

  <p>Image resolution, as the term is used in this document, means pixels per
   physical length, e.g., pixels per inch. Some image formats can record
   information about the resolution of images. This information can be
   helpful when determining the actual size of the image in the formatting
   process. However, the information can also be wrong, in which case it
   should be ignored. The &lsquo;<code class=property><a
   href="#image-resolution">image-resolution</a></code>&rsquo; and
   &lsquo;<code class=property><a
   href="#background-image-resolution">background-image-resolution</a></code>&rsquo;
   properties are introduced to determine the correct resolution of images.
   <!--
<p class=issue>Instead of adding a new property, perhaps we could
only add new values to <a
href="http://www.w3.org/Style/Group/css3-src/css3-page/Overview.html#img-scale-img-posn">&lsquo;<code class=property>image-scaling</code>&rsquo;</a>?
-->
   

  <table class=propdef id=name-8>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=image-resolution>image-resolution</dfn>

    <tr>
     <td><em>Value:</em>

     <td>normal | auto | &lt;dpi> [ , normal | &lt;dpi> ]?

    <tr>
     <td><em>Initial:</em>

     <td>normal

    <tr>
     <td><em>Applies to:</em>

     <td>replaced elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>as specified value <span class=issue>(or, should it be only one
      value?)</span>
  </table>

  <p>This property accepts either a single value, or a comma-separated list
   of two values. The values are:

  <dl>
   <dt>normal

   <dd>The resolution of the image is unknown, and UAs should not use the
    resolution found in the image. Instead, the image resolution will be
    found by making image pixels equivalent to CSS pixels.

   <dt>auto

   <dd>The UA must look for the resolution in the image itself. If the image
    has no image resolution, the next value in the comma-separated list is
    evaluated.

   <dt>&lt;dpi>

   <dd>The value consists of a number with a &lsquo;<code
    class=property>dpi</code>&rsquo; unit identifier. The UA should use the
    specified resolution.
  </dl>

  <p>If, after evaluating the specified values, no image resolution has been
   determined, the UA should behave as if &lsquo;<code
   class=css>normal</code>&rsquo; had been specified. <!--
<p class="issue">As it stands, the property is only helpful for determining the resolution, it doesn't say how the resolution will be used in finding the actual size of the image. One idea is to only consult the image resolution when &lsquo;<code class=property>width</code>&rsquo; and &lsquo;<code class=property>height</code>&rsquo; are both &lsquo;<code class=property>auto</code>&rsquo;.

<p class="note">Other units, in addition to &lsquo;<code class=property>dpi</code>&rsquo;, may be added in the future.
-->
   

  <div class=example>
   <p>This rule specifies that the UA should use the image resolution found
    in the image itself.</p>

   <pre>
img { image-resolution: auto }
</pre>
  </div>

  <div class=example>
   <p>This rule specifies that the UA should use the image resolution found
    in the image itself. If the image has no resolution, the resolution is
    set to 300dpi.</p>

   <pre>
img { image-resolution: auto, 300dpi }
</pre>
  </div>

  <div class=example>
   <p>Using this rule, the image resolution is set to 300dpi and the
    resolution in the image, if any, is ignored.</p>

   <pre>
img { image-resolution: 300dpi }
</pre>
  </div>
  <!--
<div class="issue">
<p>Should there be a way of setting width, height, resolution on images that are referenced by a URL in the style sheet? E.g., 
<pre>
background-image: url(image.png, width, height, resolution);
background-image: image-url(image.png, width, height, resolution);
background-image: image(url(image.png), width, height, resolution);
</pre>
</div>
-->

  <table class=propdef id=name-9>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn
      id=background-image-resolution>background-image-resolution</dfn>

    <tr>
     <td><em>Value:</em>

     <td>normal | auto | &lt;dpi> [ , normal | &lt;dpi> ]?

    <tr>
     <td><em>Initial:</em>

     <td>normal

    <tr>
     <td><em>Applies to:</em>

     <td>replaced elements

    <tr>
     <td><em>Inherited:</em>

     <td>yes

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>as specified value <span class=issue>(or, should it be only one
      value?)</span>
  </table>

  <p>As &lsquo;<code class=property><a
   href="#image-resolution">image-resolution</a></code>&rsquo;, except that
   it describes the resolution of the background image.

  <h2 id=page-marks><span class=secno>12. </span>Page marks and bleed area</h2>

  <p>The &lsquo;<code class=property><a href="#marks">marks</a></code>&rsquo;
   property from <a href="#CSS2" rel=biblioentry>[CSS2]<!--{{CSS2}}--></a> is
   part of this specification.

  <table class=propdef id=name-10>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=marks>marks</dfn>

    <tr>
     <td><em>Value:</em>

     <td>[ crop || cross ] | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>page context

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual, paged

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property adds crop and/or cross marks to the document. Crop marks
   indicate where the page should be cut. Cross marks are used to align
   sheets.

  <p>Crop marks and cross marks are printed outside the page box. To have
   room to show crop and cross marks, the final pages will have to be
   somewhat bigger than the page box.

  <div class=example>
   <p>To set crop and cross marks on a document, this code can be used:</p>

   <pre>
@page { marks: crop cross }
</pre>
  </div>

  <table class=propdef id=name-11>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=page-bleed>page-bleed</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;length

    <tr>
     <td><em>Initial:</em>

     <td>6pt

    <tr>
     <td><em>Applies to:</em>

     <td>page context

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>refer to width of page box

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>as specified value
  </table>

  <p>This property specifies the extent of the page bleed area outside the
   page box. This property only has effect if crop marks are enabled.

  <h2 id=bookmarks><span class=secno>13. </span>Bookmarks</h2>

  <p>Some document formats have the capability of holding bookmarks.
   Bookmarks are typically shown outside the document itself, often a
   tree-structured and clickable table of contents to help navigate in the
   electronic version of the document. To generate bookmarks, these
   properties are defined:

  <table class=propdef id=name-12>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-level>bookmark-level</dfn>

    <tr>
     <td><em>Value:</em>

     <td>none | &lt;integer>

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property describes what level a certain bookmark has in a
   hierarchical bookmark structure. The highest level is &lsquo;<code
   class=css>1</code>&rsquo;, then &lsquo;<code class=css>2</code>&rsquo;,
   &lsquo;<code class=css>3</code>&rsquo; etc.

  <div class=example>
   <pre>
h1 { bookmark-level: 1 }
h2 { bookmark-level: 2 }
h3 { bookmark-level: 3 }
</pre>
  </div>

  <table class=propdef id=name-13>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-label>bookmark-label</dfn>

    <tr>
     <td><em>Value:</em>

     <td>content() | attr() | &lt;string>

    <tr>
     <td><em>Initial:</em>

     <td>content()

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property specifies the label of the bookmark, i.e., the text that
   will represent the bookmark in the bookmark structure.

  <div class=example>
   <pre>
a { bookmark-label: attr(title, string) }
h1 { bookmark-label: content() }
h2 { bookmark-label: content(before) }
#frog { bookmark-label: "The green frog" }
</pre>
  </div>

  <table class=propdef id=name-14>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-target>bookmark-target</dfn>

    <tr>
     <td><em>Value:</em>

     <td>none | &lt;uri> | &lt;attr>

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>For URI values, the absolute URI; for attr() values, the resulting
      URI or string; for other keywords, as specified.
  </table>

  <p>This property specifies the target of the bookmark link.

  <div class=example>
   <pre>
.bookmark {
   bookmark-label: attr(title, string);
   bookmark-target: attr(href, url);
}
...
&lt;a class="bookmark" title="The green pear" href="#pears"/>
</pre>
  </div>

  <div class=example> .exable { bookmark-label: url(http://www.example.com) }</div>

  <table class=propdef id=name-15>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=bookmark-state>bookmark-state</dfn>

    <tr>
     <td><em>Value:</em>

     <td>open | closed

    <tr>
     <td><em>Initial:</em>

     <td>open

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property describes the initial state of a bookmark.

  <div>
   <pre>
* { bookmark-state: closed }
#open { bookmark-state: open }
</pre>
  </div>

  <h2 id=cmyk-colors><span class=secno>14. </span>CMYK colors</h2>

  <p>Printers do not use RGB colors, they (often) use CMYK: cyan, magenta,
   yellow and black. A new functional value allows style sheets to express
   CMYK colors.

  <div class=example>
   <pre>
h3 { color: cmyk(0.8, 0.5, 0.0, 0.3) }
</pre>
  </div>

  <p>The values representing the colors are between &lsquo;<code
   class=css>0</code>&rsquo; and &lsquo;<code class=css>1</code>&rsquo;.
   Values outside this range are clipped.

  <p>It is not expected that screen-centric user agents support CMYK colors
   and it is therefore important that existing CSS color values can be
   combined with CMYK colors.

  <div class=example>
   <pre>
h3 {
  color: red;
  color: cmyk(0.5, 0.1, 0.0, 0.2);
}
</pre>

   <p>User Agents that do not understand the <code>cmyk()</code> value, will
    use the first color (red). User agents that understand
    <code>cmyk()</code> will use the second color (which is bluish).</p>
  </div>

  <h2 id=page-groups><span class=secno>15. </span>Page groups</h2>

  <table class=propdef id=name-16>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=page-group>page-group</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | start

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual, paged

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property offers a way of styling the first page of an element. It
   does so by introducing the notion of a "page group"; a page group starts
   on a new page, and can be styled with the :first pseudo-class in the page
   context.

  <p>Values are:

  <dl>
   <dt>start

   <dd>The element forces a new page group to be started

   <dt>auto

   <dd>The element does not force a new page group to be started
  </dl>

  <div class=example>
   <p>This example contains several chapters. Each chapter starts on a new
    page which has different headers from subsequent pages.</p>

   <pre>
@page chapter { @top-center { content: string(title) }}
@page chapter:first { @top-center { content: none }}
div.chapter { page: chapter; page-group: start }
h2 { string-set: title content() }
...

&lt;div class="chapter">
  &lt;h2>The first chapter&lt;/h2>
  ....
&lt;/div>
&lt;div class="chapter">
  &lt;h2>The second chapter&lt;/h2>
  ....
&lt;/div>
</pre>

   <p>Note that the same effect can be achived with this style sheet:</p>

   <pre>
@page chapter { @top-center { content: string(chapter, first-except) }}
div.chapter { page: chapter }
h2 { string-set: chapter content() }
</pre>

   <p>Page groups, however, allow for more advanced styling of pages. See
    next example.</p>
  </div>

  <div class=example>
   <p>In this example, the top margin of the first page in a page group is
    larger than the top margin of subsequent pages:</p>

   <pre>
@page chapter { margin: 3cm }
@page chapter:first { margin: 6cm 3cm 3cm 3cm }
</pre>
  </div>

  <h2 id=page-floats><span class=secno>16. </span>Page floats alternative 1;
   one property, compound values</h2>

  <p>To support page floats, the <span class=property>&lsquo;<code
   class=property>float</code>&rsquo;</span> property is extended with
   several new values:

  <dl>
   <dt>page

   <dd>This keyword indicates that the page box is the containing block of
    the element.

   <dt>inside

   <dd>The element generates a block box that is floated to the inside of the
    page. On a right page, it means the left side, and on a left page it
    means the right side.

   <dt>outside

   <dd>The element generates a block box that is floated to the outside of
    the page. On a right page, it means the right side, and on a left page it
    means the left side.

   <dt>top

   <dd>The element generates a block box that is floated to the top of the
    page.

   <dt>bottom

   <dd>The element generates a block box that is floated to the bottom of the
    page.

   <dt>next

   <dd>The float is placed on top of the next page from its source location.
    If combined with <code class=css>&lsquo;<code
    class=property>bottom</code>&rsquo;</code>, the float is placed on the
    bottom of the next page.
  </dl>

  <p>These values can appear along with the existing values on &lsquo;<code
   class=property>float</code>&rsquo;. In order to float an element wrt. the
   page, the keywords can be combined this way:

  <ul>
   <li>the keyword &lsquo;<code class=property>page</code>&rsquo; must appear
    once

   <li>only one horizontal keyword (&lsquo;<code
    class=property>right</code>&rsquo;, &lsquo;<code
    class=property>left</code>&rsquo;, &lsquo;<code
    class=property>outside</code>&rsquo;, &lsquo;<code
    class=property>inside</code>&rsquo;) can appear in a value

   <li>only one vertical keyword (&lsquo;<code
    class=property>top</code>&rsquo;, &lsquo;<code
    class=property>bottom</code>&rsquo;) can appear in a value

   <li>at least one horizontal or vertical keyword must appear

   <li>keywords can appear in any order

   <li>the keyword &lsquo;<code class=property>next</code>&rsquo; may be
    specified once
  </ul>

  <div class=example>
   <p>Here are some examples of page floats:</p>

   <pre>
img {
  float: next page;               /* float to the top next page */
  float: top next page;           /* float to the top next page */
  float: next top page;           /* float to the top next page */
  float: bottom next page;        /* float to the bottom of the next page */
  float: outside top page;        /* float to the top of the current page, away from the binding */
  float: next page bottom left;   /* float to the bottom left of the next page
  float: bottom page left right;  /* illegal, ignored */
}
</pre>
  </div>

  <p>For non-replaced elements in horizontal text, values that have a
   horizontal component (&lsquo;<code class=property>right</code>&rsquo;,
   &lsquo;<code class=property>left</code>&rsquo;, &lsquo;<code
   class=property>outside</code>&rsquo;, &lsquo;<code
   class=property>inside</code>&rsquo;) will result in shrink-wrap width
   calculations as per CSS 2.1 section 10.3.5. Values that only have a
   vertical component (&lsquo;<code class=property>top</code>&rsquo;,
   &lsquo;<code class=property>bottom</code>&rsquo;, &lsquo;<code
   class=property>next</code>&rsquo;, not in combination with other values)
   will result in width calculations as per CSS 2.1 section 10.3.3. In
   vertical text, width calculations are vice versa.

  <div class=example>
   <p>Assuming horizontal text, these rules will result in the width of
    <code>div</code> elements being equal to the width of the containing
    block:</p>

   <pre>
div { float: top; width: auto; 
  margin: 0; padding: 0; border: none } 
</pre>
  </div>

  <div class=example>
   <p>Assuming horizontal text, these rules will result in the width of
    <code>div</code> elements being determined by shrink-wrap:</p>

   <pre>
div { float: top left; width: auto; 
  margin: 0; padding: 0; border: none } 
</pre>
  </div>

  <p>If the width of a floating element is constrained, other content may be
   placed next to it.

  <div class=example>
   <p>Assuming horizontal text and a containing block wider than 200px, these
    rules may result in other content being shown to the right of the
    <code>div</code> element:</p>

   <pre>
div { float: top left; width: 200px; 
  margin: 0; padding: 0; border: none } 
</pre>
  </div>

  <h2 id=advanced><span class=secno>17. </span>Advanced multi-column layout</h2>

  <p>In paged media, it is common for figures, captions, images, and quotes
   to be laid out in certain positions for typographical reasons, rather than
   for structural (as in content order) reasons. For example, an image that
   illustrates a news story is often placed in the upper right corner of the
   article, irrespective of its order in the content. A poignant quote from
   the article may be shown in large type in the column gap, pushing aside
   text in both columns, to get the attention of the reader.

  <p>Basic multi-column layouts is described in a separated CSS3 module <a
   href="#CSS3COL" rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a>. This
   section extends multi-column functionality so that more advanced, but
   commonly used, layouts can be achieved.

  <p>The proposed functionality relies on three new components:

  <ul>
   <li>one new value on float: &lsquo;<code class=css>column</code>&rsquo;:

   <li>one new property: &lsquo;<code class=property><a
    href="#float-offset">float-offset</a></code>&rsquo;

   <li>one new unit: &lsquo;<code class=css>gr</code>&rsquo;
  </ul>

  <p>The strategy for achieving advanced multi-column layout is similar to
   page floats; elements escape their normal containing box by setting a
   value on &lsquo;<code class=property>float</code>&rsquo;. In the case of
   column-layout, the keyword is &lsquo;<code class=css>column</code>&rsquo;
   (instead of &lsquo;<code class=css>page</code>&rsquo;) and it indicates
   that the element should float to another column. Which column the element
   floats to is determined by the same positional keywords as for page floats
   (&lsquo;<code class=css>left</code>&rsquo;, &lsquo;<code
   class=css>right</code>&rsquo;, &lsquo;<code
   class=css>inside</code>&rsquo;, &lsquo;<code
   class=css>outside</code>&rsquo;, &lsquo;<code class=css>top</code>&rsquo;,
   &lsquo;<code class=css>bottom</code>&rsquo;). The column box of the column
   the element flows to becomes the containing block of the element.

  <p>To further enhance positioning, the &lsquo;<code class=property><a
   href="#float-offset">float-offset</a></code>&rsquo; property is
   introduced. It pushes elements in the opposite direction of the positional
   keywords, both horizontally and vertically.

  <p>The &lsquo;<code class=property>gr</code>&rsquo; unit is introduced to
   allow the grid lines of columns (and, potentially, tables) to be used in
   the positioning of elements. Each column has one grid line on each side
   corresponding to the content edge of the content box.

  <p>The width of a column is therefore &lsquo;<code
   class=css>1gr</code>&rsquo;. A value of &lsquo;<code
   class=css>2gr</code>&rsquo; includes one column width and one column gap.
   Further, &lsquo;<code class=css>3gr</code>&rsquo; is the width of two
   columns, including the gap between them, etc. Fractions on the
   &lsquo;<code class=property>gr</code>&rsquo; unit refer to the last
   distance added. A value of &lsquo;<code class=css>1.5gr</code>&rsquo;
   includes one column width and half the width of a column gap.

  <p>For non-replaced elements in horizontal text, values that have a
   horizontal component (&lsquo;<code class=property>right</code>&rsquo;,
   &lsquo;<code class=property>left</code>&rsquo;, &lsquo;<code
   class=property>outside</code>&rsquo;, &lsquo;<code
   class=property>inside</code>&rsquo;) will result in shrink-wrap width
   calculations as per CSS 2.1 section 10.3.5. Values that only have a
   vertical component (&lsquo;<code class=property>top</code>&rsquo;,
   &lsquo;<code class=property>bottom</code>&rsquo;, &lsquo;<code
   class=property>next</code>&rsquo;, not in combination with other values)
   will result in width calculations as per CSS 2.1 section 10.3.3. In
   vertical text, width calculations are vice versa.

  <p class=issue>The concept of floating to a column will be more powerful if
   &lsquo;<code class=property>column</code>&rsquo; means current column. The
   multicol element can be made a positioning target with exisiting features,
   such as &lsquo;<code class=css>position: relative</code>&rsquo;. Abspos
   elements can be turned into floats by a new property, (e.g., &lsquo;<code
   class=css>display: float</code>&rsquo;). This may be an intuitive way to
   cover the target scenarios.

  <p class=issue>&lsquo;<code class=property><a
   href="#float-offset">float-offset</a></code>&rsquo; is a good concept for
   moving a float into the right position. For completeness it should apply
   to absolute positioning as well. We should reuse existing naming
   conventions already in place for abspos elements (e.g., &lsquo;<code
   class=css>offset-left, &lsquo;<code class=property>right</code>&rsquo;, or
   call it </code>&rsquo;shift left, &lsquo;<code class=css>shift
   right</code>&rsquo; etc.).

  <div class=example>
   <p>This code serves as the base document for the examples of this section:</p>

   <pre>
&lt;html>
&lt;style>
div {
  column-width: 15em;
  column-gap: 2em;               /* shown in red below */
  column-rule: thin solid black; /* shown in black below */
  padding: 1em;                  /* shown in blue below */
}
img {
  display: block;                /* shown in dark gray below */
}
&lt;/style>
&lt;body>
&lt;div>
Lorem ipsum dolor sit amet. Nam at jus.
&lt;img src="foo"/>
Sed imp er di et ris. Cur abi tur et sapen.
...
&lt;/div>
&lt;/body>
&lt;/html>
</pre>

   <p>This code can be rendered as:</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus. <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     <br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.</p>

    <div style="position: absolute; left: 175px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div class=rep></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <p>If this code is added to the base document:</p>

   <pre>
img { float: right }
</pre>

   <p>it may be rendered as:</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus. <br>
     Sed<br>
     imp<br>
     er di<br>
     et ris.<br>
     Cur<br>
     abi<br>
     tur et sapen. Fusce<br>
     sed ligula a turpis.</p>

    <div style="position: absolute; left: 175px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div class=rep style="left: 50px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <pre>
img { 
  float: bottom;
  width: 1gr;
}
</pre>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus.<br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.</p>

    <div style="position: absolute; left: 175px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div class=rep style="width: 150px; top: 90px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <p>This code floats figures to the top of the right-most column:</p>

   <pre>
div.figure { 
  float: top right column; 
  width: 100% }
div.figure { 
  float: top right column; 
  width: 1gr }
</pre>

   <p>The percentage value on &lsquo;<code class=property>width</code>&rsquo;
    refers to the containing block, which is the column box of the right-most
    column. The &lsquo;<code class=css>1gr</code>&rsquo; value on
    &lsquo;<code class=property>width</code>&rsquo; is equal to the width of
    the containing block. The two values are therefore identical. Here is a
    possible rendering:</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus.<br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.<br>
     Vivamus a metus.<br>
     Aenean at risus<br>
     pharetra ante luctu<br>
     feugiat quis enim.<br>
     Cum sociis natoque<br>
     penatibus et magni.</p>

    <div style="position: absolute; left: 175px; top: 0px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 115px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.</p>
    </div>

    <div class=rep style="top: 0; left: 350px; width: 150px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <p>In this code, the &lsquo;<code class=property>float</code>&rsquo;
    property floats the element to the top of the left-most column, while the
    &lsquo;<code class=property><a
    href="#float-offset">float-offset</a></code>&rsquo; property pushes it to
    the right so that it ends up in the column next to it:</p>

   <pre>
div.quote { 
  float: top left column; 
  float-offset: 2gr; 
  width: 1gr }
</pre>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus.<br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.<br>
     Vivamus a metus.<br>
     Aenean at risus<br>
     pharetra ante luctu<br>
     feugiat quis enim.<br>
     Cum sociis natoque<br>
     penatibus et magni.</p>

    <div style="position: absolute; left: 175px; top: 115px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 0px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div class=rep style="top: 0; left: 175px; width: 150px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>

   <p>Assuming a three-column layout, the same rendering can be achieved by
    floating the element to the right instead:</p>

   <pre>
div.quote { 
  float: top right column; 
  float-offset: 2gr; 
  width: 1gr }
</pre>
  </div>

  <p>The floated element will never be pushed outside the content edges of
   the multicol element due to &lsquo;<code class=property><a
   href="#float-offset">float-offset</a></code>&rsquo;.

  <div class=example>
   <pre>
img {
  float: top right column;
  width: 3gr;
}
</pre>

   <p>The code above floats the element to the top of the right-most column.
    Further, it sets the width of images to the width of two columns plus the
    gap between them. Here is a possible rendering.</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus.<br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.<br>
     Vivamus a metus.<br>
     Aenean at risus<br>
     pharetra ante luctu<br>
     feugiat quis enim.<br>
     Cum sociis natoque<br>
     penatibus et magni.</p>

    <div style="position: absolute; left: 175px; top: 115px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 115px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.</p>
    </div>

    <div class=rep style="top: 0; left: 175px; width: 325px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <pre>
img {
  float: top right column;
  width: 2gr;
}
</pre>

   <p>The code above floats the element to the top of the right-most column.
    Further, it sets the width of the image to the width of one column plus
    one column gap. Here is a possible rendering.</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus.<br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.<br>
     Vivamus a metus.<br>
     Aenean at risus<br>
     pharetra ante luctu<br>
     feugiat quis enim.<br>
     Cum sociis natoque<br>
     penatibus et magni.</p>

    <div style="position: absolute; left: 175px; top: 0px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 115px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.</p>
    </div>

    <div class=rep style="top: 0; left: 325px; width: 175px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <pre>
img {
  float: top right column;
  width: 1.5gr;
}
</pre>

   <p>The code above floats the element to the top of the right-most column.
    Further, it sets the width of the image to the width of one column plus
    half the column gap.</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus.<br>
     Sed imp er di et ris.<br>
     Cur abi tur et sapen.<br>
     Vivamus a metus.<br>
     Aenean at risus<br>
     pharetra ante luctu<br>
     feugiat quis enim.<br>
     Cum sociis natoque<br>
     penatibus et magni.</p>

    <div style="position: absolute; left: 175px; top: 0px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div style="position: absolute; left: 350px; top: 115px; z-index: 6">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.</p>
    </div>

    <div class=rep style="top: 0; left: 337.5px; width: 163px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <div class=example>
   <pre>
img { 
  float: top left column;
  float-offset: 1.5gr 50%;
  width: 8em;
}
</pre>

   <p>The first rule in the code above floats images to the top of the
    left-most column. The second rule pushes the float in the opposite
    directions: to the right and downwards. The horizontal component
    (&lsquo;<code class=css>1.5gr</code>&rsquo;) means that the horizontal
    middle of the element should be in the middle of the gap between the
    left-most column and the one next to it. Vertically, element should be in
    the middle of the column. Here is a possible rendering:</p>

   <div class=cols>
    <p>Lorem ipsum dolor<br>
     sit amet. Nam at jus. <br>
     Sed<br>
     imp<br>
     er di<br>
     et ris.<br>
     Cur<br>
     abi<br>
     tur et sapen. Fusce<br>
     sed ligula a turpis.</p>

    <div style="position: absolute; left: 175px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.</p>

     <div style="margin-left: 100px"> Sed<br>
      imp<br>
      er di<br>
      et ris.<br>
      Cur<br>
      abi</div>
     tur et sapen. Fusce <br>
     sed ligula a turpis.</div>

    <div style="position: absolute; left: 350px; top: 0; z-index: 6;">
     <p>Lorem ipsum dolor<br>
      sit amet. Nam at jus.<br>
      Sed imp er di et ris.<br>
      Cur abi tur et sapen.<br>
      Vivamus a metus.<br>
      Aenean at risus<br>
      pharetra ante luctu<br>
      feugiat quis enim.<br>
      Cum sociis natoque<br>
      penatibus et magni.</p>
    </div>

    <div class=rep style="left: 50px; width: 220px"></div>

    <div class=gap style="left: 150px"></div>

    <div class=gap style="left: 325px"></div>
   </div>
  </div>

  <h3 id=the-float-offset><span class=secno>17.1 </span>The &lsquo;<code
   class=property><a href="#float-offset">float-offset</a></code>&rsquo;
   property</h3>

  <table class=propdef id=name-17>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=float-offset>float-offset</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;length> &lt;length> ?

    <tr>
     <td><em>Initial:</em>

     <td>0 0

    <tr>
     <td><em>Applies to:</em>

     <td>floated elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>refer to width and height of containing block

    <tr>
     <td><em>Media:</em>

     <td>visual, paged

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>one or two absolute lengths
  </table>

  <p>This property pushes floated elements in the opposite direction of the
   where they have been floated with &lsquo;<code
   class=property>float</code>&rsquo;. If one value is specified, it is the
   horizontal offset. If two values are specified, the first is the
   horizontal and the second is the vertical offset. If an element has only
   been floated horizontally (e.g., by setting &lsquo;<code class=css>float:
   right</code>&rsquo;), this property will only offset the float
   horizontally, even if a vertical value also has been specified. Likewise,
   if an element has only been floated vertically, this property will only
   offset the float vertically. If an element has been floated both
   horizontally and vertically, this property will offset both horizontally
   and vertically. If no vertical value has been specified, the vertical
   offset is set to zero.

  <p>If the &lsquo;<code class=property>gr</code>&rsquo; unit or percentage
   unit is used, it means that the middle of the float should be aligned with
   the specified grid line (or portion thereof).

  <p>If another unit is used, it means that the float is pushed a distance
   equal to the specified length.

  <h2 id=conditional><span class=secno>18. </span>Conditional content</h2>

  <p>Two new value on &lsquo;<code class=property>float</code>&rsquo; are
   proposed to handle conditional content:

  <dl>
   <dt>unless-room

   <dd>Adds a conditional to the floating of the element to the next page or
    column; the element is only floated if there is not enough room to
    display the whole element on the current page/column. This keyword only
    has effect in combination with the &lsquo;<code
    class=property>next</code>&rsquo; keyword or the &lsquo;<code
    class=property>hide</code>&rsquo; keyword.
    <div class=example>
     <pre>
img { float: next page unless-room }
</pre>
    </div>

   <dt>hide

   <dd>This value indicates, in combination with &lsquo;<code
    class=property>unless-room</code>&rsquo;, that the element should only be
    shown if there is room in the current column or page.
    <div class=example>
     <p>The image is only shown if there is room on the current page or
      column.</p>

     <pre>
img { float: hide unless-room }
</pre>
    </div>
  </dl>

  <h2 id=page-floats0><span class=secno>19. </span>Page floats alternative 2;
   one property, one keyword</h2>

  <p>Page float alternative 1 is quite complex. A simpler solution would be
   to only allow a single keyword on the &lsquo;<code
   class=property>float</code>&rsquo; property:

  <dl>
   <dt>inside

   <dd>on left pages, this value is equal to &lsquo;<code
    class=css>right</code>&rsquo;, on right pages, this value is equal to
    &lsquo;<code class=css>left</code>&rsquo;

   <dt>outside

   <dd>on left pages, this value is equal to &lsquo;<code
    class=css>left</code>&rsquo;, on right pages, this value is equal to
    &lsquo;<code class=css>right</code>&rsquo;

   <dt>top

   <dd>floats the element to the top of the page

   <dt>bottom

   <dd>floats the element to the bottom of the page

   <dt>top-next

   <dd>floats the element to the top of the next page

   <dt>bottom-next

   <dd>floats the element to the bottom of the next page

   <dt>column-top

   <dd>floats the element to the top of the column

   <dt>column-bottom

   <dd>floats the element to the bottom of the column

   <dt>top-next-unless-room

   <dd>floats the element to the top of the next page unless there is room
    for it on the current page, in which case it will be left in its original
    position

   <dt>bottom-next-unless-room

   <dd>floats the element to the bottom of the next page unless there is room
    for it on the current page, in which case it will be left in its original
    position

   <dt>column-top-next-unless-room

   <dd>floats the element to the top of the next column unless there is room
    in the current column, in which case it will be left in its original
    position

   <dt>column-bottom-next-unless-room

   <dd>floats the element to the bottom of the next column unless there is
    room in the current column, in which case it will be left in its original
    position

   <dt>hide-unless-room

   <dd>hide the element unless there is room in the current column (in the
    case of multi-column layouts) or page.
  </dl>

  <p>For the values that float the element wrt. a page or column, the width
   of the element will be computed wrt. the width of the page or colunm,
   respectively. The width of the element can be set by the &lsquo;<code
   class=property>width</code>&rsquo; property, in which case the element is
   placed in the content direction. No other content is allowed on the right
   or left side of such elements.

  <div class=example> In this example, a <tt>div</tt> element will be floated
   to the bottom of the page and the element will span the width of the page.
   
   <pre>
div {
  float: bottom;
  width: auto;
}
</pre>
  </div>

  <div class=example> In this example, <tt>div</tt> elements will be floated
   to the bottom of the page and the width of the element is half the width
   of the page:
   <pre>
div {
  float: bottom;
  width: 50%;
}
</pre>

   <p>In LTR scripts the element will be placed on the left side of the page,
    leaving white space on the right side.</p>
  </div>

  <h2 id=page-floats1><span class=secno>20. </span>Page floats alternative 3;
   several properties with one value each</h2>

  <p>In this alternative, the values are split across three properties. This
   has the effect of increasing the expressive power, while retaining better
   backwards compatibility for the &lsquo;<code
   class=property>float</code>&rsquo; property.

  <pre>
float: left | right | inside | outside
page-float: top | bottom | next-top | next-bottom | column-top | column-bottom 
page-float-policy: normal | unless-room | hide-unless-room
</pre>

  <p>Or, perhaps

  <pre>
float: left | right | inside | outside
vertical-float: page-top | page-bottom | next-page-top | next-page-bottom | column-top | column-bottom | next-column-top | next-column-bottom 
vertical-float-policy: normal | unless-room | hide-unless-room
</pre>

  <div class=example> This example shows how using several properties
   increases the expressive power:
   <pre>
div {
  width: 50%;
  float: left;
  page-float: column-top;
}
</pre>

   <p>In this example, the <tt>div</tt> element would be floated to the top
    of the column. There, it would be floated to the left side, allowing
    other content to be present on its right side.</p>
  </div>

  <h2 id=page-floats2><span class=secno>21. </span>Page floats alternative 4;
   one property, several (simpler) values</h2>

  <p>The &lsquo;<code class=property>float</code>&rsquo; property accepts
   these keywords:

  <ul>
   <li>horizontal keywords: left | right | inside | outside

   <li>vertical keywords: top | bottom

   <li>reference keywords: page | column | multi-column

   <li>conditional keywords: unless-room | hide-unless-room

   <li>order keywords: next
  </ul>

  <p>The keywords can be combined this way:

  <ul>
   <li>only one horizontal keyword can appear

   <li>only one vertical keyword can appear

   <li>at least one horizontal or vertical keyword must appear

   <li>only one reference keyword can appear

   <li>only one conditional keyword can appear

   <li>only one order keyword can appear

   <li>keywords can appear in any order
  </ul>

  <div class=example> Move figure to the top of the right column:
   <pre>
.figure { 
  float: top right multi-column;
  width: 1gr;
}
</pre>
  </div>

  <div class=example> Place footnotes at the bottom of the inside columns:
   <pre>
@footnote { 
  float: bottom inside multi-column; 
  width: 1gr;
}
</pre>
  </div>

  <div class=example> Place figure on top of current column:
   <pre>
@footnote { 
  float: top column;
}
</pre>
  </div>

  <div class=example> Move figure to top of next page unless room on current
   page:
   <pre>
.figure { 
  float: top next page unless-room;
}
</pre>
  </div>

  <h2 id=continuation><span class=secno>22. </span>Continuation markers</h2>

  <p>Continuation markers are used to indicate that an element continues from
   one page to the next. The ::before-page-break pseudo-element is shown
   after the last line before the page break. The ::after-page-break
   pseudo-element is shown before the first line after the page break.
   Continuation markers otherwise act as ::marker pseudo-elements <a
   href="#CSS3LIST" rel=biblioentry>[CSS3LIST]<!--{{!CSS3LIST}}--></a>,
   except that the value of &lsquo;<code
   class=property>list-style-position</code>&rsquo; is honored on the
   pseudo-elements rather than the host element.

  <div class=example>
   <pre>
p::before-page-break { 
   list-style-position: outside;
   content: url(to-arrow.png);
}
p::after-page-break { 
   list-style-position: outside;
   content: url(from-arrow.png);
}
</pre>
  </div>

  <h2 id=change><span class=secno>23. </span>Change bars</h2>

  <p>Change bars are used to indicate that a change has occurred in a section
   of a document. The changed section does not necessarily correspond to an
   element and (given the tree structure of common markup languages) it is
   not always possible to create any such element.

  <p>To avoid these limitations, the beginning of a change mark is associated
   with one element and the end of a change mark is associated with another
   element.

  <p>Change bars do not take up space in the layout.

  <div class=example>
   <pre>
p.change-start { 
  change-bar: thin solid red;
  change-bar-class: change1;
  change-bar-offset: 0.3em;
  change-bar-side: left; /* or right, inside, outside */
}

p.change-end { 
  change-bar-class: change1;
}
</pre>
  </div>

  <p class=note>This model is borrowed from <a
   href="http://www.w3.org/TR/2006/CR-xsl11-20060220/#fo_change-bar-begin">XSL-FO</a>.
   

  <h2 id=line-numbers><span class=secno>24. </span>Line numbers</h2>

  <p class=issue>This is an early sketch of what may turn into a more
   complete proposal.

  <p>Line numbers are sometimes used to reference particular lines of a
   document. Line numbers can be generated through pseudo-elements.

  <div class=example>
   <p>In this example, line numbers are shown on the left side of every fifth
    line. Also, the line number counter is reset on every page.</p>

   <pre>
::line-number-left(5) { 
   font: 10pt serif; 
   content: counter(line);
}

@page { counter-reset: line }
</pre>
  </div>

  <p>These are the pseudo-elements that can set line numbers: &lsquo;<code
   class=property>line-number-left</code>&rsquo;, &lsquo;<code
   class=property>line-number-right</code>&rsquo;, &lsquo;<code
   class=property>line-number-inside</code>&rsquo;, &lsquo;<code
   class=property>line-number-outside</code>&rsquo;.

  <p>The &lsquo;<code class=css>line</code>&rsquo; counter is set to zero at
   the beginning of the document and incremented by one for each line box of
   elements in the normal flow, excluding tables.

  <p class=issue>The use of multiple pseudo-elements to control where the
   line counter appears seems clumsy, but there doesn't seem to be any other
   way to get that functionality without adding more properties.

  <h2 id=named2><span class=secno>25. </span>Named page lists</h2>

  <p>In CSS 2.0, the &lsquo;<code class=property>page</code>&rsquo; property
   takes one value. The value can be &lsquo;<code
   class=property>auto</code>&rsquo; or a named page. In the case where a
   named page is specified, a page break is inserted and the element is put
   on the named page.

  <p>In this specification, a list of values is allowed in the &lsquo;<code
   class=property>page</code>&rsquo; property and the property is changed
   from inherited to non-inherited. As content is laid out and new pages are
   generated, the list is traversed linearly starting at the first list item.
   One page is created per item in the list. If more pages are required than
   there are items in the list, the last item is repeated as many times as
   necessary.

  <div class=example>
   <pre>
  h2 { page: no-header auto }
</pre>

   <p>This means: the content of an h2 element should be laid out on a
    &lsquo;<code class=property>no-header</code>&rsquo; page, thereafter the
    auto page (which is the initial value). The last value (auto) is repeated
    if there is need for more pages.</p>
  </div>

  <p>The last value in the list becomes the <em>exit value</em> which is
   compared with the first item the &lsquo;<code
   class=property>page</code>&rsquo; property of the next element. If those
   two values are different, a page break is generated.

  <div class=example>
   <p>Consider this example:</p>

   <pre>
  h2 { page: no-header auto }
  p { page: auto }

  &lt;h2>foo&lt;/h2>
  &lt;p>bar&lt;/p>
</pre>

   <p>There would be no page break between H2 and P elements as the last
    named page on H2 is the same as the first (and only) named page on the P
    element.</p>
  </div>

  <h2 id=generated><span class=secno>26. </span>Generated lists</h2>

  <p>Books typically have sections that are extracted from the main content,
   for example, a the table of contents (TOC) in the front and an index at
   the back. Also, there are glossaries and lists of figures (LOF) and lists
   of tables (LOT). These sections can all be referred to as <em>generated
   lists</em>; they are generated from the main content, and have the nature
   of lists. Some lists are sorted alphabetically (e.g., an index and a
   glossary), and others reflect the order of the content (e.g., TOCs, LOFs,
   and LOTs).

  <p>To generate lists in CSS, a <em>prototype list</em> must be established.
   Generated list items will be flowed into the prototype list, but it can
   also contain content of its own. The prototype list is identified with the
   &lsquo;<code class=property><a
   href="#prototype">prototype</a></code>&rsquo; property. To add generated
   list items to the prototype list, the &lsquo;<code class=property><a
   href="#prototype-insert">prototype-insert</a></code>&rsquo; property is
   used. The &lsquo;<code class=property><a
   href="#prototype-insert-position">prototype-insert-position</a></code>&rsquo;
   and &lsquo;<code class=property><a
   href="#prototype-insert-policy">prototype-insert-policy</a></code>&rsquo;
   properties describe where and how generated list items are inserted into
   the prototype list.

  <h3 id=the-prototype><span class=secno>26.1 </span>The prototype properties</h3>

  <table class=propdef id=name-18>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=prototype>prototype</dfn>

    <tr>
     <td><em>Value:</em>

     <td>list | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property declares that an element is a prototype list. A prototype
   list can hold generated list items inside it. Prototype lists cannot be
   nested. For each prototype list, the user agent must remember the current
   insert position.

  <p class=issue>Strictly, this property isn't necessary -- one could infer
   from &lsquo;<code class=property><a
   href="#prototype-insert-position">prototype-insert-position</a></code>&rsquo;
   or &lsquo;<code class=property><a
   href="#prototype-insert-policy">prototype-insert-policy</a></code>&rsquo;
   that something is a prototype list.

  <table class=propdef id=name-19>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=prototype-insert>prototype-insert</dfn>

    <tr>
     <td><em>Value:</em>

     <td>&lt;identifier> [ content() || content(before) || content(after) ||
      content(first-letter) [, &lt;identifier> [ content() || content(before)
      || content(after) || content(first-letter) ] ]* | none

    <tr>
     <td><em>Initial:</em>

     <td>none

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <p>This property specifies a comma-separated list of elements that should
   be generated in generated lists. The inital &lsquo;<code
   class=css>none</code>&rsquo; value means that no elements are generated.
   The comma-separated list consists of the name of the ID attribute of a
   prototype element with a starting &lsquo;<code class=css>#</code>&rsquo;,
   and a specification of the content which is to be generated. The content
   is one or more of these, in any order: content(), content(before),
   content(after), content(first-letter). The content is inserted into
   prototype element if it is empty, otherwise into the first empty element
   inside the prototype element.

  <table class=propdef id=name-20>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=prototype-insert-position>prototype-insert-position</dfn>

    <tr>
     <td><em>Value:</em>

     <td>current | sorted

    <tr>
     <td><em>Initial:</em>

     <td>current

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <table class=propdef id=name-21>
   <tbody>
    <tr>
     <td><em>Name:</em>

     <td><dfn id=prototype-insert-policy>prototype-insert-policy</dfn>

    <tr>
     <td><em>Value:</em>

     <td>normal | unique

    <tr>
     <td><em>Initial:</em>

     <td>normal

    <tr>
     <td><em>Applies to:</em>

     <td>all elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>all

    <tr>
     <td><em>Computed&nbsp;value:</em>

     <td>specified value
  </table>

  <h3 id=toc><span class=secno>26.2 </span>TOC</h3>

  <div class=example>
   <p>Here is an example of how to generate a TOC with leaders and page
    numbers.</p>

   <pre>
...
&lt;style>
  #toc { prototype: list }
  #toc-entry { 
    prototype-insert-position: current;
    font-size: 14pt }
  #toc-entry::after { content: leader(&lsquo;<code class=css>. </code>&rsquo;) source-counter(page) }
  h1.chapter { prototype-insert: #toc-entry content() }
&lt;/style>
...
&lt;div id="toc">
  &lt;h1>Table of contents&lt;/h1>
  &lt;div id="toc-entry">&lt;/div>
&lt;/div>
...
&lt;h1 class="chapter">Introduction&lt;/h1>
...
</pre>
  </div>

  <p>There are three new properties and one new value on the &lsquo;<code
   class=property>content</code>&rsquo; property in the above example. This
   rule:

  <pre>
  #toc { prototype: list }
</pre>

  <p>declares that the #toc element is a prototype list that accepts
   generated lists. This rule:

  <pre>
    prototype-insert-position: current;
</pre>

  <p>specifies that entities in the #toc are to be added at the current
   position, i.e., inside or after the previous generated list item. This
   code:

  <pre>
  #toc-entry::after { content: leader(&lsquo;<code class=css>. </code>&rsquo;) source-counter(page)} 
</pre>

  <p>has one new value (&lsquo;<code
   class=css>source-counter(page)</code>&rsquo;) which fetches the value of
   the &lsquo;<code class=css>page</code>&rsquo; counter from the source
   element, i.e., the element which has a &lsquo;<code class=property><a
   href="#prototype-insert">prototype-insert</a></code>&rsquo; declaration:

  <pre>
  h1.chapter { prototype-insert: toc-entry content() }
</pre>

  <p>The above rule creates one new element. The new element is isomorphic to
   the #toc-entry element and is inserted according to the &lsquo;<code
   class=property><a
   href="#prototype-insert-position">prototype-insert-position</a></code>&rsquo;
   of #toc-entry.

  <h3 id=glossary><span class=secno>26.3 </span>Glossary</h3>

  <p>Glossaries provide a new kind of challenge: entries are sorted
   alphabetically.

  <div class=example>
   <p>Here is an example of how to generate a glossary:</p>

   <pre>
...
&lt;style>
#glossary { prototype: list }
#glossary-term { prototype-insert-position: sorted }
#glossary-definition { prototype-insert-position: current }
dfn { prototype-insert: glossary-term content(), glossary-definition attr(title) }

&lt;/style>
...
&lt;div id="glossary">
&lt;h2>Glossary of terms&lt;/h2>
&lt;dl>
  &lt;dt id="glossary-term">...&lt;/dt>
  &lt;dd id="glossary-definition">...&lt;/dd>
&lt;/dl>
&lt;/div>
...

&lt;p>The &lt;dfn title="Leading paragraph">introduction&lt;/dfn> comes first.&lt;/p>

</pre>

   <p>By inserting the term &lsquo;<code class=css>sorted</code>&rsquo; and
    the definition in the &lsquo;<code class=css>current</code>&rsquo;
    position, terms will be sorted alphabetically with their respective
    definition following.</p>
  </div>

  <div class=example>
   <p>Tables are commonly used to display lists. For example, a list of terms
    and their definition can be presented this way:</p>

   <table style="border: thin solid black; border-collapse: collapse">
    <tbody>
     <tr>
      <th style="border: thin solid black">Term

      <th style="border: thin solid black">Definition

     <tr>
      <td style="border: thin solid black">yes

      <td style="border: thin solid black">expresses assent or agreement

     <tr>
      <td style="border: thin solid black">no

      <td style="border: thin solid black">expresses negation, dissent,
       denial, or refusal
   </table>

   <pre>
#glossary { prototype: container }
#glossary-term { prototype-insert-position: sorted  }
#glossary-definition { prototype-insert-position: current }
dfn { prototype-insert: #glossary-term content(), #glossary-definition attr(title) }

&lt;/style>
...
&lt;table id="glossary">
	&lt;th style="border: thin solid black">Term&lt;/th>
	&lt;th style="border: thin solid black">Definition&lt;/th>
&lt;tr id="glossary-term">
	&lt;td>&lt;/td>
	&lt;td id="glossary-definition">&lt;/td>
&lt;/tr>
&lt;/table>
...
&lt;p>The &lt;dfn title="Leading paragraph">introduction&lt;/dfn> comes first.&lt;/p>
</pre>

   <p>Note that the #glossary-term element is a table row, while the element
    is inserted into a table cell. This is due to the table row being a
    non-empty element and that the first td element is the first empty
    element.</p>
  </div>

  <h3 id=index0><span class=secno>26.4 </span>Index</h3>

  <p>An index is a generated list that is sorted alphabetically, just like
   glossaries. In addition, indexes often have single letters in large font
   sizes to help humans navigate. For example, all index entries starting
   with "s" is placed under a large capital "S". There should only be one
   large capital "S", and if there are no index entries starting with "s" the
   large "S" isn't shown.

  <p>To achieve this kind of presentation, the following strategy is
   suggested: for every index entry that is encountered, two elements are
   generated. One is the large capital letter, and the other is the index
   entry itself. To avoid having one large capital letter before each index
   entry, the &lsquo;<code class=property><a
   href="#prototype-insert-policy">prototype-insert-policy</a></code>&rsquo;
   property declares that identical generated list elements are to be
   deleted.

  <div class=example>
   <pre>
...
&lt;style>
#index {
  prototype: list }
#index-marker {
  prototype-insert-position: sorted 
  prototype-insert-policy: unique; 
  text-transform: uppercase }
#index-entry {
  prototype-insert-position: sorted }
#index-entry::after {
  content: leader(". . ") source-counter(page) }
dfn.entry { 
  prototype-insert: #index-marker content(first-letter), #index-entry content() }
&lt;/style>
...

&lt;div id="index">
&lt;h2>Index&lt;/h2>
&lt;div id="index-marker">&lt;/div>
&lt;div id="index-entry">&lt;/div>
&lt;/div>

&lt;p>An &lt;dfn class="entry">emphasized element&lt;/dfn> stands out.&lt;/p>
...
</pre>
  </div>

  <h3 id=a-more><span class=secno>26.5 </span>A more complex example</h3>

  <div class=example>
   <p>Here is a more complex example with several types of generated lists.
    Note how multilevel tocs require a prototype list without any additional
    content. Also, notice how the "acronym" element generates an entry both
    in the index and in the list of acronyms.</p>

   <pre>
&lt;style>
#toc-list {
  prototype: list }

#toc-entry-section {
  font-size: large;
  prototype-insert-position: current }

#toc-entry-subsection {
  font-size: medium;
  prototype-insert-position: current }

#toc-entry-section::after, #toc-entry-subsection::after {
  content: leader(&lsquo;<code class=css>. </code>&rsquo;) source-counter(page) }

#acronym-list {
  prototype: list }

#acronym-term {
  prototype-insert-position: sorted }

#acronym-definition {
  prototype-insert-position: current }

#index {
  prototype: list }

#index-marker {
  prototype-insert-position: sorted 
  prototype-insert-policy: unique;
}

#index-entry {
  prototype-insert-position: sorted }

#index-entry::after {
  content: leader(&lsquo;<code class=css>. . </code>&rsquo;) source-counter(page) }

h2 {
  prototype-insert: #toc-entry content() }

h3 {
  prototype-insert: #toc-entry content() }

acronym { 
  prototype-insert:
          #index-marker content(first-letter), 
          #index-entry content(), 
          #acronym content(), 
          #acronym-definition attr(title);
}

dfn { prototype-insert: 
          #index-marker content(first-letter), 
          #index-entry content();
}
&lt;/style>

&lt;div id="toc">
&lt;h2>Table of contents&lt;/h2>
  &lt;div id="toc-list">
    &lt;div id="toc-entry-section">&lt;/div>
    &lt;div id="toc-entry-subsection">&lt;/div>
  &lt;/div>
&lt;/div>

&lt;div id="acronym-list">
&lt;h2>List of acronyms&lt;/h2>
&lt;dl>
  &lt;dt id="acronym">&lt;/dt>
  &lt;dd id="acronym-definition">&lt;/dd>
&lt;/dl>
&lt;/div>

&lt;div id="index">
&lt;h2>Index&lt;/h2>
&lt;div id="index-marker">&lt;/div>
&lt;div id="index-entry">&lt;/div>
&lt;/div>

&lt;body>

&lt;h2>Introduction&lt;/h2>

&lt;p>This part defines the a acronym: &lt;acronym title="HyperText
Markup Language">HTML&lt;/acronym>.

&lt;h3>More to learn&lt;/h3>

&lt;p>An &lt;dfn>emphasized element&lt;/dfn> element stands out.

&lt;/body>

</pre>
  </div>

  <h2 id=conformance><span class=secno>27. </span>Conformance</h2>

  <h2 id=appendix><span class=secno>28. </span>Appendix A: Default style
   sheet</h2>

  <p class=issue>

  <pre>
@page {
  counter-reset: footnote;
  @footnote {
    counter-increment: footnote;
    float: page bottom;
    width: 100%;
    height: auto;
  }
}

::footnote-call {
  counter-increment: footnote;
  content: counter(footnote, super-decimal); 
}
::footnote-marker {
  content: counter(footnote, super-decimal); 
}


h1 { bookmark-level: 1 }
h2 { bookmark-level: 2 }
h3 { bookmark-level: 3 }
h4 { bookmark-level: 4 }
h5 { bookmark-level: 5 }
h6 { bookmark-level: 6 }
</pre>

  <h2 class=no-num id=acknowledgments>Acknowledgments</h2>

  <p>This document has been improved by Bert Bos, Michael Day, Melinda Grant,
   David Baron, Markus Mielke, Steve Zilles and Ian Hickson. [more to be
   added] Laurens Holst, Mike Bremford, Allan Sandfeld Jensen, Kelly Miller,
   Werner Donn, Tarquin (Mark) Wilton-Jones, Michel Fortin, Christian Roth,
   Brady Duga, Del Merritt, Ladd Van Tol.

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3LIST>[CSS3LIST]

   <dd>Ian Hickson; Tantek &#199;elik. <a
    href="http://www.w3.org/TR/2002/WD-css3-lists-20021107"><cite>CSS3
    module: Lists.</cite></a> 7 November 2002. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2002/WD-css3-lists-20021107">http://www.w3.org/TR/2002/WD-css3-lists-20021107</a>
    </dd>
   <!---->

   <dt id=CSS3VAL>[CSS3VAL]

   <dd>H&#229;kon Wium Lie; Chris Lilley. <a
    href="http://www.w3.org/TR/2006/WD-css3-values-20060919"><cite>CSS3
    Values and Units.</cite></a> 19 September 2006. W3C Working Draft. (Work
    in progress.) URL: <a
    href="http://www.w3.org/TR/2006/WD-css3-values-20060919">http://www.w3.org/TR/2006/WD-css3-values-20060919</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS2>[CSS2]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/1998/REC-CSS2-19980512"><cite>Cascading Style
    Sheets, level 2 (CSS2) Specification.</cite></a> 12 May 1998. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/1998/REC-CSS2-19980512">http://www.w3.org/TR/1998/REC-CSS2-19980512</a>
    </dd>
   <!---->

   <dt id=CSS3COL>[CSS3COL]

   <dd>H&#229;kon Wium Lie. <a
    href="http://www.w3.org/TR/2007/WD-css3-multicol-20070606"><cite>CSS3
    module: Multi-column layout.</cite></a> 6 June 2007. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2007/WD-css3-multicol-20070606">http://www.w3.org/TR/2007/WD-css3-multicol-20070606</a>
    </dd>
   <!---->

   <dt id=CSS3PAGE>[CSS3PAGE]

   <dd>H&#229;kon Wium Lie; Melinda Grant. <a
    href="http://www.w3.org/TR/2006/WD-css3-page-20061010"><cite>CSS3 Module:
    Paged Media.</cite></a> 10 October 2006. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2006/WD-css3-page-20061010">http://www.w3.org/TR/2006/WD-css3-page-20061010</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>background-image-resolution, <a href="#background-image-resolution"
    title=background-image-resolution><strong>#</strong></a>

   <li>bookmark-label, <a href="#bookmark-label"
    title=bookmark-label><strong>#</strong></a>

   <li>bookmark-level, <a href="#bookmark-level"
    title=bookmark-level><strong>#</strong></a>

   <li>bookmark-state, <a href="#bookmark-state"
    title=bookmark-state><strong>#</strong></a>

   <li>bookmark-target, <a href="#bookmark-target"
    title=bookmark-target><strong>#</strong></a>

   <li>border-length, <a href="#border-length"
    title=border-length><strong>#</strong></a>

   <li>float-offset, <a href="#float-offset"
    title=float-offset><strong>#</strong></a>

   <li>hyphenate-after, <a href="#hyphenate-after"
    title=hyphenate-after><strong>#</strong></a>

   <li>hyphenate-before, <a href="#hyphenate-before"
    title=hyphenate-before><strong>#</strong></a>

   <li>hyphenate-character, <a href="#hyphenate-character"
    title=hyphenate-character><strong>#</strong></a>

   <li>hyphenate-lines, <a href="#hyphenate-lines"
    title=hyphenate-lines><strong>#</strong></a>

   <li>hyphenate-resource, <a href="#hyphenate-resource"
    title=hyphenate-resource><strong>#</strong></a>

   <li>hyphens, <a href="#hyphens" title=hyphens><strong>#</strong></a>

   <li>image-resolution, <a href="#image-resolution"
    title=image-resolution><strong>#</strong></a>

   <li>marks, <a href="#marks" title=marks><strong>#</strong></a>

   <li>named strings, <a href="#named3" title="named
    strings"><strong>#</strong></a>

   <li>page-bleed, <a href="#page-bleed"
    title=page-bleed><strong>#</strong></a>

   <li>page-group, <a href="#page-group"
    title=page-group><strong>#</strong></a>

   <li>prototype, <a href="#prototype" title=prototype><strong>#</strong></a>

   <li>prototype-insert, <a href="#prototype-insert"
    title=prototype-insert><strong>#</strong></a>

   <li>prototype-insert-policy, <a href="#prototype-insert-policy"
    title=prototype-insert-policy><strong>#</strong></a>

   <li>prototype-insert-position, <a href="#prototype-insert-position"
    title=prototype-insert-position><strong>#</strong></a>

   <li>running elements, <a href="#running1" title="running
    elements"><strong>#</strong></a>

   <li>string-set, <a href="#string-set"
    title=string-set><strong>#</strong></a>

   <li>text-replace, <a href="#text-replace"
    title=text-replace><strong>#</strong></a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies&nbsp;to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr valign=baseline>
     <td><a class=property
      href="#background-image-resolution">background-image-resolution</a>

     <td>normal | auto | &lt;dpi> [ , normal | &lt;dpi> ]?

     <td>normal

     <td>replaced elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#bookmark-label">bookmark-label</a>

     <td>content() | attr() | &lt;string>

     <td>content()

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#bookmark-level">bookmark-level</a>

     <td>none | &lt;integer>

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#bookmark-state">bookmark-state</a>

     <td>open | closed

     <td>open

     <td>block-level elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#bookmark-target">bookmark-target</a>

     <td>none | &lt;uri> | &lt;attr>

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#border-length">border-length</a>

     <td>[ &lt;length&gt; | auto ]{1,8}

     <td>auto

     <td>all elements

     <td>no

     <td>refer to width of element

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#float-offset">float-offset</a>

     <td>&lt;length> &lt;length> ?

     <td>0 0

     <td>floated elements

     <td>no

     <td>refer to width and height of containing block

     <td>visual, paged

    <tr valign=baseline>
     <td><a class=property href="#hyphenate-after">hyphenate-after</a>

     <td>&lt;integer> | auto

     <td>auto

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#hyphenate-before">hyphenate-before</a>

     <td>&lt;integer> | auto

     <td>auto

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property
      href="#hyphenate-character">hyphenate-character</a>

     <td>auto | &lt;string>

     <td>auto

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#hyphenate-lines">hyphenate-lines</a>

     <td>no-limit | &lt;integer>

     <td>no-limit

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#hyphenate-resource">hyphenate-resource</a>

     <td>none | &lt;uri&gt;

     <td>none

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#hyphens">hyphens</a>

     <td>none | manual | auto

     <td>manual

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#image-resolution">image-resolution</a>

     <td>normal | auto | &lt;dpi> [ , normal | &lt;dpi> ]?

     <td>normal

     <td>replaced elements

     <td>yes

     <td>N/A

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#marks">marks</a>

     <td>[ crop || cross ] | none

     <td>none

     <td>page context

     <td>no

     <td>N/A

     <td>visual, paged

    <tr valign=baseline>
     <td><a class=property href="#page-bleed">page-bleed</a>

     <td>&lt;length

     <td>6pt

     <td>page context

     <td>no

     <td>refer to width of page box

     <td>visual

    <tr valign=baseline>
     <td><a class=property href="#page-group">page-group</a>

     <td>auto | start

     <td>auto

     <td>block-level elements

     <td>no

     <td>N/A

     <td>visual, paged

    <tr valign=baseline>
     <td><a class=property href="#prototype">prototype</a>

     <td>list | none

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#prototype-insert">prototype-insert</a>

     <td>&lt;identifier> [ content() || content(before) || content(after) ||
      content(first-letter) [, &lt;identifier> [ content() || content(before)
      || content(after) || content(first-letter) ] ]* | none

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property
      href="#prototype-insert-policy">prototype-insert-policy</a>

     <td>normal | unique

     <td>normal

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property
      href="#prototype-insert-position">prototype-insert-position</a>

     <td>current | sorted

     <td>current

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#string-set">string-set</a>

     <td>[[ &lt;identifier> &lt;content-list>] [, &lt;identifier>
      &lt;content-list>]* ] | none

     <td>none

     <td>all elements

     <td>no

     <td>N/A

     <td>all

    <tr valign=baseline>
     <td><a class=property href="#text-replace">text-replace</a>

     <td>[&lt;string> &lt;string>]+ | none

     <td>none

     <td>all elements

     <td>yes or?

     <td>N/A

     <td>visual
  </table>
  <!--end properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
