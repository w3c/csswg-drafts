<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head
  profile="http://dublincore.org/documents/2008/08/04/dc-html/ http://www.w3.org/2006/03/hcard">
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Regions Module Level 1</title>

  <link href="http://purl.org/dc/terms/" rel=schema.dcterms>
  <link href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
   rel=dcterms.rights>
  <meta content="CSS Regions Module Level 1" name=dcterms.title>
  <meta content=text name=dcterms.type>
  <meta content=2013-07-10 name=dcterms.date>
  <meta content="Vincent Hardy" name=dcterms.creator>
  <meta content="Rossen Atanassov" name=dcterms.creator>
  <meta content="Alan Stearns" name=dcterms.creator>
  <meta content=W3C name=dcterms.publisher>
  <meta content="http://dev.w3.org/csswg/css3-regions/"
   name=dcterms.identifier>
  <link href="../shared/style/default.css" rel=stylesheet type="text/css">
  <style type="text/css">
         #region-style-example p, #region-style-example pre {
         	clear: both;
         }

         #region_styling_illustration {
         	margin: 0px auto;
         	width: 70ex;
         }
       </style>
  <link href=issues.css rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
   type="text/css">
  <link href="../shared/style/alternate-spec-style.css" id=st rel=stylesheet
   title="alternate spec style" type="text/css">

 <body>
  <div class=head id=div-head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1 id=css-regions-module>CSS Regions Module Level 1</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 10 July 2013</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dev.w3.org/csswg/css3-regions/">http://dev.w3.org/csswg/css3-regions/</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-regions/">http://www.w3.org/TR/css3-regions/</a>

    <dt>Previous version:

    <dd><a
     href="http://www.w3.org/TR/2012/WD-css3-regions-20120823/">http://www.w3.org/TR/2012/WD-css3-regions-20120823/</a>

    <dt>Editors:

    <dd class=vcard><span class=fn>Vincent Hardy</span>, <span
     class=org>Adobe Systems, Inc.</span>, <span
     class=email>vhardy@adobe.com</span>

    <dd class=vcard><span class=fn>Rossen Atanassov</span>, <span
     class=org>Microsoft Corporation</span>, <span
     class=email>ratan@microsoft.com</span>

    <dd class=vcard><span class=fn>Alan Stearns</span>, <span class=org>Adobe
     Systems, Inc.</span>, <span class=email>stearns@adobe.com</span>

    <dt>Authors and former editors:

    <dd class=vcard><span class=fn>Alex Mogilevsky</span>, <span
     class=org>Microsoft Corporation</span>, <span
     class=email>alexmog@microsoft.com</span>

    <dt>Issues List:

    <dd><a
     href="https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&amp;component=Regions&amp;resolution=---">Bugzilla
     Bugs for CSS regions</a>

    <dt>Feedback:

    <dd><a
     href="mailto:www-style@w3.org?subject=%5Bcss-regions%5D%20feedback">www-style@w3.org</a>
     with subject line “<kbd>[css-regions] <var>… message topic
     …</var></kbd>” (<a
     href="http://lists.w3.org/Archives/Public/www-style/"
     rel=discussion>archives</a>)

    <dt>Test Suite:

    <dd><a
     href="http://test.csswg.org/suites/css3-regions/nightly-unstable/">http://test.csswg.org/suites/css3-regions/nightly-unstable/</a>
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> © 2013 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>, <a
    href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>The CSS regions module allows content to flow across multiple areas
   called regions. The regions are not necessarily contiguous in the document
   order. The CSS regions module provides an advanced content flow mechanism,
   which can be combined with positioning schemes as defined by other CSS
   modules such as the Multi-Column Module <a href="#CSS3COL"
   rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a> or the Grid Layout Module
   <a href="#CSS3-GRID-LAYOUT"
   rel=biblioentry>[CSS3-GRID-LAYOUT]<!--{{CSS3-GRID-LAYOUT}}--></a> to
   position the regions where content flows.

  <h2 class="no-num no-toc" id=status-of-this-document>Status of this
   document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-regions%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   “css3-regions” in the subject, preferably like this:
   “[<!---->css3-regions<!---->] <em>…summary of comment…</em>”

  <p>This document was produced by the <a
   href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of
   the <a href="http://www.w3.org/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.</p>
  <!--end-status-->

  <p>This draft is related to the drafts about Multi-column Layout <a
   href="#CSS3COL" rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a>, Grid
   Layout <a href="#CSS3GRID"
   rel=biblioentry>[CSS3GRID]<!--{{CSS3GRID}}--></a>, Flexible Box Layout <a
   href="#CSS3-FLEXBOX"
   rel=biblioentry>[CSS3-FLEXBOX]<!--{{CSS3-FLEXBOX}}--></a>, and Template
   Layout <a href="#CSS3LAYOUT"
   rel=biblioentry>[CSS3LAYOUT]<!--{{CSS3LAYOUT}}--></a>.

  <h2 class="no-num no-toc" id=table-of-contents>Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#introduction"><span class=secno>1. </span>Introduction</a>
    <ul class=toc>
     <li><a href="#named-flows-and-regions"><span class=secno>1.1.
      </span>Named flows and region chains</a>

     <li><a href="#region-styling"><span class=secno>1.2. </span>CSS Region
      names and styling</a>
    </ul>

   <li><a href="#css-regions-concepts"><span class=secno>2. </span>CSS
    regions concepts</a>
    <ul class=toc>
     <li><a href="#regions"><span class=secno>2.1. </span>Regions</a>

     <li><a href="#region-chain"><span class=secno>2.2. </span>Region
      chain</a>

     <li><a href="#named-flow"><span class=secno>2.3. </span>Named flows</a>

     <li><a href="#regions-flow-breaking-rules"><span class=secno>2.4.
      </span>Regions flow breaking rules</a>
    </ul>

   <li><a href="#properties-and-region-styling"><span class=secno>3.
    </span>Properties and Region Styling</a>
    <ul class=toc>
     <li><a href="#the-flow-into-property"><span class=secno>3.1. </span>The
      ‘<code class=property>flow-into</code>’ property</a>

     <li><a href="#the-flow-from-property"><span class=secno>3.2. </span>The
      ‘<code class=property>flow-from</code>’ property</a>
      <ul class=toc>
       <li><a href="#circular-dependencies"><span class=secno>3.2.1.
        </span>Cycle Detection</a>

       <li><a href="#fragmenting-regions"><span class=secno>3.2.2.
        </span>Nested fragmentation contexts</a>
      </ul>

     <li><a href="#region-flow-break"><span class=secno>3.3. </span>Region
      flow break properties: ‘<code class=property>break-before</code>’,
      ‘<code class=property>break-after</code>’, ‘<code
      class=property>break-inside</code>’</a>

     <li><a href="#the-region-fragment-property"><span class=secno>3.4.
      </span>The region-fragment property</a>

     <li><a href="#the-region-pseudo-element"><span class=secno>3.5.
      </span>The ::region() functional pseudo-element</a>
    </ul>

   <li><a href="#multi-column-regions"><span class=secno>4.
    </span>Multi-column regions</a>

   <li><a href="#pseudo_elements"><span class=secno>5.
    </span>Pseudo-elements</a>
    <ul class=toc>
     <li><a href="#processing-model"><span class=secno>5.1. </span>Processing
      model</a>
    </ul>

   <li><a href="#cssom_view_and_css_regions"><span class=secno>6.
    </span>CSSOM</a>
    <ul class=toc>
     <li><a href="#the-namedflow-interface"><span class=secno>6.1. </span>The
      NamedFlow interface</a>

     <li><a href="#the-region-interface"><span class=secno>6.2. </span>The
      Region interface</a>

     <li><a href="#named-flow-events"><span class=secno>6.3. </span>Named
      flow events</a>

     <li><a href="#cssomview-and-regions"><span class=secno>6.4.
      </span>Clarifications on pre-existing APIs</a>
      <ul class=toc>
       <li><a
        href="#cssomview-getclientrects-and-getboundingclientrect"><span
        class=secno>6.4.1. </span><code class=idl>getClientRects()</code> and
        <code>getBoundingClientRects()</code></a>

       <li><a href="#cssomview-offset-attributes"><span class=secno>6.4.2.
        </span><code class=idl>offsetTop</code>, <code
        class=idl>offsetLeft</code>, <code class=idl>offsetWidth</code>,
        <code class=idl>offsetHeight</code> and <code
        class=idl>offsetParent</code></a>
      </ul>
    </ul>

   <li><a href="#regions-visual-formatting-details"><span class=secno>7.
    </span>Regions visual formatting details</a>
    <ul class=toc>
     <li><a href="#regions-flow-content-box"><span class=secno>7.1.
      </span>The Region Flow Content Box (RFCB)</a>
      <ul class=toc>
       <li><a href="#rfcb-width-resolution"><span class=secno>7.1.1.
        </span>RFCB ‘<code class=property>width</code>’ resolution</a>
      </ul>

     <li><a href="#regions-visual-formatting-steps"><span class=secno>7.2.
      </span>Regions visual formatting steps</a>
      <ul class=toc>
       <li><a href="#rfcb-flow-fragment-height-resolution"><span
        class=secno>7.2.1. </span>Step 1: RFCB flow fragment height
        resolution</a>
        <ul class=toc>
         <li><a href="#rfcb-flow-fragment-height-resolution-phase-1"><span
          class=secno>7.2.1.1. </span>RFCB flow fragment height resolution,
          Phase 1</a>

         <li><a href="#rfcb-flow-fragment-height-resolution-phase-2"><span
          class=secno>7.2.1.2. </span>RFCB flow fragment height resolution,
          Phase 2</a>
        </ul>

       <li><a href="#regions-boxes-layout"><span class=secno>7.2.2.
        </span>Step 2: region boxes layout</a>

       <li><a href="#named-flows-layout"><span class=secno>7.2.3. </span>Step
        3: named flows layout</a>
      </ul>

     <li><a href="#regions-visual-formatting-implementation-note"><span
      class=secno>7.3. </span>Regions visual formatting: implementation
      note</a>

     <li><a href="#regions-visual-formatting-examples"><span class=secno>7.4.
      </span>Regions visual formatting example</a>
      <ul class=toc>
       <li><a href="#step-1--phase-1-laying-out-rfcbs-with-us"><span
        class=secno>7.4.1. </span>Step 1 - Phase 1: Laying out RFCBs with
        used height of zero</a>

       <li><a href="#step-1--phase-2-layout-flow-to-compute-t"><span
        class=secno>7.4.2. </span>Step 1 - Phase 2: Layout flow to compute
        the RFCBs' flow fragments heights</a>

       <li><a href="#step-2-layout-document-and-regions-witho"><span
        class=secno>7.4.3. </span>Step 2: Layout document and regions without
        named flows</a>

       <li><a href="#step-3-named-flows-layout"><span class=secno>7.4.4.
        </span>Step 3: named flows layout</a>
      </ul>
    </ul>

   <li><a href="#relation-to-document-events"><span class=secno>8.
    </span>Relation to document events</a>

   <li><a href="#relation-to-other-specifications"><span class=secno>9.
    </span>Relation to other specifications</a>

   <li><a href="#usecases"><span class=secno>10. </span>Use Cases</a>

   <li><a href="#conformance"><span class=secno>11. </span>Conformance</a>

   <li><a href="#changes"><span class=secno>12. </span>Changes</a>
    <ul class=toc>
     <li><a href="#changes_from_May_28_2013"><span class=secno>12.1.
      </span>Changes from May 28<sup>th</sup> 2013 version</a>

     <li><a href="#changes_from_Aug_28_2012"><span class=secno>12.2.
      </span>Changes from August 28<sup>th</sup> 2012 version</a>

     <li><a href="#changes_from_May_03_2012"><span class=secno>12.3.
      </span>Changes from May 3<sup>rd</sup> 2012 version</a>

     <li><a href="#older_changes"><span class=secno>12.4. </span>Older
      Changes</a>
    </ul>

   <li class=no-num><a href="#acknowledgments">Acknowledgments</a>

   <li class=no-num><a href="#intro-example-code">Appendix A. Example Code
    for Introduction</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property-index">Property index</a>
  </ul>
  <!--end-toc-->

  <h2 id=introduction><span class=secno>1. </span>Introduction</h2>

  <p><em>This section is non-normative.</em>

  <p>Displaying the complex layouts of a typical magazine, newspaper, or
   textbook on the web requires capabilities beyond those available in
   existing CSS modules. Dynamic magazine layout in particular requires
   flexibility in placement of boxes for content flows. This is the purpose
   of the CSS regions module.

  <div class=issue-marker> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=15733">Issue-15733</a>

   <div class=issue-details>
    <p class=short-desc>Should the region specification define a mechanism to
     create blocks that can be regions with CSS syntax?
   </div>
  </div>

  <p>For more complex layouts, content needs to flow from one area of the
   page to the next without limitation on the areas' sizes and positions.
   These arbitrary areas are the target of specific content flows which this
   document calls <a href="#named-flow0">named flows</a>. Each <a
   href="#named-flow0">named flow</a> can be associated with a set of CSS
   Regions called a region chain. CSS Regions are based on the rectangular
   geometry of the CSS box model. Content in a <a href="#named-flow0">named
   flow</a> is taken out of the normal visual formatting and rendered in a
   chain of CSS Regions.

  <h3 id=named-flows-and-regions><span class=secno>1.1. </span>Named flows
   and region chains</h3>

  <p>Consider the layout illustrated in figure 1.

  <div class=figure> <img
   alt="multiple chained regions which should receive content from a flow"
   src="images/intro-example-layout.svg" width=400>
   <p class=caption>Layout requiring sophisticated content flow
  </div>

  <p>The designer's intent is to position an image in box ‘<code
   class=property>A</code>’ and to flow an article's content from box
   ‘<code class=css>1</code>’ through boxes ‘<code
   class=css>2</code>’, ‘<code class=css>3</code>’ and ‘<code
   class=css>4</code>’. Note that the second box should have two columns,
   and the image is not contained in the article. Box ‘<code
   class=css>4</code>’ should auto-size to render the remainder of the
   article content that did not fit in the earlier boxes.

  <p>Figure 2 shows an example of the intended visual rendering of the
   content.

  <div class=figure> <img
   alt="Sample rendering showing a single thread of text flowing through a chain of regions"
   src="images/regions-intro-rendering.png" width=450>
   <p class=caption>Sample rendering for desired layout
  </div>

  <p>There is no existing mechanism in CSS to associate the content with
   these boxes arranged in this manner so that content flows as intended. The
   CSS regions module properties provide that mechanism.

  <p>The following example illustrates how an <code>&lt;article&gt;</code>
   element is placed in a <a href="#named-flow0">named flow</a> and how boxes
   marked with ‘<code class=css>region1</code>’, ‘<code
   class=css>region2</code>’, ‘<code class=css>region3</code>’ and
   ‘<code class=css>region4</code>’ IDs become CSS Regions that consume
   the ‘<code class=property>article-flow</code>’ content.

  <div class=example>
   <pre>
&lt;style&gt;
  article {
    <strong>flow-into: article-flow;</strong>
  }

  #region1, #region2, #region3, #region4 {
    <strong>flow-from: article-flow;</strong>
  }
&lt;/style&gt;
      </pre>
  </div>

  <p>The ‘<code class=property>article-flow</code>’ value on the ‘<a
   href="#flow-into"><code class=property>flow-into</code></a>’ property
   directs the <code>article</code> element to the ‘<code
   class=property>article-flow</code>’ <a href="#named-flow0">named
   flow</a>. Setting the ‘<a href="#flow-from"><code
   class=property>flow-from</code></a>’ property on block containers to
   ‘<code class=property>article-flow</code>’ makes them CSS Regions and
   associates the resulting region chain with the <a
   href="#named-flow0">named flow</a>: the flow is ‘<code
   class=css>poured</code>’ into the region chain.

  <p>See <a href="#intro-example-code">Appendix A</a> for sample code using
   grid layout and custom elements that implements this example

  <div class=issue-marker> <a
   href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16858">Issue-16858</a>

   <div class=issue-details>
    <p class=short-desc>Should creation of regions from elements be
     disallowed?
   </div>
  </div>

  <div class=note><span class=note-prefix>Note </span>
   <p><strong>HTML Templates in example code</strong>

   <p>All of the examples use <a
    href="https://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html#custom-element-section">Custom
    Elements</a> and <a
    href="https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/templates/index.html">HTML
    Templates</a> to contain the elements used to create CSS Regions. This is
    meant to show one way of separating content markup from layout. In each
    example, the <code>body</code> element becomes a custom element and a
    copy of the template gets inserted into the <code>body</code> element's
    <a href="http://www.w3.org/TR/shadow-dom/">Shadow DOM</a>.
  </div>

  <div class=note><span class=note-prefix>Note </span>
   <p><strong>CSS Regions are independent from layout</strong>

   <p>Any of the CSS layout facilities can be used to create, position and
    size boxes that can become CSS Regions. For instance, the code in <a
    href="#intro-example-code">Appendix A</a> uses a grid layout <a
    href="#CSS3-GRID-LAYOUT"
    rel=biblioentry>[CSS3-GRID-LAYOUT]<!--{{CSS3-GRID-LAYOUT}}--></a> as an
    example. This example could use a flexible box layout <a
    href="#CSS3-FLEXBOX"
    rel=biblioentry>[CSS3-FLEXBOX]<!--{{CSS3-FLEXBOX}}--></a> instead.

   <p>The CSS regions specification does not define a layout mechanism and is
    meant to integrate with existing and future CSS layout facilities.
  </div>

  <div class=note><span class=note-prefix>Note </span>
   <p><strong>CSS Regions do not have to be elements</strong>

   <p>The CSS regions module is independent of the layout of boxes and the
    mechanisms used to create them.

   <p>For simplicity, our example code in <a
    href="#intro-example-code">Appendix A</a> uses elements to define the
    boxes. Any other mechanism available in markup or style to create
    stylable boxes could be used instead, such as pseudo-elements or the
    @slot rule proposed by the CSS Page Template Module <a
    href="#CSS3-PAGE-TEMPLATE"
    rel=biblioentry>[CSS3-PAGE-TEMPLATE]<!--{{CSS3-PAGE-TEMPLATE}}--></a>.

   <p>The only requirement for box to become a CSS Region is that the ‘<a
    href="#flow-from"><code class=property>flow-from</code></a>’ property
    applies to the box.
  </div>

  <h3 id=region-styling><span class=secno>1.2. </span>CSS Region names and
   styling</h3>

  <p>Content can be styled depending on the CSS Region it flows into. It is
   an extension of pseudo-element styling such as <a
   href="http://www.w3.org/TR/css3-selectors/#first-line"> <code
   class=css>::first-line</code> </a> which applies a particular style to a
   fragment of content. With CSS Region styling, additional selectors may
   apply depending on the CSS Region into which content flows.

  <p>In our example, the designer wants to make text flowing into #region1
   dark blue and bold.

  <p>This design can be expressed as shown below.

  <div class=example>
   <pre>
&lt;style&gt;
  #region1::region(p) {
    color: #0C3D5F;
    font-weight: bold;
  }
&lt;/style&gt;</pre>
  </div>

  <p>The <code class=css>::region()</code> functional pseudo-element takes a
   <code class=css>p</code> selector as an argument in this example. The
   color and font-weight declarations will apply to any fragments of
   paragraphs that are displayed in <code class=css>#region1</code>. The
   following figure shows how the rendering changes if we apply this styling
   specific to <code>#region1</code>. Note how less text fits into this box
   now that the ‘<code class=property>font-weight</code>’ is bold instead
   of normal.

  <div class=figure> <img
   alt="Illustrate how changing region styling affects the flow of content."
   src="images/region-styling.png" width=450>
   <p class=caption>Different rendering with a different region styling
  </div>

  <h2 id=css-regions-concepts><span class=secno>2. </span>CSS regions
   concepts</h2>

  <h3 id=regions><span class=secno>2.1. </span>Regions</h3>

  <p id=region> A <dfn id=css-region title=region>CSS Region</dfn> is a block
   container that has an associated <a href="#named-flow0"><em><span>named
   flow</span></em></a> (see the ‘<a href="#flow-from"><code
   class=property>flow-from</code></a>’ property).

  <h3 id=region-chain><span class=secno>2.2. </span>Region chain</h3>

  <p>A <dfn id=region-chain0>region chain</dfn> is the sequence of regions
   that are associated with a <a href="#named-flow0">named flow</a>. <a
   href="#css-region" title=region>CSS Regions</a> in a region chain receive
   content from the named flow following their order in the chain. <a
   href="#css-region" title=region>CSS Regions</a> are organized into a <span
   title=region-chain>region chain</span> according to the document order.

  <h3 id=named-flow><span class=secno>2.3. </span>Named flows</h3>

  <p>A <dfn id=named-flow0>named flow</dfn> is the ordered sequence of
   content associated with a flow with a given identifier. Contents in a <a
   href="#named-flow0">named flow</a> are ordered according to the document
   order.

  <p>Content is placed into a <a href="#named-flow0">named flow</a> with the
   ‘<a href="#flow-into"><code class=property>flow-into</code></a>’
   property. The content in a <a href="#named-flow0">named flow</a> is laid
   out in the <span title=region-chain>region chain</span> that is associated
   with this <a href="#named-flow0">named flow</a> using the ‘<a
   href="#flow-from"><code class=property>flow-from</code></a>’ property.

  <p>Content from a <a href="#named-flow0">named flow</a> is broken up
   between regions according to the regions flow breaking rules.

  <p>A <a href="#named-flow0">named flow</a> is created when some content is
   moved into the flow with the given identifier or when at least one CSS
   Region requests content from that flow.

  <h3 id=regions-flow-breaking-rules><span class=secno>2.4. </span>Regions
   flow breaking rules</h3>

  <p>Breaking a <a href="#named-flow0">named flow</a> across a region chain
   is similar to breaking a document's content across pages (see <a
   href="#CSS3PAGE" rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>) or a
   multi-column element's content across column boxes (see <a href="#CSS3COL"
   rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a>). One difference is that
   page boxes are generated based on the available content whereas a region
   chain is a set of recipient boxes for the <a href="#named-flow0">named
   flow</a> content whose dynamic generation is not in the scope of this
   specification.

  <p>Each CSS Region in turn consumes content from its associated <a
   href="#named-flow0">named flow</a>. The <a href="#named-flow0">named
   flow</a> content is positioned in the current region until a natural or
   forced region break occurs, at which point the next region in the <span
   title=region-chain>region chain</span> becomes the <span
   title=current-region>current region</span>. If there are no more <a
   href="#css-region">region</a>s in the region chain and there is still
   content in the flow, the positioning of the remaining content is
   controlled by the ‘<a href="#region-fragment"><code
   class=property>region-fragment</code></a>’ property on the last <a
   href="#css-region">region</a> in the chain.

  <p>The CSS regions module follows the fragmentation rules defined in the
   CSS Fragmentation Module Level 3 (see <a href="#CSS3-BREAK"
   rel=biblioentry>[CSS3-BREAK]<!--{{!CSS3-BREAK}}--></a>).

  <h2 id=properties-and-region-styling><span class=secno>3. </span>Properties
   and Region Styling</h2>

  <h3 id=the-flow-into-property><span class=secno>3.1. </span>The ‘<a
   href="#flow-into"><code class=property>flow-into</code></a>’ property</h3>

  <div class="issue-marker wrapper">
   <div class=issue-marker> <a
    href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=16527">Issue-16527</a>

    <div class=issue-details>
     <p class=short-desc>[Shadow]: getFlowByName and shadow DOM
    </div>
   </div>
  </div>

  <p>The ‘flow-into’ property can place an element or its contents into a
   <a href="#named-flow0">named flow</a>. Content that belongs to the same
   flow is laid out in the region chain associated with that flow.

  <table class=propdef summary="flow property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=flow-into>flow-into</dfn>

    <tr>
     <th>Value:

     <td>none | &lt;ident&gt; [element|content]?

    <tr>
     <th>Initial:

     <td>none

    <tr>
     <th>Applies to:

     <td>All elements, but not <a
      href="http://www.w3.org/TR/selectors/#pseudo-elements">pseudo-elements</a>
      such as <code class=css>::first-line</code>, <code
      class=css>::first-letter</code>, <code class=css>::before</code> or
      <code class=css>::after</code>.

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified
  </table>

  <dl>
   <dt>none

   <dd>The element is not moved to a <a href="#named-flow0">named flow</a>
    and normal CSS processing takes place.

   <dt><a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>

   <dd>If the keyword ‘<code class=property>element</code>’ is present or
    neither keyword is present, then the element is taken out of its parent's
    flow and placed into the flow with the name ‘<code class=css><a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a></code>’.
    If the keyword ‘<code class=property>content</code>’ is present, then
    only the element's contents are placed into the named flow. The element
    or content is said to have a <dfn id=specified-flow>specified flow</dfn>.
    The values ‘<code class=property>none</code>’, ‘<code
    class=property>inherit</code>’, ‘<code
    class=property>default</code>’, ‘<code class=property>auto</code>’
    and ‘<code class=property>initial</code>’ are invalid flow names.
  </dl>

  <p>The ‘<a href="#flow-into"><code class=property>flow-into</code></a>’
   property does not affect the CSS cascade and inheritance for the elements
   on which it is specified. The ‘<a href="#flow-into"><code
   class=property>flow-into</code></a>’ property does not affect the <a
   href="http://www.w3.org/TR/2012/WD-dom-20120405/#introduction-to-the-dom">DOM</a>
   <a href="#DOM" rel=biblioentry>[DOM]<!--{{!DOM}}--></a> position of an
   element or its contents. The ‘<a href="#flow-into"><code
   class=property>flow-into</code></a>’ property affects the visual
   formatting of elements or contents placed into a <a
   href="#named-flow0">named flow</a> and of the region chain laying out
   content from a <a href="#named-flow0">named flow</a>.

  <p>A <a href="#named-flow0">named flow</a> needs to be associated with a
   region chain (one or more CSS regions) for its content to be visually
   formatted. If no region chain is associated with a given <a
   href="#named-flow0">named flow</a>, the content in the <a
   href="#named-flow0">named flow</a> is not rendered: it does not generate
   boxes and is not displayed.

  <p>The children of an element or content with a specified flow may
   themselves have a specified flow. If an element or content has the same
   specified flow as one of its ancestors, it becomes the next sibling of its
   closest ancestor with the same specified flow.

  <p>Content in a <a href="#named-flow0">named flow</a> is sequenced in
   document order. The visual formatting model uses the relationships between
   content in the named flow as input, rather than the contents’ position
   in the DOM.

  <p>The edges of the first CSS region in a region chain associated with a <a
   href="#named-flow0">named flow</a> establish the rectangle that is the <a
   href="http://www.w3.org/TR/CSS2/visudet.html#containing-block-details">containing
   block</a> used for absolutely positioned elements in the <a
   href="#named-flow0">named flow</a> which do not have an ancestor with a
   ‘<code class=property>position</code>’ of ‘<code
   class=property>absolute</code>’, ‘<code
   class=property>relative</code>’ or ‘<code
   class=property>fixed</code>’ (see <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>). That first CSS region
   rectangle is used as the containing block instead of the initial
   containing block. This does not affect fixed position elements in the <a
   href="#named-flow0">named flow</a> - they are still positioned relative to
   the viewport or page area even if they have been redirected to a named
   flow.

  <p>The first region defines the principal <a
   href="http://www.w3.org/TR/css3-writing-modes/#writing-mode1">writing
   mode</a> for the entire flow. The writing mode on subsequent regions is
   ignored.

  <div class=note><span class=note-prefix>Note </span>
   <p>The ‘<a href="#flow-into"><code
    class=property>flow-into</code></a>’ property moves an element into the
    flow and the interplay with selectors should be considered carefully.

   <p>For example,

   <pre>table {flow-into: table-content}</pre>

   <p>will move all tables in the ‘<code
    class=property>table-content</code>’ <a href="#named-flow0">named
    flow</a>. However, the

   <pre>table &gt; * {flow-into: table-content} ...</pre>

   <p>selector will move all immediate children of all table elements into
    the ‘table-content’ <a href="#named-flow0">named flow</a> (which may
    be useful as it will usually result, if the immediate children are rows,
    in merging rows of multiple tables), but the

   <pre>table * {flow-into: table-content}</pre>

   <p>selector will move all descendants of table elements into the
    ‘table-content’ <a href="#named-flow0">named flow</a>, transforming
    the element tree into a flat list in order of opening tags (which is
    probably not intentional). This will make all the descendants of table
    elements siblings in the <a href="#named-flow0">named flow</a>. Having
    the descendants become siblings in the <a href="#named-flow0">named
    flow</a> results in a different processing (see <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/tables.html#anonymous-boxes">CSS
    2.1‘<code class=css>s anonymous table objects</code></a>). This note
    illustrates how authors must exercise caution when choosing a particular
    selector for setting the ’flow-into' property to avoid unintended
    results.
  </div>

  <div class=note><span class=note-prefix>Note </span>
   <p>Another consequence of moving elements into named flows is that
    surrounding whitespace is not moved into the named flow. If you have code
    like this:

   <pre>span {flow-into: span-content}
&lt;span&gt;one&lt;/span&gt;
&lt;span&gt;two&lt;/span&gt;
</pre>
   Then the ‘<code class=property>span-content</code>’ named flow
   contents will contain this:
   <pre>&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;
</pre>
   Which will change the display from "one two" to "onetwo". If whitespace is
   significant, then moving the parent that contains the whitespace to the
   named flow is required.</div>

  <h3 id=the-flow-from-property><span class=secno>3.2. </span>The ‘<a
   href="#flow-from"><code class=property>flow-from</code></a>’ property</h3>

  <p>The ‘<a href="#flow-from"><code class=property>flow-from</code></a>’
   property makes a block container a region and associates it with a <a
   href="#named-flow0">named flow</a>.

  <table class=propdef summary="flow-from property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=flow-from>flow-from</dfn>

    <tr>
     <th>Value:

     <td>&lt;ident&gt; | none | inherit

    <tr>
     <th>Initial:

     <td>none

    <tr>
     <th>Applies to:

     <td>Non-replaced <a
      href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">block
      containers</a> whose display property computes to block, inline-block
      or table-cell. <br>
      This might be expanded in future versions of the specification to allow
      other types of containers to receive flow content.

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified
  </table>

  <dl>
   <dt><strong>none</strong>

   <dd>The block container is not a <a href="#css-region"
    title=region>region</a>.

   <dt><strong><a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a></strong>

   <dd> If the ‘<code class=property>content</code>’ property computes to
    something else than ‘<code class=property>normal</code>’ (or ‘<code
    class=property>none</code>’ for a pseudo-element), the block container
    does not become a <span>CSS Region</span>. If the ‘<code
    class=property>content</code>’ property computes to ‘<code
    class=property>normal</code>’ (or ‘<code
    class=property>none</code>’ for a pseudo-element), then the block
    container becomes a <span>CSS Region</span> and is ordered in a <a
    href="#region-chain0">region chain</a> according to its document order.
    The content from the flow with the <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
    name will be <a href="#region-flow-break">broken into fragments</a> and
    visually formatted in the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#principal-box">principal
    boxes</a> of the <a href="#css-region">regions</a> in the <a
    href="#region-chain0">region chain</a>. <br>
    If there is no flow with name <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>,
    then the block container does not format any content visually.
  </dl>

  <p>A <span>CSS Region</span>’s document children are not visually
   formatted unless they are directed to a <a href="#named-flow0">named
   flow</a> with an associated <a href="#region-chain0">region chain</a>.

  <p>Block container pseudo-elements where the value of ‘<a
   href="#flow-from"><code class=property>flow-from</code></a>’ computes to
   an <a
   href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
   and the value of ‘<code class=property>content</code>’ computes to
   ‘<code class=property>none</code>’ are generated as CSS Regions, which
   is an update to the behavior described in <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>.

  <div class=note><span class=note-prefix>Note </span>
   <p>A block container becomes a <span>CSS Region</span> when its ‘<a
    href="#flow-from"><code class=property>flow-from</code></a>’ property
    is set to a valid <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
    value, even if there is no content contributing to the referenced flow.
    For example:

   <pre>
&lt;style&gt;
  .article{
    flow-into: thread;
  }
  .region{
    flow-from: thread;
  }
&lt;/style&gt;
&lt;html&gt;
  &lt;body&gt;
    &lt;div class=region&gt;div content&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
        </pre>
   There is no element matching the <code>.article</code> selector and
   therefore no content in the <code>thread</code> flow. However, the block
   container matching the <a href="#css-region"><code>.region</code></a>
   selector is still associated with that empty <a href="#named-flow0">named
   flow</a> and, consequently, its children are not formatted visually.</div>

  <p><a href="#css-region" title=region>CSS Regions</a> create a new <a
   href="http://www.w3.org/TR/CSS2/visuren.html#z-index">stacking
   context</a>. <a href="#css-region" title=region>CSS Regions</a> establish
   a new <a
   href="http://www.w3.org/TR/CSS2/visuren.html#block-formatting">block
   formatting Context</a>. Exclusions (see <a href="#CSS3-EXCLUSIONS"
   rel=biblioentry>[CSS3-EXCLUSIONS]<!--{{CSS3-EXCLUSIONS}}--></a>)
   potentially impact the content laid out in region chains, just as for
   non-regions.

  <div class=note><span class=note-prefix>Note </span>
   <p>With <a href="#region-chain0">region chains</a>, an element may be
    split across multiple boxes and these boxes may overlap (for example if
    they are absolutely positioned). So fragments of the same element can
    overlap each other. Since each element has a single z-index, it would be
    required to find another mechanism to decide in which order
    the fragments are rendered. Since each <span>CSS Region</span> creates a
    new stacking context, it is clear that each fragment is rendered
    separately and their rendering order follows the regular CSS rendering
    model.

   <p>Fragments rendering separately is also relevant to elements that might
    normally be rendered as a unit (for example, an element with its own
    stacking context, or with transparency). Each fragment of these elements
    is separately contained in the stacking context created by the <span>CSS
    Region</span>, so each fragment of these elements is rendered separately.
  </div>

  <p>See the <a href="#regions-visual-formatting-details">regions visual
   formatting details</a> section for a description of how ‘<code
   class=property>width</code>’ and ‘<code
   class=property>height</code>’ values are resolved for <span>CSS
   Region</span> boxes.

  <h4 id=circular-dependencies><span class=secno>3.2.1. </span>Cycle
   Detection</h4>

  <p><a href="#named-flow0">Named flows</a> containing elements where the
   value of ‘<a href="#flow-from"><code
   class=property>flow-from</code></a>’ computes to an <a
   href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
   can produce nonsensical circular relationships, such as a <a
   href="#named-flow0">named flow</a> containing <span>CSS Regions</span> in
   its own <a href="#region-chain0">region chain</a>. These relationships can
   be easily and reliably detected and resolved, however, by keeping track of
   a dependency graph and using common cycle-detection algorithms.

  <p>The dependency graph consists of edges such that:

  <ul>
   <li>Every <a href="#named-flow0">named flow</a> depends on its elements
    where the value of ‘<a href="#flow-from"><code
    class=property>flow-from</code></a>’ computes to an <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
    .

   <li>Every element in a <a href="#named-flow0">named flow</a> where the
    value of ‘<a href="#flow-from"><code
    class=property>flow-from</code></a>’ computes to an <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
    depends on the <a href="#named-flow0">named flow</a> with the <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
    name.
  </ul>

  <p>If the graph contains a cycle, any elements where the value of ‘<a
   href="#flow-from"><code class=property>flow-from</code></a>’ computes to
   an <a
   href="http://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#value-def-identifier">&lt;ident&gt;</a>
   participating in the cycle do not become <span>CSS Regions</span>.

  <div class=note><span class=note-prefix>Note </span>
   <p>For example, styling like this:

   <pre>
#id {
    flow-into: foolish;
    flow-from: foolish;
}
        </pre>

   <p>would move the <code>#id</code> element to a ‘<code
    class=property>foolish</code>’ <a href="#named-flow0">named flow</a>,
    and try to make the <code>#id</code> element a <span>CSS Region</span>
    for the ‘<code class=property>foolish</code>’ <a
    href="#named-flow0">named flow</a>. The ‘<code
    class=property>foolish</code>’ <a href="#named-flow0">named flow</a>
    would then contain its own region, creating a cycle. So the
    <code>#id</code> element does not become a <span>CSS Region</span>.
  </div>

  <h4 id=fragmenting-regions><span class=secno>3.2.2. </span>Nested
   fragmentation contexts</h4>

  <p>A <span>CSS Region</span> that contains a fragment of a <a
   href="#named-flow0">named flow</a> can itself be fragmented if it is
   nested within a fragmentation context <a href="#CSS3-BREAK"
   rel=biblioentry>[CSS3-BREAK]<!--{{!CSS3-BREAK}}--></a>, such as when a
   layout using a region chain is printed. In these cases break opportunities
   in the named flow fragment contained by the <span>CSS Region</span> are
   determined using the standard <a
   href="http://www.w3.org/TR/css3-break/">fragmentation rules</a>. In other
   words, each region box and its associated fragment should break as if it
   were a simple div containing the fragment contents. This can be controlled
   by using an avoid break value on the <span>CSS Region</span>, if that is
   desired.

  <p>A <span>CSS Region</span> can be part of the contents of a separate
   named flow, as long as there are no cycles broken by the <a
   href="#circular-dependencies">Cycle Detection</a> described above. This
   case is a <dfn id=nested-region-context>nested region context</dfn>, which
   has an effect on the <a href="#regions-visual-formatting-steps">Visual
   Formatting Steps</a> described below.

  <h3 id=region-flow-break><span class=secno>3.3. </span>Region flow break
   properties: ‘<a href="#break-before"><code
   class=property>break-before</code></a>’, ‘<a href="#break-after"><code
   class=property>break-after</code></a>’, ‘<a href="#break-inside"><code
   class=property>break-inside</code></a>’</h3>

  <div class=note><span class=note-prefix>Note </span>
   <p>This section is also defined in <a href="#CSS3-BREAK"
    rel=biblioentry>[CSS3-BREAK]<!--{{!CSS3-BREAK}}--></a>. If that
    specification moves to last call with the region values, the section here
    can be replaced by a reference.
  </div>

  <p>User agents laying out content in multiple regions must determine where
   content breaks occur. The problem of breaking content into fragments
   fitting in regions is similar to breaking content into pages or columns.

  <p>Each break ends layout in the current region and causes remaining pieces
   of content from the <a href="#named-flow0">named flow</a> to be visually
   formatted in the following region in the region chain, if there is one.

  <p>The following extends the ‘<a href="#break-before"><code
   class=property>break-before</code></a>’, ‘<a href="#break-after"><code
   class=property>break-after</code></a>’ and ‘<a
   href="#break-inside"><code class=property>break-inside</code></a>’
   properties from the <a href="#CSS3COL"
   rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a> specification to account
   for regions. The additional values are described below.

  <table class=propdef summary="break-before property definition">
   <tbody>
    <tr>
     <td><a href="#dom-named-flow-name"><em>Name:</em></a>

     <td><dfn id=break-before>break-before</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | always | avoid | left | right | page | column | region |
      avoid-page | avoid-column | avoid-region

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <table class=propdef summary="break-after property definition">
   <tbody>
    <tr>
     <td><a href="#dom-named-flow-name"><em>Name:</em></a>

     <td><dfn id=break-after>break-after</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | always | avoid | left | right | page | column | region |
      avoid-page | avoid-column | avoid-region

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <table class=propdef summary="break-inside property definition">
   <tbody>
    <tr>
     <td><a href="#dom-named-flow-name"><em>Name:</em></a>

     <td><dfn id=break-inside>break-inside</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | avoid | avoid-page | avoid-column | avoid-region

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td>block-level elements

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>These properties describe page, column and region break behavior
   before/after/inside the generated box. These values are normatively
   defined in <a href="#CSS3COL"
   rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a>:

  <p>This specification adds the following new values:

  <dl>
   <dt>region

   <dd>Always force a region break before (after) the generated box.

   <dt>avoid-region

   <dd>Avoid a region break before (after, inside) the generated box.
  </dl>

  <p>The behavior of region breaks with regards to regions is identical to
   the behavior of page breaks with regards to pages, as defined in the <a
   href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>.

  <h3 id=the-region-fragment-property><span class=secno>3.4. </span>The
   region-fragment property</h3>

  <table class=propdef summary="break-after property definition">
   <tbody>
    <tr>
     <td><a href="#dom-named-flow-name"><em>Name:</em></a>

     <td><dfn id=region-fragment>region-fragment</dfn>

    <tr>
     <td><em>Value:</em>

     <td>auto | break

    <tr>
     <td><em>Initial:</em>

     <td>auto

    <tr>
     <td><em>Applies to:</em>

     <td><em title="region element">CSS Regions</em>

    <tr>
     <td><em>Inherited:</em>

     <td>no

    <tr>
     <td><em>Percentages:</em>

     <td>N/A

    <tr>
     <td><em>Media:</em>

     <td>visual

    <tr>
     <td><em>Computed value:</em>

     <td>specified value
  </table>

  <p>The ‘<a href="#region-fragment"><code
   class=property>region-fragment</code></a>’ property controls the
   behavior of the <em id=last-region>last region</em> associated with a <a
   href="#named-flow0">named flow</a>.

  <dl>
   <dt>auto

   <dd>Content flows as it would in a regular content box. If the content
    exceeds the container box, it is subject to the <a
    href="http://www.w3.org/TR/CSS21/visufx.html#propdef-overflow">overflow</a>
    property's computed value on the CSS Region. Region breaks must be
    ignored on the last region.

   <dt>break

   <dd>
    <p>If the content fits within the <em>CSS Region</em>, then this property
     has no effect. If the content does not fit within the <em>CSS
     Region</em>, the content breaks as if flow was going to continue in a
     subsequent region. See the <a
     href="#regions-flow-breaking-rules">breaking rules</a> section. A forced
     region break takes precedence over a natural break point.

    <p>Flow content that follows the last break in the last region is not
     rendered.
  </dl>

  <p>The ‘<a href="#region-fragment"><code
   class=property>region-fragment</code></a>’ property does not influence
   the size of the region it applies to.

  <p>The following code sample illustrates the usage of the ‘<a
   href="#region-fragment"><code class=property>region-fragment</code></a>’
   property.

  <div class=example>
   <pre>
&lt;element name="two-region-example" extends="body"&gt;
  &lt;template&gt;
    &lt;style&gt;
      article {
        flow-into: article-flow;
      }
      #region-1, #region-2 {
        flow-from: article-flow;
        <strong>region-fragment: break;</strong> /* or auto */
        <strong>overflow: visible;</strong> /* or hidden */
      }
    &lt;/style&gt;
    &lt;div id="region-1"&gt;&lt;/div&gt;
    &lt;div id="region-2"&gt;&lt;/div&gt;
  &lt;/template&gt;
&lt;/element&gt;

&lt;body is="two-region-example"&gt;
  &lt;article&gt;...&lt;/article&gt;
&lt;/body&gt;
      </pre>
  </div>

  <div class=figure>
   <table style="border: 1px solid gray;width: 100%;"
    summary="Different values for the region-fragment property - Illustration.">
    <tbody>
     <tr>
      <td>‘<code class=css>flow-into: "article"</code>’

      <td><code>region-1</code> and <code class=html>region-2</code>

      <td>‘<code class=css>region-fragment: auto</code>’<br>
       ‘<code class=css>overflow:visible</code>’

     <tr>
      <td rowspan=3 style="vertical-align: top;"><img
       alt="regions receiving the flow content"
       src="images/region-overflow-flow.png">

      <td><img alt="result if region-overflow is set to 'break'"
       src="images/region-overflow-regions.png">

      <td><img alt="regions receiving the flow content"
       src="images/region-overflow-auto-overflow-visible.png">

     <tr>
      <td>‘<code class=css>region-fragment: break</code>’

      <td>‘<code class=css>region-fragment: auto</code>’<br>
       ‘<code class=css>overflow:hidden</code>’

     <tr>
      <td><img alt="result if region-overflow is set to 'break'"
       src="images/region-overflow-break.png">

      <td><img alt="regions receiving the flow content"
       src="images/region-overflow-auto-overflow-hidden.png">
   </table>

   <p class=caption>Different values for the region-fragment property
  </div>

  <div class=note><span class=note-prefix>Note </span>
   <p>The ‘<code class=property>overflow</code>’ property is honored on a
    region: if region content overflows, such as the borders of elements on
    the last line, the ‘<code class=property>overflow</code>’ property
    controls the visibility of the overflowing content. See the ‘<code
    class=property>overflow</code>’ property definition (<a href="#CSS21"
    rel=biblioentry>[CSS21]<!--{{CSS21}}--></a>).
  </div>

  <h3 id=the-region-pseudo-element><span class=secno>3.5. </span>The
   ::region() functional pseudo-element</h3>

  <p>A ::region() functional pseudo-element can be appended to a selector
   that matches a CSS Region, and takes a selector as an argument. This
   allows style declarations to be applied to fragments of named flow content
   flowing through particular regions.

  <pre>
&lt;region selector&gt;::region(&lt;content selector&gt;) {
    ... CSS styling declarations ...
}         
    </pre>

  <p>When the ::region() pseudo-element is appended to a <a
   href="http://www.w3.org/TR/css3-selectors/#selector-syntax">selector</a>
   that matches one or more CSS Regions, this creates a ‘<code
   class=css>flow fragment</code>’ selector. The flow fragment selector
   specifies which range of elements in the flow can be matched by the
   selector argument. The selector argument can match elements in the
   range(s) (see <a href="#DOM" rel=biblioentry>[DOM]<!--{{!DOM}}--></a>) of
   the named flow that are displayed in the selected region(s).

  <p>Elements that are fully or partially in the flow fragment range may
   match a selector argument. However, the style declarations only apply to
   the fragment of the element that is displayed in the corresponding
   region(s).

  <p>Only a limited list of properties apply to a ::region() functional
   pseudo-element:

  <ol>
   <li><a href="http://www.w3.org/TR/CSS2/fonts.html">font properties</a>

   <li><a href="http://www.w3.org/TR/CSS2/colors.html">color property</a>

   <li><a href="http://www.w3.org/TR/css3-color/#transparency">opacity
    property</a>

   <li><a href="http://www.w3.org/TR/css3-background/#backgrounds">background
    property</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/text.html#propdef-word-spacing">‘<code
    class=property>word-spacing</code>’</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/text.html#propdef-letter-spacing">‘<code
    class=property>letter-spacing</code>’</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/text.html#propdef-text-decoration">‘<code
    class=property>text-decoration</code>’</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/text.html#propdef-text-transform">‘<code
    class=property>text-transform</code>’</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/visudet.html#propdef-line-height">‘<code
    class=property>line-height</code>’</a>

   <li><a href="http://www.w3.org/TR/css3-text/#justification">alignment and
    justification properties</a>

   <li><a href="http://www.w3.org/TR/css3-background/#borders">border
    properties</a>

   <li><a href="http://www.w3.org/TR/css3-background/#corners">rounded corner
    properties</a>

   <li><a href="http://www.w3.org/TR/css3-background/#border-images">border
    images properties</a>

   <li><a href="http://www.w3.org/TR/CSS2/box.html#margin-properties">margin
    properties</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/box.html#padding-properties">padding
    properties</a>

   <li><a href="http://www.w3.org/TR/css3-text/#text-shadow">‘<code
    class=property>text-shadow</code>’ property</a>

   <li><a
    href="http://www.w3.org/TR/css3-background/#the-box-shadow">‘<code
    class=property>box-shadow</code>’ property</a>

   <li><a
    href="http://www.w3.org/TR/css3-background/#the-box-decoration-break">‘<code
    class=property>box-decoration-break</code>’ property</a>

   <li><a
    href="http://www.w3.org/TR/CSS2/visudet.html#the-width-property">‘<code
    class=property>width</code>’ property</a>
  </ol>

  <div class=example id=region-style-example>
   <p>In the following example, the <a href="#named-flow0">named flow</a>
    ‘<code class=property>article-flow</code>’ flows through ‘<code
    class=css>region-1</code>’ and ‘<code class=css>region-2</code>’.

   <pre>
&lt;element name="x-region-style-example" extends="body"&gt;
  &lt;template&gt;
    &lt;style&gt;
      #div-1 {
        <strong>flow-into: article-flow;</strong>
      }

      #region-1, #region-2 {
        <strong>flow-from: article-flow;</strong>
      }

      /* region styling */
      <strong>#region-1::region(p)</strong> {
        margin-right: 5em;
      }
    &lt;/style&gt;

    &lt;div id="region-1"&gt;&lt;/div&gt;
    &lt;div id="region-2"&gt;&lt;/div&gt;
  &lt;/template&gt;
&lt;/element&gt;        

&lt;body is="x-region-style-example"&gt;
  &lt;div id="div-1"&gt;
      &lt;p id="p-1"&gt;...&lt;/p&gt;
      &lt;p id="p-2"&gt;...&lt;/p&gt;
  &lt;/div&gt;
&lt;/body&gt;
</pre>

   <div id="region_styling_illustration"> <img
    alt="Example showing how a named flow content fits into regions to illustrate region styling."
    id="region_styling_img_2" name="region_styling_img_2"
    src="images/region-styling-2.png">
    <ul class=swatch-list>
     <li><span class=swatch style="background:#1C75BC"> </span>div div-1

     <li><span class=swatch style="background:crimson"> </span>paragraph p-1

     <li><span class=swatch style="background:white"> </span>paragraph p-2

     <li><span class=swatch style="background:#E6E7E8"> </span>range of flow
      that fits into region-1

     <li><span class=swatch style="background:#BCBEC0"> </span>range of flow
      that fits into region-2
    </ul>
   </div>

   <p>The region styling applies to flow content that fits in ‘<code
    class=css>region-1</code>’. The selector argument matches ‘<code
    class=css>p-1</code>’ and ‘<code class=css>p-2</code>’ because
    these paragraphs flow into ‘<code class=css>region-1</code>’. Only
    the fragment of ‘<code class=css>p-2</code>’ that flows into ‘<code
    class=css>region-1</code>’ is styled with the pseudo-element.
  </div>

  <p>All of the selectors in a ::region() functional pseudo-element
   contribute to its <a
   href="http://www.w3.org/TR/css3-selectors/#specificity">specificity</a>.
   So the specificity of the ::region() pseudo-element in the example above
   would combine the id selector's specificity with the specificity of the
   type selector in the argument, resulting in a specificity of 101.

  <p>Selectors that match a given element or element fragment (as described
   above), participate in the <a
   href="http://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#cascading-order">CSS
   Cascading order</a> as defined in <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>.

  <div> Region styling does not apply to nested regions. For example, if a
   region ‘<code class=property>A</code>’ receives content from a flow
   that contains region ‘<code class=property>B</code>’, the content that
   flows into ‘<code class=property>B</code>’ does not receive the region
   styling specified for region ‘<code class=property>A</code>’.</div>

  <h2 id=multi-column-regions><span class=secno>4. </span>Multi-column
   regions</h2>

  <p>A <a
   href="http://dev.w3.org/csswg/css3-multicol/#multi-column-element">multi-column</a>
   <a href="#CSS3COL" rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a> element
   can have an assigned to a <a href="#region-chain0">region chain</a>. The
   element becomes part of the region chain for the associated <a
   href="#named-flow0">named flow</a>, and flows its content fragments
   through columns according to the multi-column specification <a
   href="#CSS3COL" rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a>. In
   particular, when computing the <a
   href="#rfcb-flow-fragment-height-resolution">flow fragment height</a> of a
   multi-column element that is associated with a <a
   href="#named-flow0"><em><span>named flow</span></em></a>, the <a
   href="http://dev.w3.org/csswg/css3-multicol/#column-fill">‘<code
   class=property>column-fill</code>’</a> <a href="#CSS3COL"
   rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a> property is honored to
   balance the fragments of content that would flow through its columns.

  <div class=example>
   <p>The following example:

   <pre>
&lt;element name="x-multicol-region" extends="body"&gt;
  &lt;template&gt;
    &lt;style&gt;    
      article {
        flow-into: article-flow;
      }
      #multi-col {
          column-count: 2;
          flow-from: article;
          height: 6em;
          column-gap: 1em; 
      }
      
      #remainder {
          flow-from: article;
          height: auto;
      }
    &lt;/style&gt;
    &lt;div id="multicol"&gt;&lt;/div&gt;
    &lt;div id="remainder"&gt;&lt;/div&gt;
  &lt;/template&gt;
&lt;/element&gt;

&lt;body is="x-multicol-region"&gt;
  &lt;article&gt;...&lt;/article&gt;
&lt;/body&gt;
</pre>

   <p>is equivalent in rendering to, for example:

   <pre>
&lt;element name="x-single-col-regions" extends="body"&gt;
  &lt;template&gt;
    &lt;style&gt;    
      article {
        flow-into: article-flow;
      }
      #flex {
          display: flex;
          flex-pack: justify;
          height: 6em;
      }
      #flex > div {
          flow-from: article;
          width: calc(50% - 0.5em);
      }

      #remainder {
          flow-from: article;
          height: auto;
      }
    &lt;/style&gt;
    &lt;div id="flex"&gt;
      &lt;div /&gt;
      &lt;div /&gt;
    &lt;/div&gt;
    &lt;div id="remainder"&gt;&lt;/div&gt;
  &lt;/template&gt;
&lt;/element&gt; 
        
&lt;body is="x-single-col-regions"&gt;
  &lt;article&gt;...&lt;/article&gt;
&lt;/body&gt;
</pre>
  </div>

  <p>Overflow of multicol regions is mostly handled according to the same
   rules as other CSS Regions. If the remainder of the named flow does not
   fit in the multicol region, then the rest of the content flows into the
   remaining region chain. However, if a multicol region is the last region
   in a <a href="#region-chain0">region chain</a>, then the multicol region
   must follow the <a
   href="http://dev.w3.org/csswg/css3-multicol/#overflow-columns">overflow
   column rules</a> <a href="#CSS3COL"
   rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a>.

  <h2 id="pseudo_elements"><span class=secno>5. </span>Pseudo-elements</h2>

  <p>It can be useful to visually mark the content to highlight that a
   content thread is flowing through the region chain. For example, a marker
   such as <em>‘<code class=css>continued below</code>’</em> clearly
   indicates, at the end of a CSS Region, that there is more content in the
   flow which can be found by scrolling past whatever content interrupts the
   region chain.

  <p>The ‘<code class=css>::before</code>’ and ‘<code
   class=css>::after</code>’ pseudo-elements (see <a href="#SELECT"
   rel=biblioentry>[SELECT]<!--{{!SELECT}}--></a>) let content authors mark
   the beginning and end of a region with such markers.

  <h3 id=processing-model><span class=secno>5.1. </span>Processing model</h3>

  <p>The ‘<code class=css>::before</code>’ content is laid out in the
   region prior to any other content coming from the flow. Note that it is
   possible to set the ‘<code class=css>::before</code>’ pseudo-element's
   ‘<code class=property>display</code>’ property to ‘<code
   class=property>run-in</code>’ to align it with the content's inline
   boxes.

  <p>The ‘<code class=css>::after</code>’ content is laid out in the
   region after laying out the flow fragment content. Then, flow content is
   removed from the fragment to accommodate the ‘<code
   class=css>::after</code>’ content. Accommodating means that the ‘<code
   class=css>::after</code>’ content is laid out without overflowing the
   region. The ‘<code class=property>display</code>’ property of the
   ‘<code class=css>::after</code>’ content can be set to ‘<code
   class=property>run-in</code>’ to align with the region's content's
   inline boxes. In that case, the ‘<code class=css>::after</code>’
   content aligns with the last inline box of the previous element in the
   flow that has some visual rendering in the region and can accommodate for
   the ‘<code class=css>::after</code>’ box.

  <p>If there is not enough room to accommodate the ::before content, the
   ‘<code class=css>::after</code>’ content after removing all flow
   fragment content, or a combination of the two, then the ::before and/or
   ::after content overflows that region.

  <h2 id="cssom_view_and_css_regions"><span class=secno>6. </span>CSSOM</h2>

  <p>Since content may flow into multiple regions, authors need a way to
   determine if there are enough regions to flow all the content from a named
   flow. This is especially important considering that the size of regions or
   the size of the content may change depending on the display context. For
   example, flowing the same content on a mobile phone with a small screen
   may require more regions than on a large desktop display. Another example
   is the user changing the font size of text flowing through regions.
   Depending on the change, new regions may be needed to accommodate for the
   additional space required to fit the larger text or some regions may need
   to be removed for smaller text.

  <h3 id=the-namedflow-interface><span class=secno>6.1. </span>The NamedFlow
   interface</h3>

  <p>The following APIs allow scripts to reference a <a
   href="#dom-named-flow"><code class=idl>NamedFlow</code></a> object
   representation of a <a href="#named-flow0">named flow</a>.

  <p>An additional method on the <a
   href="http://www.w3.org/TR/dom/#interface-document"><code
   class=idl>Document</code></a> interface provide access to <a
   href="#named-flow0">named flows</a>.

  <pre class=idl>
partial interface <a
   href="http://www.w3.org/TR/dom/#interface-document">Document</a> {
  <a
   href="#dom-named-flow-collection">NamedFlowCollection</a> <a
   href="#document-getnamedflows">getNamedFlows()</a>;
};               
</pre>

  <p>The <dfn id=document-getnamedflows><code
   class=idl>getNamedFlows()</code></dfn> method on the <a
   href="http://www.w3.org/TR/dom/#interface-document"><code
   class=idl>Document</code></a> interface returns a static snapshot of all
   the current <a href="#named-flow0">named flows</a> in the document.

  <p>The <a href="#dom-named-flow"><code class=idl>namedFlows</code></a>
   collection must include all <a href="#named-flow0">named flows</a> that
   are currently in the <code>CREATED</code> state. The list must not include
   <a href="#named-flow0">named flows</a> that are in the <code>NULL</code>
   state.

  <p>The <dfn id=dom-named-flow-collection><code
   class=idl>NamedFlowCollection</code></dfn> interface provides a list of
   current <a href="#dom-named-flow"><code class=idl>NamedFlow</code></a>
   instances in the document. The collection is a snapshot of the data.

  <pre class=idl>
interface <a
   href="#dom-named-flow-collection">NamedFlowCollection</a> {
  readonly attribute unsigned long <a
   href="#dom-named-flow-collection-length">length</a>;
  [IndexGetter] <a
   href="#dom-named-flow">NamedFlow?</a> <a
   href="#dom-named-flow-collection-item">item</a> (unsigned long index);
  [NameGetter] <a
   href="#dom-named-flow">NamedFlow?</a> <a
   href="#dom-named-flow-collection-named-item">namedItem</a> (DOMString name);
};</pre>

  <p>The <dfn id=dom-named-flow-collection-length><code
   class=idl>length</code></dfn> attribute returns the number of items in the
   collection.

  <p>The <dfn id=dom-named-flow-collection-item><code
   class=idl>item(index)</code></dfn> method returns the <a
   href="#dom-named-flow"><code>NamedFlow</code></a> instance at index
   <em>index</em> in the collection or <code class=idl>null</code> if
   <em>index</em> is out of range. An object <code>collection</code>
   implementing <a
   href="#dom-named-flow-collection"><code>NamedFlowCollection</code></a>
   supports indices in the range <code>0 ≤ index <
   collection.length</code>.

  <p>The <dfn id=dom-named-flow-collection-named-item><code
   class=idl>namedItem(name)</code></dfn> method returns the <a
   href="#dom-named-flow"><code>NamedFlow</code></a> instance in the
   collection whose name attribute matches the supplied <a
   href="#dom-named-flow-name"><em>name</em></a>, or <code
   class=idl>null</code> if there is no match.

  <p>The <dfn id=dom-named-flow><code class=idl>NamedFlow</code></dfn>
   interface offers a representation of a <a href="#named-flow0">named
   flow</a> instance.

  <p>The <a href="#dom-named-flow"><code class=idl>NamedFlow</code></a>
   interface can be used for different purposes. For example, the <a
   href="#dom-named-flow-get-regions-by-content"><code>getRegionsByContent()</code></a>
   method can help navigate by bookmark: a script can find the <a
   href="#css-region">region</a>s that display a particular anchor and bring
   them to view.

  <p>Likewise, the interface allows authors to check if all content has been
   fitted into existing regions. If it has, the <a
   href="#dom-named-flow-overset"><code>overset</code></a> attribute would be
   false.

  <pre class=idl>
interface <a href="#dom-named-flow">NamedFlow</a> : <a
   href="http://www.w3.org/TR/dom/#interface-eventtarget">EventTarget</a> {
  readonly attribute DOMString <a
   href="#dom-named-flow-name">name</a>;
  readonly attribute boolean <a
   href="#dom-named-flow-overset">overset</a>;
  sequence&lt;<a
   href="#region-interface">Region</a>&gt; <a
   href="#dom-named-flow-get-regions">getRegions()</a>;
  readonly attribute integer <a
   href="#dom-named-flow-first-empty-region-index">firstEmptyRegionIndex</a>;
  sequence&lt;<a
   href="http://www.w3.org/TR/dom/#interface-node">Node</a>&gt; <a
   href="#dom-named-flow-get-content">getContent()</a>;
  sequence&lt;<a
   href="#region-interface">Region</a>&gt; <a
   href="#dom-named-flow-get-regions-by-content">getRegionsByContent</a>(<a
   href="http://www.w3.org/TR/dom/#interface-node">Node</a> node);
};</pre>

  <p>The <dfn id=dom-named-flow-name><code class=idl>name</code></dfn>
   attribute returns the name of the <a href="#dom-named-flow"><code
   class=idl>NamedFlow</code></a> instance.

  <p>The <dfn id=dom-named-flow-overset><code class=idl>overset</code></dfn>
   attribute returns true if there are <a href="#named-flow0">named flow</a>
   fragments that do not fit in the associated region chain (including the
   case where there are <a href="#named-flow0">named flow</a> fragments but
   no regions in the <a href="#region-chain0">region chain</a>). Otherwise,
   it returns false.

  <p>The <dfn id=dom-named-flow-get-regions><code
   class=idl>getRegions()</code></dfn> method returns the sequence of regions
   in the <a href="#region-chain0">region chain</a> associated with the <a
   href="#named-flow0">named flow</a>. Note that the returned values is a
   static sequence in document order.

  <p>The <dfn
   id=dom-named-flow-first-empty-region-index>firstEmptyRegionIndex</dfn> is
   the index of the first region in the region chain with the <a
   href="#dom-region-regionoverset"><code>regionOverset</code></a> attribute
   set to <code>empty</code>. If all regions have the <a
   href="#dom-region-regionoverset"><code>regionOverset</code></a> attribute
   set to <code>fit</code> or <a
   href="#dom-named-flow-overset"><code>overset</code></a>, the value for <a
   href="#dom-named-flow-first-empty-region-index"><code>firstEmptyRegionIndex</code></a>
   is <code>-1</code>. If there are no regions in the <a
   href="#region-chain0">region chain</a>, the value is <code>-1</code> as
   well.

  <p>The <dfn id=dom-named-flow-get-content>getContent()</dfn> method returns
   an ordered collection of nodes that constitute the <a
   href="#named-flow0">named flow</a>. The returned list is a static snapshot
   of the <a href="#named-flow0">named flow</a> content at the time the
   method is invoked. This list contains the contents that were moved to the
   <a href="#named-flow0">named flow</a> by the flow-into property but not
   any descendants (unless the descendants are themselves moved to the <a
   href="#named-flow0">named flow</a>).

  <p>The <dfn
   id=dom-named-flow-get-regions-by-content>getRegionsByContent()</dfn>
   method returns the sequence of regions that contain at least part of the
   target content node if it belongs to the <a href="#named-flow0">named
   flow</a> directly or one of its ancestors belongs to the <a
   href="#named-flow0">named flow</a>. Otherwise, the method returns an empty
   sequence. The returned value is a static sequence in document order.

  <p>The <a href="#named-flow0">named flow</a> states are :

  <ul>
   <li><code class=idl>NULL</code>: the <a href="#named-flow0">named flow</a>
    contains no conent and has no region chain.

   <li><code class=idl>CREATED</code>: the <a href="#named-flow0">named
    flow</a> either contains content or has a region chain.
  </ul>

  <p>A <a href="#dom-named-flow"><code class=idl>NamedFlow</code></a> object
   is live: it always represents the <a href="#named-flow0">named flow</a>
   with the corresponding name even if that <a href="#named-flow0">named
   flow</a> has transitioned to the <code>NULL</code> state.

  <h3 id=the-region-interface><span class=secno>6.2. </span>The Region
   interface</h3>

  <p>The <dfn id=region-interface> <code class=idl>Region</code>
   interface</dfn> is a <a
   href="http://www.w3.org/TR/WebIDL/#idl-implements-statements">supplemental
   interface</a> which must be implemented by all objects (<a
   href="http://www.w3.org/TR/dom/#interface-element"> <code
   class=idl>Elements</code></a>, pseudo-elements or other CSS constructs
   such as <a
   href="http://dev.w3.org/csswg/css3-page-template/#templates-and-slots">slots</a>)
   in an implementation which can be CSS Regions.

  <pre class=idl>
[NoInterfaceObject]
interface <a
   href="#region-interface">Region</a> {
  readonly attribute DOMString <a
   href="#dom-region-regionoverset">regionOverset</a>;
  sequence&lt;<a
   href="#">Range</a>&gt;? <a
   href="#dom-region-getregionflowranges">getRegionFlowRanges()</a>;
  <a
   href="http://dev.w3.org/csswg/cssom/#the-cssstyledeclaration-interface">CSSStyleDeclaration</a> <a
   href="#dom-region-getComputedRegionStyle">getComputedRegionStyle</a>(Element elt);
  <a
   href="http://dev.w3.org/csswg/cssom/#the-cssstyledeclaration-interface">CSSStyleDeclaration</a> <a
   href="#dom-region-getComputedRegionStyle">getComputedRegionStyle</a>(Element elt, DOMString pseudoElt);
};

Element implements Region;</pre>

  <p>The <dfn id=dom-region-regionoverset><code
   class=idl>regionOverset</code></dfn> attribute returns one of the
   following values:

  <dl>
   <dt>‘<a href="#dom-named-flow-overset"><code
    class=property>overset</code></a>’

   <dd>The region is the last one in the <span title=region-chain>region
    chain</span> and not able to fit the remaining content from the <a
    href="#named-flow0">named flow</a>. Note that the region's <a
    href="http://www.w3.org/TR/CSS21/visufx.html#overflow"><code
    class=idl>overflow</code></a> property value can be used to control the
    visibility of the overflowing content and the ‘<a
    href="#region-fragment"><code
    class=property>region-fragment</code></a>’ property controls whether or
    not fragmentation happens on the content that overflows the last region.

   <dt>‘<code class=property>fit</code>’

   <dd>The region's flow fragment content fits into the region's <a
    href="http://www.w3.org/TR/CSS21/box.html#box-dimensions">content
    box</a>. If the region is the last one in the <span
    title=region-chain>region chain</span>, it means that the content fits
    without overflowing. If the region is not the last one in the region
    chain, that means the <a href="#named-flow0">named flow</a> content may
    be further fitted in subsequent regions. In this last case, note that the
    <a href="#named-flow0">named flow</a> fragment may be empty (for example
    if the region is too small to accommodate any content). This value is
    returned if the <a href="#css-region">region</a> object is not (or no
    longer) a region.

   <dt>‘<code class=property>empty</code>’

   <dd>All content from the <a href="#named-flow0">named flow</a> was fitted
    in prior regions.
  </dl>

  <p>If there is no content in the <a href="#named-flow0">named flow</a>, all
   regions associated with that <a href="#named-flow0">named flow</a> should
   have their <a href="#dom-region-regionoverset"><code
   class=idl>regionOverset</code></a> attribute return ‘<code
   class=property>empty</code>’. If there is content in the flow but that
   content does not generate any box for visual formatting, the ‘<a
   href="#dom-named-flow-overset"><code class=property>overset</code></a>’
   attribute on the first region in the region chain associated with the flow
   will return ‘<code class=property>fit</code>’.

  <p>The <dfn id=dom-region-getregionflowranges>getRegionFlowRanges</dfn>
   method returns an array of <a
   href="http://www.w3.org/TR/dom/#interface-range">Range</a> instances
   corresponding to fragment from the <a href="#named-flow0">named flow</a>
   that is laid out in the region. If the region has not received a fragment
   because it is too small to accommodate any, the method returns a single
   <code class=idl>Range</code> where the <code>startContainer</code> and
   <code>startOffset</code> have the same values as the
   <code>endContainer</code> and <code>endOffset</code> and therefore the
   collapsed attribute on the <code class=idl>Range</code> is true. In that
   situation, if the region is the first in the <a
   href="#region-chain0">region chain</a>, the <code>startContainer</code> is
   the first <code>Node</code> in the <a href="#named-flow0">named flow</a>
   and the <code>startOffset</code> is zero. If the region is the last region
   in the region chain (but not the first and only one), the
   <code>startContainer</code> and <code>startOffset</code> are the same
   values as the <code>endContainer</code> and <code>endOffset</code> on the
   previous region in the <a href="#region-chain0">region chain</a>. The
   method returns null if the <a href="#css-region">region</a> object is not
   (or no longer) a region.

  <p>The <dfn
   id=dom-region-getComputedRegionStyle>getComputedRegionStyle</dfn> methods
   on the Region interface work the same as the <a
   href="http://dev.w3.org/csswg/cssom/#extensions-to-the-window-interface"><code
   class=idl>getComputedStyle</code></a> <a href="#CSSOM"
   rel=biblioentry>[CSSOM]<!--{{!CSSOM}}--></a> methods on the <a
   href="http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#window"><code
   class=idl>Window</code></a> interface <a href="#HTML5"
   rel=biblioentry>[HTML5]<!--{{!HTML5}}--></a> with the following
   exceptions. For the <a href="#css-region"><code
   class=idl>Region</code></a> interface the <a
   href="http://dev.w3.org/csswg/cssom/#the-cssstyledeclaration-interface">CSSStyleDeclaration</a>
   returned must include the result of <a
   href="#the-region-pseudo-element">region styling</a>. If the element is
   fragmented across region boundaries, the <a
   href="http://dev.w3.org/csswg/cssom/#the-cssstyledeclaration-interface">CSSStyleDeclaration</a>
   returned must apply only to the fragment that flows through the <span>CSS
   Region</span>. The method returns null if the <a
   href="#css-region">region</a> object is not (or no longer) a region.

  <div class=note><span class=note-prefix>Note </span>
   <p>If the element is not contained in the <span>CSS Region</span> at all,
    the method returns the <a href="#the-region-pseudo-element">region
    styling</a> that would apply to the element if it were contained in the
    <span>CSS Region</span> (following how <a
    href="http://dev.w3.org/csswg/cssom/#extensions-to-the-window-interface"><code
    class=idl>getComputedStyle</code></a> works with elements not contained
    in the window's document).
  </div>

  <p>A <a href="#css-region"><code class=idl>Region</code></a> instance may
   represent an object that is no longer a <a href="#css-region">region</a>.
   This may happen for example if the ‘<a href="#flow-from"><code
   class=property>flow-from</code></a>’ property on the corresponding
   pseudo-element, element or other construct becomes ‘<code
   class=property>none</code>’ but a script is still holding a reference to
   the <a href="#css-region"><code class=idl>Region</code></a> object.

  <h3 id=named-flow-events><span class=secno>6.3. </span>Named flow events</h3>

  <p><a href="#dom-named-flow"><code class=idl>NamedFlow</code></a> objects
   are <a
   href="http://www.w3.org/TR/dom/#interface-eventtarget">EventTargets</a>
   which dispatch the following events for their respective triggers. These
   events are asynchronous, and fire at the end of the <a
   href="#named-flows-layout">regions visual formatting</a> steps.

  <p>The regionfragmentchange event is dispatched on any change to a named
   flow's fragmentation through its region chain, including changes to any
   overset fragment.

  <table border=0 cellpadding=2 cellspacing=0 class=event-desc
   summary="This table contains information about the semantics of the given event type">
   <tbody>
    <tr class="assert must">
     <th>Type

     <td class=eventname><strong><code>regionfragmentchange</code></strong>

    <tr class="assert must">
     <th>Interface

     <td><code><a
      href="http://www.w3.org/TR/DOM-Level-3-Events/#events-UIEvent">UIEvent</a></code>
      (see <a href="#DOM-LEVEL-3-EVENTS"
      rel=biblioentry>[DOM-LEVEL-3-EVENTS]<!--{{!DOM-LEVEL-3-EVENTS}}--></a>)

    <tr class="assert must">
     <th>Sync / Async

     <td>Async

    <tr class="assert must">
     <th>Bubbles

     <td>No

    <tr class="assert must">
     <th>Target

     <td><a href="#dom-named-flow"><code class=idl>NamedFlow</code></a>

    <tr class="assert must">
     <th>Cancelable

     <td>Yes

    <tr class="assert must">
     <th>Default action

     <td>none

    <tr class="assert must">
     <th>Context info

     <td>
      <ul>
       <li><code class=attribute-name>Event.target</code>: <a
        href="#dom-named-flow"><code class=idl>NamedFlow</code></a> whose
        fragmentation has changed.
      </ul>
  </table>

  <p> The regionoversetchange event is dispatched if any of the regionOverset
   values change in a named flow's region chain, including when regions are
   added or removed from the chain.

  <p>

  <table border=0 cellpadding=2 cellspacing=0 class=event-desc
   summary="This table contains information about the semantics of the given event type">
   <tbody>
    <tr class="assert must">
     <th>Type

     <td class=eventname><strong><code>regionoversetchange</code></strong>

    <tr class="assert must">
     <th>Interface

     <td><code><a
      href="http://www.w3.org/TR/DOM-Level-3-Events/#events-UIEvent">UIEvent</a></code>
      (see <a href="#DOM-LEVEL-3-EVENTS"
      rel=biblioentry>[DOM-LEVEL-3-EVENTS]<!--{{!DOM-LEVEL-3-EVENTS}}--></a>)

    <tr class="assert must">
     <th>Sync / Async

     <td>Async

    <tr class="assert must">
     <th>Bubbles

     <td>No

    <tr class="assert must">
     <th>Target

     <td><a href="#dom-named-flow"><code class=idl>NamedFlow</code></a>

    <tr class="assert must">
     <th>Cancelable

     <td>Yes

    <tr class="assert must">
     <th>Default action

     <td>none

    <tr class="assert must">
     <th>Context info

     <td>
      <ul>
       <li><code class=attribute-name>Event.target</code>: <a
        href="#dom-named-flow"><code class=idl>NamedFlow</code></a> whose
        region chain has regionOverset values that have changed.
      </ul>
  </table>

  <h3 id=cssomview-and-regions><span class=secno>6.4. </span>Clarifications
   on pre-existing APIs</h3>

  <h4 id=cssomview-getclientrects-and-getboundingclientrect><span
   class=secno>6.4.1. </span><code class=idl>getClientRects()</code> and
   <code>getBoundingClientRects()</code></h4>

  <p>The <a href="http://www.w3.org/TR/cssom-view/">CSSOM View Module</a>
   defines how user agents compute the bounding client rectangle for an
   element (<code class=idl>getBoundingClientRect()</code>) and its generated
   boxes (<code class=idl>getClientRects()</code>).

  <p>This definition applies to the (possibly) multiple boxes generated for
   an element in a named flow flowing through a region chain. The <code
   class=idl>getClientRects()</code> method returns the list of boxes
   generated for each of the element fragments laid out in different regions.
   The <code>getBoundingClientRect()</code> method operates as specified in
   the <a href="http://www.w3.org/TR/cssom-view/">CSSOM View Module</a> as
   well and is computed from the set of rectangles returned by <code
   class=idl>getClientRects()</code>.

  <h4 id=cssomview-offset-attributes><span class=secno>6.4.2. </span><code
   class=idl>offsetTop</code>, <code class=idl>offsetLeft</code>, <code
   class=idl>offsetWidth</code>, <code class=idl>offsetHeight</code> and
   <code class=idl>offsetParent</code></h4>

  <p>The computation of the <a
   href="http://dev.w3.org/csswg/cssom-view/#extensions-to-the-htmlelement-interface">offset
   attributes</a> for elements laid out in a <a href="#named-flow0">named
   flow</a> follow the <a
   href="http://dev.w3.org/csswg/cssom-view/#extensions-to-the-htmlelement-interface">specification</a>
   <a href="#CSSOM" rel=biblioentry>[CSSOM]<!--{{!CSSOM}}--></a>. For the
   purpose of these algorithms, the <em>first CSS layout box</em> associated
   with an element laid out in a <a href="#named-flow0">named flow</a> is the
   first box generated for the first region the element is laid out into. In
   the offsetParent algorithm, the nearest ancestor search skips from the
   topmost named flow elements directly to the body element.

  <h2 id=regions-visual-formatting-details><span class=secno>7.
   </span>Regions visual formatting details</h2>

  <p>Regions are laid out by CSS and take part in the normal box model and
   other layout models offered by CSS modules such as flexible boxes (<a
   href="#CSS3-FLEXBOX"
   rel=biblioentry>[CSS3-FLEXBOX]<!--{{CSS3-FLEXBOX}}--></a>). However, <a
   href="#css-region">regions</a> lay out a fragment of their <a
   href="#named-flow0">named flow</a> instead of laying out descendant
   content as happens with other boxes.

  <p>This section describes the model for laying out <a
   href="#css-region">regions</a> and for laying out <a
   href="#named-flow0">named flow</a> content into regions. The descriptions
   in this section are biased towards a horizontal writing mode, using
   <span>width</span> for logical width (or measure) and <span>height</span>
   for logical height (or extent) as <a
   href="http://www.w3.org/TR/css3-writing-modes/#abstract-dimensions">defined</a>
   in the CSS Writing Modes Module <a href="#CSS3-WRITING-MODES"
   rel=biblioentry>[CSS3-WRITING-MODES]<!--{{!CSS3-WRITING-MODES}}--></a>).
   To use this model in a vertical writing mode apply the principles <a
   href="http://www.w3.org/TR/css3-writing-modes/#vertical-layout">described</a>
   in that specification.

  <h3 id=regions-flow-content-box><span class=secno>7.1. </span>The Region
   Flow Content Box (RFCB)</h3>

  <p>A region box lays out the following boxes:

  <ul>
   <li>The boxes generated by its <code class=css>::before</code> and <code
    class=css>::after</code> pseudo-elements, if any.

   <li>The anonymous <dfn id=region-flow-content-box>region flow content
    box</dfn> (called <dfn id=rfcb>RFCB</dfn> in this document) which
    contains the fragment of the <a href="#named-flow0">named flow</a> that
    the region receives.
  </ul>

  <div class=figure> <img
   alt="The ::before, RFCB and ::after boxes contained in the Region Box"
   src="images/RFCB.svg" width=600px>
   <p class=caption>The Region Flow Content Box (RFCB)
  </div>

  <p>Laying out a <a href="#css-region">region</a> box follows the same
   processing rules as for any other <a
   href="http://www.w3.org/TR/CSS2/visuren.html#block-boxes">block container
   box</a>.

  <p>The <a href="#rfcb">RFCB</a> is a <a
   href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">block container
   box</a> with a computed ‘<code class=property>width</code>’ of
   ‘<code class=property>auto</code>’ and a whose used ‘<code
   class=property>height</code>’ is resolved as detailed below.

  <h4 id=rfcb-width-resolution><span class=secno>7.1.1. </span>RFCB ‘<code
   class=property>width</code>’ resolution</h4>

  <p>At various points in the visual formatting of documents containing
   regions, the used ‘<code class=property>width</code>’ of RFCBs and
   regions need to be resolved. In all cases, the resolution is done
   following the rules for <a
   href="http://www.w3.org/TR/CSS2/visudet.html#Computing_widths_and_margins">calculating
   widths and margins</a> (see <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>). Sometimes, resolving the
   used ‘<code class=property>width</code>’ value requires measuring the
   content's <code class=css>min-content</code> and <code
   class=css>max-content</code> values (as <a
   href="http://www.w3.org/TR/css3-writing-modes/#orthogonal-auto">defined</a>
   in the CSS Writing Modes Module <a href="#CSS3-WRITING-MODES"
   rel=biblioentry>[CSS3-WRITING-MODES]<!--{{!CSS3-WRITING-MODES}}--></a>).
   For an RFCB, <strong>these measures are made on the <em>entire</em>
   associated <a href="#named-flow0">named flow</a> content</strong>.

  <p>As a consequence, all <a href="#rfcb">RFCBs</a> of <a
   href="#css-region">regions</a> associated with a given <a
   href="#named-flow0">named flow</a> share the same <code
   class=css>min-content</code> and <code class=css>max-content</code>
   measures.

  <p>This approach is consistent with the <a
   href="http://www.w3.org/TR/css3-break/#varying-size-boxes">box model for
   breaking</a> (<a href="#CSS3-BREAK"
   rel=biblioentry>[CSS3-BREAK]<!--{{!CSS3-BREAK}}--></a>).

  <h3 id=regions-visual-formatting-steps><span class=secno>7.2.
   </span>Regions visual formatting steps</h3>

  <p>Formatting documents that contain <a href="#named-flow0">named flows</a>
   laid out in regions is a three-step process:

  <ul>
   <li><em>Step 1: RFCB <dfn id=flow-fragment-height>flow fragment
    height</dfn> resolution</em>. In this step, the heights of fragments
    fitting in the regions' RFCBs are resolved.

   <li><em>Step 2: document and regions layout</em>. In this step, the
    document content and regions are laid out. However, <a
    href="#named-flow0">named flow</a> content is not laid out in regions
    yet.

   <li><em>Step 3: <a href="#named-flow0">named flow</a> layout</em>. In this
    step, the content of <a href="#named-flow0">named flows</a> is laid out
    in their respective <a href="#region-chain0">region chains</a>.
  </ul>

  <div class=figure> <img
   alt="visual representation of the three-step process"
   src="images/regions-layout-three-steps.svg" width=600px>
   <p class=caption>Regions visual formatting steps
  </div>

  <h4 id=rfcb-flow-fragment-height-resolution><span class=secno>7.2.1.
   </span>Step 1: RFCB flow fragment height resolution</h4>

  <p>Conceptually, resolving the flow fragment height is a two phase process.

  <h5 id=rfcb-flow-fragment-height-resolution-phase-1><span
   class=secno>7.2.1.1. </span>RFCB flow fragment height resolution, Phase 1</h5>

  <p>The document is laid out with a <a
   href="http://www.w3.org/TR/CSS2/cascade.html#used-value">used</a> height
   of zero for all <a href="#rfcb">RFCB</a>s. In this phase, the content of
   <a href="#named-flow0">named flows</a> is not laid out in <a
   href="#css-region">regions</a>. This phase yields resolved position and
   sizes for all regions and their RFCBs in the document.

  <h5 id=rfcb-flow-fragment-height-resolution-phase-2><span
   class=secno>7.2.1.2. </span>RFCB flow fragment height resolution, Phase 2</h5>

  <p><a href="#named-flow0">Named flows</a> are laid out in <a
   href="#css-region">regions</a>. The user agent resolves the <a
   href="#flow-fragment-height"><em><span>flow fragment
   height</span></em></a> for the <a href="#rfcb">RFCB</a>s using the
   remainder of the flow and accounting for <a
   href="http://www.w3.org/TR/css3-break/">fragmentation rules</a>. This
   process accounts for constraints such as the ‘<code
   class=property>height</code>’ or ‘<code
   class=property>max-height</code>’ values, as described in the CSS 2.1
   section on <a
   href="http://www.w3.org/TR/CSS2/visudet.html#Computing_heights_and_margins">calculating
   heights and margins</a> (see the <a
   href="http://www.w3.org/TR/CSS2/visudet.html#normal-block">Block-level
   non-replaced elements in normal flow when ‘<code
   class=property>overflow</code>’ computes to ‘<code
   class=property>visible</code>’</a> section and the <a
   href="http://www.w3.org/TR/CSS2/visudet.html#block-root-margin">complicated
   cases</a> section). During this phase, generated content is laid out
   according to the <a href="#processing-model">rules</a> described earlier
   in this document.

  <p>In a <a href="#nested-region-context">nested region context</a>, this
   phase will trigger the beginning of Step 1 for any inner <a
   href="#named-flow0">named flows</a> whose regions are contained in the
   outer <a href="#named-flow0">named flow</a>. All of Step 1 for inner flows
   must recursively complete before Step 1 for an outer flow completes.

  <h4 id=regions-boxes-layout><span class=secno>7.2.2. </span>Step 2: region
   boxes layout</h4>

  <p>In this step, the document is laid out according to the normal CSS
   layout rules.

  <p>If a measure of the content is required to resolve the used ‘<code
   class=property>width</code>’ of the region box, the value is resolved as
   described in the <a href="#rfcb-width-resolution">RFCB width
   resolution</a> section.

  <p>If a measure of the content is required to resolve the used height of
   the RFCB (for example if the region box is absolutely positioned), the <a
   href="#flow-fragment-height">flow fragment height</a> resolved in Step 1
   is used for the vertical content measure of the RFCB.

  <p>At the end of this step, regions are laid out and ready to receive
   content from their associated <a href="#named-flow0">named flows</a>.

  <h4 id=named-flows-layout><span class=secno>7.2.3. </span>Step 3: named
   flows layout</h4>

  <p>In this final step, the content of <a href="#named-flow0">named
   flows</a> is laid out in the <a href="#css-region">regions</a>‘<code
   class=css> RFCBs along with the generated content boxes.</code>

  <p>The used ’width' for RFCBs is resolved <a
   href="#rfcb-width-resolution">as described before</a>.

  <p>The used ‘<code class=property>height</code>’ of RFCBs is resolved
   such that none of the boxes in the region box's normal flow overflow the
   region's box. In other words, the RFCB boxes are stretched vertically to
   accommodate as much of the flow as possible without overflowing the region
   box and accounting for <a
   href="http://www.w3.org/TR/css3-break/">fragmentation rules</a> and
   generated content boxes.

  <p>During this phase, generated content is laid out according to the <a
   href="#processing-model">rules</a> described earlier in this document.

  <p>In a <a href="#nested-region-context">nested region context</a>, this
   step will trigger Step 2 for inner <a href="#named-flow0">named flows</a>
   whose regions are contained in the outer <a href="#named-flow0">named
   flow</a>. Fragmentation of the inner regions may result as they are laid
   out in the outer region chain. Once Step 3 for an outer named flow is
   complete, Step 3 for the inner named flows recursively begins.

  <p>Once Step 3 for a named flow is complete, The conditions for the <a
   href="#named-flow-events">named flow events</a> are checked, and if the
   triggers are met the events dispatch at this point.

  <div class=note><span class=note-prefix>Note </span>
   <p>The model for resolving auto sized regions will cause, under certain
    circumstances, the flow content to be overset or underset. In other
    words, it will not fit tightly. The model prevents having circular
    dependencies in the layout model. Implementations may decide to apply
    further layout steps to ensure that the whole flow content is displayed
    to the user, even in edge cases.
  </div>

  <h3 id=regions-visual-formatting-implementation-note><span class=secno>7.3.
   </span>Regions visual formatting: implementation note</h3>

  <p>The process for resolving an RFCB's ‘<code
   class=property>height</code>’ and the three-step process used to lay out
   documents containing regions and <a href="#named-flow0">named flows</a>
   are <em>conceptual</em> descriptions of what the layout should yield and
   implementations should optimize to reduce the number of steps and phases
   necessary wherever possible.

  <h3 id=regions-visual-formatting-examples><span class=secno>7.4.
   </span>Regions visual formatting example</h3>

  <p>This section is non-normative.

  <p>This example considers a document where content flows between three
   regions, and region boxes are intermixed with the normal document content.

  <div class=example>
   <pre>
&lt;element name="x-formatting-example" extends="body"&gt;
  &lt;template&gt;
    &lt;style&gt;
      article {
          flow-into: article;
      }

      #rA, #rB, #rC {
          flow-from: article;
          height: auto;

          margin: 1em 1em 0em 1em;
          padding: 1em;
          border: 3px solid #46A4E9;
      }

      #rA {
          width: auto;
      }

      #rB {
          float: left;
          width: 15em;
          max-height: 150px;
      }

      #rC {
          float: right;
          width: 12em;
      }

      #main-flow {
          padding: 0em 1em 0em 1em;
      }
    &lt;/style&gt;

    &lt;div id="rA"&gt;&lt;/div&gt;
    &lt;div id="rB"&gt;&lt;/div&gt;
    &lt;div id="rC"&gt;&lt;/div&gt;
    &lt;content&gt;&lt;/content&gt;
  &lt;/template&gt;
&lt;/element&gt;        

&lt;body is="x-formatting-example"&gt;
    &lt;article&gt;
        &lt;p style="break-after:region;"&gt;I am not a ... &lt;/p&gt;
        &lt;p&gt;...&lt;/p&gt;
    &lt;/article&gt;

    &lt;div id="main-flow"&gt;
        &lt;p&gt;Lorem ipsum dolor ...&lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;
        </pre>
  </div>

  <p>The following sections and figures illustrate the intermediate results
   for the visual formatting process. In the following, we call RFCB-A,
   RFCB-B and RFCB-C the <a href="#rfcb">RFCBs</a> for regions rA, rB and rC
   respectively.

  <h4 id=step-1--phase-1-laying-out-rfcbs-with-us><span class=secno>7.4.1.
   </span>Step 1 - Phase 1: Laying out RFCBs with used height of zero</h4>

  <p>Applying the rules for Step 1, Phase 1, the computed ‘<code
   class=property>auto</code>’ ‘<code class=property>width</code>’
   values for the RFCBs are resolved to used values according to the normal
   <a
   href="http://www.w3.org/TR/CSS2/visudet.html#Computing_widths_and_margins">CSS
   layout rules</a> meaning they stretch to the width of their containing
   block's content box.

  <ol>
   <li>RFCB-A: stretches to fit the rA content box.
    <p>Since rA also has an ‘<code class=property>auto</code>’ ‘<code
     class=property>width</code>’, its own used ‘<code
     class=property>width</code>’ is stretched to fit the
     <code>&lt;body&gt;</code> content box.

   <li>RFCB-B: stretches to fit the <code>rB</code> content box.

   <li>RFCB-C: stretches to fit the <code>rC</code> content box.
  </ol>

  <p>Also applying the rules for Step 1, Phase 1, the used values for the
   RFCBs ‘<code class=property>height</code>’ properties are all zero.

  <p>Conceptually, this produces the layout illustrated below.

  <div class=figure> <img
   alt="Step 1 - Phase 1: Layout RFCBs with used heights of 0"
   src="images/flow-fragment-height-phase-1.png" width=500px>
   <p class=caption>Step 1 - Phase 1: Layout RFCBs with used heights of 0
  </div>

  <h4 id=step-1--phase-2-layout-flow-to-compute-t><span class=secno>7.4.2.
   </span>Step 1 - Phase 2: Layout flow to compute the RFCBs' flow fragments
   heights</h4>

  <p>In this second phase of Step 1, the named flow is laid out in <a
   href="#css-region">regions</a> and the height of each fragment falling in
   each RFCB is computed.

  <p>The user agent lays out as much of the flow into an area with RFCB-A's
   used ‘<code class=property>width</code>’. rA's ‘<code
   class=property>height</code>’ computes to ‘<code
   class=property>auto</code>’ and there is no vertical maximum height for
   RFCA's ‘<code class=property>height</code>’. However, because there is
   a break after the first paragraph in the ‘<code
   class=property>article</code>’ <a href="#named-flow0"><code>named
   flow</code></a>, only this first paragraph is laid out in RFCB-A and FH-A
   (the flow fragment height for RFCB-A) is resolved by laying out this first
   paragraph in the used ‘<code class=property>width</code>’.

  <p>At this point, the user agent lays out as much of the remaining flow as
   possible in RFCB-B. Because rB's ‘<code
   class=property>max-height</code>’ computed value is ‘<code
   class=css>150px</code>’, the user agent only lays out the ‘<code
   class=property>article</code>’ named flow using RFCB-B's used ‘<code
   class=property>width</code>’ until the point where laying out additional
   content would cause RFCB-B to overflow rB's box. The fragment height for
   RFCB-B is resolved: FH-B (<code class=css>150px</code>).

  <p>Finally, the user agent lays out the remainder of the flow in RFCB-C.
   Because rC has no other constraints and no region breaks, the remaining
   content is laid out in RFCB-C's used ‘<code
   class=property>width</code>’. This results in a resolved flow fragment
   height: FH-C.

  <div class=figure> <img
   alt="Step 1 - Phase 2: Measure flow fragments heights"
   src="images/flow-fragment-height-phase-2.png" width=370px>
   <p class=caption>Step 1 - Phase 2: Measure flow fragments heights
  </div>

  <h4 id=step-2-layout-document-and-regions-witho><span class=secno>7.4.3.
   </span>Step 2: Layout document and regions without named flows</h4>

  <p>The used ‘<code class=property>width</code>’ of RFCB-A, RFCB-B and
   RFCB-C are resolved as in the previous step. However, the ‘<code
   class=property>height</code>’ is resolved differently.

  <p>Resolving the ‘<code class=property>height</code>’ of rA <a
   href="http://www.w3.org/TR/CSS2/visudet.html#normal-block">requires a
   content measure</a> which is FH-A (the flow fragment height for RFCB-A).

  <p>The ‘<code class=property>height</code>’ of rB results from first
   computing its <a
   href="http://www.w3.org/TR/CSS2/visudet.html#block-root-margin">content
   measure</a> and then applying the <a
   href="http://www.w3.org/TR/CSS2/visudet.html#min-max-heights">rules for
   ‘<code class=property>max-height</code>’</a>. Here, the vertical
   content measure evaluates to FH-B. After applying the rules for ‘<code
   class=property>max-height</code>’ and accounting for margins, padding
   and borders, the used ‘<code class=property>height</code>’ of rB is
   resolved to LH-B (<code class=css>150px</code>).

  <p>The ‘<code class=property>height</code>’ of rC's box results from <a
   href="http://www.w3.org/TR/CSS2/visudet.html#block-root-margin">calculating
   its content measure</a>: FH-C becomes rC's used ‘<code
   class=property>height</code>’.

  <div class=figure> <img
   alt="Step 2: Layout document and regions without named flows"
   src="images/regions-visual-formatting-step-2.png" width=370px>
   <p class=caption>Step 2: Layout document and regions without <a
    href="#named-flow0">named flows</a>
  </div>

  <h4 id=step-3-named-flows-layout><span class=secno>7.4.4. </span>Step 3:
   named flows layout</h4>

  <p>In this final step, the <code class=css>article</code> <a
   href="#named-flow0">named flow</a> is laid out in its <a
   href="#region-chain0">region chain</a>. The used ‘<code
   class=property>width</code>’ for each of the RFCB is resolved as in step
   1 above.

  <p>The used ‘<code class=property>height</code>’ for the RFCB is a
   result of laying out the as much of the content in the <a
   href="#css-region">region</a> without overflowing its content box and
   following the <a href="http://www.w3.org/TR/css3-break/">fragmentation
   rules</a>.

  <p>Because the computed ‘<code class=property>width</code>’ of the RFCB
   has not changed and the fragmentation rules applied are the same as in
   Phase 1, Step 2, the used ‘<code class=property>height</code>’ for
   RFCB-A, RFCB-B and RFCB-C are LH-A, LH-B and LH-C, respectively.

  <p>There may be situations where the used ‘<code
   class=property>height</code>’ of RFCBs resolved in Step 3 are different
   from the <a href="#flow-fragment-height">flow fragment height</a> computed
   in Step 1 Phase 2.

  <div class=figure> <img
   alt="Step 3: Final result after laying out named flows in regions"
   src="images/regions-visual-formatting-step-3.png" width=370px>
   <p class=caption>Step 3: Final result after laying out named flows in
    regions
  </div>

  <h2 id=relation-to-document-events><span class=secno>8. </span>Relation to
   document events</h2>

  <p>The CSS Regions module does not alter the normal processing of events in
   the document tree. In particular, if an event occurs on an element that is
   part of a <a href="#named-flow0">named flow</a>, the <a
   href="http://www.w3.org/TR/dom/#events">event's bubble and capture
   phases</a> happen following the document tree order.

  <div class=note><span class=note-prefix>Note </span>
   <p>This means that in most cases CSS Regions will not receive user events
    that trigger on their named flow content. Event handlers for named flow
    content can check <code><a
    href="http://dev.w3.org/csswg/cssom-view/#extensions-to-the-document-interface">getElementsFromPoint()</a></code>
    <a href="#CSSOM-VIEW"
    rel=biblioentry>[CSSOM-VIEW]<!--{{CSSOM-VIEW}}--></a> to find the CSS
    Region where the user event occurred. Future versions of CSS-UI may
    provide a more general solution for user event bubbling where the stack
    of elements at the event coordinates may not follow DOM order.
  </div>

  <h2 id=relation-to-other-specifications><span class=secno>9.
   </span>Relation to other specifications</h2>

  <p>This specification is related to other specifications as described in
   the <a href="#references">references</a> section. In addition, it is
   related to the following specifications:

  <ol>
   <li>CSS Fragmentation Module Level 3 <a href="#CSS3-BREAK"
    rel=biblioentry>[CSS3-BREAK]<!--{{CSS3-BREAK}}--></a>. This module
    defines the rules for fragmenting content over multiple containers and
    applies to CSS regions in addition to applying to multi-column and paged
    media.

   <li>CSS Pagination Templates Module Level 3 <a href="#CSS3-PAGE-TEMPLATE"
    rel=biblioentry>[CSS3-PAGE-TEMPLATE]<!--{{CSS3-PAGE-TEMPLATE}}--></a>.
    This module defines a syntax to define layout templates which can be used
    when paginating content. The page templates use regions.

   <li>CSS Exclusions Module <a href="#CSS3-EXCLUSIONS"
    rel=biblioentry>[CSS3-EXCLUSIONS]<!--{{CSS3-EXCLUSIONS}}--></a>. This
    module defines a generic way to define exclusions around which content
    can flow. This can be seen as an extension to CSS floats. In advanced
    layout designs, it is expected that the CSS Exclusions module will be
    commonly combined with the CSS Regions module.

   <li>CSS Line Grid Module <a href="#CSS3-LINE-GRID"
    rel=biblioentry>[CSS3-LINE-GRID]<!--{{CSS3-LINE-GRID}}--></a>. This
    module defines a concept of line grid to align the position of lines in
    different elements. The line grid functionality is related and needed for
    aligning content flowing in separate regions.
  </ol>

  <h2 id=usecases><span class=secno>10. </span>Use Cases</h2>

  <p>Use cases are described on <a
   href="http://wiki.csswg.org/spec/css3-regions/regions-use-cases">these</a>
   <a
   href="http://wiki.csswg.org/spec/css3-regions/regions-print-use-cases">pages</a>.

  <h2 id=conformance><span class=secno>11. </span>Conformance</h2>
  <!--begin-conformance-->

  <h3 class=no-ref id=conventions> Document conventions</h3>

  <p>Conformance requirements are expressed with a combination of descriptive
   assertions and RFC 2119 terminology. The key words “MUST”, “MUST
   NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
   “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in the
   normative parts of this document are to be interpreted as described in RFC
   2119. However, for readability, these words do not appear in all uppercase
   letters in this specification.

  <p>All of the text of this specification is normative except sections
   explicitly marked as non-normative, examples, and notes. <a
   href="#RFC2119" rel=biblioentry>[RFC2119]<!--{{!RFC2119}}--></a>

  <p>Examples in this specification are introduced with the words “for
   example” or are set apart from the normative text with
   <code>class="example"</code>, like this:

  <div class=example>
   <p>This is an example of an informative example.
  </div>

  <p>Informative notes begin with the word “Note” and are set apart from
   the normative text with <code>class="note"</code>, like this:

  <p class=note>Note, this is an informative note.

  <h3 class=no-ref id=conformance-classes> Conformance classes</h3>

  <p>Conformance to this specification is defined for three conformance
   classes:

  <dl>
   <dt><dfn id=style-sheet title="style sheet!!as conformance class">style
    sheet</dfn>

   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
    style sheet</a>.

   <dt><dfn id=renderer>renderer</dfn>

   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that interprets the semantics of a style sheet and renders documents that
    use them.

   <dt><dfn id=authoring-tool>authoring tool</dfn>

   <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that writes a style sheet.
  </dl>

  <p>A style sheet is conformant to this specification if all of its
   statements that use syntax defined in this module are valid according to
   the generic CSS grammar and the individual grammars of each feature
   defined in this module.

  <p>A renderer is conformant to this specification if, in addition to
   interpreting the style sheet as defined by the appropriate specifications,
   it supports all the features defined by this specification by parsing them
   correctly and rendering the document accordingly. However, the inability
   of a UA to correctly render a document due to limitations of the device
   does not make the UA non-conformant. (For example, a UA is not required to
   render color on a monochrome monitor.)

  <p>An authoring tool is conformant to this specification if it writes style
   sheets that are syntactically correct according to the generic CSS grammar
   and the individual grammars of each feature in this module, and meet all
   other conformance requirements of style sheets as described in this
   module.

  <h3 class=no-ref id=partial> Partial implementations</h3>

  <p>So that authors can exploit the forward-compatible parsing rules to
   assign fallback values, CSS renderers <strong>must</strong> treat as
   invalid (and <a
   href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore as
   appropriate</a>) any at-rules, properties, property values, keywords, and
   other syntactic constructs for which they have no usable level of support.
   In particular, user agents <strong>must not</strong> selectively ignore
   unsupported component values and honor supported values in a single
   multi-value property declaration: if any value is considered invalid (as
   unsupported values must be), CSS requires that the entire declaration be
   ignored.

  <h3 class=no-ref id=experimental> Experimental implementations</h3>

  <p>To avoid clashes with future CSS features, the CSS 2.1 specification
   reserves a <a
   href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
   syntax</a> for proprietary and experimental extensions to CSS.

  <p>Prior to a specification reaching the Candidate Recommendation stage in
   the W3C process, all implementations of a CSS feature are considered
   experimental. The CSS Working Group recommends that implementations use a
   vendor-prefixed syntax for such features, including those in W3C Working
   Drafts. This avoids incompatibilities with future changes in the draft.

  <h3 class=no-ref id=testing> Non-experimental implementations</h3>

  <p>Once a specification reaches the Candidate Recommendation stage,
   non-experimental implementations are possible, and implementors should
   release an unprefixed implementation of any CR-level feature they can
   demonstrate to be correctly implemented according to spec.

  <p>To establish and maintain the interoperability of CSS across
   implementations, the CSS Working Group requests that non-experimental CSS
   renderers submit an implementation report (and, if necessary, the
   testcases used for that implementation report) to the W3C before releasing
   an unprefixed implementation of any CSS features. Testcases submitted to
   W3C are subject to review and correction by the CSS Working Group.

  <p>Further information on submitting testcases and implementation reports
   can be found from on the CSS Working Group's website at <a
   href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
   Questions should be directed to the <a
   href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
   mailing list. <!--end-conformance-->

  <h2 id=changes><span class=secno>12. </span>Changes</h2>

  <h3 id="changes_from_May_28_2013"><span class=secno>12.1. </span>Changes
   from <a href="http://www.w3.org/TR/2013/WD-css3-regions-20130528/">May
   28<sup>th</sup> 2013</a> version</h3>

  <ul>
   <li>Changed NamedFlowCollection getters back to null when there is no
    NamedFlow.

   <li>Restricted flow-from to blocks, inline-blocks and table-cells

   <li>Removed issue on user events and added note describing solution(s)

   <li>Changed type of NamedFlow.getContent() from NodeList to
    sequence&lt;Node&gt;
  </ul>

  <h3 id="changes_from_Aug_28_2012"><span class=secno>12.2. </span>Changes
   from <a href="http://www.w3.org/TR/2012/WD-css3-regions-20120823/">August
   28<sup>th</sup> 2012</a> version</h3>

  <ul>
   <li>Changed @region rule to ::region() functional pseudo-element

   <li>removed CSSRegionStyleRule (see above)

   <li>Tied named flow event triggers to visual processing model

   <li>Described how visual formatting of nested regions works

   <li>Added content and element keywords to flow-into

   <li>Added regionoversetchange event

   <li>renamed regionlayoutupdate to regionfragmentchange

   <li>Defined offsetParent interaction

   <li>Removed implication of DOM manipulation

   <li>Changed Appendix A to use custom element layout.

   <li>Noted change in pseudo-element generation with flow-from.

   <li>Changed case of regionlayoutupdate to match other events in <a
    href="#DOM-LEVEL-3-EVENTS"
    rel=biblioentry>[DOM-LEVEL-3-EVENTS]<!--{{DOM-LEVEL-3-EVENTS}}--></a>.

   <li>Added section on fragmenting the fragmenters.

   <li>Added section on handling circular flow-from and flow-into situations.

   <li>Added alignment and justification to region styling properties.

   <li>Added timing for regionLayoutUpdate event.

   <li>Clarified interaction between content and flow-from for
    pseudo-elements.

   <li>Changed NamedFlowCollection getters to return undefined when there is
    no NamedFlow.

   <li>Changed region-overflow property to region-fragment.
  </ul>

  <h3 id="changes_from_May_03_2012"><span class=secno>12.3. </span>Changes
   from <a href="http://www.w3.org/TR/2012/WD-css3-regions-20120503/">May
   3<sup>rd</sup> 2012</a> version</h3>

  <ul>
   <li>Removed exceptions from the Region interface.

   <li>Changed NamedFlowCollection from live to a static snapshot.

   <li>Changed NamedFlow to inherit from EventTarget.

   <li>Removed flowFrom from Region interface and changed method name to
    getComputedRegionStyle().

   <li>Region interface is now a supplemental interface with the
    [NoInterfaceObject] extended attribute.

   <li>Added note for regionLayoutUpdate dispatching in nested flows.

   <li>Removed Document.getFlowByName() in favor of
    NamedFlowCollection.namedItem().

   <li>Changed to overset:false for NULL NamedFlow.

   <li>Changed regionLayoutUpdate to not bubble.
  </ul>

  <h3 id="older_changes"><span class=secno>12.4. </span>Older Changes</h3>

  <p>Older changelogs are <a
   href="http://wiki.csswg.org/spec/css3-regions/older-changelogs">archived</a>
   on the CSSWG wiki

  <h2 class=no-num id=acknowledgments>Acknowledgments</h2>

  <p>The editors are grateful to the CSS working group for their feedback and
   help with the genesis of this specification.

  <p>In addition, the editors would like to thank the following individuals
   for their contributions, either during the conception of CSS regions or
   during its development and specification review process:

  <p>Erik Arvidsson, Tab Atkins, Catalin Badea, Mihai Balan, Andrei Bucur,
   Razvan Caliman, Alexandru Chiculita, Phil Cupp, Arron Eicholz, John
   Jansen, Dimitri Glazkov, Daniel Glazman, Arno Gourdol, Catalin
   Grigoroscuta, David Hyatt, Brian Heuston, Ian Hickson, Jonathan Hoersch,
   Michael Jolson, Brad Kemper, Håkon Wium Lie, Kang-Hao (Kenny) Lu, Mihai
   Maerean, Markus Mielke, Robert O'Callahan, Edward O'Connor, Mihnea
   Ovidenie, Virgil Palanciuc, Olga Popiv, Christoph Päper, Anton Prowse,
   Peter Sorotokin, Elliott Sprehn, Radu Stavila, Christian Stockwell, Eugene
   Veselov, Boris Zbarsky, Stephen Zilles and the CSS Working Group members.

  <h2 class=no-num id=intro-example-code>Appendix A. Example Code for
   Introduction</h2>

  <p>The following is one possible way to code the example from the <a
   href="#introduction">introduction</a>. This code uses grid cells in a
   custom element to define, size and position the region areas but table
   layout, absolute positioning, or any other CSS layout facility could be
   used.

  <div class=example>
   <pre>

&lt;head&gt;
    &lt;title&gt;Regions Intro Example&lt;/title&gt;
    &lt;link rel="components" href="x-fancy-layout.html"&gt;
&lt;/head&gt;

<span
    class=highlight>&lt;!-- 
     The body element is extended with the 
     layout template from the link above.
--&gt;</span>
&lt;body is="x-fancy-layout"&gt;

<span
    class=highlight>&lt;!-- 
     The article element is the content to flow 
     through the region chain defined in the 
     layout template. All the presentation 
     is confined to the layout template file.
--&gt;</span>
  &lt;article&gt;
    &lt;h1&gt;Introduction&lt;/h1&gt;
    &lt;p&gt;This is an example ...&lt;/p&gt;
      
    &lt;h2&gt;More Details&lt;/h2&gt;
    &lt;p&gt;This illustrates ...&lt;/p&gt;
    &lt;p&gt;Then, the example ...&lt;/p&gt;
    &lt;p&gt;Finally, this ...&lt;/p&gt;
  &lt;/article&gt;
  &lt;div id="boxA"&gt;&lt;/div&gt;
&lt;/body&gt;

<span
    class=highlight>&lt;!--
     In a separate file, we lay out the regions with a grid 
     inside a custom element template from Web Components.
--&gt;</span>

&lt;element name="x-fancy-layout" extends="body"&gt;
  &lt;template&gt;
    &lt;style&gt;
      #grid {
        width: 80vw;
        height: 110vh;
        grid-template: "aaa.d"
                       "....d"
                       "bbb.d"
                       "....d"
                       "ccc.d";
        grid-rows: 52% 4% 20% 4% 20%;
        grid-columns: 30% 5% 30% 5% 30%;
      }
      #region1 { grid-cell: a; }
      #region2 { grid-cell: b; }
      #boxA    { grid-cell: c; }
      #region3 { grid-cell: d; }
      
      #region4 {
        width: 80vw;
      }
      
      #region2 {
        column-count: 2;
      }
      
      <span
    class=highlight>/*
       * Creates the named flow 
       */</span>
      article {
        <strong>flow-into: article-flow;</strong>
      }

      <span
    class=highlight>/*
       * Associate it with the intended CSS Regions. 
       * This creates a region chain for the named flow.
       */</span>
      #region1, #region2, #region3, #region4 {
        <strong>flow-from: article-flow;</strong>
      }
    &lt;/style&gt;
    &lt;div id="grid"&gt;
      &lt;div id="region1"&gt;&lt;/div&gt;
      &lt;div id="region2"&gt;&lt;/div&gt;
      &lt;content&gt;&lt;/content&gt;
      &lt;div id="region3"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="region4"&gt;&lt;/div&gt;
  &lt;/template&gt;
&lt;/element&gt;
    </pre>
  </div>

  <div class=note><span class=note-prefix>Note </span>
   <p>A multi-column element is used for #region2, which is a bit gratuitous
    here (because grid cells could be used). The reason to use a multi-column
    element is to illustrate that regions can be multi-column.

   <p>Similarly, the last region breaks out of the grid in this example
    merely to show that regions in a region chain do not need to share a
    single parent.
  </div>

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dd style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
   </dd>
   <!---->

   <dt id=CSS3-BREAK>[CSS3-BREAK]

   <dd>Rossen Atanassov; Elika J. Etemad. <a
    href="http://www.w3.org/TR/2012/WD-css3-break-20120823/"><cite>CSS
    Fragmentation Module Level 3.</cite></a> 23 August 2012. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-break-20120823/">http://www.w3.org/TR/2012/WD-css3-break-20120823/</a>
   </dd>
   <!---->

   <dt id=CSS3-WRITING-MODES>[CSS3-WRITING-MODES]

   <dd>Elika J. Etemad; Koji Ishii. <a
    href="http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/"><cite>CSS
    Writing Modes Module Level 3.</cite></a> 15 November 2012. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/">http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/</a>
   </dd>
   <!---->

   <dt id=CSS3COL>[CSS3COL]

   <dd>Håkon Wium Lie. <a
    href="http://www.w3.org/TR/2011/CR-css3-multicol-20110412"><cite>CSS
    Multi-column Layout Module.</cite></a> 12 April 2011. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/CR-css3-multicol-20110412">http://www.w3.org/TR/2011/CR-css3-multicol-20110412</a>
   </dd>
   <!---->

   <dt id=CSSOM>[CSSOM]

   <dd>Anne van Kesteren. <a
    href="http://www.w3.org/TR/2011/WD-cssom-20110712/"><cite>CSSOM.</cite></a>
    12 July 2011. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/WD-cssom-20110712/">http://www.w3.org/TR/2011/WD-cssom-20110712/</a>
   </dd>
   <!---->

   <dt id=DOM>[DOM]

   <dd>Anne van Kesteren; et al. <a
    href="http://www.w3.org/TR/2012/WD-dom-20121206/"><cite>DOM4.</cite></a>
    6 December 2012. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-dom-20121206/">http://www.w3.org/TR/2012/WD-dom-20121206/</a>
   </dd>
   <!---->

   <dt id=DOM-LEVEL-3-EVENTS>[DOM-LEVEL-3-EVENTS]

   <dd>Travis Leithead; et al. <a
    href="http://www.w3.org/TR/2012/WD-DOM-Level-3-Events-20120906/"><cite>Document
    Object Model (DOM) Level 3 Events Specification.</cite></a> 6 September
    2012. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-DOM-Level-3-Events-20120906/">http://www.w3.org/TR/2012/WD-DOM-Level-3-Events-20120906/</a>
   </dd>
   <!---->

   <dt id=HTML5>[HTML5]

   <dd>Ian Hickson. <a
    href="http://www.w3.org/TR/2012/CR-html5-20121217/"><cite>HTML5.</cite></a>
    17 December 2012. W3C Candidate Recommendation. (Work in progress.) URL:
    <a
    href="http://www.w3.org/TR/2012/CR-html5-20121217/">http://www.w3.org/TR/2012/CR-html5-20121217/</a>
   </dd>
   <!---->

   <dt id=RFC2119>[RFC2119]

   <dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
    words for use in RFCs to Indicate Requirement Levels.</cite></a> Internet
    RFC 2119. URL: <a
    href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
   </dd>
   <!---->

   <dt id=SELECT>[SELECT]

   <dd>Tantek Çelik; et al. <a
    href="http://www.w3.org/TR/2011/REC-css3-selectors-20110929/"><cite>Selectors
    Level 3.</cite></a> 29 September 2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-css3-selectors-20110929/">http://www.w3.org/TR/2011/REC-css3-selectors-20110929/</a>
   </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dd style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3-EXCLUSIONS>[CSS3-EXCLUSIONS]

   <dd>Vincent Hardy; Rossen Atanassov; Alan Stearns. <a
    href="http://www.w3.org/TR/2012/WD-css3-exclusions-20120503/"><cite>CSS
    Exclusions and Shapes Module Level 3.</cite></a> 3 May 2012. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-exclusions-20120503/">http://www.w3.org/TR/2012/WD-css3-exclusions-20120503/</a>
   </dd>
   <!---->

   <dt id=CSS3-FLEXBOX>[CSS3-FLEXBOX]

   <dd>Tab Atkins Jr.; Elika J. Etemad; Alex Mogilevsky. <a
    href="http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/"><cite>CSS
    Flexible Box Layout Module.</cite></a> 18 September 2012. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/">http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/</a>
   </dd>
   <!---->

   <dt id=CSS3-GRID-LAYOUT>[CSS3-GRID-LAYOUT]

   <dd>Tab Atkins Jr.; Elika J. Etemad; Rossen Atanassov. <a
    href="http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/"><cite>CSS
    Grid Layout.</cite></a> 2 April 2013. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/">http://www.w3.org/TR/2013/WD-css3-grid-layout-20130402/</a>
   </dd>
   <!---->

   <dt id=CSS3-LINE-GRID>[CSS3-LINE-GRID]

   <dd>Koji Ishii. <a href="http://dev.w3.org/csswg/css-line-grid/"><cite>CSS
    Line Grid Module.</cite></a> Proposal for a CSS module. (Retrieved 26
    October 2011) URL: <a
    href="http://dev.w3.org/csswg/css-line-grid/">http://dev.w3.org/csswg/css-line-grid/</a>
   </dd>
   <!---->

   <dt id=CSS3-PAGE-TEMPLATE>[CSS3-PAGE-TEMPLATE]

   <dd>Alan Stearns. <a
    href="http://dev.w3.org/csswg/css3-page-template/"><cite>CSS Pagination
    Templates Module Level 3.</cite></a> Proposal for a CSS module.
    (Retrieved 4 April 2012) URL: <a
    href="http://dev.w3.org/csswg/css3-page-template/">http://dev.w3.org/csswg/css3-page-template/</a>
   </dd>
   <!---->

   <dt id=CSS3GRID>[CSS3GRID]

   <dd>Alex Mogilevsky; Markus Mielke. <a
    href="http://www.w3.org/TR/2007/WD-css3-grid-20070905"><cite>CSS Grid
    Positioning Module Level 3.</cite></a> 5 September 2007. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2007/WD-css3-grid-20070905">http://www.w3.org/TR/2007/WD-css3-grid-20070905</a>
   </dd>
   <!---->

   <dt id=CSS3LAYOUT>[CSS3LAYOUT]

   <dd>Bert Bos; César Acebal. <a
    href="http://www.w3.org/TR/2011/WD-css3-layout-20111129/"><cite>CSS
    Template Layout Module.</cite></a> 29 November 2011. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/WD-css3-layout-20111129/">http://www.w3.org/TR/2011/WD-css3-layout-20111129/</a>
   </dd>
   <!---->

   <dt id=CSS3PAGE>[CSS3PAGE]

   <dd>Melinda Grant; et al. <a
    href="http://www.w3.org/TR/2013/WD-css3-page-20130314/"><cite>CSS Paged
    Media Module Level 3.</cite></a> 14 March 2013. W3C Working Draft. (Work
    in progress.) URL: <a
    href="http://www.w3.org/TR/2013/WD-css3-page-20130314/">http://www.w3.org/TR/2013/WD-css3-page-20130314/</a>
   </dd>
   <!---->

   <dt id=CSSOM-VIEW>[CSSOM-VIEW]

   <dd>Anne van Kesteren. <a
    href="http://www.w3.org/TR/2011/WD-cssom-view-20110804/"><cite>CSSOM View
    Module.</cite></a> 4 August 2011. W3C Working Draft. (Work in progress.)
    URL: <a
    href="http://www.w3.org/TR/2011/WD-cssom-view-20110804/">http://www.w3.org/TR/2011/WD-cssom-view-20110804/</a>
   </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>authoring tool, <a href="#authoring-tool"
    title="section 11."><strong>11.</strong></a>

   <li>break-after, <a href="#break-after"
    title="section 3.3."><strong>3.3.</strong></a>

   <li>break-before, <a href="#break-before"
    title="section 3.3."><strong>3.3.</strong></a>

   <li>break-inside, <a href="#break-inside"
    title="section 3.3."><strong>3.3.</strong></a>

   <li>firstEmptyRegionIndex, <a
    href="#dom-named-flow-first-empty-region-index"
    title="section 6.1."><strong>6.1.</strong></a>

   <li>flow fragment height, <a href="#flow-fragment-height"
    title="section 7.2."><strong>7.2.</strong></a>

   <li>flow-from, <a href="#flow-from"
    title="section 3.2."><strong>3.2.</strong></a>

   <li>flow-into, <a href="#flow-into"
    title="section 3.1."><strong>3.1.</strong></a>

   <li>getComputedRegionStyle, <a href="#dom-region-getComputedRegionStyle"
    title="section 6.2."><strong>6.2.</strong></a>

   <li>getContent(), <a href="#dom-named-flow-get-content"
    title="section 6.1."><strong>6.1.</strong></a>

   <li><code class=idl>getNamedFlows()</code>, <a
    href="#document-getnamedflows"
    title="section 6.1."><strong>6.1.</strong></a>

   <li>getRegionFlowRanges, <a href="#dom-region-getregionflowranges"
    title="section 6.2."><strong>6.2.</strong></a>

   <li><code class=idl>getRegions()</code>, <a
    href="#dom-named-flow-get-regions"
    title="section 6.1."><strong>6.1.</strong></a>

   <li>getRegionsByContent(), <a
    href="#dom-named-flow-get-regions-by-content"
    title="section 6.1."><strong>6.1.</strong></a>

   <li><code class=idl>item(index)</code>, <a
    href="#dom-named-flow-collection-item"
    title="section 6.1."><strong>6.1.</strong></a>

   <li><code class=idl>length</code>, <a
    href="#dom-named-flow-collection-length"
    title="section 6.1."><strong>6.1.</strong></a>

   <li><code class=idl>name</code>, <a href="#dom-named-flow-name"
    title="section 6.1."><strong>6.1.</strong></a>

   <li><code class=idl>NamedFlow</code>, <a href="#dom-named-flow"
    title="section 6.1."><strong>6.1.</strong></a>

   <li>named flow, <a href="#named-flow0"
    title="section 2.3."><strong>2.3.</strong></a>

   <li><code class=idl>NamedFlowCollection</code>, <a
    href="#dom-named-flow-collection"
    title="section 6.1."><strong>6.1.</strong></a>

   <li><code class=idl>namedItem(name)</code>, <a
    href="#dom-named-flow-collection-named-item"
    title="section 6.1."><strong>6.1.</strong></a>

   <li>nested region context, <a href="#nested-region-context"
    title="section 3.2.2."><strong>3.2.2.</strong></a>

   <li><code class=idl>overset</code>, <a href="#dom-named-flow-overset"
    title="section 6.1."><strong>6.1.</strong></a>

   <li>region, <a href="#css-region"
    title="section 2.1."><strong>2.1.</strong></a>

   <li>region chain, <a href="#region-chain0"
    title="section 2.2."><strong>2.2.</strong></a>

   <li>region flow content box, <a href="#region-flow-content-box"
    title="section 7.1."><strong>7.1.</strong></a>

   <li>region-fragment, <a href="#region-fragment"
    title="section 3.4."><strong>3.4.</strong></a>

   <li><code class=idl>Region</code> interface, <a href="#region-interface"
    title="section 6.2."><strong>6.2.</strong></a>

   <li><code class=idl>regionOverset</code>, <a
    href="#dom-region-regionoverset"
    title="section 6.2."><strong>6.2.</strong></a>

   <li>renderer, <a href="#renderer"
    title="section 11."><strong>11.</strong></a>

   <li>RFCB, <a href="#rfcb" title="section 7.1."><strong>7.1.</strong></a>

   <li>specified flow, <a href="#specified-flow"
    title="section 3.1."><strong>3.1.</strong></a>

   <li>style sheet
    <ul>
     <li>as conformance class, <a href="#style-sheet"
      title="section 11."><strong>11.</strong></a>
    </ul>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property href="#break-after">break-after</a>

     <td>auto | always | avoid | left | right | page | column | region |
      avoid-page | avoid-column | avoid-region

     <td>auto

     <td>block-level elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-before">break-before</a>

     <td>auto | always | avoid | left | right | page | column | region |
      avoid-page | avoid-column | avoid-region

     <td>auto

     <td>block-level elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-inside">break-inside</a>

     <td>auto | avoid | avoid-page | avoid-column | avoid-region

     <td>auto

     <td>block-level elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#flow-from">flow-from</a>

     <td>&lt;ident&gt; | none | inherit

     <td>none

     <td>Non-replaced block containers whose display property computes to
      block, inline-block or table-cell. This might be expanded in future
      versions of the specification to allow other types of containers to
      receive flow content.

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#flow-into">flow-into</a>

     <td>none | &lt;ident&gt; [element|content]?

     <td>none

     <td>All elements, but not pseudo-elements such as ::first-line,
      ::first-letter, ::before or ::after.

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#region-fragment">region-fragment</a>

     <td>auto | break

     <td>auto

     <td>CSS Regions

     <td>no

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->
  <!-- template markup for issues pulled from Bugzilla -->
  <!-- template markup for issues pulled from Bugzilla -->
  <!--
    <script type="text/template" id="issue-template">
    <div class="issue-marker">
        <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id={{bug_id}}">Issue-{{bug_id}}</a>
        <div class="issue-details">
            <p class="short-desc">{{short_desc}}</p>
        </div>  
    </div>
    </script>   

    <script type="text/javascript" src="../shared/scripts/BugzillaTrackerUtil.js"></script>
    <script type="text/javascript" src="../shared/scripts/BugzillaTracker.js"></script>
    <script type="text/javascript">
        checkSpecificationIssues('CSS', 'Regions');        
    </script>
-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
