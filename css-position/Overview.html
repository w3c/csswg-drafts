<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Positioned Layout Module Level 3</title>
  <link href=../default.css rel=stylesheet type=text/css>
  <link href=../csslogo.ico rel="shortcut icon" type=image/x-icon>
  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>
<style type=text/css>
  .cb-example-table {
    border: 1px solid;
    border-collapse: collapse;
    font-size: smaller;
    text-align: center;
    margin: 0 2em;
  }
  .cb-example-table td, .cb-example-table th {
    border: 1px solid;
    padding: 0 3px;
  }
  code span, td span {
    white-space: nowrap;
  }
  .relationship-table {
    border: 1px solid;
    border-collapse: collapse;
    font-size: smaller;
    margin: 0 6em;
  }
  .relationship-table th {
    text-align: center;
    white-space:nowrap;
  }
  .relationship-table td, .relationship-table th {
    border: 1px solid;
    padding: 0 3px;
  }
  h2 dfn, h3 dfn {
    font: inherit;
  }

  table.lpr {
    border-collapse: collapse;
  }
  .lpr td, .lpr th {
    border: 1px solid;
    text-align: center;
  }
  .lpr col {
    background: rgb(221, 238, 255);
    border-right: 2px solid;
    font-weight: bold;
    padding: 0 5px;
  }
  .lpr div {
    font-weight: bold;
    -moz-transform: rotate(-90deg) translatex(-0.5em);
    -ms-transform: rotate(-90deg) translatex(-0.5em);
    -o-transform: rotate(-90deg) translatex(-0.5em);
    -webkit-transform: rotate(-90deg) translatex(-0.5em);
    transform: rotate(-90deg) translatex(-0.5em);
    width: 1.5em;
  }
  .lpr th:first-child {
    border: none;
    background: white;
  }
  .lpr tbody td:first-child {
    font-weight: normal;
  }
  .lpr thead td {
    background: rgb(238, 238, 238);
    font-weight: bold;
    padding: 0 5px;
    vertical-align: bottom;
    white-space: nowrap;
  }
  .lpr thead tr:nth-child(2) {
    border-bottom: 2px solid;
  }
</style>

</head>
<body class=h-entry>
<div class=head>
  <p data-fill-with=logo><a class=logo href=http://www.w3.org/>
    <img alt=W3C height=48 src=https://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Positioned Layout Module Level 3</h1>
  <h2 class="no-num no-toc no-ref heading settled" id=subtitle><span class=content>Editor’s Draft,
    <span class=dt-updated><span class=value-title title=20141027>27 October 2014</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl><dt>This version:<dd><a class=u-url href=http://dev.w3.org/csswg/css-position/>http://dev.w3.org/csswg/css-position/</a><dt>Latest version:<dd><a href=http://www.w3.org/TR/css3-positioning/>http://www.w3.org/TR/css3-positioning/</a><dt>Previous Versions:<dd><a href=http://www.w3.org/TR/2012/WD-css3-positioning-20120207/ rel=previous>http://www.w3.org/TR/2012/WD-css3-positioning-20120207/</a><dt>Feedback:<dd><span><a href="mailto:www-style@w3.org?subject=[css-position] feedback">www-style@w3.org</a> with subject line “<kbd>[css-position] <var>… message topic …</var></kbd>” (<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)</span><dt>Editors:<dd><div class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:ratan@microsoft.com>Rossen Atanassov</a> (<span class="p-org org">Microsoft</span>)</div><dd><div class="p-author h-card vcard"><a class="p-name fn u-email email" href=mailto:arronei@microsoft.com>Arron Eicholz</a> (<span class="p-org org">Microsoft</span>)</div><dt>Issues list:<dd><span><a href=http://wiki.csswg.org/spec/css-position/>in Wiki</a></span></dl></div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled" id=abstract><span class=content>Abstract</span></h2>
<div class=p-summary data-fill-with=abstract><p>This module contains the features of CSS level 3 relating to positioning and stacking of elements. It includes and extends the functionality of CSS level 2 (<a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>), which builds on CSS level 1 <a data-biblio-type=informative data-link-type=biblio href=#biblio-css1 title=CSS1>[CSS1]</a>. The main extensions compared to level 2 are the ability to position elements based on CSS Region boxes, the ability to specify different containing blocks for elements and sticky positioning. <p>Other kinds of layout, such as tables, "floating" boxes, ruby annotations, grid layouts, columns and basic handling of normal "flow" content, are described in other modules. Also, the layout of text inside each line is defined elsewhere.</p>

<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</div>

<h2 class="no-num no-toc no-ref heading settled" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

<p>
	The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-position%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>
	(see <a href=http://www.w3.org/Mail/Request>instructions</a>)
	is preferred for discussion of this specification.
	When sending e-mail,
	please put the text “css-position” in the subject,
	preferably like this:
	“[css-position] <em>…summary of comment…</em>”

<p>
	This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a>
	(part of the <a href=http://www.w3.org/Style/>Style Activity</a>).

<p>
	This document was produced by a group operating under
	the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a>
	made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential Claim(s)</a>
	must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section 6 of the W3C Patent Policy</a>.

<p>
	This document is governed by the <a href=http://www.w3.org/2014/Process-20140801/>1 August 2014 W3C Process Document</a>.
</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref heading settled" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc><li><a href=#intro><span class=secno>1</span> <span class=content>
Introduction</span></a><ul class=toc><li><a href=#placement><span class=secno>1.1</span> <span class=content>
Module Interactions</span></a><li><a href=#values><span class=secno>1.2</span> <span class=content>
Values</span></a></ul><li><a href=#vp><span class=secno>2</span> <span class=content>
The <span data-dfn-type=dfn data-noexport="" title=viewport>Viewport</span></span></a><li><a href=#cb><span class=secno>3</span> <span class=content>
Containing Blocks</span></a><ul class=toc><li><a href=#def-cb><span class=secno>3.1</span> <span class=content>
Definition of <span data-dfn-type=dfn data-noexport="" title="containing block">containing block</span></span></a></ul><li><a href=#nf><span class=secno>4</span> <span class=content>
<span data-dfn-type=dfn data-noexport="" title="normal flow">Normal Flow</span></span></a><li><a href=#floats><span class=secno>5</span> <span class=content>
<span data-dfn-type=dfn data-noexport="" title="float|floated box|floating box">Floats</span></span></a><li><a href=#pos-sch><span class=secno>6</span> <span class=content>
<span data-dfn-type=dfn data-noexport="" title="positioning schemes">Positioning schemes</span></span></a><ul class=toc><li><a href=#rel-pos><span class=secno>6.1</span> <span class=content>
Relative positioning</span></a><li><a href=#sticky-pos><span class=secno>6.2</span> <span class=content>
Sticky positioning</span></a><li><a href=#abs-pos><span class=secno>6.3</span> <span class=content>
Absolute positioning</span></a><li><a href=#center-pos><span class=secno>6.4</span> <span class=content>
Center positioning</span></a><li><a href=#page-positioning><span class=secno>6.5</span> <span class=content>
Page positioning</span></a><li><a href=#fixed-pos><span class=secno>6.6</span> <span class=content>
Fixed positioning</span></a><li><a href=#position-property><span class=secno>6.7</span> <span class=content>
Choosing a positioning scheme: <span class=property data-link-type=propdesc title=position>position</span> property</span></a><li><a href=#box-offsets-trbl><span class=secno>6.8</span> <span class=content>
Box offsets: <span class=property data-link-type=propdesc title=top>top</span>, <span class=property data-link-type=propdesc title=right>right</span>, <span class=property data-link-type=propdesc title=bottom>bottom</span>, <span class=property data-link-type=propdesc title=left>left</span></span></a><li><a href=#logical-box-offsets-beaso><span class=secno>6.9</span> <span class=content>
Logical box offsets: <span class=property data-link-type=propdesc title=offset-before>offset-before</span>, <span class=property data-link-type=propdesc title=offset-end>offset-end</span>, <span class=property data-link-type=propdesc title=offset-after>offset-after</span> and <span class=property data-link-type=propdesc title=offset-start>offset-start</span></span></a></ul><li><a href=#position-root><span class=secno>7</span> <span class=content>
Choosing a different containing block for positioning</span></a><ul class=toc><li><a href=#attachment-properties><span class=secno>7.1</span> <span class=content>
Attachment properties: <span class=property data-link-type=propdesc title=attachment-type>attachment-type</span>, <span class=property data-link-type=propdesc title=attachment-top>attachment-top</span>, <span class=property data-link-type=propdesc title=attachment-right>attachment-right</span>, <span class=property data-link-type=propdesc title=attachment-bottom>attachment-bottom</span>, <span class=property data-link-type=propdesc title=attachment-left>attachment-left</span>, and <span class=property data-link-type=propdesc title=attachment>attachment</span></span></a></ul><li><a href=#size-and-position-details><span class=secno>8</span> <span class=content>
Sizing and positioning details</span></a><ul class=toc><li><a href=#abs-non-replaced-width><span class=secno>8.1</span> <span class=content>
The width of absolute, page or fixed positioned, non-replaced elements</span></a><li><a href=#center-non-replaced-width><span class=secno>8.2</span> <span class=content>
The width of a center positioned, non-replaced elements</span></a><li><a href=#abs-replaced-width><span class=secno>8.3</span> <span class=content>
The width of absolute, page or fixed positioned, replaced elements</span></a><li><a href=#center-replaced-width><span class=secno>8.4</span> <span class=content>
The width of a center positioned, replaced elements</span></a><li><a href=#abs-non-replaced-height><span class=secno>8.5</span> <span class=content>
The height of absolute, page or fixed positioned, non-replaced elements</span></a><li><a href=#center-non-replaced-height><span class=secno>8.6</span> <span class=content>
The height of a center positioned, non-replaced elements</span></a><li><a href=#abs-replaced-height><span class=secno>8.7</span> <span class=content>
The height of absolute, page or fixed positioned, replaced elements</span></a><li><a href=#center-replaced-height><span class=secno>8.8</span> <span class=content>
The height of a center positioned, replaced elements</span></a><li><a href=#root-height><span class=secno>8.9</span> <span class=content>
Auto heights for block formatting context roots</span></a></ul><li><a href=#dis-pos-flo><span class=secno>9</span> <span class=content>
Relationships between <span class=property data-link-type=propdesc title=display>display</span>, <span class=property data-link-type=propdesc title=position>position</span>, and <span class=property data-link-type=propdesc title=float>float</span></span></a><li><a href=#comparison><span class=secno>10</span> <span class=content>
Comparison of normal flow, floats, and positioning</span></a><ul class=toc><li><a href=#comp-normal-flow><span class=secno>10.1</span> <span class=content>
Normal flow</span></a><li><a href=#comp-relpos><span class=secno>10.2</span> <span class=content>
Relative positioning</span></a><li><a href=#comp-floating><span class=secno>10.3</span> <span class=content>
Floating a box</span></a><li><a href=#comp-abspos><span class=secno>10.4</span> <span class=content>
Absolute positioning</span></a><li><a href=#comp-pagepos><span class=secno>10.5</span> <span class=content>
Page positioning</span></a></ul><li><a href=#layered-presentation><span class=secno>11</span> <span class=content>
Layered presentation</span></a><li><a href=#det-stacking-context><span class=secno>12</span> <span class=content>
Detailed stacking context</span></a><ul class=toc><li><a href=#definitions-stack><span class=secno>12.1</span> <span class=content>
Definitions</span></a><li><a href=#painting-order><span class=secno>12.2</span> <span class=content>
Painting order</span></a><li><a href=#stacking-notes><span class=secno>12.3</span> <span class=content>
Notes</span></a></ul><li><a href=#ack><span class=secno>13</span> <span class=content>
Acknowledgments</span></a><li><a href=#conformance><span class=secno></span> <span class=content>
Conformance</span></a><ul class=toc><li><a href=#conventions><span class=secno></span> <span class=content>
Document conventions</span></a><li><a href=#conformance-classes><span class=secno></span> <span class=content>
Conformance classes</span></a><li><a href=#partial><span class=secno></span> <span class=content>
Partial implementations</span></a><li><a href=#experimental><span class=secno></span> <span class=content>
Experimental implementations</span></a><li><a href=#testing><span class=secno></span> <span class=content>
Non-experimental implementations</span></a></ul><li><a href=#references><span class=secno></span> <span class=content>References</span></a><ul class=toc><li><a href=#normative><span class=secno></span> <span class=content>Normative References</span></a><li><a href=#informative><span class=secno></span> <span class=content>Informative References</span></a></ul><li><a href=#index><span class=secno></span> <span class=content>Index</span></a><li><a href=#property-index><span class=secno></span> <span class=content>Property Index</span></a><li><a href=#issues-index><span class=secno></span> <span class=content>Issues Index</span></a></ul></div>




<h2 class="heading settled" data-level=1 id=intro><span class=secno>1. </span><span class=content>
Introduction</span><a class=self-link href=#intro></a></h2>
  <em>This section is not normative.</em>

<p>CSS assumes the document layout is modeled as a tree of elements. The unique
  element that has no parent is called the root element. This module describes
  how any of the elements from the tree of elements can be arranged independent
  of document order (i.e. taken out of "flow"). With a positioned element the
  element may be placed anywhere within the content not specifically respecting
  the tree of elements order.</p>


<p>In <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>, the visual formatting model explained how each element in the
  document tree generates zero or more boxes according to the box model. This
  module further explains and extends the positioning scheme. The layout of
  these boxes is governed by:</p>

  <ul>
    <li>
      <a href=http://www.w3.org/TR/CSS2/box.html#box-dimensions>box dimensions</a>
      and <a href=http://www.w3.org/TR/CSS2/visuren.html#box-gen>type</a>.
    <li>
      positioning scheme (<a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>, float, and absolute positioning).
    <li>
      relationships between elements in the
      <a href=http://www.w3.org/TR/CSS2/conform.html#doctree>document tree</a>.
    <li>
      external information (e.g., viewport size, intrinsic dimensions of images, etc.).
  </ul>

<p>The properties defined in this module apply to both continuous media and paged
  media.</p>

<h3 class="heading settled" data-level=1.1 id=placement><span class=secno>1.1. </span><span class=content>
Module Interactions</span><a class=self-link href=#placement></a></h3>

<p>This module replaced and extends the positioning scheme features defined in
  <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a> sections:</p>

  <ul>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#viewport>9.1.1 The viewport</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#containing-block>9.1.2 Containing blocks</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#positioning-scheme>9.3 Positioning schemes</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#relative-positioning>9.4.3 Relative positioning</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#absolute-positioning>9.6 Absolute positioning</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#dis-pos-flo>9.7 Relationships between <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a>, <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>, and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a></a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#comparison>9.8 Comparison of normal flow, floats, and absolute positioning</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visuren.html#layers>9.9 Layered presentation</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visudet.html#containing-block-details>10.1 Definition of "containing block"</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-width>10.3.7 Absolutely positioned, non-replaced elements</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visudet.html#abs-replaced-width>10.3.8 Absolutely positioned, replaced elements</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visudet.html#abs-non-replaced-height>10.6.4 Absolutely positioned, non-replaced elements</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visudet.html#abs-replaced-height>10.6.5 Absolutely positioned replaced elements</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/visudet.html#root-height>10.6.7 <span class=css>Auto</span> heights for block formatting context roots</a>
    <li>
    <a href=http://www.w3.org/TR/CSS2/zindex.html>Appendix E. Elaborate description of Stacking Contexts</a>
  </ul>



<h3 class="heading settled" data-level=1.2 id=values><span class=secno>1.2. </span><span class=content>
Values</span><a class=self-link href=#values></a></h3>

<p>This specification follows the CSS property definition conventions from <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>.</p>

<p>Value types not defined in this specification are defined in CSS Level 2
  Revision 1 <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>. Other CSS modules may expand the definitions of these
  value types: for example <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3val title=CSS3VAL>[CSS3VAL]</a>, when combined with this module, expands
  the definition of the &lt;length&gt; value type as used in this specification.</p>


<p>In addition to the property-specific values listed in their definitions, all
  properties defined in this specification also accept the
  <a href=http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit>inherit</a>
  keyword as their property value. For readability it has not been repeated
  explicitly.</p>




<h2 class="heading settled" data-level=2 id=vp><span class=secno>2. </span><span class=content>
The <dfn data-dfn-type=dfn data-noexport="" id=viewport title=viewport>Viewport<a class=self-link href=#viewport></a></dfn></span><a class=self-link href=#vp></a></h2>

<p>User agents for <a href=http://www.w3.org/TR/CSS2/media.html#continuous-media-group>continuous media</a> generally offer users a viewport (a window or other
    viewing area on the screen) through which users consult a document. User
    agents may change the document's layout when the viewport is resized
    (see the <span>initial containing block</span>).</p>

<p>When the viewport is smaller than the area of the canvas on which the document
    is rendered, the user agent may offer a scrolling mechanism. There is at most
    one viewport per <a href=http://www.w3.org/TR/CSS2/intro.html#canvas>canvas</a>,
    but user agents may render to more than one canvas (i.e., provide different
    views of the same document).</p>



<h2 class="heading settled" data-level=3 id=cb><span class=secno>3. </span><span class=content>
Containing Blocks</span><a class=self-link href=#cb></a></h2>

<p>In CSS, many box positions and sizes are calculated with respect to the edges
  of a rectangular box called a containing block. In general, generated boxes
  act as containing blocks for descendant boxes; we say that a box "establishes"
  the containing block for its descendants. The phrase "a box's containing
  block" means "the containing block in which the box lives," not the one it
  generates.</p>


<p>Each box is given a position with respect to its containing block, but it is
  not confined by this containing block; it may
  <a href=http://www.w3.org/TR/CSS2/visufx.html#overflow>overflow</a>.</p>


<h3 class="heading settled" data-level=3.1 id=def-cb><span class=secno>3.1. </span><span class=content>
Definition of <dfn data-dfn-type=dfn data-noexport="" id=containing-block>containing block<a class=self-link href=#containing-block></a></dfn></span><a class=self-link href=#def-cb></a></h3>

<p>The position and size of an element's box(es) are sometimes computed relative
  to a certain rectangle, called the containing block of the element. The containing
  block of a <span title="'position'!!<fake-maybe-placeholder>static</fake-maybe-placeholder>"><span class=css>static</span></span> or
  <span title="'position'!!<fake-maybe-placeholder>relative</fake-maybe-placeholder>"><span class=css>relative</span></span> element is defined
  in the Box Model <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3box title=CSS3BOX>[CSS3BOX]</a>. The containing block of a
  <span title="'position'!!<fake-maybe-placeholder>sticky</fake-maybe-placeholder>"><span class=css>sticky</span></span> element is the same as for a
  <span title="'position'!!<fake-maybe-placeholder>relative</fake-maybe-placeholder>"><span class=css>relative</span></span> element. For
  <span title="'position'!!<fake-maybe-placeholder>fixed</fake-maybe-placeholder>"><span class=css>fixed</span></span>,
  <span title="'position'!!<fake-maybe-placeholder>absolute</fake-maybe-placeholder>"><span class=css>absolute</span></span>,
  <span title="'position'!!<fake-maybe-placeholder>center</fake-maybe-placeholder>"><span class=css>center</span></span> and
  <span title="'position'!!<fake-maybe-placeholder>page</fake-maybe-placeholder>"><span class=css>page</span></span>, it is defined as follows:</p>

  <ol>
    <li>
    If the element has <span title="'position'!!<fake-maybe-placeholder>fixed</fake-maybe-placeholder>">'positioned: fixed'</span>, the containing block is established by the
    <a data-link-type=dfn href=#viewport title=viewport>viewport</a> in the case of continuous media or the page area in
    the case of paged media.

    <li>
    If the element has <span title="'position'!!<fake-maybe-placeholder>absolute</fake-maybe-placeholder>">'position: absolute'</span>,
    the containing block is established by the nearest ancestor with a <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>
    other than <span title="'position'!!<fake-maybe-placeholder>static</fake-maybe-placeholder>"><span class=css>static</span></span>, in the following way:
    <ol>
      <li>
      In the case that the ancestor is block-level, the containing block is formed
      by the padding edge of the ancestor.

      <li>
      In the case that the ancestor is inline-level, the containing block depends
      on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property of the ancestor:
      <ol>
        <li>
          If the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> is <span class=css>ltr</span>, the top and left of the containing
          block are the top and left content edges of the first box generated
          by the ancestor, and the bottom and right are the bottom and right
          content edges of the last box of the ancestor.

        <li>
        If the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> is <span class=css>rtl</span>, the top and right are the
        top and right edges of the first box generated by the ancestor, and
        the bottom and left are the bottom and left content edges of the
        last box of the ancestor.
        <p class=note>
          Note, in some cases when a line wraps it may seem as if the left
          and right positions are swapped.
        </p>
      </ol>
    </ol>
    <li>
    I the element has <span title="'position'!!<fake-maybe-placeholder>center</fake-maybe-placeholder>">'position: center'</span>, the containing block is established
    by the nearest ancestor with a <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> other than <span title="'position'!!<fake-maybe-placeholder>static</fake-maybe-placeholder>"><span class=css>static</span></span>, in the following way:
    <ol>
      <li>
      In the case that the ancestor is block-level, the containing block is formed
      by the padding edge of the ancestor.

      <li>
      In the case that the ancestor is inline-level, the containing block depends
      on the content edges of the boxes generated by the ancestor. The top most,
      right most, bottom most and left most content edges of all the boxes
      generated by the ancestor determine the edges for the containing block.
    </ol>

    <li>
    If the element has <span title="'position'!!<fake-maybe-placeholder>page</fake-maybe-placeholder>">'position: page'</span>
    and the element is within paged media or within a rerion, the containing
    block is the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#initial-containing-block title="initial containing block">initial containing block</a>. This is the <a data-link-type=dfn href=#viewport title=viewport>viewport</a>
    or the page area when in paged media. In the case of CSS Regions
    <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-regions title=CSS3-REGIONS>[CSS3-REGIONS]</a> this is the individual region. When a page positioned
    element is not in paged media or a region the containing block is determined
    per the absolute positioning model.

    <li>
    If there is no such ancestor, the containing block is the <a data-link-type=dfn href=http://dev.w3.org/csswg/css-display-3/#initial-containing-block title="initial containing block">initial
    containing block</a>.
  </ol>

<p>In paged media, an absolutely positioned element is positioned relative to its
  containing block ignoring any page breaks (as if the document were continuous). The
  element may subsequently be broken over several pages.</p>

<p>For absolutely positioned content that resolves to a position on a page other than the
  page being laid out (the current page), or resolves to a position on the current page
  which has already been rendered for printing, printers may place the content:</p>

  <ul>
    <li>on the current page,</li>
    <li>on a subsequent page, or</li>
    <li>may omit it altogether.</li>
  </ul>

<p class=note>
  Note, a block-level element that is split over several pages may have a different width
  on each page and that there may be device-specific limits.
</p>

<div class=example>

<p>With no positioning, the containing blocks (C.B.) in the following document:</p>

<pre><code class=html>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Illustration of containing blocks&lt;/title&gt;
    &lt;/head&gt;
    &lt;body id="body"&gt;
        &lt;div id="div1"&gt;
        &lt;p id="p1"&gt;This is text in the first paragraph...&lt;/p&gt;
        &lt;p id="p2"&gt;This is text &lt;em id="em1"&gt; in the
        &lt;strong id="strong1"&gt;second&lt;/strong&gt; paragraph.&lt;/em&gt;&lt;/p&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>are established as follows:</p>

<table class=cb-example-table>
  <tr><th>For box generated by </th>
  <th>C.B. is established by</tr>
  <tr><td>html<td>initial C.B. (UA-dependent)</tr>
  <tr><td>body<td>html</tr>
  <tr><td>div1<td>body</tr>
  <tr><td>p1<td>div1</tr>
  <tr><td>p2<td>div1</tr>
  <tr><td>em1<td>p2</tr>
  <tr><td>strong1<td>p2</tr>
</table>

<p>If we position "div1":</p>

<pre><code>
#div1 { position: absolute; left: 50px; top: 50px }
</code></pre>

<p>its containing block is no longer "body"; it becomes the <span>initial containing block</span>
  (since there are no other positioned ancestor boxes).</p>

<p>If we position "em1" as well:</p>

<pre><code>
#div1 { position: absolute; left: 50px; top: 50px }
#em1  { position: absolute; left: 100px; top: 100px }
</code></pre>

<p>the table of containing blocks becomes:</p>

  <table class=cb-example-table>
    <tr><th>For box generated by</th>
    <th>C.B. is established by</tr>
    <tr><td>html<td>initial C.B. (UA-dependent)</tr>
    <tr><td>body<td>html</tr>
    <tr><td>div1<td>initial C.B.</tr>
    <tr><td>p1<td>div1</tr>
    <tr><td>p2<td>div1</tr>
    <tr><td>em1<td>div1</tr>
    <tr><td>strong1<td>em1</tr>
  </table>

<p>By positioning "em1", its containing block becomes the nearest positioned ancestor box
  (i.e., that generated by "div1").</p>
</div>



<h2 class="heading settled" data-level=4 id=nf><span class=secno>4. </span><span class=content>
<dfn data-dfn-type=dfn data-noexport="" id=normal-flow title="normal flow">Normal Flow<a class=self-link href=#normal-flow></a></dfn></span><a class=self-link href=#nf></a></h2>

<p>Boxes in the normal flow belong to a formatting context, which may be block or
  inline, but not both simultaneously. See the CSS Basic Box Model module
  <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3box title=CSS3BOX>[CSS3BOX]</a> for further details about <a href=http://www.w3.org/TR/CSS2/visuren.html#normal-flow>normal flow</a>.</p>



<h2 class="heading settled" data-level=5 id=floats><span class=secno>5. </span><span class=content>
<dfn data-dfn-type=dfn data-noexport="" id=float title="float|floated box|floating box">Floats<a class=self-link href=#float></a></dfn></span><a class=self-link href=#floats></a></h2>

<p>A float is a box that is positioned within content, often left or right on the
  current line. The most interesting characteristic of a float (or "floated" or
  "floating" box) is that inline-level content may flow along its side (or be
  prohibited from doing so by the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-clear title=clear>clear</a> property) or around the floated box.
  See the CSS 2.1 <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a> for details
  about <a href=http://www.w3.org/TR/CSS2/visuren.html#floats>floating boxes</a>.</p>



<h2 class="heading settled" data-level=6 id=pos-sch><span class=secno>6. </span><span class=content>
<dfn data-dfn-type=dfn data-noexport="" id=positioning-schemes title="positioning schemes">Positioning schemes<a class=self-link href=#positioning-schemes></a></dfn></span><a class=self-link href=#pos-sch></a></h2>

<p>In CSS, a box may be laid out according to three positioning schemes:</p>
  <ol>
    <li>
    Normal flow<br>
    In CSS, <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> includes <a href=http://www.w3.org/TR/CSS2/visuren.html#block-formatting>block formatting</a> of block-level boxes,
    <a href=http://www.w3.org/TR/CSS2/visuren.html#inline-formatting>inline formatting</a> of inline-level boxes,
    and <span title="relative positioning">relative</span> and <span title="sticky positioning">sticky</span> positioning of block-level and inline-level boxes.

    <li>
    Floats<br>
    In the <span title=floats>float</span> model, a box is first laid out according to the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>, then taken
    out of the flow and positioned, typically to the left or right. Content may flow
    along the side of a <span title=floats>float</span>.

    <li>
    Absolute positioning<br>
    In the absolute positioning model, a box is removed from the <span>normal
    flow</span> entirely (it has no impact on later siblings) and assigned a
     position with respect to a <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.
  </ol>

<p>An element is called <em>out-of-flow</em> if it is <span title=floats>floated</span>, absolutely positioned, or is the root element. An element is called
  <em>in-flow</em> if it is not out-of-flow. The <em>flow of an element</em>
  A is the set consisting of A and all in-flow elements whose nearest
  out-of-flow ancestor is A.</p>

<h3 class="heading settled" data-level=6.1 id=rel-pos><span class=secno>6.1. </span><span class=content>
Relative positioning</span><a class=self-link href=#rel-pos></a></h3>

<p>Once a box has been laid out according to the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> or
  <span title=floats>floated</span>, it may be offset relative to this position.
  This is called relative positioning. Offsetting a box (B1) in this way has no
  effect on the box (B2) that follows: B2 is given a position as if B1 were not
  offset and B2 is not re-positioned after B1's offset is applied. This
  implies that relative positioning may cause boxes to overlap. However, if
  relative positioning causes an 'overflow: auto' or 'overflow: scroll' box to
  have overflow, the user agent must allow the user to access this content (at
  its offset position), which, through the creation of a scrolling mechanism,
  may affect layout.</p>

<p>A relatively positioned box keeps its <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> size, including
  line breaks and the space originally reserved for it.</p>

<p>A relatively positioned box establishes a new a new <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for
  absolutely positioned descendants. (This is a common use of relatively positioned
  boxes.) The section on <span title="containing block">containing blocks</span>
  explains when a relatively positioned box establishes a new <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>For relatively positioned elements, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> move the box(es) horizontally,
  without changing their size. <a class=property data-link-type=propdesc href=#propdef-left title=Left>Left</a> moves the boxes to the right, and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> moves
  them to the left. Since boxes are not split or stretched as a result of <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> or
  <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>, the used values are always: left = -right.</p>

<p>If both <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span> (their initial values), the used values
  are <span class=css>0</span> (i.e., the boxes stay in their original position).</p>

<p>If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is <span class=css>auto</span>, its used value is minus the value of <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> (i.e., the
  boxes move to the left by the value of <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>).</p>

<p>If <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is specified as <span class=css>auto</span>, its used value is minus the value of <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.</p>

<p>If neither <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> nor <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is <span class=css>auto</span>, the position is over-constrained, and
  one of them has to be ignored. If the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property of the <a data-link-type=dfn href=#containing-block title="containing block">containing
  block</a> is <span class=css>ltr</span>, the value of <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> wins and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> becomes -<a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.
  If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> of the containing block is <span class=css>rtl</span>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> wins and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is
  ignored.</p>

<div class=example>

<p>The following three rules are equivalent:</p>

<pre><code>
div.a8 { position: relative; direction: ltr; left: -1em; right: auto }
div.a8 { position: relative; direction: ltr; left: auto; right: 1em }
div.a8 { position: relative; direction: ltr; left: -1em; right: 5em }
</code></pre>
</div>

<p>The <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> properties move relatively positioned element(s) up or
  down without changing their size. <a class=property data-link-type=propdesc href=#propdef-top title=Top>Top</a> moves the boxes down, and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> moves
  them up. Since boxes are not split or stretched as a result of <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> or <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>,
  the used values are always: top = -bottom.</p>

<p>If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span>, their used values are both <span class=css>0</span>.</p>

<p>If one of them, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> or <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>, is <span class=css>auto</span>, the <span class=css>auto</span> value becomes the
  negative of the other.</p>

<p>If neither <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is ignored (i.e., the used
  value of <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> will be minus the value of <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>).</p>

  <p class=note>
    Note, Although relative positioning could be used as a form of superscripting
    and subscripting, the line height is not automatically adjusted to take the
    positioning into consideration. See the description of <a href=http://www.w3.org/TR/CSS2/visudet.html#line-height>line height calculations</a> for more
    information.
  </p>

<p>Examples of relative positioning are provided in the section comparing <a data-link-type=dfn href=#normal-flow title="normal flow">normal
  flow</a>, <span title=floats>floats</span>, and absolute positioning.</p>



<h3 class="heading settled" data-level=6.2 id=sticky-pos><span class=secno>6.2. </span><span class=content>
Sticky positioning</span><a class=self-link href=#sticky-pos></a></h3>

<p>A <span>stickily positioned</span> box is positioned similarly to a <span>relatively
  positioned</span> box, but the offset is computed with reference to the nearest
  ancestor with a <span>scrolling box</span>, or the viewport if no ancestor has
  a <span>scrolling box</span>.</p>

<p>Specifically, once a box has been laid out according to the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>
  or <span title=floats>floated</span>, its sticky offset is computed as described
  below. Offsetting a box (B1) in this way has no effect on the box (B2) that
  follows: B2 is given a position as if B1 were not offset and B2 is not re-positioned
  after B1’s offset is applied. This implies that sticky positioning may cause
  boxes to overlap. However, if sticky positioning causes an 'overflow: auto' or
  'overflow: scroll' box to have overflow, the user agent must allow the user to
  access this content (at its offset position), which, through the creation of a
  scrolling mechanism, may affect layout.</p>

<p>A stickily positioned box keeps its <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> size, including  line
  breaks and the space originally reserved for it.</p>

<p>A stickily positioned box establishes a new a new <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for
  absolutely positioned descendants, just as relative positioning does. The section
  on <span title="containing block">containing blocks</span> explains when a
  stickily positioned box establishes a new <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>For stickily positioned elements, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are
  offsets from the respective edges of its flow box which are used to constrain
  the element’s offset. Percentage values of <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> refer to the
  width of its flow box; percentage values of <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> refer to the
  height of its flow box.</p>

  <p class=issue id=issue-86601ab4><a class=self-link href=#issue-86601ab4></a>
    Describe which element font-size-relative units are resolved against
  </p>

<p>The offset of a stickily positioned box is computed as follows:</p>

<ol>
  <li>
  A rectangle is computed relative to the containing block of the stickily
  positioned element, by insetting its flow box rectangle on each side by offsets
  computed from the <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> properties of the stickily
  positioned element.
  <p class=issue id=issue-6be9cee7><a class=self-link href=#issue-6be9cee7></a>
    Say what happens if this rectangle is empty
  </p>

  <li>
  The intersection is taken between the resulting rectangle, and the containing
  block of the stickily positioned element. The result, termed the the
  <em>sticky-constraint rectangle</em>, is a rectangle used to constrain the
  location of the stickily positioned element.

  <li>
  If the stickily positioned element’s <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> style is not <span class=css>auto</span>, and the stickily
  positioned element projects above the top of the <em>sticky-constraint
  rectangle</em>, the stickily positioned element is moved down until it is fully
  contained in the <em>sticky-constraint rectangle</em>.

  <li>
  If the stickily positioned element’s <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> style is not <span class=css>auto</span>, and the stickily
  positioned element projects below the bottom of the <em>sticky-constraint
  rectangle</em>, the stickily positioned element is moved up until it is fully
  contained in the <em>sticky-constraint rectangle</em>.

  <li>
  If the stickily positioned element’s <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> style is not <span class=css>auto</span>, and the stickily
  positioned element projects outside the left of the <em>sticky-constraint
  rectangle</em>, the stickily positioned element is moved right until it is fully
  contained in the <em>sticky-constraint rectangle</em>.

  <li>
  If the stickily positioned element’s <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> style is not <span class=css>auto</span>, and the stickily
  positioned element projects outside the right of the <em>sticky-constraint
  rectangle</em>, the stickily positioned element is moved left until it is fully
  contained in the <em>sticky-constraint rectangle</em>.
</ol>

<p>When computing containement of the stickily positioned element within its
  containing block, margins on the stickily positioned element are taken into
  account.</p>

  <p class=issue id=issue-09e98f99><a class=self-link href=#issue-09e98f99></a>
    Say what happens if it already overflows the containing block
  </p>
  <p class=issue id=issue-e6070342><a class=self-link href=#issue-e6070342></a>
    Do marins collapse between the stickily positioned element and its containing
    block element?
  </p>

<p>Intersection between the stickily positioned element and the bottom of the
  <em>sticky-constraint rectangle</em> limits movement in any direction, so the
  offset never pushes the stickily positioned element outside of its containing
  block. However, when the element is free to move within its containing block
  as the page is scrolled, it appears to be pinned to the relevant flow root
  edges, similarly to a fixed position element.</p>

  <p class=note>
    Note that a stickily positioned element with non-auto <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> style and auto
    <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> style will only ever be pushed down by sticky positioning; it will
    never be offset upwards.
  </p>
  <p class=note>
    Multiple stickily positioned elements in the same container are offset
    independently. Sticky position offsets may cause them to overlap.
  </p>
  <p class=issue id=issue-0a53b8c3><a class=self-link href=#issue-0a53b8c3></a>
    Does the margin on the stickily positioned element affect its distance from
    the flow root edge?
  </p>
  <p class=issue id=issue-12e9f6da><a class=self-link href=#issue-12e9f6da></a>
    Sticky positioning should really be defined in terms of the nearest scrollable
    ancestor, but there is currently no such term defined elsewhere in CSS. CSSOM
    View refers to "scrolling boxes." CSS Overflow has yet to pull in the relevant
    text from CSS Box, and CSS Box has an old, confusing definition of "flow root"
    which is almost (but probably not quite) what we want here. This spec refers
    to "flow root," since that’s the closest thing currently specced somewhere,
    but this is not optimal.
  </p>
<div class=example>
  The following example is the same as the previous one, but now it is explained:

<pre>EM { font-style: italic }</pre>
</div>


<h3 class="heading settled" data-level=6.3 id=abs-pos><span class=secno>6.3. </span><span class=content>
Absolute positioning</span><a class=self-link href=#abs-pos></a></h3>

<p>In the absolute positioning model, a box is explicitly offset with respect to
  its <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>. It is removed from the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> entirely
  (it has no impact on later siblings). An absolutely positioned box establishes
  a new <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for normal flow children and absolutely (but not
  fixed or page) positioned descendants. However, the contents of an absolutely
  positioned element do not flow around any other boxes. They may obscure the
  contents of another box (or be obscured themselves), depending on the stack
  levels of the overlapping boxes.</p>

<p>References in this specification to an absolutely positioned element (or its
  box) imply that the element's <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property has the value
  <span class=css>absolute</span> or <span class=css>fixed</span>.</p>


<h3 class="heading settled" data-level=6.4 id=center-pos><span class=secno>6.4. </span><span class=content>
Center positioning</span><a class=self-link href=#center-pos></a></h3>

<p>In the center positioning model, a box is explicitly centered with respect to
  its <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>. It is removed from the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> entirely
  (it has no impact on later siblings). A center positioned box establishes a new
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> children and absolutely (but not
  fixed or page) positioned descendants. However, the contents of an center
  positioned element do not flow around any other boxes. They may obscure the
  contents of another box (or be obscured themselves), depending on the stack
  levels of the overlapping boxes.</p>

<p>References in this specification to an <span title="center positioned element/box">center positioned element</span>
  (or its box) imply that the element's <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property has the value
  <span class=css>center</span>.</p>


<h3 class="heading settled" data-level=6.5 id=page-positioning><span class=secno>6.5. </span><span class=content>
Page positioning</span><a class=self-link href=#page-positioning></a></h3>

<p>In the page positioning model, a box is explicitly offset with respect to its
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>. It is removed from the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> entirely
  (it has no impact on later siblings). A page positioned box establishes a new
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> children and absolutely (but
  not fixed or other page) positioned descendants. However, the contents of a page
  positioned element do not flow around any other boxes. They may obscure the
  contents of another box (or be obscured themselves), depending on the stack
  levels of the overlapping boxes.</p>

<p>For <a href=http://www.w3.org/TR/CSS2/page.html>paged media</a>, boxes with
  page positions are only generated on the initial page where the page position
  element exists. Boxes with page position that are larger than the page area
  are clipped and the remaining part of the box is placed on the following page.</p>

<p>References in this specification to a <span title="page positioned element/box">page positioned element</span>
  (or its box) imply that the element's <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property has the value
  <span class=css>page</span>.</p>


<h3 class="heading settled" data-level=6.6 id=fixed-pos><span class=secno>6.6. </span><span class=content>
Fixed positioning</span><a class=self-link href=#fixed-pos></a></h3>

<p>Fixed positioning is similar to absolute positioning. The only difference is
  that for a fixed positioned box, the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is established
  by the <a data-link-type=dfn href=#viewport title=viewport>viewport</a>. For <a href=http://www.w3.org/TR/CSS2/media.html#continuous-media-group>continuous media</a>,
  fixed boxes do not move when the document is scrolled. In this respect, they are similar
  to <a href=http://www.w3.org/TR/CSS2/colors.html#background-properties>fixed background images</a>.
  For <a href=http://www.w3.org/TR/CSS2/media.html#paged-media-group>paged
  media</a>, boxes with fixed positions are repeated on every page. This is useful
  for placing, for instance, a signature at the bottom of each page. Boxes with
  fixed position that are larger than the page area are clipped. Parts of the
  fixed position box that are not visible in the <span>initial containing
  block</span> will not print.</p>

<div class=example>

<p>Authors may use fixed positioning to create the following presentation:</p>

  <div class=figure>

<p><img alt="Example of frame layout" src=images/frame.png>
    <span class=dlink><a href=images/longdesc/frame-desc.html id=img-frame title="Long description for frame layout example">[D]</a></span>
    <span class=slink>   <a href=source/frame-src.html id=source-frame title="Source code for frame layout example">[S]</a></span></p>

  </div>

<p>This might be achieved with the following HTML document and style rules:</p>
<pre><code class=html>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;A frame document with CSS&lt;/title&gt;
    &lt;style type="text/css" media="screen"&gt;
      body { height: 8.5in } /* Required for percentage heights below */
      #header {
        position: fixed;
        width: 100%;
        height: 15%;
        top: 0;
        right: 0;
        bottom: auto;
        left: 0;
      }
      #sidebar {
        position: fixed;
        width: 10em;
        height: auto;
        top: 15%;
        right: auto;
        bottom: 100px;
        left: 0;
      }
      #main {
        position: fixed;
        width: auto;
        height: auto;
        top: 15%;
        right: 0;
        bottom: 100px;
        left: 10em;
      }
      #footer {
        position: fixed;
        width: 100%;
        height: 100px;
        top: auto;
        right: 0;
        bottom: 0;
        left: 0;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="header"&gt; ...  &lt;/div&gt;
    &lt;div id="sidebar"&gt; ...  &lt;/div&gt;
    &lt;div id="main"&gt; ...  &lt;/div&gt;
    &lt;div id="footer"&gt; ...  &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</div>




<h3 class="heading settled" data-level=6.7 id=position-property><span class=secno>6.7. </span><span class=content>
Choosing a positioning scheme: <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property</span><a class=self-link href=#position-property></a></h3>

<p>The <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property determines which of the positioning algorithms is used to
  calculate the position of a box.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-position>position<a class=self-link href=#propdef-position></a></dfn><tr><th>Value:<td class=prod>static <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> relative <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> absolute <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> sticky <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> center <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> page <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> fixed<tr><th>Initial:<td>static<tr><th>Applies to:<td>all elements except table-column-group and table-column<tr><th>Inherited:<td>no<tr><th>Percentages:<td>N/A<tr><th>Media:<td>visual<tr><th>Computed value:<td>specified value<tr><th>Animatable:<td>no<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>The values of this property have the following meanings:</p>
<dl data-dfn-for=position data-dfn-type=value>
  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholderstatic-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>static</fake-maybe-placeholder>">static<a class=self-link href=#valdef-position-positionfake-maybe-placeholderstatic-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box is a normal box, laid out according to the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>. The
    <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>, <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>, and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> properties do not apply.

  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholderrelative-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>relative</fake-maybe-placeholder>">relative<a class=self-link href=#valdef-position-positionfake-maybe-placeholderrelative-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box's position is calculated according to the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> (this
    is called the position in <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>). Then the box is offset relative
    to its normal position and in all cases, including table elements, does not affect
    the position of any following boxes. When a box B is relatively positioned, the
    position of the following box is calculated as though B were not offset. The effect
    of <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span> on table elements is defined as follows:
    <ul>
      <li>
      table-row-group, table-header-group, table-footer-group and table-row offset
      relative to its normal position within the table. If table-cells span
      multiple rows, only the cells originating in the <span title="relative positioning">relative positioned</span> row is
      offset.

      <li>
      table-column-group, table-column do not offset the respective column and has
      no visual affect when <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span> is applied.

      <li>
      table-caption and table-cell offset relative to its normal position within
      the table. If a table cell spans multiple columns or rows the full spanned
      cell is offset.
    </ul>

  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholderabsolute-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>absolute</fake-maybe-placeholder>">absolute<a class=self-link href=#valdef-position-positionfake-maybe-placeholderabsolute-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box's position (and possibly size) is specified with the <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>,
    <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>, and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> properties. These properties specify offsets with respect
    to the box's <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>. Absolutely positioned boxes
    are taken out of the normal flow. This means they have no impact on the layout
    of later siblings. Though absolutely positioned boxes may have margins, those
    margins do not <a href=http://www.w3.org/TR/CSS2/box.html#collapsing-margins>
    collapse</a> with any other margins.

  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholdersticky-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>sticky</fake-maybe-placeholder>">sticky<a class=self-link href=#valdef-position-positionfake-maybe-placeholdersticky-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box's position is calculated according to the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>
    (this is called the position in <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>). Then the box is offset
    relative to its flow root and containing block and in all cases, including
    table elements, does not affect the position of any following boxes. When a
    box B is stickily positioned, the position of the following box is calculated
    as though B were not offset. The effect of <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span> on table
    elements is the same as for <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>

  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholdercenter-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>center</fake-maybe-placeholder>">center<a class=self-link href=#valdef-position-positionfake-maybe-placeholdercenter-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box's position (and possibly size) is specified with the <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>,
    <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>, and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> properties. The box is vertically and horizontally centered
    within its <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> and these properties specify offsets with
    respect to the box's centered position within its <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.
    Center positioned boxes are taken out of the normal flow. This means they have
    no impact on the layout of later siblings. Though center positioned boxes may
    have margins, those margins do not <a href=http://www.w3.org/TR/CSS2/box.html#collapsing-margins>collapse</a>
    with any other margins.

  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholderpage-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>page</fake-maybe-placeholder>">page<a class=self-link href=#valdef-position-positionfake-maybe-placeholderpage-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box's position is calculated according to the "absolute" model.
    <ul>
      <li>
      In the case of paged media or when inside a region box the box's
      <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is always the <span>initial containing
      block</span>.

      <li>
      Otherwise, the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is determined per the
      "absolute" model.
    </ul>

<p>As with the "absolute" model, the box's margins do not collapse with any
    other margins. In the case of the print media type, the box is rendered only
    on the initial page or region where the page positioned element originated.
    User agents may paginate the content of paged boxes.</p>

    <p class=note>
      Note, that CSS Regions are also <span title="initial containing block">initial
      containing blocks</span>, in accordance with
      <a href=http://dev.w3.org/csswg/css3-regions/#flow-into><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-regions-1/#propdef-flow-into title=flow-into>flow-into</a></a> property
      of the CSS Regions Module <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3-regions title=CSS3-REGIONS>[CSS3-REGIONS]</a>.
    </p>

  <dt><dfn class=css data-dfn-for=position data-dfn-type=value data-export="" id=valdef-position-positionfake-maybe-placeholderfixed-fake-maybe-placeholder title="'position'!!<fake-maybe-placeholder>fixed</fake-maybe-placeholder>">fixed<a class=self-link href=#valdef-position-positionfake-maybe-placeholderfixed-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The box's position is calculated according to the "absolute" model, but
    in addition, the box is fixed with respect to some reference. As with the
    "absolute" model, the box's margins do not collapse with any other margins.
    In the case of handheld, projection, screen, tty, and tv media types, the box
    is fixed with respect to the <a data-link-type=dfn href=#viewport title=viewport>viewport</a> and does not move when scrolled.
    In the case of the print media type, the box is rendered on every page, and
    is fixed with respect to the page box, even if the page is seen through a
    <a data-link-type=dfn href=#viewport title=viewport>viewport</a> (in the case of a print-preview, for example). For other media
    types, the presentation is undefined. Authors may wish to specify <span class=css>fixed</span>
    in a media-dependent way. For instance, an author may want a box to remain at
    the top of the <a data-link-type=dfn href=#viewport title=viewport>viewport</a> on the screen, but not at the top of each printed
    page. The two specifications may be separated by using an <a href=http://www.w3.org/TR/CSS2/media.html#at-media-rule>'@media'</a>
    rule, as in:
    <div class=example>
<pre><code>
@media screen {
    h1#first { position: fixed }
}
@media print {
    h1#first { position: static }
}
</code></pre>
    </div>
    User agents must not paginate the content of fixed boxes.

    <p class=note>
      Note that user agents may print invisible content in other ways. See
      <a href=http://www.w3.org/TR/CSS2/page.html#outside-page-box>"Content outside the page box"</a>.
    </p>
  </dd>
</dl>

<p>In previous versions of CSS user agents may treat position <span class=css>fixed</span> as <span class=css>static</span>
  on the root element. This specification removes that option and it is now required
  that newer user agents treat <span class=css>fixed</span> value on the root element as defined for
  all other elements.</p>


<h3 class="heading settled" data-level=6.8 id=box-offsets-trbl><span class=secno>6.8. </span><span class=content>
Box offsets: <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>, <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a></span><a class=self-link href=#box-offsets-trbl></a></h3>

<p>An element is said to be <span class=index-def title="positioned element/box">
  positioned</span> if its <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property has a value other than <span class=css>static</span>.
  Positioned elements generate positioned boxes, and may be laid out according
  to the following four physical properties:</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-top>top<a class=self-link href=#propdef-top></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>static</span>, <span class=css>auto</span>.<br> Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>This property specifies how far an absolutely positioned box's top margin
  edge is offset below the top edge of the box's <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>For relatively positioned boxes, the offset is with respect to the top edge of
  the box itself (i.e., the box is given a position in the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>,
  and then offset from that position according to this property).</p>

<p>For stickily positioned boxes, the value is used to compute the <em>sticky-constraint
  rectangle</em> as described in Sticky positioning.</p>

<p>For absolutely positioned and center positioned elements whose <a data-link-type=dfn href=#containing-block title="containing block">containing
  block</a> is based on a block-level element, this property is an offset from
  the padding edge of that element.</p>

<p>For page positioned boxes, within paged media or regions, the offset is with
  respect to the top edge of the <span>initial containing block</span>; otherwise
  for page positioned boxes same as for absolutely positioned boxes.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-right>right<a class=self-link href=#propdef-right></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>static</span>, <span class=css>auto</span>.<br> Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>Similar to <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, but specifies how far a box's right margin edge is offset
  to the left of the right edge of the box's <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>For relatively positioned boxes, the offset is with respect to the right edge
  of the box itself (i.e., the box is given a position in the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>,
  and then offset from that position according to this property).</p>

<p>For stickily positioned boxes, the value is used to compute the <em>sticky-constraint
  rectangle</em> as described in Sticky positioning.</p>

<p>For absolutely positioned and center positioned elements whose <a data-link-type=dfn href=#containing-block title="containing block">containing
  block</a> is based on a block-level element, this property is an offset from
  the padding edge of that element.</p>

<p>For page positioned boxes, within paged media or regions, the offset is with
  respect to the right edge of the <span>initial containing block</span>; otherwise
  for page positioned boxes same as for absolutely positioned boxes.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-bottom>bottom<a class=self-link href=#propdef-bottom></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>static</span>, <span class=css>auto</span>.<br> Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>Similar to <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, but specifies how far a box's bottom margin edge is offset
  above the bottom edge of the box's <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>For relatively positioned boxes, the offset is with respect to the bottom edge
  of the box itself (i.e., the box is given a position in the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>,
  and then offset from that position according to this property).</p>

<p>For stickily positioned boxes, the value is used to compute the <em>sticky-constraint
  rectangle</em> as described in Sticky positioning.</p>

<p>For absolutely positioned and center positioned elements whose <a data-link-type=dfn href=#containing-block title="containing block">containing
  block</a> is based on a block-level element, this property is an offset from
  the padding edge of that element.</p>

<p>For page positioned boxes, within paged media or regions, the offset is with
  respect to the bottom edge of the <span>initial containing block</span>; otherwise
  for page positioned boxes same as for absolutely positioned boxes.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-left>left<a class=self-link href=#propdef-left></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>static</span>, <span class=css>auto</span>. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>Similar to <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, but specifies how far a box's left margin edge is offset
  to the right of the left edge of the box's <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>For relatively positioned boxes, the offset is with respect to the left edge of
  the box itself (i.e., the box is given a position in the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>,
  and then offset from that position according to this property).</p>

<p>For stickily positioned boxes, the value is used to compute the <em>sticky-constraint
  rectangle</em> as described in Sticky positioning.</p>

<p>For absolutely positioned and center positioned elements whose <a data-link-type=dfn href=#containing-block title="containing block">containing
  block</a> is based on a block-level element, this property is an offset from
  the padding edge of that element.</p>

<p>For page positioned boxes, within paged media or regions, the offset is with
  respect to the left edge of the <span>initial containing block</span>; otherwise
  for page positioned boxes same as for absolutely positioned boxes.</p>

<p>The values for the four properties have the following meanings:</p>

<dl data-dfn-for=top|right|bottom|left data-dfn-type=value>
  <dt><dfn class=css data-dfn-for=top|right|bottom|left data-dfn-type=value data-export="" id=valdef-toprightbottomleft-topfake-maybe-placeholderlength-fake-maybe-placeholder title="'top'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>|'right'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>|'bottom'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>|'left'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>">&lt;length&gt;<a class=self-link href=#valdef-toprightbottomleft-topfake-maybe-placeholderlength-fake-maybe-placeholder></a></dfn>
  <dd>
    The offset is a fixed distance from the reference edge. Negative values are
    allowed.

  <dt><dfn class=css data-dfn-for=top|right|bottom|left data-dfn-type=value data-export="" id=valdef-toprightbottomleft-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="'top'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>|'right'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>|'bottom'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>|'left'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>">&lt;percentage&gt;<a class=self-link href=#valdef-toprightbottomleft-topfake-maybe-placeholderpercentage-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    The offset is a percentage of the <span title="containing block">containing
    block's</span> width (for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>) or height (for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>).
    For stickily positioned elements, the offset is a percentage of the flow root’s
    width (for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>) or height (for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> or <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>).
    Negative values are allowed.

  <dt><dfn class=css data-dfn-for=top|right|bottom|left data-dfn-type=value data-export="" id=valdef-toprightbottomleft-topfake-maybe-placeholderauto-fake-maybe-placeholder title="'top'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>|'right'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>|'bottom'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>|'left'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>">auto<a class=self-link href=#valdef-toprightbottomleft-topfake-maybe-placeholderauto-fake-maybe-placeholder></a></dfn></dt>
  <dd>
    For non-replaced elements, the effect of this value depends on which of related
    properties have the value <span class=css>auto</span> as well. See the sections on the
    <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> of absolutely positioned, non-replaced elements for details.
    For replaced elements, the effect of this value depends only on the intrinsic
    dimensions of the replaced content. See the sections on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>
    of absolutely positioned, replaced elements for details.
</dl>

  <p class=note>
    Note, for page positioned elements and fixed positioned elements using large values or
    negative values may easily move elements outside the <a data-link-type=dfn href=#viewport title=viewport>viewport</a> and make the
    contents unreachable through scrolling or other means. Authors should be aware that
    page postion and fixed position elements are always relative to the <span>initial
    containing block</span>.
  </p>


<h3 class="heading settled" data-level=6.9 id=logical-box-offsets-beaso><span class=secno>6.9. </span><span class=content>
Logical box offsets: <a class=property data-link-type=propdesc href=#propdef-offset-before title=offset-before>offset-before</a>, <a class=property data-link-type=propdesc href=#propdef-offset-end title=offset-end>offset-end</a>, <a class=property data-link-type=propdesc href=#propdef-offset-after title=offset-after>offset-after</a> and <a class=property data-link-type=propdesc href=#propdef-offset-start title=offset-start>offset-start</a></span><a class=self-link href=#logical-box-offsets-beaso></a></h3>

<p>Logical offset properties allow for offseting positioned boxes based on the
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> properties. When both the physical property and
  equivalent logical property (based on <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a>) are
  specified the physical property computes to the computed value of the coresponding
  logical property.</p>

<p>Positioned elements generate positioned boxes, and may be laid out according to
  the following four logical properties taking into account the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a>
  and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> of the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>:</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-offset-before>offset-before<a class=self-link href=#propdef-offset-before></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>static</span>, <span class=css>auto</span>.<br> Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>For an absolutely positioned box this property specifies how far the coresponding
  margin edge is offset from the coresponding physical reference edge of the box's
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>The partiucular physical reference edge that is used when offsetting is based
  on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> properties.</p>

<p>The combination of the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> properties determine the
  appropriate physical reference edge for offsetting.</p>

<p>The table below shows logical offset properties (per <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a>) and the physical reference edge from which the offset will occur.</p>

  <div class=figure>
    <table class=lpr id=logical-physical-relations>
      <colgroup>
        <col>
        <col>
      </colgroup>
      <tbody>
        <tr>
          <td rowspan=4><div>Edge</div></td>
          <td>top</td>
          <td>offset-before</td>
          <td>offset-before</td>
          <td>offset-start</td>
          <td>offset-end</td>
          <td>offset-start</td>
          <td>offset-end</td>
        </tr>
        <tr>
          <td>right</td>
          <td>offset-end</td>
          <td>offset-start</td>
          <td>offset-before</td>
          <td>offset-before</td>
          <td>offset-after</td>
          <td>offset-after</td>
        </tr>
        <tr>
          <td>bottom</td>
          <td>offset-after</td>
          <td>offset-after</td>
          <td>offset-end</td>
          <td>offset-start</td>
          <td>offset-end</td>
          <td>offset-start</td>
        </tr>
        <tr>
          <td>left</td>
          <td>offset-start</td>
          <td>offset-end</td>
          <td>offset-after</td>
          <td>offset-after</td>
          <td>offset-before</td>
          <td>offset-before</td>
        </tr>
      </tbody>
      <thead>
        <tr>
          <th colspan=2 rowspan=2></th>
          <td colspan=6><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> / <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a></td>
        </tr>
        <tr>
          <td>horizontal-tb / ltr</td>
          <td>horizontal-tb / rtl</td>
          <td>vertical-rl / ltr</td>
          <td>vertical-rl / rtl</td>
          <td>vertical-lr / ltr</td>
          <td>vertical-lr / rtl</td>
        </tr>
      </thead>
    </table>
    <p class=caption>
      Relationship of physical offset edges and the logical properties per
      <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a>.
    </p>
  </div>

<p>For relatively positioned boxes, the offset is with respect to the property's
  coresponding physical reference edge of the box itself (i.e., the box is given a
  position in the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>, and then offset from that position according
  to the property).</p>

  <p class=issue id=issue-40a62b16><a class=self-link href=#issue-40a62b16></a>This needs to be defined for sticky positioning.</p>

<p>For absolutely positioned and center positioned elements whose <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>
  is based on a block-level element, this property is an offset from the coresponding
  padding edge of that element.</p>

<p>For page positioned boxes, within paged media or regions, the offset is with respect to
  the property's coresponding physical edge of the <span>initial containing block</span>;
  otherwise for page positioned boxes same as for absolutely positioned boxes.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-offset-end>offset-end<a class=self-link href=#propdef-offset-end></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>static</span>, <span class=css>auto</span>.<br> Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>Similar to <a class=property data-link-type=propdesc href=#propdef-offset-before title=offset-before>offset-before</a> but refer to the table, "Figure 1", for the coresponding
  physical reference edge that is used for offseting based on <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a>.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-offset-after>offset-after<a class=self-link href=#propdef-offset-after></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>statick</span>, <span class=css>auto</span>. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>Similar to <a class=property data-link-type=propdesc href=#propdef-offset-before title=offset-before>offset-before</a> but refer to the table, "Figure 1", for the coresponding
  physical reference edge that is used for offseting based on <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a>.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-offset-start>offset-start<a class=self-link href=#propdef-offset-start></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;length&gt; <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;percentage&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>refer to height of <a data-link-type=dfn href=#containing-block title="containing block">containing block</a><tr><th>Media:<td>visual<tr><th>Computed value:<td>as specified<tr><th>Animatable:<td>&lt;length&gt;, &lt;percentage&gt;<tr><th>Computed value:<td>For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>relative</span>, see Relative positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>sticky</span>, see Sticky positioning.<br> For <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>: <span class=css>statick</span>, <span class=css>auto</span>. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, <span class=css>auto</span>.<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>Similar to <a class=property data-link-type=propdesc href=#propdef-offset-before title=offset-before>offset-before</a> but refer to the table, "Figure 1", for the coresponding
  physical reference edge that is used for offseting based on <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a>.</p>

<p>The values for the four properties have the following meanings:</p>

  <dl data-dfn-for=offset-before|offset-end|‘offset-after|offset-start data-dfn-type=value>
    <dt><dfn class="index-def css" data-dfn-for=offset-before|offset-end|‘offset-after|offset-start data-dfn-type=value data-export="" id=valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderlength-fake-maybe-placeholder title="'top'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>|'right'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>|'bottom'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>|'left'!!<fake-maybe-placeholder><length></fake-maybe-placeholder>">&lt;length&gt;<a class=self-link href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderlength-fake-maybe-placeholder></a></dfn></dt>
    <dd>
      The offset is a fixed distance from the reference edge. Negative values are
      allowed.

    <dt><dfn class="index-def css" data-dfn-for=offset-before|offset-end|‘offset-after|offset-start data-dfn-type=value data-export="" id=valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="'top'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>|'right'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>|'bottom'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>|'left'!!<fake-maybe-placeholder><percentage></fake-maybe-placeholder>">&lt;percentage&gt;<a class=self-link href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderpercentage-fake-maybe-placeholder></a></dfn>
    <dd>
      The offset is a percentage of the <a data-link-type=dfn href=#containing-block title="containing block's">containing block's</a> width (for
      <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>) or height (for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>). For stickily
      positioned elements, the offset is a percentage of the flow root’s width
      (for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>) or height (for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> or <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>). Negative values
      are allowed.

    <dt><dfn class="index-def css" data-dfn-for=offset-before|offset-end|‘offset-after|offset-start data-dfn-type=value data-export="" id=valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderauto-fake-maybe-placeholder title="'top'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>|'right'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>|'bottom'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>|'left'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>">auto<a class=self-link href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderauto-fake-maybe-placeholder></a></dfn></dt>
    <dd>
      For non-replaced elements, the effect of this value depends on which of related
      properties have the value <span class=css>auto</span> as well. See the sections on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>
      and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> of absolutely positioned, non-replaced elements for details.
      For replaced elements, the effect of this value depends only on the intrinsic
      dimensions of the replaced content. See the sections on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and
      <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> of absolutely positioned, replaced elements for details.
  </dl>

  <p class=note>
    Note, for page positioned elements and fixed positioned elements using large values or
    negative values may easily move elements outside the <a data-link-type=dfn href=#viewport title=viewport>viewport</a> and make the
    contents unreachable through scrolling or other means. Authors should be aware that
    page postion and fixed position elements are always relative to the <span>initial
    containing block</span>.
  </p>


<h2 class="heading settled" data-level=7 id=position-root><span class=secno>7. </span><span class=content>
Choosing a different containing block for positioning</span><a class=self-link href=#position-root></a></h2>

<h3 class="heading settled" data-level=7.1 id=attachment-properties><span class=secno>7.1. </span><span class=content>
Attachment properties: <a class=property data-link-type=propdesc title=attachment-type>attachment-type</a>, <a class=property data-link-type=propdesc title=attachment-top>attachment-top</a>, <a class=property data-link-type=propdesc title=attachment-right>attachment-right</a>, <a class=property data-link-type=propdesc title=attachment-bottom>attachment-bottom</a>, <a class=property data-link-type=propdesc title=attachment-left>attachment-left</a>, and <a class=property data-link-type=propdesc title=attachment>attachment</a></span><a class=self-link href=#attachment-properties></a></h3>

  <p class=issue id=issue-2de4b7c6><a class=self-link href=#issue-2de4b7c6></a>
    Ideas have been raised to allow changing the positioning containing block or
    allowing positioning and sizing to use different containing blocks.
  </p>


<h2 class="heading settled" data-level=8 id=size-and-position-details><span class=secno>8. </span><span class=content>
Sizing and positioning details</span><a class=self-link href=#size-and-position-details></a></h2>

<h3 class="heading settled" data-level=8.1 id=abs-non-replaced-width><span class=secno>8.1. </span><span class=content>
The width of absolute, page or fixed positioned, non-replaced elements</span><a class=self-link href=#abs-non-replaced-width></a></h3>

<p>The constraint that determines the used values for these elements is:</p>

<p><code>
    'left' + <span>'margin-left'</span> + <span>'border-left-width'</span> + <span>'padding-left'</span> + 'width' +
    <span>'padding-right'</span> + <span>'border-right-width'</span> + <span>'margin-right'</span> +
    'right' = <span>width of containing block</span></code></p><code>
 </code>

<p>If all three of <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>, and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span>: First set any <span class=css>auto</span> values
  for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> to <span class=css>0</span>. Then, if the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property of the
  element establishing the static-position <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is <span class=css>ltr</span> set
  <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> to the static position and apply rule number <em>three</em> below; otherwise, set
  <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> to the static-position and apply rule number <em>one</em> below.</p>

<p>If none of the three is <span class=css>auto</span>: If both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> are <span class=css>auto</span>,
  solve the equation under the extra constraint that the two margins get equal values,
  unless this would make them negative, in which case when direction of the containing
  block is <span class=css>ltr</span> (<span class=css>rtl</span>), set <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a>) to <span class=css>0</span> and solve for
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a>). If one of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> is <span class=css>auto</span>,
  solve the equation for that value. If the values are over-constrained, ignore the value
  for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> (in case the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property of the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is
  <span class=css>rtl</span>) or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> (in case <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> is <span class=css>ltr</span>) and solve for that value.</p>

<p>Otherwise, set <span class=css>auto</span> values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> to <span class=css>0</span>, and pick
  one of the following six rules that apply.</p>

  <ol>
    <li>
    If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is not <span class=css>auto</span>, then the width is
    shrink-to-fit. Then solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is not <span class=css>auto</span>, then if the
    <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property of the element establishing the static-position
    <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is <span class=css>ltr</span> set <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> to the static-position,
    otherwise set <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> to the static-position. Then solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> (if 'direction
    is <span class=css>rtl</span>) or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> (if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> is <span class=css>ltr</span>).

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is not <span class=css>auto</span>, then the width is
    shrink-to-fit. Then solve for <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>.
  </ol>


<h3 class="heading settled" data-level=8.2 id=center-non-replaced-width><span class=secno>8.2. </span><span class=content>
The width of a center positioned, non-replaced elements</span><a class=self-link href=#center-non-replaced-width></a></h3>

<p>The following constraints must hold among the used values of the other properties:</p>

<p><code>
    'left' + <span>'margin-left'</span> + <span>'border-left-width'</span> + <span>'padding-left'</span> +
    'width' + <span>'padding-right'</span> + <span>'border-right-width'</span> + <span>'margin-right'</span> +
    'right' = <span>width of containing block</span></code></p><code>
 </code>

<p>If all three of <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>, and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span>: First set any <span class=css>auto</span> values
  for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> to <span class=css>0</span>, then the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> calculated as
  shrink-to-fit, and finally apply rule number <em>two</em> below.</p>

<p>If none of the three is <span class=css>auto</span>: If both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> are <span class=css>auto</span>,
  solve the equation under the extra constraint that the two margins get equal values,
  unless this would make them negative, in which case when direction of the containing
  block is <span class=css>ltr</span> (<span class=css>rtl</span>), set <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a>) to <span class=css>0</span> and solve for
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a>). If one of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> is <span class=css>auto</span>,
  solve the equation for that value. If the values are over-constrained, ignore the values
  for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> and solve the equation so both propeties get equal values. This
  horizontally centers the element with respect to the edges of the <span>containing
  block</span>.</p>

<p>Otherwise, set <span class=css>auto</span> values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> to <span class=css>0</span>, and pick
  one of the following six rules that apply.</p>

  <ol>
    <li>
    If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is not <span class=css>auto</span>, then the width is
    shrink-to-fit. Then solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.

    <li>
    If both <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span>, their used values are equal. This
    horizontally centers the element with respect to the edges of the <span>containing
    block</span>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is not <span class=css>auto</span>, then the width is
    shrink-to-fit. Then solve for <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>.
  </ol>


<h3 class="heading settled" data-level=8.3 id=abs-replaced-width><span class=secno>8.3. </span><span class=content>
The width of absolute, page or fixed positioned, replaced elements</span><a class=self-link href=#abs-replaced-width></a></h3>

<p>If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> both have computed values of <span class=css>auto</span> and the element also has an
  intrinsic width, then that intrinsic width is the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>.</p>

<p>If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> both have computed values of <span class=css>auto</span> and the element has no
  intrinsic width, but does have an intrinsic height and intrinsic ratio; or if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>
  has a computed value of <span class=css>auto</span>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> has some other computed value, and the element
  does have an intrinsic ratio; then the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is:</p>

<p><code>(used height) * (intrinsic ratio)</code></p>

<p>If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> both have computed values of <span class=css>auto</span>, the element has an
  intrinsic ratio but no intrinsic height or width, and the <span title="containing block">containing block's</span> width does
  not itself depend on the replaced element's width, then the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is
  calculated from the constraint equation used for
  <a href=http://www.w3.org/TR/CSS21/visudet.html#blockwidth>block-level, non-replaced elements in </a><a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>.</p>

<p>Otherwise, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> has a computed value of <span class=css>auto</span>, and the element has an intrinsic
  width, then that intrinsic width is the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>.</p>

<p>Otherwise, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> has a computed value of <span class=css>auto</span>, but none of the conditions above
  are met, and then the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> becomes <span class=css>300px</span>. If <span class=css>300px</span> is too wide
  to fit the device, user agents should use the width of the largest rectangle that has a
  2:1 ratio and fits the device instead.</p>

<p>After establishing the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>, in order to position the replaced element, apply the
  following rules as appropriate.</p>

  <ol>
    <li>
    If both <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> have the value <span class=css>auto</span>, and if the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property
    of the element establishing the static-position <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is
    <span class=css>ltr</span>, set <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> to the static position and solve for <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>; else if
    <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> is <span class=css>rtl</span>, set <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> to the static position and solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is not <span class=css>auto</span>, replace any <span class=css>auto</span> on
    <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> with <span class=css>0</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> is <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> is not <span class=css>auto</span>, replace any <span class=css>auto</span> on
    <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> with <span class=css>0</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>.

    <li>
    If at this point both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> are still <span class=css>auto</span>, solve the
    equation under the extra constraint that the two margins must get equal values,
    unless this would make them negative, in which case when the direction of the
    <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is <span class=css>ltr</span> (<span class=css>rtl</span>), set <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a>
    (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a>) to <span class=css>0</span> and solve for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a>).

    <li>
    If at this point there is an <span class=css>auto</span> remaining, solve the equation for that value.

    <li>
    If at this point the values are over-constrained, ignore the value for either <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a>
    (in case the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> property of the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is <span class=css>rtl</span>)
    or <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a> (in case <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> is <span class=css>ltr</span>) and solve for that value.
  </ol>


<h3 class="heading settled" data-level=8.4 id=center-replaced-width><span class=secno>8.4. </span><span class=content>
The width of a center positioned, replaced elements</span><a class=self-link href=#center-replaced-width></a></h3>

<p>The used value for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is determined as for "<a href=#abs-replaced-width>The width of absolute, page or fixed
  positioned, replaced elements</a>".</p>

<p>Then the rules for "<a href=#center-non-replaced-width>The width of a center positioned, non-replaced elements</a>" are
  applied to determine the centering.</p>


<h3 class="heading settled" data-level=8.5 id=abs-non-replaced-height><span class=secno>8.5. </span><span class=content>
The height of absolute, page or fixed positioned, non-replaced elements</span><a class=self-link href=#abs-non-replaced-height></a></h3>

<p>For absolutely positioned elements, the used values of the vertical dimensions must
  satisfy this constraint:</p>

<p><code>
    'top' + <span>'margin-top'</span> + <span>'border-top-width'</span> + <span>'padding-top'</span> + 'height' +
    <span>'padding-bottom'</span> + <span>'border-bottom-width'</span> + <span>'margin-bottom'</span> + 'bottom'
    = <span>height of containing block</span></code></p><code>
  </code>

<p>If all three of <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>, and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span>: First set any <span class=css>auto</span>
  values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> to <span class=css>0</span>, then set <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> to the static
  position, and finally apply rule number <em>three</em> below.</p>

<p>If none of the three are <span class=css>auto</span>: If both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> are <span class=css>auto</span>,
  solve the equation under the extra constraint that the two margins get equal values. If
  one of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> is <span class=css>auto</span>, solve the equation for that value. If
  the values are over-constrained, ignore the value for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> and solve for that value.</p>

<p>Otherwise, set <span class=css>auto</span> values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> to <span class=css>0</span>, and pick
  one of the following six rules that apply.</p>

  <ol>
    <li>
    If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is not <span class=css>auto</span>, then the height is
    based on the <a href=#root-height><span class=css>Auto</span> heights for block formatting context
    roots</a>, and solve for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is not <span class=css>auto</span>, then set <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> to
    the static position, then solve for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> is not <span class=css>auto</span>, then the height is
    based on the <a href=#root-height><span class=css>Auto</span> heights for block formatting context
    roots</a>, and solve for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>.
  </ol>


<h3 class="heading settled" data-level=8.6 id=center-non-replaced-height><span class=secno>8.6. </span><span class=content>
The height of a center positioned, non-replaced elements</span><a class=self-link href=#center-non-replaced-height></a></h3>

<p>The following constraints must hold among the used values of the other properties:</p>

<p><code>
    'top' + <span>'margin-top'</span> + <span>'border-top-width'</span> + <span>'padding-top'</span> +
    'height' + <span>'padding-bottom'</span> + <span>'border-bottom-width'</span> + <span>'margin-bottom'</span> +
    'bottom' = <span>height of containing block</span></code></p><code>
 </code>

<p>If all three of <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>, and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span>: First set any <span class=css>auto</span>
  values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> to <span class=css>0</span>, then the height is based on the
  <a href=#root-height><span class=css>Auto</span> heights for block formatting context roots</a>, and
  finally apply rule number <em>two</em> below.</p>

<p>If none of the three are <span class=css>auto</span>: If both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> are <span class=css>auto</span>,
  solve the equation under the extra constraint that the two margins get equal values. If
  one of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> is <span class=css>auto</span>, solve the equation for that value.
  If the values are over-constrained, ignore the values for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> and solve
  the equation so both propeties get equal values. This vertically centers the element
  with respect to the edges of the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.</p>

<p>Otherwise, set <span class=css>auto</span> values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> to <span class=css>0</span>, and pick
  one of the following six rules that apply.</p>

  <ol>
    <li>
    If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is not <span class=css>auto</span>, then the height is
    based on the <a href=#root-height><span class=css>Auto</span> heights for block formatting context
    roots</a>, and solve for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is not <span class=css>auto</span>, then set <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and
    <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> to the have equal values. This vertically centers the element with respect
    to the edges of the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are <span class=css>auto</span> and <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> is not <span class=css>auto</span>, then the height is
    based on the <a href=#root-height><span class=css>Auto</span> heights for block formatting context
    roots</a>, and solve for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>.

    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is <span class=css>auto</span>, <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> are not <span class=css>auto</span>, then solve for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>.
  </ol>


<h3 class="heading settled" data-level=8.7 id=abs-replaced-height><span class=secno>8.7. </span><span class=content>
The height of absolute, page or fixed positioned, replaced elements</span><a class=self-link href=#abs-replaced-height></a></h3>

<p>If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> both have computed values of <span class=css>auto</span> and the element also has an
  intrinsic height, then that intrinsic height is the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>.</p>

<p>Otherwise, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> has a computed value of <span class=css>auto</span> and the element has an intrinsic
  ratio then the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is:</p>

<p><code>(used width) / (intrinsic ratio)</code><p></p>

<p>Otherwise, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> has a computed value of <span class=css>auto</span> and the element has an intrinsic
  height, then that intrinsic height is the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>.</p>

<p>Otherwise, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> has a computed value of <span class=css>auto</span>, but none of the conditions above
  are met, then the used value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> must be set to the height of the largest
  rectangle that has a 2:1 ratio, has a height not greater than <span class=css>150px</span>, and has a width not
  greater than the device width.</p>

<p>After establishing the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>, in order to position the replaced element, apply the
  following rules as appropriate.</p>

  <ol>
    <li>
    If both <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> have the value <span class=css>auto</span>, replace <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> with the
    element's static position.

    <li>
    If <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> is <span class=css>auto</span>, replace any <span class=css>auto</span> on <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a>
    with <span class=css>0</span>.

    <li>
    If at this point both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> are still <span class=css>auto</span>,
    solve the equation under the extra constraint that the two margins must get
    equal values.

    <li>
    If at this point there is only one <span class=css>auto</span> remaining, solve the equation
    for that value.

    <li>
    If at this point the values are over-constrained, ignore the value for <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a>
    and solve for that value.
  </ol>


<h3 class="heading settled" data-level=8.8 id=center-replaced-height><span class=secno>8.8. </span><span class=content>
The height of a center positioned, replaced elements</span><a class=self-link href=#center-replaced-height></a></h3>

<p>The used value for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is determined as for "<a href=#abs-replaced-height>The height of absolute, page or fixed
  positioned, replaced elements</a>".</p>

<p>Then the rules for "<a href=#center-non-replaced-height>The height of a center
  positioned, non-replaced elements</a>" are applied to determine the centering.</p>


<h3 class="heading settled" data-level=8.9 id=root-height><span class=secno>8.9. </span><span class=content>
Auto heights for block formatting context roots</span><a class=self-link href=#root-height></a></h3>

<p>In certain cases (see, e.g., <a href=#abs-non-replaced-height>The height of
  absolute, page or fixed positioned, non-replaced element</a> above), the height
  of an element that establishes a block formatting context is computed as follows:</p>

<p>If it only has inline-level children, the height is the distance between the
  top of the topmost line box and the bottom of the bottommost line box.</p>

<p>If it has block-level children, the height is the distance between the top
  margin-edge of the topmost block-level child box and the bottom margin-edge of
  the bottommost block-level child box.</p>

<p>Absolutely positioned children are ignored, and relatively positioned boxes are
  considered without their offset. Note that the child box may be an <a href=http://www.w3.org/TR/CSS2/visuren.html#anonymous-block-level>anonymous block box</a>.</p>

<p>In addition, if the element has any floating descendants whose bottom margin edge
  is below the element's bottom content edge, then the height is increased to
  include those edges. Only non-positioned <span title=floats>floats</span> that
  participate in this block formatting context are taken into account, e.g.,
  <span title=floats>floats</span> inside absolutely positioned descendants or
  other <span title=floats>floats</span> are not.</p>



<h2 class="heading settled" data-level=9 id=dis-pos-flo><span class=secno>9. </span><span class=content>
Relationships between <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a>, <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>, and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a></span><a class=self-link href=#dis-pos-flo></a></h2>

<p>The three properties that affect box generation and layout — <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a>,
  <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>, and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a> — interact as follows:</p>

  <ol>
    <li>
    If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> has the value <span class=css>none</span>, then <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a> do not apply.
    In this case, the element generates no box.

    <li>
    Otherwise, if <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> has the value <span class=css>absolute</span>, <span class=css>page</span> or <span class=css>fixed</span>,
    and the value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a> is <span class=css>left</span> or <span class=css>right</span>, the box is absolutely
    positioned and the computed value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a> is <span class=css>none</span>. The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> is
    set according to the table below. Positioning of the box will determined by
    the <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a>, <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>, <a class=property data-link-type=propdesc href=#propdef-bottom title=bottom>bottom</a> and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> properties and the box's
    <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>.

    <li>
    Otherwise, if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-float title=float>float</a> is other than <span class=css>none</span>, the box is <span title=floats>
    floated</span> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> is set according to the table below.

    <li>
    Otherwise, if the element is the root element, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> is set according to the
    table below.

    <li>
    Otherwise, the remaining <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> property values apply as specified.
  </ol>

  <table class=relationship-table>
    <tr>
      <th>Specified value</th>
      <th>Computed value</th>
    </tr>
    <tr>
      <td>inline-table</td>
      <td>table</td>
    </tr>
    <tr>
      <td>
        inline, <span>table-row-group</span>, <span>table-column</span>,
        <span>table-column-group</span>,
        <span>table-header-group</span>, <span>table-footer-group</span>,
        <span>table-row</span>,
        <span>table-cell</span>, <span>table-caption</span>, <span>inline-block</span>
      </td>
      <td>block</td>
    </tr>
    <tr>
      <td>others </td>
      <td><span>same as specified</span></td>
    </tr>
  </table>

  <p class=note>
    For new values defined for the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> property, the respective modules that define a
    new value also define the handling of the relationship with positioning and floats.
  </p>


<h2 class="heading settled" data-level=10 id=comparison><span class=secno>10. </span><span class=content>
Comparison of normal flow, floats, and positioning</span><a class=self-link href=#comparison></a></h2>

<p><em>This section is not normative.</em></p>

<p>To illustrate the differences between <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a>,
  <span title="relative positioning">relative positioning</span>, <span>floats</span>,
  and absolute positioning, we provide a series of examples based on the following HTML:</p>

<div class=example>
<pre><code class=html>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Comparison of positioning schemes&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;p&gt;
        Beginning of p contents.
        &lt;span id="outer"&gt; Start of outer contents.
        &lt;span id="inner"&gt; Inner contents.&lt;/span&gt;
        End of outer contents.&lt;/span&gt;
        End of p contents.
    &lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>In this document, we assume the following rules:</p>

<pre><code>
body { display: block; font-size:12px; line-height: 200%;
        width: 400px; height: 400px }
p    { display: block }
span { display: inline }
</code></pre>
</div>

<p>The final positions of boxes generated by the <em>outer</em> and <em>inner</em>
  elements vary in each example. In each illustration, the numbers to the left of
  the illustration indicate the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> position of the
  double-spaced (for clarity) lines.</p>

  <p class=note>
    Note. The diagrams in this section are illustrative and not to scale. They are
    meant to highlight the differences between the various <span>positioning
    schemes</span>, and are not intended to be reference renderings of the
    examples given.
  </p>

<h3 class="heading settled" data-level=10.1 id=comp-normal-flow><span class=secno>10.1. </span><span class=content>
Normal flow</span><a class=self-link href=#comp-normal-flow></a></h3>

<p>Consider the following CSS declarations for <em>outer</em> and <em>inner</em>
  that do not alter the <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> of boxes:</p>

<div class=example>
<pre><code>
#outer { color: red }
#inner { color: blue }
</code></pre>
</div>

<p>The P element contains all inline content: <a href=http://www.w3.org/TR/CSS2/visuren.html#anonymous>anonymous inline text</a> and
  two SPAN elements. Therefore, all of the content will be laid out in an inline
  formatting context, within a <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> established by the P element, producing
  something like:</p>

<div class=figure>

<p><img alt="Image illustrating the normal flow of text between parent and sibling boxes." src=images/flow-generic.png>
  <span class=dlink>   <a href=images/longdesc/flow-generic-desc.html id=img-flow-generic title="Long description for normal flow example">[D]</a></span></p>
</div>


<h3 class="heading settled" data-level=10.2 id=comp-relpos><span class=secno>10.2. </span><span class=content>
Relative positioning</span><a class=self-link href=#comp-relpos></a></h3>

<p>To see the effect of <span title="relative positioning">relative positioning</span>,
  we specify:</p>

<div class=example>
<pre><code>
#outer { position: relative; top: -12px; color: red }
#inner { position: relative; top: 12px; color: blue }
</code></pre>
</div>

<p>Text flows normally up to the <em>outer</em> element. The <em>outer</em> text is
  then flowed into its <a data-link-type=dfn href=#normal-flow title="normal flow">normal flow</a> position and dimensions at the end of line 1. Then,
  the inline boxes containing the text (distributed over three lines) are shifted as a
  unit by <span class=css>-12px</span> (upwards).</p>

<p>The contents of <em>inner</em>, as a child of <em>outer</em>, would normally flow
  immediately after the words "of outer contents" (on line 1.5). However, the <em>inner</em>
  contents are themselves offset relative to the <em>outer</em> contents by <span class=css>12px</span>
  (downwards), back to their original position on line 2.</p>

  <p class=note>
    Note that the content following <em>outer</em> is not affected by the relative
    positioning of <em>outer</em>.
  </p>
  <div class=figure>

<p><img alt="Image illustrating the effects of relative positioning on a box’s content." src=images/flow-relative.png>
    <span class=dlink>   <a href=images/longdesc/flow-relative-desc.html id=img-flow-relative title="Long description for relative positioning example">[D]</a></span></p>
  </div>
  <p class=note>
    Note also that had the offset of <em>outer</em> been <span class=css>-24px</span>, the text  of <em>outer</em>
    and the body text would have overlapped.
  </p>


<h3 class="heading settled" data-level=10.3 id=comp-floating><span class=secno>10.3. </span><span class=content>
Floating a box</span><a class=self-link href=#comp-floating></a></h3>

<p>Now consider the effect of <a href=http://www.w3.org/TR/CSS2/visuren.html#floats>
  floating</a> the <em>inner</em> element's text to the right by means of the
  following rules:</p>

<div class=example>
<pre><code>
#outer { color: red }
#inner { float: right; width: 130px; color: blue }
</code></pre>
</div>

<p>Text flows normally up to the <em>inner</em> box, which is pulled out of the flow
  and <span title=floats>floated</span> to the right margin (its <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> has been
  assigned explicitly). Line boxes to the left of the float are shortened, and the
  document's remaining text flows into them.</p>

<div class=figure>

<p><img alt="Image illustrating the effects of floating a box." src=images/flow-float.png>
  <span class=dlink>   <a href=images/longdesc/flow-float-desc.html id=img-flow-float title="Long description of example illustrating floating">[D]</a></span></p>

</div>
  To show the effect of the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-clear title=clear>clear</a> property, we add a <em>sibling</em> element to the
  example:

<div class=example>
<pre><code class=html>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Comparison of positioning schemes II&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
    &lt;p&gt;
        Beginning of p contents.
        &lt;span id="outer"&gt; Start of outer contents.
        &lt;span id="inner"&gt; Inner contents.&lt;/span&gt;
        &lt;span id="sibling"&gt; Sibling contents.&lt;/span&gt;
        End of outer contents.&lt;/span&gt;
        End of p contents.
    &lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>The following rules:</p>

<pre><code>
#inner { float: right; width: 130px; color: blue }
#sibling { color: red }
</code></pre>
<p>
  cause the <em>inner</em> box to float to the right as before and the document's
  remaining text to flow into the vacated space:
</p>
</div>
  <div class=figure>
    <img alt="Image illustrating the effects of floating a box without setting the clear property to control the flow of text around the box." src=images/flow-clear.png>
    <span class=dlink>   <a href=images/longdesc/flow-clear-desc.html id=img-flow-clear title="Long description of example illustrating floating without clear">[D]</a></span>
  </div>

<p>However, if the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-clear title=clear>clear</a> property on the <em>sibling</em> element is set to <a class=property data-link-type=propdesc href=#propdef-right title=right>right</a>
  (i.e., the generated <em>sibling</em> box will not accept a position next to
  <span title=floats>floating boxes</span> to its right), the <em>sibling</em> content begins to flow below the
  float:</p>

<div class=example>
<pre><code>
#inner { float: right; width: 130px; color: blue }
#sibling { clear: right; color: red }
</code></pre>
</div>
<div class=figure>
  <p>
    <img alt="Image illustrating the effects of floating
    an element with setting the clear property to control the flow of text around the
    element." src=images/flow-clear2.png> <span class=dlink>   <a href=images/longdesc/flow-clear2-desc.html id=img-flow-clear2 title="Long description of example
    illustrating floating with clear">[D]</a></span>
  </p>
</div>


<h3 class="heading settled" data-level=10.4 id=comp-abspos><span class=secno>10.4. </span><span class=content>
Absolute positioning</span><a class=self-link href=#comp-abspos></a></h3>

<p>Next, we consider the effect of absolute positioning. Consider the following CSS
  declarations for <em>outer</em> and <em>inner</em>:</p>

<div class=example>
<pre><code>
#outer {
    position: absolute;
    top: 200px; left: 200px;
    width: 200px;
    color: red;
}
#inner { color: blue }
</code></pre>
</div>

<p>which cause the top of the <em>outer</em> box to be positioned with respect to its
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>. The <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for a positioned box is established by the
  nearest positioned ancestor (or, if none exists, the <span>initial containing block</span>, as in
  our example). The top side of the <em>outer</em> box is <span class=css>200px</span> below the top of the
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> and the left side is <span class=css>200px</span> from the left side. The child box of
  <em>outer</em> is flowed normally with respect to its parent.</p>

<div class=figure>
  <p>
      <img alt="Image illustrating the effects of absolutely positioning a box." src=images/flow-absolute.png>
      <span class=dlink>   <a href=images/longdesc/flow-absolute-desc.html id=img-flow-absolute title="Long description for example illustrating absolute positioning">[D]</a></span>
  </p>
</div>

<p>The following example shows an absolutely positioned box that is a child of a relatively
  positioned box. Although the parent <em>outer</em> box is not actually offset, setting
  its <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a> property to <span title="'position'!!<fake-maybe-placeholder>relative</fake-maybe-placeholder>"><span class=css>relative</span></span> means that its box may serve as the containing
  block for positioned descendants. Since the <em>outer</em> box is an inline box that is
  split across several lines, the first inline box's top and left edges (depicted by thick
  dashed lines in the illustration below) serve as references for <a class=property data-link-type=propdesc href=#propdef-top title=top>top</a> and <a class=property data-link-type=propdesc href=#propdef-left title=left>left</a> offsets.</p>

<div class=example>
<pre><code>
#outer {
    position: relative;
    color: red
}
#inner {
    position: absolute;
    top: 200px; left: -100px;
    height: 130px; width: 130px;
    color: blue;
}
</code></pre>
</div>

<p>This results in something like the following:</p>

  <div class=figure>
    <p>
      <img alt="Image illustrating the effects of absolutely positioning a box with respect to a containing block." src=images/flow-abs-rel.png>
      <span class=dlink><a href=images/longdesc/flow-abs-rel-desc.html id=img-flow-abs-rel title="Long description for example illustrating positioning with respect to a positioned ancestor">[D]</a></span>
    </p>
  </div>

<p>If we do not position the <em>outer</em> box:</p>

<div class=example>
<pre><code>
#outer { color: red }
#inner {
    position: absolute;
    top: 200px; left: -100px;
    height: 130px; width: 130px;
    color: blue;
}
</code></pre>
</div>

<p>the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for <em>inner</em> becomes the <span>initial
  containing block</span> (in our example). The following illustration shows where
  the <em>inner</em> box would end up in this case.</p>

  <div class=figure>
    <p>
      <img alt="Image illustrating the effects of
      absolutely positioning a box with respect to a containing block established
      by a normally positioned parent." src=images/flow-static.png> <span class=dlink>   <a href=images/longdesc/flow-static-desc.html id=img-flow-static title="Long description illustrating absolute positioning with respect to the initial containing block">[D]</a></span>
    </p>
  </div>

<p>Relative and absolute positioning may be used to implement change bars, as shown
  in the following example. The following fragment:</p>

<div class=example>
<pre><code class=html>
&lt;p style="position: relative; margin-right: 10px; left: 10px;"&gt;
I used two red hyphens to serve as a change bar. They
will "float" to the left of the line containing THIS
&lt;span style="position: absolute; top: auto; left: -1em; color: red;"&gt;--&lt;/span&gt;
word.&lt;/p&gt;
</code></pre>
</div>

<p>might result in something like:</p>

  <div class=figure>
    <p>
      <img alt="Image illustrating the use of floats to create a changebar effect." src=images/changebar.png>
      <span class=dlink>   <a href=images/longdesc/changebar-desc.html id=img-changebar title="Long description for change bar example">[D]</a></span>
    </p>
  </div>

<p>First, the paragraph (whose <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> sides are shown in the
  illustration) is flowed normally. Then it is offset <span class=css>10px</span> from the left edge
  of the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> (thus, a right margin of <span class=css>10px</span> has been
  reserved in anticipation of the offset). The two hyphens acting as change bars
  are taken out of the flow and positioned at the current line (due to 'top: auto'),
  <span class=css>-1em</span> from the left edge of its containing block (established by the P in
  its final position).  The result is that the change bars seem to "float" to the
  left of the current line.</p>


<h3 class="heading settled" data-level=10.5 id=comp-pagepos><span class=secno>10.5. </span><span class=content>
Page positioning</span><a class=self-link href=#comp-pagepos></a></h3>

<p>Finally, we consider the effect of page positioning. Consider the following CSS
  declarations for <em>outer</em> and <em>inner</em>:</p>

<div class=example>
<pre><code>
#outer {
    position: page;
    top: 200px; left: 200px;
    width: 200px;
    color: red;
}
#inner { color: blue }
</code></pre>
</div>

<p>which cause the top of the <em>outer</em> box to be positioned with respect to
  its <a data-link-type=dfn href=#containing-block title="containing block">containing block</a>. The <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> for a page
  positioned box is always established by the <span>initial containing block</span>.
  The top side of the <em>outer</em> box is <span class=css>200px</span> below the top of the <span>initial containing block</span> and the left side is <span class=css>200px</span> from the left side. The
  child box of <em>outer</em> is flowed normally with respect to its parent.</p>

  <div class=figure>
    <p>
      <img alt="Image illustrating the effects of page positioning a box." src=images/flow-absolute.png>
      <span class=dlink>   <a href=images/longdesc/flow-page-desc.html id=img-flow-page title="Long description for example illustrating page positioning">[D]</a></span>
    </p>
  </div>

<p>The following example shows a page positioned box that is a child of a relatively
  positioned box. Although the parent <em>outer box</em> is setting its <a class=property data-link-type=propdesc href=#propdef-position title=position>position</a>
  property to <span title="'position'!!<fake-maybe-placeholder>relative</fake-maybe-placeholder>"><span class=css>relative</span></span> this
  <em>outer box</em> does not serve as the containing block for page positioned
  descendants. Since the <em>inner</em> box is a page positioned element its
  <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is not the <span title="relative positioning">relative
  positioned</span> <em>outer box</em>, page positioned elements are positioned
  from the <span>initial containing block</span>, in this case the top and left
  edges of the illustration itself.</p>

<div class=example>
<pre><code>
#outer {
    position: relative;
    color: red
}
#inner {
    position: page;
    top: 200px; left: -100px;
    height: 130px; width: 130px;
    color: blue;
}
</code></pre>
</div>

<p>This results in something like the following:</p>

  <div class=figure>
    <p>
      <img alt="Image illustrating the effects of
      page positioning a box with respect to the initial containing block." src=images/flow-static.png>
      <span class=dlink>   <a href=images/longdesc/flow-page-desc2.html id=img-flow-page2 title="Long description illustrating page positioning with respect to the initial containing block.">[D]</a></span>
    </p>
  </div>


  <p class=issue id=issue-da0c06bd><a class=self-link href=#issue-da0c06bd></a>
    Need to add example for center positioning.
  </p>


<h2 class="heading settled" data-level=11 id=layered-presentation><span class=secno>11. </span><span class=content>
Layered presentation</span><a class=self-link href=#layered-presentation></a></h2>

<p><em>In the following sections, the expression "in front of" means closer to the
  user as the user faces the screen.</em></p>

<p>In CSS, each box has a position in three dimensions. In addition to their horizontal
  and vertical positions, boxes lie along a "z-axis" and are formatted one on top
  of the other. Z-axis positions are particularly relevant when boxes overlap
  visually. This section discusses how boxes may be positioned along the z-axis.</p>

<p>Each box belongs to one <dfn data-dfn-type=dfn data-noexport="" id=stacking-context>stacking context<a class=self-link href=#stacking-context></a></dfn>. Each box in a given stacking
  context has an integer <dfn data-dfn-type=dfn data-noexport="" id=stack-level>stack level<a class=self-link href=#stack-level></a></dfn>, which is its position on the z-axis
  relative to other boxes in the same stacking context. Boxes with greater stack
  levels are always formatted in front of boxes with lower stack levels. Boxes may
  have negative stack levels. Boxes with the same stack level in a stacking context
  are stacked bottom-to-top according to document tree order.</p>

<p>The root element creates a <dfn data-dfn-type=dfn data-noexport="" id=root-stacking-context>root stacking context<a class=self-link href=#root-stacking-context></a></dfn>, but other elements
  may establish <dfn data-dfn-type=dfn data-noexport="" id=local-stacking-contexts>local stacking contexts<a class=self-link href=#local-stacking-contexts></a></dfn>. Stacking contexts are inherited.
  A local stacking context is atomic; boxes in other stacking contexts may not come
  between any of its boxes.</p>

<p>An element that establishes a local stacking context generates a box that has
  two stack levels: one for the stacking context it creates (always <span class=css>0</span>) and one
  for the stacking context to which it belongs (given by the <a class=property data-link-type=propdesc href=#propdef-z-index title=z-index>z-index</a> property).</p>

<p>An element's box has the same stack level as its parent's box unless
  given a different stack level with the <a class=property data-link-type=propdesc href=#propdef-z-index title=z-index>z-index</a> property.</p>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-z-index>z-index<a class=self-link href=#propdef-z-index></a></dfn><tr><th>Value:<td class=prod>auto <a data-link-for="" data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> &lt;integer&gt;<tr><th>Initial:<td>auto<tr><th>Applies to:<td>positioned elements<tr><th>Inherited:<td>no<tr><th>Percentages:<td>N/A<tr><th>Media:<td>visual<tr><th>Computed value:<td>as specified<tr><th>Animatable:<td>&lt;integer&gt;<tr><th>Canonical order:<td><abbr title="follows order of property value definition">per grammar</abbr></table>

<p>For a positioned box, the <a class=property data-link-type=propdesc href=#propdef-z-index title=z-index>z-index</a> property specifies:</p>

  <ol>
    <li>
    The stack level of the box in the current stacking context.

    <li>
    Whether the box establishes a stacking context.
  </ol>

<p>Values have the following meanings:</p>

  <dl data-dfn-for=z-index data-dfn-type=value>
    <dt><dfn class=css data-dfn-for=z-index data-dfn-type=value data-export="" id=valdef-z-index-z-indexfake-maybe-placeholderinteger-fake-maybe-placeholder title="'z-index'!!<fake-maybe-placeholder><integer></fake-maybe-placeholder>">&lt;integer&gt;<a class=self-link href=#valdef-z-index-z-indexfake-maybe-placeholderinteger-fake-maybe-placeholder></a></dfn></dt>
    <dd>
      This integer is the stack level of the generated box in the current stacking
      context. The box also establishes a new stacking context.

    <dt><dfn class=css data-dfn-for=z-index data-dfn-type=value data-export="" id=valdef-z-index-z-indexfake-maybe-placeholderauto-fake-maybe-placeholder title="'z-index'!!<fake-maybe-placeholder>auto</fake-maybe-placeholder>">auto<a class=self-link href=#valdef-z-index-z-indexfake-maybe-placeholderauto-fake-maybe-placeholder></a></dfn></dt>
    <dd>
      The stack level of the generated box in the current stacking context is 0. The box
      does not establish a new stacking context unless it is the root element.
  </dl>

<p>In the following example, the stack levels of the boxes (named with their "id"
    attributes) are: "text2"=0, "image"=1, "text3"=2, and "text1"=3. The "text2" stack level
    is inherited from the root box. The others are specified with the <a class=property data-link-type=propdesc href=#propdef-z-index title=z-index>z-index</a> property.</p>

<div class=example>
<pre><code class=html>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Z-order positioning&lt;/title&gt;
        &lt;style type="text/css"&gt;
            .pile {
            position: absolute;
            left: 2in;
            top: 2in;
            width: 3in;
            height: 3in;
            }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;
            &lt;img id="image" class="pile"
                src="butterfly.png" alt="A butterfly image"
                style="z-index: 1"&gt;
        &lt;div id="text1" class="pile"
                style="z-index: 3"&gt;
            This text will overlay the butterfly image.
        &lt;/div&gt;
        &lt;div id="text2"&gt;
            This text will be beneath everything.
        &lt;/div&gt;
        &lt;div id="text3" class="pile"
                style="z-index: 2"&gt;
            This text will underlay text1, but overlay the butterfly image
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>This example demonstrates the notion of <em>transparency</em>. The default behavior of
  the background is to allow boxes behind it to be visible. In the example, each box
  transparently overlays the boxes below it. This behavior can be overridden by using one
  of the existing <a href=http://www.w3.org/TR/CSS2/colors.html#background-properties>background properties</a>.</p>
</div>


<h2 class="heading settled" data-level=12 id=det-stacking-context><span class=secno>12. </span><span class=content>
Detailed stacking context</span><a class=self-link href=#det-stacking-context></a></h2>

<h3 class="heading settled" data-level=12.1 id=definitions-stack><span class=secno>12.1. </span><span class=content>
Definitions</span><a class=self-link href=#definitions-stack></a></h3>

  <dl data-dfn-for=tree-order data-dfn-type=algo>
    <dt>Tree Order</dt>
    <dd>
      The preorder depth-first traversal of the <em>rendering</em> tree, in logical (not
      visual) order for bidirectional content, after taking into account properties
      that move boxes around.

    <dt>Element</dt>
    <dd>
      In this description, "element" refers to actual elements, pseudo-elements, and
      anonymous boxes. Pseudo-elements and anonymous boxes are treated as descendants
      in the appropriate places. For example, an outside list marker comes before an
      adjoining '::before' box in the line box, which comes before the content of the
      box, and so forth.
  </dl>


<h3 class="heading settled" data-level=12.2 id=painting-order><span class=secno>12.2. </span><span class=content>
Painting order</span><a class=self-link href=#painting-order></a></h3>

<p>The bottom of the stack is the furthest from the user, the top of the stack is the
  nearest to the user:</p>

  <div class=figure>
    <p>
      <img alt="A stacking context with four layers" src=images/stack.png>
      <span class=dlink><a href=images/longdesc/stack.html id=img-stack title="Long description for a diagram of a stacking context with four layers">[D]</a></span>
    </p>
    <p class=caption>Schematic diagram of a stacking context with four layers.</p>
  </div>

<p>The stacking context background and most negative positioned stacking contexts
  are at the bottom of the stack, while the most positive positioned stacking
  contexts are at the top of the stack.</p>

<p>The canvas is transparent if contained within another, and given a UA-defined
  color if it is not. It is infinite in extent and contains the root element.
  Initially, the <a data-link-type=dfn href=#viewport title=viewport>viewport</a> is anchored with its top left corner at the
  canvas origin.</p>

<p>The painting order for the descendants of an element generating a stacking
  context (see the <a class=property data-link-type=propdesc href=#propdef-z-index title=z-index>z-index</a> property) is:</p>

  <ol>
    <li>If the element is a root element:
      <ol>
        <li>background color of element over the entire canvas.</li>
        <li>
          background image of element, over the entire canvas, anchored at the origin
          that would be used if it was painted for the root element.
        </li>
      </ol>
    </li>
    <li>
      If the element is a block, list-item, or other block equivalent:
      <ol>
        <li>background color of element unless it is the root element.</li>
        <li>background image of element unless it is the root element.</li>
        <li>column rule of the element.</li>
        <li>border of element.</li>
      </ol>
      Otherwise, if the element is a block-level table:
      <ol>
        <li>table backgrounds (color then image) unless it is the root element.</li>
        <li>column group backgrounds (color then image).</li>
        <li>column backgrounds (color then image).</li>
        <li>row group backgrounds (color then image).</li>
        <li>row backgrounds (color then image).</li>
        <li>cell backgrounds (color then image).</li>
        <li>cell column rule for multi-column.</li>
        <li>all table borders (in tree order for separated borders).</li>
      </ol>
    </li>
    <li>
      Stacking contexts formed by positioned descendants with negative z-indices
      (excluding 0) in z-index order (most negative first) then tree order.
    </li>
    <li>
      For all its in-flow, non-positioned, block-level descendants in tree order: If the
      element is a block, list-item, or other block equivalent:
      <ol>
        <li>background color of element.</li>
        <li>background image of element.</li>
        <li>column rule of the element.</li>
        <li>border of element.</li>
      </ol>
      Otherwise, the element is a table:
      <ol>
        <li>table backgrounds (color then image).</li>
        <li>column group backgrounds (color then image).</li>
        <li>column backgrounds (color then image).</li>
        <li>row group backgrounds (color then image).</li>
        <li>row backgrounds (color then image).</li>
        <li>cell backgrounds (color then image).</li>
        <li>cell column rule (multi-column).</li>
        <li>all table borders (in tree order for separated borders).</li>
      </ol>
    </li>
    <li>
      All non-positioned <span title=floats>floating</span> descendants, in tree
      order. For each one of these, treat the element as if it created a new stacking
      context, but any positioned descendants and descendants which actually create
      a new stacking context are considered part of the parent stacking context,
      not this new one.
    </li>
    <li>If the element is an inline element that generates a stacking context, then:
      <ol>
        <li>For each line box that the element is in:
          <ol>
            <li>
              Jump to <a href=#each-box>7.2.1</a> for the box(es) of the element
              in that line box (in tree order).
            </li>
          </ol>
        </li>
      </ol>
    </li>
    <li>
        Otherwise: first for the element, then for all its in-flow, non-positioned,
        block-level descendants in tree order:
        <ol>
          <li>
            If the element is a block-level replaced element, then: the replaced
            content, atomically.
          </li>
          <li>Otherwise, for each line box of that element:
            <ol>
              <li id=each-box><a class=self-link href=#each-box></a>
                For each box that is a child of that element, in that line box, in
                tree order:
                <ol>
                  <li>background color of element.</li>
                  <li>background image of element.</li>
                  <li>column rule of the element.</li>
                  <li>border of element.</li>
                  <li>For inline elements:
                    <ol>
                      <li>
                        For all the elements in-flow, non-positioned,
                        inline-level children that are in this line box, and
                        all runs of text inside the element that is on this
                        line box, in tree order:
                        <ol>
                          <li>If this is a run of text, then:
                            <ol>
                              <li>
                                any underlining affecting the text
                                of the element, in tree order of the
                                elements applying the underlining
                                (such that the deepest element's
                                underlining, if any, is painted
                                topmost and the root element's
                                underlining, if any, is drawn
                                bottommost).
                              </li>
                              <li>
                                any overlining affecting the text of
                                the element, in tree order of the
                                elements applying the overlining
                                (such that the deepest element's
                                overlining, if any, is painted
                                topmost and the root element's
                                overlining, if any, is drawn
                                bottommost).
                              </li>
                              <li>the text</li>
                              <li>
                                any line-through affecting the text
                                of the element, in tree order of the
                                elements applying the line-through
                                (such that the deepest element's
                                line-through, if any, is painted
                                topmost and the root element's
                                line-through, if any, is drawn
                                bottommost).
                              </li>
                            </ol>
                          </li>
                          <li>
                            Otherwise, jump to <a href=#each-box>7.2.1</a>
                            for that element
                          </li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                  <li>For inline-block and inline-table elements:
                    <ol>
                      <li>
                        For each one of these, treat the element as if it
                        created a new stacking context, but any positioned
                        descendants and descendants which actually create a
                        new stacking context are considered part of the
                        parent stacking context, not this new one.
                      </li>
                    </ol>
                  </li>
                  <li>For inline-level replaced elements:
                    <ol>
                      <li>the replaced content, atomically.</li>
                    </ol>
                  </li>
                  <li>
                    Optionally, the outline of the element (see <a href=#stack-order-step-ten>10 below</a>).
                  </li>
                </ol>
                <p class=note>
                  Note, some of the boxes may have been generated by line
                  splitting or the Unicode bidirectional algorithm.
                </p>
              </li>
            </ol>
          </li>
          <li>
            Optionally, if the element is block-level, the outline of the element
            (see <a href=#stack-order-step-ten>10 below</a>).
          </li>
      </ol>
    </li>
    <li>
      All positioned, opacity or transform descendants, in tree order that fall
      into the following categories:
      <ol>
        <li>
          All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.

<p>For those with 'z-index: auto', treat the element as if it created a new
          stacking context, but any positioned descendants and descendants which actually
          create a new stacking context should be considered part of the parent stacking
          context, not this new one.</p>

<p>For those with 'z-index: 0' treat the stacking context generated atomically.</p>
        </li>
        <li>
          All opacity descendants with <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-color-3/#opacity title=opacity>opacity</a> less than <span class=css>1</span>, in tree order, create a
          stacking context generated atomically.
        </li>
        <li>
          All transform descendants with <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-transforms-1/#propdef-transform title=transform>transform</a> other than <span class=css>none</span>, in tree order, create
          a stacking context generated atomically.
        </li>
      </ol>
    </li>
  <li>
    Stacking contexts formed by positioned descendants with z-indices greater than or
    equal to 1 in z-index order (smallest first) then tree order.
  </li>
  <li id=stack-order-step-ten><a class=self-link href=#stack-order-step-ten></a>
    Finally, implementations that do not draw outlines in steps above must draw outlines
    from this stacking context at this stage. (It is recommended to draw outlines in
    this step and not in the steps above.)
  </li>
</ol>


<h3 class="heading settled" data-level=12.3 id=stacking-notes><span class=secno>12.3. </span><span class=content>
Notes</span><a class=self-link href=#stacking-notes></a></h3>

<p>The background of the root element is only painted once, over the whole canvas.</p>

<p>While the backgrounds of bidirectional inlines are painted in tree order, they
  are positioned in visual order. Since the positioning of inline backgrounds is
  unspecified in CSS, the exact result of these two requirements is UA-defined.
  A future version of CSS may define this in more detail.</p>



<h2 class="heading settled" data-level=13 id=ack><span class=secno>13. </span><span class=content>
Acknowledgments</span><a class=self-link href=#ack></a></h2>

<p>This module would not have been possible without input and support from many
  helpful people. Thanks to Bert Bos, Tantek Çelik, Anton Prowse,
  Rossen Atanassov, Chris Jones, John Jansen, Sylvain Galineau.</p>


<h2 class="no-ref no-num heading settled" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#biblio-rfc2119 title=RFC2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

    <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"&gt;</code>, like
    this:

    <strong class=advisement>
        UAs MUST provide an accessible alternative.
    </strong>

<h3 class="no-ref heading settled" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.



<h2 class="no-num heading settled" id=references><span class=content>References</span><a class=self-link href=#references></a></h2><h3 class="no-num heading settled" id=normative><span class=content>Normative References</span><a class=self-link href=#normative></a></h3><dl><dt id=biblio-css21 title=CSS21><a class=self-link href=#biblio-css21></a>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>http://www.w3.org/TR/2011/REC-CSS2-20110607</a><dt id=biblio-css3-regions title=CSS3-REGIONS><a class=self-link href=#biblio-css3-regions></a>[CSS3-REGIONS]<dd>Vincent Hardy; Rossen Atanassov; Alan Stearns. <a href=http://www.w3.org/TR/2013/WD-css3-regions-20130528/>CSS Regions Module Level 1</a>. 28 May 2013. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/WD-css3-regions-20130528/>http://www.w3.org/TR/2013/WD-css3-regions-20130528/</a><dt id=biblio-css3box title=CSS3BOX><a class=self-link href=#biblio-css3box></a>[CSS3BOX]<dd>Bert Bos. <a href=http://www.w3.org/TR/2007/WD-css3-box-20070809>CSS basic box model</a>. 9 August 2007. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2007/WD-css3-box-20070809>http://www.w3.org/TR/2007/WD-css3-box-20070809</a><dt id=biblio-css3val title=CSS3VAL><a class=self-link href=#biblio-css3val></a>[CSS3VAL]<dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>CSS Values and Units Module Level 3</a>. 30 July 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>http://www.w3.org/TR/2013/CR-css3-values-20130730/</a><dt id=biblio-rfc2119 title=rfc2119><a class=self-link href=#biblio-rfc2119></a>[rfc2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dl><h3 class="no-num heading settled" id=informative><span class=content>Informative References</span><a class=self-link href=#informative></a></h3><dl><dt id=biblio-css1 title=CSS1><a class=self-link href=#biblio-css1></a>[CSS1]<dd>Håkon Wium Lie; Bert Bos. <a href=http://www.w3.org/TR/CSS1/>Cascading Style Sheets (CSS1) Level 1 Specification</a>. 11 April 2008. REC. URL: <a href=http://www.w3.org/TR/CSS1/>http://www.w3.org/TR/CSS1/</a></dl><h2 class="no-num heading settled" id=index><span class=content>Index</span><a class=self-link href=#index></a></h2><ul class=indexlist><li>bottom, <a href=#propdef-bottom title="section 6.8">6.8</a><li>'bottom'!!&lt;fake-maybe-placeholder&gt;auto&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'bottom'!!&lt;fake-maybe-placeholder&gt;&lt;length&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'bottom'!!&lt;fake-maybe-placeholder&gt;&lt;percentage&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>containing block, <a href=#containing-block title="section 3.1">3.1</a><li>float, <a href=#float title="section 5">5</a><li>floated box, <a href=#float title="section 5">5</a><li>floating box, <a href=#float title="section 5">5</a><li>left, <a href=#propdef-left title="section 6.8">6.8</a><li>'left'!!&lt;fake-maybe-placeholder&gt;auto&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'left'!!&lt;fake-maybe-placeholder&gt;&lt;length&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'left'!!&lt;fake-maybe-placeholder&gt;&lt;percentage&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>local stacking contexts, <a href=#local-stacking-contexts title="section 11">11</a><li>normal flow, <a href=#normal-flow title="section 4">4</a><li>offset-after, <a href=#propdef-offset-after title="section 6.9">6.9</a><li>offset-before, <a href=#propdef-offset-before title="section 6.9">6.9</a><li>offset-end, <a href=#propdef-offset-end title="section 6.9">6.9</a><li>offset-start, <a href=#propdef-offset-start title="section 6.9">6.9</a><li>position, <a href=#propdef-position title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;absolute&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholderabsolute-fake-maybe-placeholder title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;center&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholdercenter-fake-maybe-placeholder title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;fixed&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholderfixed-fake-maybe-placeholder title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;page&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholderpage-fake-maybe-placeholder title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;relative&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholderrelative-fake-maybe-placeholder title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;static&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholderstatic-fake-maybe-placeholder title="section 6.7">6.7</a><li>'position'!!&lt;fake-maybe-placeholder&gt;sticky&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-position-positionfake-maybe-placeholdersticky-fake-maybe-placeholder title="section 6.7">6.7</a><li>positioning schemes, <a href=#positioning-schemes title="section 6">6</a><li>right, <a href=#propdef-right title="section 6.8">6.8</a><li>'right'!!&lt;fake-maybe-placeholder&gt;auto&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'right'!!&lt;fake-maybe-placeholder&gt;&lt;length&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'right'!!&lt;fake-maybe-placeholder&gt;&lt;percentage&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>root stacking context, <a href=#root-stacking-context title="section 11">11</a><li>stacking context, <a href=#stacking-context title="section 11">11</a><li>stack level, <a href=#stack-level title="section 11">11</a><li>top, <a href=#propdef-top title="section 6.8">6.8</a><li>'top'!!&lt;fake-maybe-placeholder&gt;auto&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderauto-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'top'!!&lt;fake-maybe-placeholder&gt;&lt;length&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderlength-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>'top'!!&lt;fake-maybe-placeholder&gt;&lt;percentage&gt;&lt;/fake-maybe-placeholder&gt;<ul><li>value for top|right|bottom|left, <a href=#valdef-toprightbottomleft-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.8">6.8</a><li>value for offset-before|offset-end|‘offset-after|offset-start, <a href=#valdef-offset-beforeoffset-endoffset-afteroffset-start-topfake-maybe-placeholderpercentage-fake-maybe-placeholder title="section 6.9">6.9</a></ul><li>viewport, <a href=#viewport title="section 2">2</a><li>z-index, <a href=#propdef-z-index title="section 11">11</a><li>'z-index'!!&lt;fake-maybe-placeholder&gt;auto&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-z-index-z-indexfake-maybe-placeholderauto-fake-maybe-placeholder title="section 11">11</a><li>'z-index'!!&lt;fake-maybe-placeholder&gt;&lt;integer&gt;&lt;/fake-maybe-placeholder&gt;, <a href=#valdef-z-index-z-indexfake-maybe-placeholderinteger-fake-maybe-placeholder title="section 11">11</a></ul><h2 class="no-num heading settled" id=property-index><span class=content>Property Index</span><a class=self-link href=#property-index></a></h2><table class="proptable data"><thead><tr><th scope=col>Name<th scope=col>Value<th scope=col>Initial<th scope=col>Applies to<th scope=col>Inh.<th scope=col>%ages<th scope=col>Media<th scope=col>Animatable<th scope=col>Canonical order<th scope=col>Computed value<th scope=col>Computed value<tbody><tr><th scope=row><a class=css data-link-type=property href=#propdef-position title=position>position</a><td>static | relative | absolute | sticky | center | page | fixed<td>static<td>all elements except table-column-group and table-column<td>no<td>N/A<td>visual<td>no<td>per grammar<td>specified value<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-top title=top>top</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: static, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-right title=right>right</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: static, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-bottom title=bottom>bottom</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: static, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-left title=left>left</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: static, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-offset-before title=offset-before>offset-before</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: static, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-offset-end title=offset-end>offset-end</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: static, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-offset-after title=offset-after>offset-after</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: statick, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<td><tr><th scope=row><a class=css data-link-type=property href=#propdef-offset-start title=offset-start>offset-start</a><td>auto | &lt;length&gt; | &lt;percentage&gt;<td>auto<td>positioned elements<td>no<td>refer to height of containing block<td>visual<td>&lt;length&gt;, &lt;percentage&gt;<td>per grammar<td>as specified<td>For position: relative, see Relative positioning. For position: sticky, see Sticky positioning. For position: statick, auto. Otherwise: if specified as a '&lt;length&gt;', the corresponding absolute length; if specified as a '&lt;percentage&gt;', the specified value; otherwise, auto.<tr><th scope=row><a class=css data-link-type=property href=#propdef-z-index title=z-index>z-index</a><td>auto | &lt;integer&gt;<td>auto<td>positioned elements<td>no<td>N/A<td>visual<td>&lt;integer&gt;<td>per grammar<td>as specified<td></table><h2 class="no-num heading settled" id=issues-index><span class=content>Issues Index</span><a class=self-link href=#issues-index></a></h2><div style=counter-reset:issue><div class=issue>
    Describe which element font-size-relative units are resolved against
  <a href=#issue-86601ab4> ↵ </a></div><div class=issue>
    Say what happens if this rectangle is empty
  <a href=#issue-6be9cee7> ↵ </a></div><div class=issue>
    Say what happens if it already overflows the containing block
  <a href=#issue-09e98f99> ↵ </a></div><div class=issue>
    Do marins collapse between the stickily positioned element and its containing
    block element?
  <a href=#issue-e6070342> ↵ </a></div><div class=issue>
    Does the margin on the stickily positioned element affect its distance from
    the flow root edge?
  <a href=#issue-0a53b8c3> ↵ </a></div><div class=issue>
    Sticky positioning should really be defined in terms of the nearest scrollable
    ancestor, but there is currently no such term defined elsewhere in CSS. CSSOM
    View refers to "scrolling boxes." CSS Overflow has yet to pull in the relevant
    text from CSS Box, and CSS Box has an old, confusing definition of "flow root"
    which is almost (but probably not quite) what we want here. This spec refers
    to "flow root," since that’s the closest thing currently specced somewhere,
    but this is not optimal.
  <a href=#issue-12e9f6da> ↵ </a></div><div class=issue>This needs to be defined for sticky positioning.<a href=#issue-40a62b16> ↵ </a></div><div class=issue>
    Ideas have been raised to allow changing the positioning containing block or
    allowing positioning and sizing to use different containing blocks.
  <a href=#issue-2de4b7c6> ↵ </a></div><div class=issue>
    Need to add example for center positioning.
  <a href=#issue-da0c06bd> ↵ </a></div></div>