<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">

<HEAD>
<TITLE>Changes</TITLE>
<link rel="stylesheet" href="style/default.css" type="text/css">
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD.css" type="text/css">
<link rel="prev" href="refs.html">
<link rel="next" href="sample.html">
<link rel="contents" href="Overview.html#minitoc">
<link rel="CSS-properties" href="propidx.html" title="properties">
<link rel="index" href="indexlist.html" title="index">
<link rel="first" href="Overview.html">
<script type="text/javascript" src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

</HEAD>
<BODY>
<div class="navbar">
<p><a href="refs.html">previous</a> &nbsp;
<a href="sample.html">next</a> &nbsp;
<a href="Overview.html#minitoc">contents</a> &nbsp;
<a href="propidx.html">properties</a> &nbsp;
<a href="indexlist.html">index</a> &nbsp;
</div>
<hr class="navbar">

<H1><a name="q0">Appendix C. Changes</a></H1>
<div id="toc" class="subtoc">
<p><strong>Contents</strong>
  <ul class="toc">
    <li><a href="changes.html#q1" class="tocxref">C.1 Changes since the Recommendation of 7 June 2011</a>
  </ul>
</div>

<P><em>This appendix is informative, not normative.</em></P>

<P>Below are the changes relative to the first revision of CSS2
(CSS&nbsp;2.1). The changes between the CSS2 specification (see
<a href="refs.html#ref-CSS2" rel="biblioentry" class="noxref"><span class="informref">[CSS2]</span></a>) and CSS&nbsp;2.1 (see <a href="refs.html#ref-CSS21" rel="biblioentry" class="noxref"><span class="informref">[CSS21]</span></a>) can be found in the <a
href="http://www.w3.org/TR/CSS21/changes.html" >Changes section of
CSS&nbsp;2.1.</a>

<p>This chapter is not a complete list of changes. Minor editorial
changes and most changes to examples are not listed here.</p>




<H2 id=since-20110607><a name="q1">C.1 Changes since the Recommendation of 7 June 2011</a></H2>

  <ul>



   <li id=s.6.2.1 class=change>
    <p><span class=updated>[2011-10-12]</span> In <a
    href="cascade.html#value-def-inherit" >&ldquo;6.2.1 The 'inherit'
    value,&rdquo;</a> change

    <blockquote>
     <p>Each property may also have a cascaded value of 'inherit',
     which means that, for a given element, the property takes
     <del>the same specified value as the property for</del> <ins>as
     specified value the computed value of</ins> the element's parent.
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2011Oct/0482.html"
    >CSS WG minutes 2011-10-12.</a>)

    



   <li id=s.6.1.1 class=clarification>
    <p><span class=updated>[2011-10-12]</span> In <a
    href="cascade.html#specified-value" >&ldquo;6.1.1 Specified values,&rdquo;</a>
    add this clarification:

    <blockquote>
     <ol>
      <li>If the cascade results in a value use it. <ins>Except that,
      if the value is 'inherit', the specified value is defined in <a
      href="cascade.html#value-def-inherit" >&ldquo;The 'inherit' value&rdquo;</a>
      below</ins>
     </ol>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2011Oct/0482.html"
    >CSS WG minutes 2011-10-12.</a>)

    




   <li id=s.8.3.1c class=change>
    <p><span class=updated>[2012-04-04]</span> In <a
    href="box.html#collapsing-margins" >&ldquo;8.3.1 Collapsing
    margins,&rdquo;</a> add a new item as follows:

    <blockquote>
     <p>Adjoining vertical margins collapse, except:
     <ul>
      <li>Margins of the root element's box do not collapse.
      <li>If the top and bottom margins of an element with clearance
      are adjoining, its margins collapse with the adjoining margins
      of following siblings but that resulting margin does not
      collapse with the bottom margin of the parent block.
      <li><ins>If the top margin of a box with non-zero computed
      'min-height' and 'auto' computed 'height' collapses with the
      bottom margin of its last in-flow child, then the child's bottom
      margin does not collapse with the parent's bottom margin.</ins>
     </ul>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Apr/0101.html"
    >CSS WG minutes 2012-04-04.</a>)

    




   <li id=s.10.7 class=clarification>
    <p><span class=updated>[2012-04-11]</span> In <a
    href="visudet.html#min-max-heights" >&ldquo;10.7 Minimum and maximum
    heights: 'min-height' and 'max-height',&rdquo;</a> clarify the note as
    follows:

    <blockquote>
     <p><del>These steps do not affect the real computed values of the
     above properties. The change of used 'height' has no effect on
     margin collapsing except as specifically required by rules for
     'min-height' or 'max-height' in "Collapsing margins"
     (8.3.1).</del>

     <p><ins>These steps do not affect the real computed value of
     'height'. Consequently, for example, they do not affect margin
     collapsing, which depends on the computed value.</ins>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Apr/0276.html"
    >CSS WG minutes 2012-04-11.</a>)

    




   <li id=s.8.3.1d class=clarification>
    <p><span class=updated>[2012-04-11]</span> In <a
    href="box.html#collapsing-margins" >&ldquo;8.3.1 Collapsing
    margins,&rdquo;</a> clarify 7th bullet in the 2nd note:

    <blockquote>
     <p><del>The bottom margin of an in-flow block box with a 'height' of
       'auto' and a 'min-height' of zero collapses with its last in-flow
       block-level child's bottom margin if the box has no bottom
       padding and no bottom border and the child's bottom margin does
       not collapse with a top margin that has clearance.</del>

     <p><ins>The bottom margin of an in-flow block box with a 'height' of
      'auto' collapses with its last in-flow block-level child's bottom
      margin, if:</ins>
     <ul>
      <li><ins>the box has no bottom padding, and</ins>
      <li><ins>the box has no bottom border, and</ins>
      <li><ins>the child's bottom margin neither collapses with a top margin
           that has clearance, nor (if the box's min-height is non-zero)
           with the box's top margin.</ins>
     </ul>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Apr/0276.html"
    >CSS WG minutes 2012-04-11.</a>)

    




   <li id=s.15.3a class=clarification>
    <p><span class=updated>[2012-05-02]</span> In <a
    href="fonts.html#font-family-prop" >&ldquo;15.3 Font family: the 'font-family' property,&rdquo;</a>
    clarify that using the font name &ldquo;inherit&rdquo; <em>without</em> quotes is an error:

    <blockquote>
     <p><del>Font family <em>names</em> that happen to be the same as
     a keyword value ('inherit', 'serif', 'sans-serif', 'monospace',
     'fantasy', and 'cursive') must be quoted to prevent confusion
     with the keywords with the same names. The keywords 'initial' and
     'default' are reserved for future use and must also be quoted
     when used as font names. UAs must not consider these keywords as
     matching the '&lt;family-name&gt;' type.</del>

     <p><ins>Unquoted font family <em>names</em> that happen to be the
     same as the keyword values 'inherit', 'default' and 'initial' or
     the generic font keywords ('serif', 'sans-serif', 'monospace',
     'fantasy', and 'cursive') do not match the '&lt;family-name&gt;'
     type. These names must be quoted to prevent confusion with the
     keywords with the same names. Note that 'font-family: Times,
     inherit' is therefore an invalid declaration, because 'inherit'
     in that position can neither be a valid keyword nor a valid font
     family name.</ins>
   </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012May/0063.html"
    >CSS WG minutes 2012-05-02.</a>)

    



   <li id=s.4.3.1 class=change>
    <p><span class=updated>[2012-05-02]</span> Spaces and comments are
    not allowed between the sign and the digits of a &lt;number&gt;,
    &lt;length&gt; or &lt;percentage&gt;. In <a
    href="syndata.html#numbers" >&ldquo;4.3.1 Integers and real
    numbers,&rdquo;</a> insert &ldquo;immediately&rdquo; as follows:

    <blockquote>
     <p>Both integers and real numbers may <ins>immediately</ins> be
     preceded by a "-" or "+" to indicate the sign.
    </blockquote>

    <p>In <a href="syndata.html#tokenization" >&ldquo;4.1.1
    Tokenization,&rdquo;</a> allow "+" or "-" at the start of the
    {num} macro:

    <blockquote>
     <table>
       <tr><td>num
	<td><code><ins>[-+]?</ins>[0-9]+|<ins>[-+]?</ins>[0-9]*\.[0-9]+</code>
     </table>
    </blockquote>

    <p>(Note that this changes the definition of three tokens, NUMBER,
    DIMENSION and PERCENTAGE, and thus the tokenization of CSS, but it
    does not change the language generated by the grammar as a whole.)

    <p>No change is required in 4.3.2 (&lt;length&gt;) or 4.3.3
    (&lt;percentage&gt;), because they refer to 4.3.1.

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012May/0063.html"
    >CSS WG minutes 2012-05-02.</a>)

    



   <li id=s.10.1a class=change>
    <p><span class=updated>[2012-08-01]</span> In <a
    href="visudet.html#containing-block-details" >10.1 &ldquo;Definition of
    "containing block,"&rdquo;</a> change:

    <blockquote>
     <ol>
      <li> [&hellip;]

      <li>For other elements, if the element's position is 'relative'
      or 'static', the containing block is formed by the content edge
      of the nearest <ins>ancestor box that is a</ins> <a
      href="visuren.html#block-boxes">block container</a>
      <del>ancestor box</del> <ins>or which establishes a formatting
      context</ins>.
     </ol>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html"
    >CSS WG minutes 2012-08-01.</a>)

    



   <li id=s.9.4 class=change>
    <p><span class=updated>[2012-08-01]</span> In <a
    href="visuren.html#normal-flow" >9.4 &ldquo;Normal flow,&rdquo;</a> replace as
    follows:

    <blockquote>
     <p>Boxes in the normal flow belong to a <a name="x0"><span class="index-def"
     title="formatting context">formatting context</span></a>, which
     <ins>in CSS&nbsp;2</ins> may be <ins>table,</ins> block or
     inline<del>, but not both simultaneously</del>. <ins>In future
     levels of CSS, other types of formatting context will be
     introduced.</ins> <a href="visuren.html#block-level">Block-level</a> boxes
     participate in a <a href="visuren.html#block-formatting">block formatting</a>
     context. <a href="visuren.html#inline-level">Inline-level boxes</a>
     participate in an <a href="visuren.html#inline-formatting">inline
     formatting</a> context. <ins>Table formatting contexts are
     described in the <a href="tables.html" >chapter on
     tables.</a></ins>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html"
    >CSS WG minutes 2012-08-01.</a>)

    



   <li id=s.9.4.2 class=clarification>
    <p><span class=updated>[2012-08-01]</span> In <a
    href="visuren.html#inline-formatting" >9.4.2 &ldquo;Inline formatting
    contexts,&rdquo;</a> add this sentence:

    <blockquote>
     <p><ins>An inline formatting context is established by a block
     container box that contains no block-level boxes.</ins> In an
     inline formatting context, boxes are laid out horizontally, one
     after the other, beginning at the top of a containing block.
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html"
    >CSS WG minutes 2012-08-01.</a>)

    



   <li id=s.17.4a class=change>
    <p><span class=updated>[2012-08-01]</span> In <a
    href="tables.html#model" >17.4 &ldquo;Tables in the visual formatting
    model,&rdquo;</a> replace as follows:

    <blockquote>
     <p>The table wrapper box is a 'block' box if the table is
     block-level, and an 'inline-block' box if the table is
     inline-level. The table wrapper box establishes a block
     formatting context<ins>, and the table box establishes a table
     formatting context</ins>.
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html"
    >CSS WG minutes 2012-08-01.</a>)

    



   <li id=s.17.5 class=change>
    <p><span class=updated>[2012-08-01]</span> In <a
    href="tables.html#table-layout" >17.5 &ldquo;Visual layout of table
    contents,&rdquo;</a> replace as follows:

    <blockquote>
     <p>Internal table elements generate rectangular <a
     href="box.html#box-dimensions">boxes</a> <del>with</del>
     <ins>which participate in the table formatting context
     established by the table box. These boxes have</ins> content and
     borders<del>.</del> <ins>and</ins> cells have padding as
     well. Internal table elements do not have margins.
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html"
    >CSS WG minutes 2012-08-01.</a>)

    



   <li id=s.11.1.1a class=change>
    <p><span class=updated>[2012-08-01]</span> In <a
    href="visufx.html#overflow" >11.1.1 &ldquo;Overflow: the 'overflow'
    property,&rdquo;</a> change:

    <blockquote>
     <p><em>Applies to:</em> block containers <ins>and boxes that
     establish a formatting context</ins>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0087.html"
    >CSS WG minutes 2012-08-01.</a>)

    



   <li id=s.4.1.1a class=change>
    <p><span class=updated>[2013-04-29]</span> The letters u, r and l
    of the URI token may be written as escapes. In <a
    href="syndata.html#tokenization" >4.1.1 &ldquo;Tokenization,&rdquo;</a> change
    in the first table:

    <blockquote>
     <table>
       <tr><td>URI<td><code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}{string}{w}</var>\)<br>
	  |<del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var>([!#$%&amp;*-\[\]-~]|<var>{nonascii}</var>|<var>{escape}</var>)*<var>{w}</var>\)</code>
     </table>
    </blockquote>

    <p>and in the second table:

    <blockquote>
     <table>
       <tr>
	<td>baduri1
	<td><code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var>([!#$%&amp;*-~]|<var>{nonascii}</var>|<var>{escape}</var>)*<var>{w}</var></code>
       <tr>
	<td>baduri2
	<td><code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var><var>{string}</var><var>{w}</var></code>
       <tr>
	<td>baduri3
	<td><code><del>url</del><ins>{U}{R}{L}</ins>\(<var>{w}</var><var>{badstring}</var></code>
     </table>
    </blockquote>

    <p>And add to the second table:

    <blockquote>
     <table>
       <tr>
	<td><ins>L</ins>
	<td><ins><code>l|\\0{0,4}(4c|6c)(\r\n|[ \t\r\n\f])?|\\l</code></ins>
       <tr>
	<td><ins>R</ins>
	<td><ins><code>r|\\0{0,4}(52|72)(\r\n|[ \t\r\n\f])?|\\r</code></ins>
       <tr>
	<td><ins>U</ins>
	<td><ins><code>u|\\0{0,4}(55|75)(\r\n|[ \t\r\n\f])?|\\u</code></ins>
     </table>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html"
    >CSS WG minutes 2013-01-30.</a>)

    



   <li id=s.G.2d class=clarification>
    <p><span class=updated>[2013-04-29]</span> The letters u, r and l
    of the URI token may be written as escapes (see the <a
    href="#s.4.1.1a">previous errata</a>). In <a
    href="grammar.html#scanner" >G.2 &ldquo;Lexical scanner,&rdquo;</a> change:

    <blockquote>
     <pre>
baduri1         <del>url</del><ins>{U}{R}{L}</ins>\({w}([!#$%&amp;*-\[\]-~]|{nonascii}|{escape})*{w}
baduri2         <del>url</del><ins>{U}{R}{L}</ins>\({w}{string}{w}
baduri3         <del>url</del><ins>{U}{R}{L}</ins>\({w}{badstring}</pre>
    </blockquote>

    <p>and

    <blockquote>
     <pre>
<del>"url("</del><ins>{U}{R}{L}"("</ins>{w}{string}{w}")" {return URI;}
<del>"url("</del><ins>{U}{R}{L}"("</ins>{w}{url}{w}")"    {return URI;}</pre>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html"
    >CSS WG minutes 2013-01-30.</a>)

    



   <li id=s.4.1.1b class=change>
    <p><span class=updated>[2013-04-29]</span> Unicode control
    characters between U+0080 and U+009F can be used in identifiers
    and in URI tokens. (Previously such characters made the style
    sheet invalid.) In <a href="syndata.html#tokenization" >4.1.1
    &ldquo;Tokenization,&rdquo;</a> change:

    <blockquote>
     <table>
       <tr><td>nonascii <td>[^\0-<del>\237</del><ins>\177</ins>]
     </table>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html"
    >CSS WG minutes 2013-01-30.</a>)

    



   <li id=s.4.1.3d class=change>
    <p><span class=updated>[2013-04-29]</span> Unicode control
    characters between U+0080 and U+009F can be used in identifiers
    and in URI tokens. (Previously such characters made the style
    sheet invalid.) In <a href="syndata.html#characters" >4.1.3
    &ldquo;Characters and case,&rdquo;</a> change:

    <blockquote>
     <ul>
      <li>In CSS, <dfn>identifiers</dfn> (including element names,
      classes, and IDs in <a href="selector.html">selectors</a>) can
      contain only the characters [a-zA-Z0-9] and ISO 10646
      characters <del>U+00A0</del> <ins>U+0080</ins> and higher, plus
      the hyphen (-) and the underscore (_);
     </ul>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html"
    >CSS WG minutes 2013-01-30.</a>)

    



   <li id=s.4.4 class=change>
    <p><span class=updated>[2013-05-02]</span> When a CSS file is
    known to be in a UTF-based character encoding, based on
    out-of-band information, and the file starts with a <abbr
    title="Byte Order Mark">BOM,</abbr> then the BOM determines which
    of the UTF-based encodings is used, overriding the out-of-band
    information. In <a href="syndata.html#charset">4.4 &ldquo;CSS style
    sheet representation,&rdquo;</a> insert:

    <blockquote>
     <p><ins>If rule 1 above (an HTTP "charset" parameter or similar)
     yields a character encoding and it is one of UTF-8, UTF-16 or
     UTF-32, then a BOM, if any, at the start of the file overrides
     that character encoding, as follows:</ins>

     <table>
      <thead>
       <tr><th><ins>First bytes (hexadecimal)</ins>
	<th><ins>Resulting encoding</ins>
      <tbody>
       <tr><td><ins>00 00 FE FF</ins>  <td><ins>UTF-32, big-endian</ins>
       <tr><td><ins>FF FE 00 00</ins>  <td><ins>UTF-32, little-endian</ins>
       <tr><td><ins>FE FF</ins>        <td><ins>UTF-16, big-endian</ins>
       <tr><td><ins>FF FE</ins>        <td><ins>UTF-16, little-endian</ins>
       <tr><td><ins>EF BB BF</ins>     <td><ins>UTF-8</ins>
     </table>

     <p><ins>If rule 1 yields a character encoding of UTF-16BE,
     UTF-16LE, UTF-32BE or UTF-32LE, then it is an error if the file
     starts with a BOM. A CSS UA must recover by ignoring the
     specified encoding and using the table above.</ins>

     <p class=note><ins>Note that the fact that a BOM at the start of
     a file is an error in UTF-16BE, UTF-16LE, UTF-32BE or UTF-32LE is
     specified by <a href="refs.html#ref-UNICODE" rel="biblioentry"
     class="noxref"><span class="normref">[UNICODE]</span></a>.</ins>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Oct/0727.html"
    >CSS WG minutes 2012-10-24.</a>)

    



   <li id=s.11.1.1b class=change>
    <p><span class=updated>[2013-07-15]</span> In <a
    href="visufx.html#overflow" >11.1.1 &ldquo;Overflow: the 'overflow'
    property,&rdquo;</a> change the definition of 'scroll' and 'auto':

    <blockquote>
     <dl>
      <dt><strong>scroll</strong> <dd>This value indicates that the
       content is clipped and that if the user agent uses a scrolling
       mechanism that is visible on the screen (such as a scroll bar
       or a panner), that mechanism should be displayed for a box
       whether or not any of its content is clipped. This avoids any
       problem with scrollbars appearing and disappearing in a dynamic
       environment.  When this value is specified and the target
       medium is 'print', overflowing content may be printed.
       <ins>When used on <a href="tables.html#table-box">table
       boxes,</a> this value has the same meaning as 'visible'.</ins>

      <dt><strong>auto</strong> <dd>The behavior of the 'auto' value
       is user agent-dependent, but should cause a scrolling mechanism
       to be provided for overflowing boxes. <ins>When used on <a
       href="tables.html#table-box">table boxes,</a> this value has
       the same meaning as 'visible'.</ins>
     </dl>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012Aug/0298.html"
    >CSS WG minutes 2012-08-08.</a>)

    

    


   <li id=s.15.3b class=clarification>
    <p><span class=updated>[2013-07-15]</span> In <a
    href="fonts.html#font-family-prop" >15.3 Font family: the
    'font-family' property</a> the grammar is missing a pair of brackets:

    <blockquote>
     <p>Value: [[ &lt;family-name> | &lt;generic-family> ] [,
     <ins>[</ins> &lt;family-name>| &lt;generic-family> ]
     <ins>]</ins>* ] | inherit
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012May/0887.html"
    >CSS WG minutes 2012-05-03.</a>)

    



   <li id=s.G.1a class=change>
    <p><span class=updated>[2013-07-15]</span> Spaces and comments are
    not allowed between the sign and the digits of a &lt;number&gt;,
    &lt;length&gt; or &lt;percentage&gt;. In <a
    href="grammar.html#scanner" >&ldquo;G.2 Lexical
    scanner,&rdquo;</a> change the {num} macro as follows:

    <blockquote>
    <pre>num		<ins>[-+]?</ins>[0-9]+|<ins>[-+]?</ins>[0-9]*"."[0-9]+</pre>
    </blockquote>

    <p>In <a href="grammar.html#grammar" >&ldquo;G.1
    Grammar,&rdquo;</a> remove unary_operator from the grammar:

    <blockquote>
     <pre>
<del>unary_operator
  : '-' | '+'
  ;</del></pre>
    </blockquote>

    <p>and

    <blockquote>
     <pre>
term
  : <del>unary_operator?</del>
    [ NUMBER S* | PERCENTAGE S* | LENGTH S* | EMS S* | EXS S* | ANGLE S* |
      TIME S* | FREQ S* ]
  | STRING S* | IDENT S* | URI S* | hexcolor | function
  ;</pre>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2012May/0063.html"
    >CSS WG minutes 2012-05-02.</a>)

    



   <li id=s.10.5a class=change>
    <p><span class=updated>[2013-07-18]</span> A percentage on
    'height', even if not used, can be inherited. In <a
    href="visudet.html#the-height-property" >&ldquo;10.5 Content
    height: the 'height' property,&rdquo;</a> change the
    &ldquo;computed value&rdquo; line as follows:

    <blockquote>
     <table>
       <tr>
	<td><em>Computed&nbsp;value:</em>&nbsp;&nbsp;

	<td>the percentage or 'auto' <del>(see prose under <a
	href="syndata.html#value-def-percentage" class="noxref"><a href="syndata.html#value-def-percentage" class="noxref"><span
	class="value-inst-percentage">&lt;percentage&gt;</span></a></a>)</del>
	<ins>(as specified)</ins>
     </table>
    </blockquote>

    <p>and in the definition of &lt;percentage&gt;:

    <blockquote>
     <dl>
      <dt><strong>&lt;percentage&gt;</strong>

      <dd>Specifies a percentage height. The percentage is calculated
      with respect to the height of the generated box's <a
      href="visuren.html#containing-block">containing block</a>. If
      the height of the containing block is not specified explicitly
      (i.e., it depends on content height), and this element is not
      absolutely positioned, <del>the value computes to 'auto'</del>
      <ins>the used height is calculated as if 'auto' was
      specified</ins>.
     </dl>
    </blockquote>

    <p>(See <a
    href="http://lists.w3.org/Archives/Public/www-style/2013May/0201.html"
    >CSS WG minutes 2013-05-08.</a>)

    
    



   <li id=s.4.1.1c class=change>
    <p><span class=updated>[2013-09-09]</span> In <a
    href="syndata.html#tokenization">&ldquo;4.1.1
    Tokenization,&rdquo;</a> make the UNICODE-RANGE token more
    precise:

    <blockquote>
     <table>
       <tr>
	<td>UNICODE-RANGE
	<td><code><del>u\+[0-9a-f?]{1,6}(-[0-9a-f]{1,6})?</del><br>
	  <ins>u\+[?]{1,6}|<br>
	   u\+[0-9a-f]{1}[?]{0,5}|<br>
	   u\+[0-9a-f]{2}[?]{0,4}|<br>
	   u\+[0-9a-f]{3}[?]{0,3}|<br>
	   u\+[0-9a-f]{4}[?]{0,2}|<br>
	   u\+[0-9a-f]{5}[?]{0,1}|<br>
	   u\+[0-9a-f]{6}|<br>
	   u\+[0-9a-f]{1,6}-[0-9a-f]{1,6}</ins></code>
     </table>
    </blockquote>

    <p>E.g., &ldquo;U+A?5&rdquo; previously was a single UNICODE-RANGE
    token (although a semantically meaningless one), now this is two
    tokens: &ldquo;U+A?&rdquo; (meaning the 16-character range
    U+A0-AF) and the number &ldquo;5&rdquo;.

    <p>(See <a
    href="http://www.w3.org/mid/5227C33B.9010408@inkedblade.net" >CSS
    WG minutes 2013-09-03.</a>)

    



   <li id=s.9.2a class=clarification>
    <p><span class=updated>[2012-09-19]</span> Modify <a
    href="visuren.html#box-gen" >&ldquo;9.2 Controlling box
    generation&rdquo;</a> and <a
    href="visuren.html#anonymous-block-level" >&ldquo;9.2.1
    Block-level elements and block boxes&rdquo;</a> as follows:

    <blockquote>
     <p><strong>Controlling box generation</strong>

     <p>The following sections describe the types of boxes that may be
      generated in CSS&nbsp;2.1. A box's type affects, in part, its
      behavior in the visual formatting model. The 'display' property,
      described below, specifies a box's type.

     <p><ins>Certain values of the ''display' property cause an
      element of the source document to generate a <dfn>principal
      box</dfn> that contains descendant boxes and generated content
      and is also the box involved in any positioning scheme. Some
      elements may generate additional boxes in addition to the
      principal box: 'list-item' elements. These additional boxes are
      placed with respect to the principal box.</ins>

     <p><strong>9.2.1 Block-level elements and block boxes</strong>

     <p><del><dfn>Block-level elements</dfn> are those elements of the
      source document that are formatted visually as blocks (e.g.,
      paragraphs). The following values of the 'display' property make
      an element block-level: 'block', 'list-item', and 'table'.</del>

     <p><ins><dfn>Block-level elements</dfn> &ndash; those elements of
      the source document that are formatted visually as blocks (e.g.,
      paragraphs) &ndash; are elements which generate a block-level
      principal box. Values of the 'display' property that make an
      element block-level include: 'block', 'list-item', and
      'table'. <dfn>Block-level boxes</dfn> are boxes that participate
      in a block formatting context.</ins>

     <p><del><dfn>Block-level boxes</dfn> are boxes that participate
      in a block formatting context. Each block-level element
      generates a <dfn>principal block-level box</dfn> that contains
      descendant boxes and generated content and is also the box
      involved in any positioning scheme. Some block-level elements
      may generate additional boxes in addition to the principal box:
      'list-item' elements. These additional boxes are placed with
      respect to the principal box.</del>

     <p><del>Except for table boxes, which are described in a later
      chapter, and replaced elements,</del> <ins>In
      CSS&nbsp;2,</ins> a block-level box is also a block container
      box <ins>unless it is a table box or the principal box of a
      replaced element</ins>. A <dfn >block container box</dfn> either
      contains only block-level boxes or establishes an inline
      formatting context and thus contains only inline-level
      boxes. <ins>An element whose principal box is a block container
      box is a <dfn >block container element.</dfn></ins> Values of
      the 'display' property which make a non-replaced element
      generate a block container include 'block', 'list-item' and
      'inline-block'. Not all block container boxes are block-level
      boxes: non-replaced inline blocks and non-replaced table cells
      are block containers but <ins>are</ins> not block-level
      <del>boxes</del>. Block-level boxes that are also block
      containers are called <dfn>block boxes</dfn>.

     <p>The three terms "block-level box," "block container box," and
      "block box" are sometimes abbreviated as "block" where
      unambiguous.
    </blockquote>

    
    



   <li id=s.9.2.4a class=clarification>
    <p><span class=updated>[2012-09-19]</span> Modify <a
    href="visuren.html#display-prop" >&ldquo;9.2.4 The 'display'
    property&rdquo;</a> as follows:

    <blockquote>
     <dl>
      <dt><strong>block</strong>

      <dd>This value causes an element to generate a
      <ins>principal</ins> block box.

      <dt><strong>inline-block</strong>

      <dd>This value causes an element to generate <del>an</del>
      <ins>a principal</ins> inline-level block container.
      <ins>(</ins>The inside of an inline-block is formatted as a
      block box, and the element itself is formatted as an atomic
      inline-level box.<ins>)</ins>

     </dl>
    </blockquote>

    
    



   <li id=s.17.4b class=clarification>
    <p><span class=updated>[2012-09-19]</span> Modify <a
    href="tables.html#model" >&ldquo;17.4 Tables in the visual
    formatting model&rdquo;</a> as follows:

    <blockquote>
     <p>In both cases, the table generates a principal block
      <ins>container</ins> box called the <dfn>table wrapper box</dfn>
      that contains the table box itself and any caption boxes (in
      document order). The <dfn>table box</dfn> is a block-level box
      that contains the table's internal table boxes. The caption
      boxes are <ins>principal</ins> block-level boxes that retain
      their own content, padding, margin, and border areas, and are
      rendered as normal block boxes inside the table wrapper
      box. Whether the caption boxes are placed before or after the
      table box is decided by the 'caption-side' property, as
      described below.

     <p>The table wrapper box is <del>a 'block' box if the table is
      block-level</del> <ins>block-level for 'display: table'</ins>,
      and <del>an 'inline-block' box if the table is
      inline-level</del> <ins>inline-level for 'display:
      inline-table'</ins>. The table wrapper box establishes a block
      formatting context, and the table box establishes a table
      formatting context. The table box (not the table wrapper box) is
      used when doing baseline vertical alignment for an
      'inline-table'. The width of the table wrapper box is the
      border-edge width of the table box inside it, as described by
      section 17.5.2. Percentages on 'width' and 'height' on the table
      are relative to the table wrapper box's containing block, not
      the table wrapper box itself.
    </blockquote>

    
    



   <li id=s.4.1.1d class=change>
    <p><span class=updated>[2012-09-19]</span> For compatibility with
    SVG, modify the definition of macro num in <a
    href="syndata.html#tokenization" >&ldquo;4.1.1
    Tokenization&rdquo;</a> as follows:

    <blockquote>
     <table>
       <tr>
	<td><del>num</del>
	<td><del><code>[-+]?[0-9]+|[-+]?[0-9]*\.[0-9]+</code></del>
       <tr>
	<td><ins>num</ins>
	<td><ins><code>[+-]?([0-9]+|[0-9]*\.[0-9]+)(e[+-]?[0-9]+)?</code></ins>
     </table>
    </blockquote>

    
    



   <li id=s.14.2 class=change>
    <p><span class=updated>[2014-07-16]</span> The background of the
    canvas cannot be taken from an element that is suppressed with
    'display: none'. On the other hand, if the element is merely
    invisible ('visibility: hidden'), its background can still be used
    for the canvas. In other words, if the root element has 'display:
    none', the background of the canvas is undefined. In the case of
    (X)HTML documents, if the root element has 'background:
    transparent' and the &lt;body&gt; element has 'display: none', the
    background of the canvas is likewise undefined. Change the text in
    <a href="colors.html#background" >&ldquo;14.2 The
    background&rdquo;</a> as follows:

    <blockquote>
     <p>[&hellip;] Such backgrounds must also be anchored at the same point
      as they would be if they were painted only for the root element.

     <p><ins>However, if no boxes are generated for the element whose
      background would be used for the background of the canvas, then
      the canvas background is transparent. (in CSS&nbsp;2, that is the
      case when the element or an ancestor has 'display: none'.)</ins>

     <p><ins>Note that, if the element has 'visibility: hidden' but
      not 'display: none', boxes <em>are</em> generated for it and its
      background <em>is</em> used for the canvas.</ins>
    </blockquote>

    
    

   <li id=s.9.9.1 class=change>
    <p><span class=updated>[2015-07-01]</span> An element with
    'position: fixed'
    <em>always</em> establishes a new stacking context. (This is
    different from 'position: absolute', where 'z-index' determines if
    the element establishes a stacking context or not.)

    <p>Change the definition of 'auto' in <a
    href="visuren.html#z-index" >&ldquo;9.9.1 Specifying the stack
    level: the 'z-index' property&rdquo;</a> as follows:

    <blockquote>
     <dl>
      <dt><strong>auto</strong> <dd>The stack level of the generated
       box in the current stacking context is 0. <del>The box does not
       establish a new stacking context unless it is the root
       element.</del> <ins>If the box has 'position: fixed' or if it
       is the root, it also establishes a new stacking context.</ins>
     </dl>
    </blockquote>

    
    



   <li id=s.4.1.1e class=change>
    <p><span class=updated>[2015-09-05]</span> Malformed declarations
     are handled differently when the start of the malformed
     declaration conforms to the syntax of an at-rule. In that case,
     parsing resumes not at the next semicolon or at the closing curly
     brace of the enclosing block, but immediately after that
     at-rule. This is expressed by adding the at-rule to the core
     syntax for rulesets, as shown below.

    <p>In <a href="syndata.html#tokenization" >&ldquo;4.1.1
     Tokenization&rdquo;,</a> change the production for ruleset as
     follows:

    <blockquote>
     <pre>
<del>ruleset     : selector? '{' S* declaration? [ ';' S* declaration? ]* '}' S*;</del>
<ins>ruleset     : selector? '{' S* declaration-list '}' S*;
declaration-list: declaration [ ';' S* declaration-list ]?
              | at-rule declaration-list
              | /* empty */;</ins></pre>
    </blockquote>

    <p>In <a href="syndata.html#rule-sets" >&ldquo;4.1.7 Rule sets,
     declaration blocks, and selectors&rdquo;,</a> change the second
     paragraph as follows:

    <blockquote>
     <p>A declaration block starts with a left curly brace ({) and
      ends with the matching right curly brace (}). In between there
      must be a list of zero or more <del>semicolon-separated (;)
      declarations</del> <ins>declarations and at-rules. Declarations
      must end with a semicolon (;) unless they are last in the
      list.</ins>

     <p class=note><ins>Note: CSS level&nbsp;2 has no at-rules that
      may appear inside rule sets, but such at-rules may be defined in
      future levels.</ins>
    </blockquote>

    <p>In <a href="syndata.html#parsing-errors" >&ldquo;4.2 Rules for
     handling parsing errors&rdquo;,</a> change the rule for malformed
     declarations as follows:

    <blockquote>
     <ul>
      <li>
       <p><strong>Malformed declarations.</strong> User agents must
	handle unexpected tokens encountered while parsing a
	declaration by reading until the end of the declaration, while
	observing the rules for matching pairs of (), [], {}, "", and
	'', and correctly handling escapes. For example, a malformed
	declaration may be missing a property name, colon (:), or
	property value.

       <p><ins>When the UA expects the start of a declaration or
	at-rule (i.e., an IDENT token or an ATKEYWORD token) but finds
	an unexpected token instead, that token is considered to be
	the first token of a malformed declaration. I.e., the rule for
	malformed declarations, rather than malformed statements is
	used to determine which tokens to ignore in that case.</ins>

       <p>The following are all equivalent:

       <pre class=example>
<code>p { color:green }
<ins>p { @foo { bar: baz } color:green }  /* unknown at-rule */</ins>
p { color:green; color }  /* malformed declaration missing ':', value */
p { color:red;   color; color:green }  /* same with expected recovery */
p { color:green; color: } /* malformed declaration missing value */
p { color:red;   color:; color:green } /* same with expected recovery */
p { color:green; color{;color:maroon} } /* unexpected tokens { } */
	 p { color:red;   color{;color:maroon}; color:green } /* same with recovery */</code></pre>
       </li>
     </ul>
    </blockquote>

    <p>And, finally, in <a href="page.html#page-box" >&ldquo;13.2 Page
     boxes: the @page rule&rdquo,</a> remove the following text, which
     is now redundant:

    <blockquote>
     <p><del>The rules for handling malformed declarations, malformed
      statements, and invalid at-rules inside @page are as defined in
      <a href="syndata.html#parsing-errors" >section&nbsp;4.2,</a>
      with the following addition: when the UA expects the start of a
      declaration or at-rule (i.e., an IDENT token or an ATKEYWORD
      token) but finds an unexpected token instead, that token is
      considered to be the first token of a malformed
      declaration. I.e., the rule for malformed declarations, rather
      than malformed statements is used to determine which tokens to
      ignore in that case.</del>
    </blockquote>

    
    


  </ul>

<hr class="navbar">

<div class="navbar">
<p><a href="refs.html">previous</a> &nbsp;
<a href="sample.html">next</a> &nbsp;
<a href="Overview.html#minitoc">contents</a> &nbsp;
<a href="propidx.html">properties</a> &nbsp;
<a href="indexlist.html">index</a> &nbsp;
</div>
</BODY>
</HTML>

