<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<!-- $Id: changes.src,v 2.109 2009-05-15 17:31:38 bbos Exp $ -->
<HEAD>
<TITLE>Changes</TITLE>
</HEAD>
<BODY>
<H1>Changes</H1>
<P><em>This appendix is informative, not normative.</em></P>

<P>CSS&nbsp;2.1 is an updated revision of CSS2. The changes between
the CSS2 specification (see [[CSS2]]) and this specification fall into
five groups: <a href="#known-errors">known errors,</a> typographical
errors, <a href="#clarifications">clarifications,</a> <a
href="#changes">changes</a> and <a href="#new">additions.</a>
Typographical errors are not listed here.</P>

<p>In addition, this chapter lists the <a href="#errata">errata
(part&nbsp;1</a> and <a href="#errata2">part&nbsp;2)</a>
that were subsequently applied to CSS&nbsp;2.1 since it became a
Candidate Recommendation in July 2007.

<p>This chapter is not a complete list of changes. Minor editorial
changes and most changes to examples are also not listed here.</p>


<h2><a name="new">Additional property values</a></h2>

<h3 id="a4.3.6"><a href="syndata.html#color-units">Section 4.3.6
Colors</a></h3>

<p>New color value: 'orange'

<h3 id="a9.2.4"><a href="visuren.html#propdef-display">Section 9.2.4
The 'display' property</a></h3>

<p>New 'display' value: 'inline-block'

<h3 id="a12.2"><a href="generate.html#content">Section 12.2 The
'content' property</a></h3>

<p>New 'content' values 'none' and 'normal'. (The values 'none' and
'normal' are equivalent in CSS&nbsp;2.1, but may have different
functions in CSS3.)

<h3 id="a16.6"><a href="text.html#propdef-white-space">Section 16.6
White space: the 'white-space' property</a></h3>

<p>New 'white-space' values: 'pre-wrap' and 'pre-line'

<h3 id="a18.1"><a href="ui.html#propdef-cursor">Section 18.1 Cursors:
the 'cursor' property</a></h3>

<p>New 'cursor' value: 'progress'

<h2><a name="changes">Changes</a></h2>

<h3 id="c1.1"><a href="about.html#css2.1-v-css2">Section 1.1 CSS 2.1 vs CSS 2</a></h3>

<p>This new section is added to explain the motivation for CSS2.1
and its relation to CSS2.</p>

<h3 id="c1.2"><a href="about.html#reading">Section 1.2 Reading the specification</a></h3>

<p>This section (formerly Section 1.1) has been marked non-normative.</p>

<h3 id="c1.3"><a href="about.html#organization">Section 1.3 How the specification is organized</a></h3>

<p>This section (formerly Section 1.2) has been marked non-normative.</p>

<h3 id="c1.4.2.1"><a href="about.html#value-defs">Section 1.4.2.1 Value</a></h3>

<p>This section (formerly unnumbered under 1.3.2) notes that value types are specified
in terms of tokens and that spaces may appear between tokens in values. A note
explains that spaces are required between some tokens.</p>

<h3 id="c1.4.2.6"><a href="about.html#media-applies">Section 1.4.2.6 Media groups</a></h3>

<p>This section (formerly unnumbered under 1.3.2) now declares the Media line
in property definitions to be non-normative.</p>

<h3 id="c1.4.2.7"><a href="about.html#computed-defs">Section 1.4.2.7 Computed value</a></h3>

<p>A new line is added to each property definition specifying what the computed
values are for the property. (This defines what level of computation is done to
a property value before inheritance and before certain other calculations.)</p>

<h3 id="c1.4.4"><a href="about.html#notes-and-examples">Section 1.4.4 Notes and examples</a></h3>

<p>This section (formerly 1.3.4) now specifies that HTML examples lacking DOCTYPE
declarations are SGML Text Entities conforming to the HTML 4.01 Strict DTD [HTML4].
The markup for many examples has been reformulated to either include a DOCTYPE or
conform to this definition.</p>

<h3 id="c1.5"><a href="about.html#acknowledgements">Section 1.5 Acknowledgements</a></h3>

<p>This section (formerly 1.4) has been updated to reflect contributions to CSS2.1
and has been marked non-normative.<p>

<h3 id="c3.2"><a href="conform.html#conformance">Section 3.2
Conformance</a></h3>

<p>Support for user style sheets is now required (in most cases),
rather than just recommended.

<p>Support for turning of author style sheets is now required.</p>

<p>Application of CSS properties to form controls is explicitly undefined.
Authors are recommended to treat form control styling capabilities in UAs
as experimental.</p>

<h3 id="c3.3"><a href="conform.html#errors">Section 3.3
Error Conditions</a></h3>

<p>This section changed to say that error handling <em>is</em> specified
in most cases.</p>

<h3 id="c4.1.1"><a href="syndata.html#tokenization">Section 4.1.1 Tokenization</a></h3>

<p>Added INVALID token and rules for its definition.</p>

<p>An optional hyphen, "-", is now allowed at the beginning of an "ident"
for vendor extensions. (See section 4.1.2.1)</p>

<p id="underscore">The underscore character
("_") is allowed in identifiers. The definitions of the lexical
macros "nmstart" and "nmchar" now include it. See also section
4.1.2.1 (Vendor extensions).</p>

<p>The "escape" macro has been modified to allow the escaping of any
character except newlines, form feeds, and hex digits (to avoid
conflict with unicode escapes).</p>

<p>Modified "string1" and "string2" macros by defining allowed characters
through excluding disallowed characters. This allows invisible ASCII
characters to be included in a string.</p>

<h3 id="c4.1.3"><a href="syndata.html#characters">Section 4.1.3
Characters and case</a></h3>

<p>Updated prose about identifiers (second bullet point) to match changes
in the tokenization (above).</p>

<p>Excluded null (0x0) character from CSS numerical escapes and indicate that
it is undefined in CSS2.1 what happens if such a character is encountered.</p>

<p>Allowed the use of U+FFFD as a replacement for characters outside the
range allowed by Unicode.</p>

<p>CSS is no longer case-insensitive, but case-sensitive with
exceptions. Changed "All CSS style sheets are case-insensitive, except
for parts that are not under the control of CSS" to "All CSS syntax is
case-insensitive within the ASCII range (i.e. [a-z] and [A-Z] are
equivalent), except for parts that are not under the control of CSS." 
See also the change to case-sensitivity of counters in <a
href="#c4.3.5">4.3.5.</a>

<h3 id="c4.2"><a href="syndata.html#parsing-errors">Section 4.2
Rules for handling parsing errors</a></h3>

<p>Defined parsing in the cases of Malformed Declarations,
Unexpected End of Stylesheet, and Unexpected End of String.</p>

<h3 id="c4.3"><a href="syndata.html#values">Section 4.3
Values</a></h3>

<p>Sections 4.3.7 (Angles), 4.3.8 (Times), and 4.3.9 (Frequencies)
have been moved to the informative Appendix A.</p>

<h3 id="c4.3.2"><a href="syndata.html#length-units">Section 4.3.2
Lengths</a></h3>

<p>Added a paragraph on heuristics for finding the x-height of a font.</p>

<h3 id="c4.3.4"><a href="syndata.html#uri">Section 4.3.4
URLs and URIs</a></h3>

<p>Updated URI references to RFC3986.</p>

<h3 id="c4.3.5"><a href="syndata.html#counter">Section 4.3.5
Counters</a></h3>

<p>Changed "Counters are denoted by identifiers" to "ounters are
denoted by <ins>case-sensitive</ins> identifiers" (see also the
change to case-sensitivity in <a href="#c4.1.3">4.1.3</a>).

<h3 id="c4.3.6"><a href="syndata.html#color-units">Section 4.3.6
Colors</a></h3>

<p>Defined the numeric values corresponding to color keywords instead
of referencing HTML4 for those values.</p>

<p>UAs are now allowed to intelligently map colors outside the gamut
into the gamut instead of simply clipping them into the range of the
gamut.</p>

<h3 id="c4.3.8"><a href="syndata.html#unsupported-values">Section 4.3.8
Unsupported Values</a></h3>

<p>Added this section to recommend that unsupported properties and values
be ignored as if they were invalid.</p>

<h3 id="c4.4"><a href="syndata.html#charset">Section 4.4
CSS style sheet representation</a></h3>

<p>Changed character encoding detection rule 2 to include a BOM and
referred to additional rules below.</p>

<p>Added rule 4 to provide for use of the referring style sheet
or document's character encoding.</p>

<p>Added rule 5 to require falling back to UTF-8.</p>

<p>Removed the restriction on using @charset in embedded style sheets.</p>

<p>Allowed a BOM to precede the @charset rule.</p>

<p>Added requirement that @charset rule must be a literal '@charset"...";',
not a CSS-syntax equivalent.</p>

<p>Added requirement to support for UTF-8 at minimum.</p>

<p>Specified that any @charset rule not at the beginning of the style sheet
must be ignored.</p>

<p>Removed note on theoretical problem with @charset problem and precisely
defined rules for character encoding detection based on @charset and/or BOM.</p>

<p>Specified that UAs must ignore style sheets in unknown encodings.</p>

<!-- Chapter 5 -->

<h3 id="c5.8.1"><a href="selector.html#matching-attrs">Section 5.8.1 Matching
attributes and attribute values</a></h3>

<p>RFC&nbsp;3066 replaces RFC&nbsp;1766.

<h3 id="c5.8.3"><a href="selector.html#class-html">Section 5.8.3 Class
selectors</a></h3>

<p>Class selectors are allowed for other formats than HTML.

<p>Added a note about matching classes in formats with multiple class
attributes per element. The behavior is non-normative, because, at the
time of writing, there exist no such formats.

<h3 id="c5.9"><a href="selector.html#id-selectors">Section 5.9 ID
selectors</a></h3>

<p>Specified how to match elements with two or more ID attributes.

<h3 id="c5.10"><a href="selector.html#pseudo-elements">Section 5.10
Pseudo-elements and pseudo-classes</a></h3>

<p>Removed exception for HTML UAs that allowed them (and only them) to
ignore ':first-letter' and ':first-line'.

<h3 id="c5.11.2"><a href="selector.html#link-pseudo-classes">Section 5.11.2
The link pseudo-classes: :link and :visited</a></h3>

<p>UAs may return a :visited link to :link status at some point. (This
was previously a note, but is now normative.)

<p>Added a note about privacy concerns with link pseudo classes and
allowed UAs to treat :visited as :link.

<h3 id="c5.11.4"><a href="selector.html#lang">Section 5.11.4 The
language pseudo-class: :lang</a></h3>

<p>The identifier C in ':lang(C)' need not be a valid language code,
but it must not be empty.

<h3 id="c5.12.1"><a href="selector.html#first-line-pseudo">Section
5.12.1 The :first-line pseudo-element</a></h3>

<p>':first-line' also applies to inline blocks, table captions and
table cells. Added a definition of "first formatted line" to make the
rules about which line is the first line more precise.

<p>UAs are no longer forbidden from applying more properties than the
given list.

<h3 id="c5.12.2"><a href="selector.html#first-letter">Section 5.12.2
The :first-letter pseudo-element</a></h3>

<p>More precise definition of first letter. Added rules for cases
where the first letter is in an inline block or table cell. Added
rules for cases when preceding punctuation is in a different element
from the first letter itself.

<p>UAs may apply other properties to first letters than the given
list.

<p>Unicode character classes Pi and Pf added to the definition of
punctuation.



<!-- Chapter 6 -->

<h3 id="c6.1"><a href="cascade.html#value-stages">Section 6.1 Specified, computed, and actual values</a></h3>

<p>Redefined "computed value" and created the concept of "used value"
so that inheritance can be performed without laying out the document.
This change has the effect of allowing (requiring) percentages to be inherited
as percentages and affects many other layout calculations throughout the spec.</p>

<p>Since computed value of a property can now also be a percentage. In
particular, the following properties now inherit the percentage if the
specified value is a percentage:

<ul>
<li>background-position
<li>bottom, left, right, top
<li>height, width
<li>margin-bottom, margin-left, margin-right, margin-top,
<li>min-height, min-width
<li>padding-bottom, padding-left, padding-right, padding-top
<li>text-indent
</ul>

<p>Note that only 'text-indent' inherits by default, the others only
inherit if the 'inherit' keyword is specified.

<h3 id="c6.4.1"><a href="cascade.html#cascading-order">Section 6.4.1 Cascading order</a></h3>

<p>Changed suggestion that user be able to turn off author styles to a requirement.</p>

<h3 id="c6.4.3"><a href="cascade.html#specificity">Section 6.4.3
Calculating a selector's specificity</a></h3>

<p>The "style" attribute now has a higher specificity than any style
rule.</p>

<p>Pseudo-elements are now counted with elements in calculating a
a selector's specificity.</p>

<h3 id="c6.4.4"><a href="cascade.html#preshint">Section 6.4.4 Precedence
of non-CSS presentational hints</a></h3>

<p>"Non-CSS presentational hints" no longer exist, with the exception
of a small set of attributes in HTML.</p>

<h3 id="c7.3"><a href="media.html#media-types">Section 7.3
Recognized Media Types</a></h3>

<p>Added 'speech' media type.</p>

<p>Marked "Media" field in property descriptions informative.</p>

<h3 id="c7.3.1"><a href="media.html#media-types">Section 7.3.1
Media Groups</a></h3>

<p>Marked this section informative.</p>

<p>Added sound to 'handheld' in media type/media group table.</p>

<p>Changed 'tactile' to be both 'static' and 'interactive'.</p>

<h3 id="c8.3"><a href="box.html#margin-properties">Section 8.3 Margin properties</a></h3>

<p>If the containing block's width depends on an element with percentage
margins, then the resulting layout is undefined in CSS 2.1.</p>

<h3 id="c8.3.1"><a href="box.html#collapsing-margins">Section 8.3.1 Collapsing margins</a></h3>

<p>In the definition of "collapsing margins", added "non-empty content"
and "clearance" to the parenthetical list of things that prevent consecutive
margins from being adjoining.</p>

<p>Vertical margins of elements with 'overflow' other than 'visible' no longer
collapse with their in-flow children.</p>

<p>Defined how margins collapse through an element with adjoining top and
bottom margins.</p>

<p>Added that margins of the root element's box do not collapse.</p>

<p>More rigorously <a href="box.html#what-is-adjoining">defined "adjoining" for margin collapsing</a>.</p>

<p>Sixth bullet, second sub-bullet: to find the position of the top
border edge, assume the element has a <em>bottom</em> (rather than
top) border.

<p>Margins of relatively positioned elements <em>do</em> sometimes
collapse.

<h3 id="c8.4"><a href="box.html#padding-properties">Section 8.4 Padding properties</a></h3>

<p>If the containing block's width depends on an element with percentage
padding, then the resulting layout is undefined in CSS 2.1.</p>

<h3 id="c8.5.2"><a href="box.html#border-color-properties">Section 8.5.2 Border color</a></h3>

<p>'transparent' can now be specified independently for each border side,
on par with &lt;color>.</p>

<h3 id="c8.5.3"><a href="box.html#border-style-properties">Section 8.5.3 Border style</a></h3>

<p>3D border styles ('groove', 'ridge', 'inset', 'outset') now depend on the
corresponding border-color rather than on 'color'.</p>

<h3 id="c8.6"><a href="box.html#bidi-box-model">Section 8.6 The box model for inline elements in bidirection context</a></h3>

<p>Added this new section to specify layout of inline boxes when affected by bidi.</p>

<h3 id="c9.1.2"><a href="visuren.html#containing-block">Section 9.1.2
Containing blocks</a></h3>

<p>Removed paragraphs about the initial containing block, as this is
now defined differently. (See <a href="#initial-containing-block">changes
to section 10.1</a>.)</p>

<h3 id="c9.2.1.1"><a href="visuren.html#anonymous-block-level">Section 9.2.1.1
Anonymous block boxes</a></h3>

<p>Added a paragraph to define formatting when an inline box contains
a block box.</p>

<p>Specified what property values are applied to anonymous boxes.</p>

<h3 id="c9.2.2.1"><a href="visuren.html#anonymous">Section 9.2.2.1
Anonymous inline boxes</a></h3>

<p>Specified that collapsed white space does not generate anonymous
inline boxes.</p>

<h3 id="c9.2.3"><a href="visuren.html#run-in">Section 9.2.3
Run-in boxes</a></h3>

<p>Changed run-in rules so that a) run-ins that contain blocks become blocks
b) run-ins can only run into sibling blocks and c) run-ins cannot run into
other run-ins.</p>

<h3 id="c9.2.4"><a href="visuren.html#display-prop">Section 9.2.4
The 'display' property</a></h3>

<p>The 'marker' and 'compact' values of the 'display' property are
not part of CSS&nbsp;2.1. Text relating to these values has been
removed throughout the specification.</p>

<p>Defined the computed value of 'display' as the specified value
except for positioned and floating elements and for the root element.
The computed value of 'display' for these elements is defined in
<a href="visuren.html#dis-pos-flo">section 9.7</a> and is slightly
different from the definition in CSS2.</p>

<p>Conforming HTML UAs are no longer allowed to ignore the 'display'
property.</p>

<h3 id="c9.3.1"><a href="visuren.html#choose-position">Section 9.3.1
Choosing a positioning scheme</a></h3>

<p>The 'position' property now applies to all elements, including
generated content.</p>

<p>The effect of relative positioning on table captions and internal
table elements is undefined in CSS&nbsp;2.1.</p>

<p>For fixed positioning, introduced a conflict between this section
and section 10.1 rule 3.
See <a href="http://lists.w3.org/Archives/Member/w3c-css-wg/2003AprJun/0172.html">howcome</a>
for rationale.</p>

<p>Forbid UAs from paginating the content of fixed boxes.</p>

<p>UAs are allowed to treat all values of 'position' as 'static' on
the root element.</p>

<h3 id="c9.3.2"><a href="visuren.html#position-props">Section 9.3.2
Box offsets</a></h3>

<p>Defined computed values of 'top', 'right', 'bottom', 'left' based
on the value of 'position'.</p>

<p>Percentage offsets are no longer undefined for containing blocks
without an explicit height.</p>

<h3 id="c9.4.1"><a href="visuren.html#block-formatting">Section 9.4.1
Block formatting contexts</a></h3>

<p>Specified that floats, absolutely positioned elements, inline-blocks,
table-cells, table-captions, and elements with 'overflow' other than
'visible' establish new block formatting contexts.</p>

<p>In the paragraph about the position of a box's outer edge with respect
to its containing block, except boxes that establish a new block formatting
context, as they may become narrower due to floats.</p>

<h3 id="c9.4.2"><a href="visuren.html#inline-formatting">Section 9.4.2
Inline formatting context</a></h3>

<p>Specified that the effect of 'justify' on the content of a line box
does not affect the contents of inline-table and inline-block boxes.</p>

<p>Empty line boxes are now required to be treated as zero-height and
ignored in margin collapsing.</p>

<h3 id="c9.4.3"><a href="visuren.html#relative-positioning">Section 9.4.3
Relative positioning</a></h3>

<p>Added several paragraphs and an example to explain exactly what the
computed values of relatively-positioned offsets are, how they affect
each other, and what happens when the positioning is overconstrained.
(These were not previously defined.)</p>

<h3 id="c9.5"><a href="visuren.html#floats">Section 9.5
Floats</a></h3>

<p>Floats are no longer required to have an explicit width.</p>

<p>Floats outside of line boxes no longer align to the bottom of
the preceding block box; it is implied that they are initially
aligned with their non-floated position.</p>

<p>Specified that "If a shortened line box is too small to contain any
further content, then it is shifted downward until either it fits or
there are no more floats present."</p>

<p>Specified that the border box of a table, block-level replaced element,
or element in the normal flow that establishes a new block formatting
context must not overlap any floats in the same block formatting context.</p>

<h3 id="c9.5.1"><a href="visuren.html#float-position">Section 9.5.1
Positioning the float</a></h3>

<p>The 'float' property now also applies to :before/:after and generated
content.</p>

<p>UAs are now allowed to treat all values of float as 'none' on the
root element.</p>

<p>Added to rule 4 prose to define the position of a float when it
occurs between two collapsing margins.</p>

<h3 id="c9.5.2"><a href="visuren.html#flow-control">Section 9.5.2
Controlling flow next to floats</a></h3>

<p>Defined <em>clearance</em> to precisely detail the 'clear' property's
effect on margin collapsing and the block's cleared position.</p>

<p>Added note to explain effect of 'clear' on inline elements since
CSS1 (but not CSS2 or CSS&nbsp;2.1) allows 'clear' on inline elements.</p>

<h3 id="c9.7"><a href="visuren.html#dis-pos-flo">Section 9.7
Relationships between 'display', 'position', and 'float'</a></h3>

<p>Changed rules to convert 'display' not always to 'block', but
to an appropriate block-level display value as given by a mapping
table.</p>

<p>Added rule 4 to convert root element's 'display' value according
to the mapping.</p>

<h3 id="c9.9"><a href="visuren.html#layers">Section 9.9
Layered presentation</a></h3>

<p>Specified that the background and borders of an element that forms
a stacking context are behind all of its descendants, altered stacking
context prose to be more precise, and added a normative
<a href="zindex.html">Appendix E: Elaborate description of Stacking
Contexts</a> to be even more precise about the position of borders,
backgrounds, and content on the z-axis.</p>

<h3 id="c9.10"><a href="visuren.html#direction">Section 9.10
Text direction</a></h3>

<p>Conforming UAs are now allowed to not support bidirectional text; in
this case they must ignore the 'direction' and 'unicode-bidi' properties.
However since applying bidi can have an effect even when a document
does not contain right-to-left characters, UAs that do support bidi are
no longer permitted to not apply the algorithm just because the document
lacks right-to-left characters.</p>

<p>Added a paragraph to define precisely how the Unicode bidirectional
algorithm applies to text in the CSS formatting model and how the CSS
'direction' property on blocks maps into the algorithm.</p>

<p>Conforming HTML UAs are no longer exempt from supporting 'direction'
and 'unicode-bidi'.</p>

<h3 id="c10"><a href="visudet.html">Chapter 10
Visual formatting model details</a></h3>

<p>Updated prose to use the terms "specified", "computed" and "used"
as appropriate when referencing values. This affects many calculations
in this section. (See <a href="#c6.1">changes to section 6.1</a>.)</p>

<h3 id="c10.1"><a href="visudet.html#containing-block-details">Section 10.1
Definition of "containing block"</a></h3>

<p id="initial-containing-block">In rule 1, defined the initial
containing block as the viewport for continuous media and the page
area for paged media. (It was previously undefined.)</p>

<p>In rule 2, defined the page area as the containing block for fixed
positioned elements in paged media.</p>

<p>In rule 4.1, when the containing block of an absolutely-positioned
element is formed by an inline-level element, it is now formed by that
element's padding edges, not its content edges.</p>

<p>In rule 4, changed the containing block for absolutely positioned
elements with only statically positioned elements from the root's
content box to the initial containing block.</p>

<p>Specified the positioning and breaking behavior of absolutely-positioned
elements in paged media.</p>

<h3 id="c10.2"><a href="visudet.html#the-width-property">Section 10.2
Content width</a></h3>

<p>Declared that if the containing block's width depends on an element's
percentage width, then the resulting layout is undefined in CSS&nbsp;2.1.</p>

<h3 id="c10.3"><a href="visudet.html#Computing_widths_and_margins">Section 10.3
Calculating widths and margins</a></h3>

<p>The computed values of 'left' and 'right' for are now defined in
<a href="visuren.html#position-props">section 9.3.2</a>. The value
'auto' does not always compute to zero.</p>

<p>Added sections 10.3.9 and 10.3.10 to define calculations for inline blocks.</p>

<h3 id="c10.3.2"><a href="visudet.html#inline-replaced-width">Section 10.3.2
Inline, replaced elements</a></h3>

<p>The sizing algorithm for replaced elements now takes into account and
attempts to preserve the replaced content's intrinsic ratio. Sizing of
replaced elements with percentage intrinsic sizes and without intrinsic
sizes is now also defined.</p>

<p>The effect of percentage intrinsic widths is now undefined for CSS
level 2, rather than ignored.

<h3 id="c10.3.3"><a href="visudet.html#blockwidth">Section 10.3.3
Block-level, non-replaced elements in normal flow</a></h3>

<p>Specified that a computed total of the width, padding, and borders
that is greater than the containing block width causes auto margins to
be treated as zero in the rest of the rules. This avoids 'auto' margins
being negative on the start edge.</p>

<h3 id="c10.3.4"><a href="visudet.html#block-replaced-width">Section 10.3.4
Block-level, replaced elements in normal flow</a></h3>

<p>Applied changes to section 10.3.2 and section 10.3.3 to block-level
replaced elements in normal flow by referring to the calculations in
those sections.</p>

<h3 id="c10.3.5"><a href="visudet.html#float-width">Section 10.3.5
Floating, non-replaced elements</a></h3>

<p>Defined computations for 'auto' width floats as shrink-to-fit.
(Floats were previously required to have fixed widths.)</p>

<h3 id="c10.3.6"><a href="visudet.html#float-replaced-width">Section 10.3.6
Floating, replaced elements</a></h3>

<p>Applied changes to section 10.3.2 to this section by referencing
it for 'auto' width calculations.</p>

<h3 id="c10.3.7"><a href="visudet.html#abs-non-replaced-width">Section 10.3.7
Absolutely positioned, non-replaced elements</a></h3>

<p>Defined the static position of an element more precisely.</p>

<p>Rewrote constraint rules.</p>

<p>The 'direction' property of the containing block of the static
position determines which side is clamped to the static position, not
the 'direction' property of the containing block of the absolutely
positioned element.

<h3 id="c10.3.8"><a href="visudet.html#abs-replaced-width">Section 10.3.8
Absolutely positioned, replaced elements</a></h3>

<p>In rule 1, applied sizing rules from section 10.3.2.</p>

<p>In rule 2 (formerly rules 2 and 3), referred to new definition of
'static position' in section 10.3.7.</p>

<p>Also in rule 2, the 'direction' property of the containing block of
the static position determines which side is clamped to the static
position, not the 'direction' property of the containing block of the
absolutely positioned element.

<p>In rule 4 (formerly rule 5), prevented 'auto' left and right margins
in resulting in a negative margin on the start edge.</p>

<h3 id="c10.4"><a href="visudet.html#min-max-widths">Section 10.4
Minimum and maximum widths</a></h3>

<p>Specified that if the containing block's width is negative, the
used value of a percentage min/max width is zero.</p>

<p>Specified that if the min/max width is specified in percentages and
the containing block's width depends on this element's width, then the
resulting layout is undefined in CSS 2.1.</p>

<p>The UA is no longer allowed to select an aribtrary minimum width.</p>

<p>The used width of replaced elements with an intrinsic ratio and both
'width' and 'height' specified as 'auto' is now calculated according to
a table designed to preserve the intrinsic ratio as much as possible
within the given constraints.</p>

<h3 id="c10.5"><a href="visudet.html#the-height-property">Section 10.5
Content height</a></h3>

<p>Removed mention of 'line-height' for inline elements since their
content box height no longer depends on 'line-height'.</p>

<p>Percentage heights on absolutely-positioned elements are no longer
treated as 'auto' when the containing block's height is not explicitly
specified. Added a note to explain why this is possible.</p>

<p>Specified that a percentage height on the root element is relative
to the initial containing block.</p>

<h3 id="c10.6"><a href="visudet.html#Computing_heights_and_margins">Section 10.6
Calculating heights and margins</a></h3>

<p>The computed values of 'top' and 'bottom' for are now defined in
<a href="visuren.html#position-props">section 9.3.2</a>. The value
'auto' does not always compute to zero.</p>

<p>Added section 10.6.6 to cover cases that are no longer covered under
the previous sections.</p>

<p>Added section 10.6.7 to define 'auto' heights for block formatting
context roots. (Unlike other block boxes, the height of these boxes
increases to accomodate any normal-flow descendant floats.)</p>

<h3 id="c10.6.1"><a href="visudet.html#inline-non-replaced">Section 10.6.1
Inline, non-replaced elements</a></h3>

<p>The height of an inline box is no longer given by the 'line-height'
property and is now undefined. This section now suggests that the
height of the box can be based on the font.</p>

<h3 id="c10.6.2"><a href="visudet.html#inline-replaced-height">Section 10.6.2
Inline replaced elements, block-level replaced elements in normal flow,
'inline-block' replaced elements in normal flow and floating replaced elements</a></h3>

<p>The sizing algorithm for replaced elements now takes into account and
attempts to preserve the replaced content's intrinsic ratio. Sizing of
replaced elements with percentage intrinsic sizes and without intrinsic
sizes is now also defined.</p>

<p>Specified that for inline elements, the margin box is used when calculating
the height of the line box.</p>

<h3 id="c10.6.3"><a href="visudet.html#normal-block">Section 10.6.3
Block-level non-replaced elements in normal flow when 'overflow' computes
to 'visible'</a></h3>

<p>This section now only applies to elements whose 'overflow' value computes
to 'visible'; elements with other values of 'overflow' are discussed in the
new section 10.6.7 ('Auto' heights for block formatting context roots).</p>

<h3 id="c10.6.4"><a href="visudet.html#abs-non-replaced-height">Section 10.6.4
Absolutely positioned, non-replaced elements</a></h3>

<p>Defined the static position of an element more precisely.</p>

<p>Rewrote constraint rules.</p>

<h3 id="c10.6.5"><a href="visudet.html#abs-replaced-height">Section 10.6.5
Absolutely positioned, replaced elements</a></h3>

<p>In rule 1, applied sizing rules from section 10.6.2.</p>

<h3 id="c10.7"><a href="visudet.html#min-max-heights">Section 10.7
Minimum and maximum heights</a></h3>

<p>Percentage min/max heights on absolutely-positioned elements are no
longer treated as '0'/'none' when the containing block's height is not
explicitly specified. However if the containing block's width depends
on an element's percentage width, then the resulting layout is undefined
in CSS&nbsp;2.1.</p>

<p>The used width of replaced elements with an intrinsic ratio and both
'width' and 'height' specified as 'auto' is now calculated according to
a table designed to preserve the intrinsic ratio as much as possible
within the given constraints.</p>

<h3 id="c10.8"><a href="visudet.html#line-height">Section 10.8
Line height calculations</a></h3>

<p>Added rule 4 to specify that the height of the line box must be at
least as much as that specified by the 'line-height' property on the
this block.</p>

<h3 id="c10.8.1"><a href="visudet.html#leading">Section 10.8.1
Leading and half-leading</a></h3>

<p>UAs are no longer permitted to clip content to the line box, and
are instead asked to render overlapping boxes in document order.</p>

<p>'line-height' set on a block no longer specifies the minimal height
of each inline box; instead it specifies the minimal height of each
line box. The exact effect of this requirement is expressed in terms
of struts; it is affected by vertical-alignment.</p>

<p>Adjusted text to reflect that the content box height of an inline
is no longer dictated by the 'line-height' property.</p>

<p>Since the content box is now defined by the font and not by the
line-height, 'text-top' and 'text-bottom' refer to the content area
instead of the font.</p>

<p>Defined 'top' and 'bottom' alignment in terms of aligned subtrees
to take into account any protruding descendants.</p>

<p>Defined the baseline of inline tables and inline blocks.</p>

<h3 id="c11.1"><a href="visufx.html#overflow-clipping">Section 11.1
Overflow and clipping</a></h3>

<p>Specified that 'overflow' clips to the padding edge.</p>

<h3 id="c11.1.1"><a href="visufx.html#overflow">Section 11.1.1
Overflow</a></h3>

<p>'projection' media are no longer permitted to print overflowing
content for 'overflow: scroll'. 'print' media now <em>may</em>, as
opposed to <em>should</em>.</p>

<p>UAs are now required to apply the 'overflow' property set on the root
element to the viewport. Additionally, HTML UAs must use the 'overflow'
property on the HTML BODY element instead if the root element's
'overflow' value is 'visible'.</p>

<p>Specified placement of scrollbar in the box model.</p>

<p>The width of any scrollbars is no longer included in the width of
the containing block. (And consequently, all text in section 10.3 that
subtracts the scrollbar width from the containing block width has been
removed.)

<h3 id="c11.1.2"><a href="visufx.html#clipping">Section 11.1.2 Clipping:
the 'clip' property</a></h3>

<p>The 'clip' property now applies only to absolutely positioned elements.
Furthermore, it applies to those elements even when their 'overflow' is
'visible'.</p>

<p>The default value of 'clip', 'auto', now indiciates no clipping
rather than clipping to the element's border box.</p>

<p>Values of "rect()" should be separated by commas. UAs are
required to support this syntax, but may also support a space-separated
syntax since CSS2 was not clear about this.</p>

<p>While CSS2 specified that values of "rect()" give offsets from the
respective sides of the box, current implementations interpret values
with respect to the top and left edges for <em>all</em> four values
(top, right, bottom, and left). This is now the specified
interpretation.

<h3 id="c11.2"><a href="visufx.html#visibility">Section 11.2
Visibility</a></h3>

<p>The 'visibility' property is now defined to inherit, and descendant
elements can override an ancestor's hidden visibility.</p>

<h3 id="c12"><a href="generate.html">Chapter 12
Generated content, automatic numbering, and lists</a></h3>

<p>Moved all discussion of aural rendering to Appendix A.</p>

<h3 id="c12.1"><a href="generate.html#before-after-content">Section 12.1
The :before and :after pseudo-elements</a></h3>

<p>Removed restrictions on which properties and property values
are allowed on ':before' and ':after' pseudo-elements.</p>

<h3 id="c12.2"><a href="generate.html#content">Section 12.2 The
'content' property</a></h3>

<p>The initial value of 'content' is now 'normal', not the empty
string.</p>

<p>The 'content' property now distinguishes between the empty string,
which creates an empty box; and 'normal'/'none', which create no box
at all. (There is no distinction between 'normal' and 'none' in
level&nbsp;2.)</p>

<p>A UA is now allowed to report a URI that fails to download.</p>

<p>Removed recommendation to authors to put rules with media-sensitive
'content' properties inside '@media'.</p>

<p>Whether '\A' escapes in generated content create line breaks is now
subject to the 'white-space' property.</p>

<p>The former section 12.3 on interaction between ':before', ':after'
and elements with 'display: compact' or 'display: run-in' has been
removed. (The interaction is already fully defined, because generated
content consists of boxes in the tree, no different from other boxes.)

<h3 id="c12.3.2"><a href="generate.html#quotes-insert">Section 12.3.2
Inserting quotes with the 'content' property</a></h3>

<p>Specified that extra 'close-quote's and 'no-close-quote's (those
without a matching 'open-quote' or 'no-open-quote') are not rendered,
and that neither 'close-quote' nor 'no-close-quote' cause the quoting
depth to be negative.</p>

<h3 id="c12.4"><a href="generate.html#counters">Section 12.4 Automatic
counters and numbering</a></h3>

<p>Defined what a rule with duplicate counters, such as
'counter-reset: section 2 section', means.</p>

<h3 id="c12.4.1"><a href="generate.html#scope">Section 12.4.1 Nested
counters and scope</a></h3>

<p>The scope of a counter no longer defaults to the whole document,
but starts at the first element that uses the counter. (This affects
counters that are used without a prior 'counter-reset' to set the
scope explicitly.)</p>

<h3 id="c12.5"><a href="generate.html#lists">Section 12.5
Lists</a></h3>

<p>Removed text in section 12.5 (formerly 12.6) relating to the
'marker' display value.</p>

<p>Removed the 'marker-offset' property (and thus former section 12.6.1).</p>

<h3 id="c12.5.1"><a href="generate.html#list-style">Section 12.5.1
Lists</a></h3>

<p>The list styles 'hebrew', 'armenian', 'georgian', 'cjk-ideographs',
'hiragana', 'katakana', 'hiragana-iroha' and 'katakana-iroha' have
been removed due to lack of implementation experience. (They are
expected to return in the CSS3 Lists module.)</p>

<p>Removed the sentence that said that an unknown value for
'list-style-type' should cause the value 'decimal' to be used instead. 
Instead, normal parsing rules apply and cause the rule to be
ignored.</p>

<p>The size of list style markers without an intrinsic size is now
defined.

<h3 id="c13.1"><a href="page.html">Chapter 13 Paged media</a></h3>

<p>The 'size', 'marks', and 'page' properties are not part of
CSS&nbsp;2.1.</p>

<h3 id="c13.2.2"><a href="page.html#page-selectors">Section 13.2.2
Page selectors</a></h3>

<p>The requirement for UA's to honor different declarations for
:left, :right, and :first pages has been softened to simplify
implementations: the page area of the :first page may be used
for :left and :right pages as well.</p>

<h3 id="c13.3.1"><a href="page.html#page-break-props">Section 13.3.1
Page break properties</a></h3>

<p>UAs are now only required to apply the page break properties
to block-level elements in the normal flow of the root element,
not to other blocks.However, UAs are now permitted to apply these
properties to elements other than block-level elements.</p>

<p>Defined treatment of margins, borders, and padding when a page
break splits a box.</p>

<p>The 'page-break-inside' property no longer inherits.</p>

<h3 id="c13.3.3"><a href="page.html#allowed-page-breaks">Section 13.3.3
Allowed page breaks</a></h3>

<p>The 'page-break-inside' property of all ancestors is checked
for page-breaking restrictions, not just that of the breakpoint's
parent.</p>

<p>When dropping restrictions to find a page breaking opportunity,
rule A is dropped together with B and D rather than together with C.</p>

<p>Removed restriction on breaking within absolutely positioned boxes.</p>

<h3 id="c14.2.1"><a href="colors.html#background-properties">Section
14.2.1 Background properties</a></h3>

<p>For 'background-position', the restriction that keywords cannot
be combined with percentage or length values is removed. I.e., a
value like: '25% top' is now allowed. Also, 'background-position'
now applies to all elements, not just to block-level and replaced
elements.</p>

<p>User agents are no longer allowed to treat a value of 'fixed'
for 'background-attachment' as 'scroll'. Instead they must ignore
all such declarations as if 'fixed' were an invalid value.</p>

<p>The size of background images without an intrinsic size is now
defined.

<h3 id="c14.3"><a href="colors.html#gamma-correction">Section
14.3 Gamma correction</a></h3>

<p>The contents of this section is now a non-normative note.</p>

<h3 id="c15"><a href="fonts.html">Chapter 15 Fonts</a></h3>

<p>The 'font-stretch' and 'font-size-adjust' properties have
been removed in CSS&nbsp;2.1.</p>

<p>Font descriptors, the '@font-face' declaration, and all
associated parts of the font matching algorithm have been
removed in CSS&nbsp;2.1.</p>

<h3 id="c15.2"><a href="fonts.html#algorithm">Section 15.2
Font matching algorithm</a></h3>

<p>In this section (previously 15.5), in step 5 (prevously 8)
of the font matching algorith, the UA is now allowed to use
multiple default fallback fonts to find a glyph for a given
character.</p>

<p>In the per-property rule 2, specified that if there is only
a small-caps font in a given family, then that font will be
selected by 'normal'.</p>

<h3 id="c15.3"><a href="fonts.html#font-family-prop">Section 15.2.2 Font family</a></h3>

<p>The "missing character" glyph is no longer considered a match
for the last font in a font set, but is now considered a match
for U+FFFD.</p>

<p>Certain punctuation characters when appearing in unquoted font
family names are now required to be escaped.</p>

<h3 id="c15.5"><a href="fonts.html#small-caps">Section 15.5
Small-caps</a></h3>

<p>The 'font-variant' property's effect is no longer restricted to
bicameral scripts.</p>

<h3 id="c15.6"><a href="fonts.html#font-boldness">Section 15.6
Font boldness</a></h3>

<p>The computed value of 'font-weight' has been defined more
precisely such that the 'bolder' and 'lighter' values have an
appropriate effect when inheriting through elements with
different font-families.</p>

<h3 id="c15.7"><a href="fonts.html#font-size-props">Section 15.7
Font size</a></h3>

<p>Removed suggestion of 1.2 fixed ratio between keyword font
sizes in favor of notes recommending a variable ratio and a
smallest font-size no less than 9 pixels per EM unit.</p>

<p>Added table mapping CSS font-size keywords to HTML font size numbers.</p>

<h3 id="c16"><a href="text.html">Chapter 16 Text</a></h3>

<p>The 'text-shadow' property is not in CSS&nbsp;2.1.

<h3 id="c16.2"><a href="text.html#alignment-prop">Section 16.2
Alignment</a></h3>

<p>The initial value of 'text-align' is no longer UA-defined but
a nameless value that acts as 'left' if 'direction' is 'ltr',
'right' if 'direction' is 'rtl'.</p>

<p>The &lt;string&gt; value for 'text-align' is not part of
CSS&nbsp;2.1.</p>

<p>For 'text-align', specified that 'justify' is treated as the initial
value when computed value of 'white-space' is 'pre' or 'pre-line'.</p>

<h3 id="c16.3.1"><a href="text.html#lining-striking-props">Section 16.3.1
Underlining, over lining, striking, and blinking</a></h3>

<p>More precisely defined what boxes are affected by text decorations
specified on a given element.</p>

<p>Specified that underlines, overlines, and line-throughs apply only to
text.</p>

<p>Specified that an underline, overline, or line-through applied across
a line must be at a constant vertical position and with a constant
thickness across the entire line.</p>

<p>Specified how text decorations are affected by relative positioning
on descendants.</p>

<p>User agents are now allowed to recognize the 'blink' value but not
blink, whereas before they were required to ignore the 'blink' value
if they chose not to support blinking text.</p>

<p>Added text to allow older UAs to conform to this section if they
follow CSS2's 'text-decoration' requirements but not the additional
requirements in CSS2.1.</p>

<h3 id="c16.4"><a href="text.html#spacing-props">Section 16.4
Letter and word spacing</a></h3>

<p>Support for the various values of 'letter-spacing' and 'word-spacing'
is no longer optional.</p>

<p>Specified that word spacing affects each space, non-breaking space,
and ideographic space left in the text after white space processing
rules have been applied.</p>

<h3 id="c16.5"><a href="text.html#caps-prop">Section 16.5
Capitalization</a></h3>

<p>UAs are no longer allowed to not transform characters for which there
is an appropriate transformation but which are outside of Latin-1.</p>

<h3 id="c16.6"><a href="text.html#white-space-prop">Section 16.6
White space</a></h3>

<p>The 'white-space' property now applies to all elements, not just
to block-level elements.</p>

<p>"\A" in generated content no longer forces a break for 'normal'
and 'nowrap' values of 'white-space'.</p>

<p>Specified that the CSS white space processing model assumes all
newlines have been normalized to line feeds.</p>

<p>Added <a href="text.html#white-space-model">section 16.6.1</a> to precisely define
white space handling.</p>

<p>Added <a href="text.html#ctrlchars">section 16.6.3</a> to specify handling
of control and combining characters.</p>

<h3 id="c17"><a href="tables.html">Chapter 17
Tables</a></h3>

<p>Moved all discussion of aural rendering and related properties
to Appendix A.</p>

<p>Updated prose to use the terms "specified", "computed" and "used"
as appropriate when referencing values. (See <a href="#c6.1">changes
to section 6.1</a>.)</p>

<h3 id="c17.2"><a href="tables.html#table-display">Section 17.2 The CSS table model</a></h3>

<p>Defined handling of multiple 'table-header-group' and 'table-footer-group'
elements.</p>

<p>UAs are no longer allowed to ignore the table display values
on arbitrary HTML elements, only on HTML table elements.</p>

<h3 id="c17.2.1"><a href="tables.html#anonymous-boxes">Section 17.2.1
Anonymous table objects</a></h3>

<p>Changed rules so that internal table elements without an enclosing
'table' or 'inline-table' box generate an anonymous 'inline-table'
rather than an anonymous 'table' when inside a "display: inline"
parent element.</p>

<p>The anonymous table object rules now treat anonymous boxes as equal
to elements' boxes. Replaced several instances of the term "element" with
"box", removed several instances of "(in the document tree)" and clarified
that anonymous boxes generated in earlier rules are part of the input to
later rules. Also replaced the term "object" with "box", as is used
throughout the rest of the specification.</p>

<p>HTML UAs are no longer exempt from the anonymous box generation rules.</p>

<h3 id="c17.4"><a href="tables.html#model">Section 17.4
Tables in the visual formatting model</a></h3>

<p>The relationship of the caption box, table box, and outer anonymous
table box has been changed as follows:</p>
<ul>
  <li>The margins of the table box now apply to the outer (anonymous)
    table box that encloses both the table box and the caption(s),
    not to the inner table box.</li>
  <li>The width of the anonymous box is now equal to the border-box
    width of the table box inside it instead of adapting to the widths
    and positions of both the table box and its captions.</li>
</ul>

<h3 id="c17.4.1"><a href="tables.html#caption-position">Section 17.4.1
Caption position and alignment</a></h3>

<p>The 'left' and 'right' values on 'caption-side' have been removed.</p>

<h3 id="c17.5"><a href="tables.html#table-layout">Section 17.5
Visual layout of table contents</a></h3>

<p>Changed rule 5 in grid layout rules to allow overlapping of
table cells instead of leaving skipping a gap in the grid to
avoid overlap.</p>

<h3 id="c17.5.1"><a href="tables.html#table-layers">Section 17.5.1
Table layers and transparency</a></h3>

<p>In point 6, changed 'These "empty" cells are transparent' to:

<blockquote>
<p>If the value of their 'empty-cells' property is 'hide'
these "empty" cells are transparent through the cell, row, row group,
column, and column group backgrounds, letting the table background
show through.</blockquote>

<h3 id="c17.5.2.1"><a href="tables.html#fixed-table-layout">Section 17.5.2.1
Fixed table layout</a></h3>

<p>Specified that in fixed table layout, extra columns in rows
after the first must not be rendered.</p>

<h3 id="c17.5.2.2"><a href="tables.html#auto-table-layout">Section 17.5.2.2
Automatic table layout</a></h3>

<p>Restricted inputs to the table layout algorithm for 'table-layout: auto',
whether or not the algorithm described in this section is used, to the
width of the containing block and the content of, and any CSS properties
set on, the table and any of its descendants.</p>

<p>Added rule 4 to include the column group's width in the algorithm
for determining column widths.</p>

<h3 id="c17.5.3"><a href="tables.html#height-layout">Section 17.5.3
Table height algorithms</a></h3>

<p>The 'height' property on tables is now treated as a mininimum
height; the UA no longer has the option of using 'height' to
constrain the size of the table to be smaller than its contents.</p>

<p>Percentage heights on table cells, rows, and row groups now
compute to 'auto'.</p>

<p>The baseline of a cell is now defined much more precisely.</p>

<p>Defined the baseline of a row with no baseline-aligned cells.</p>

<h3 id="c17.5.4"><a href="tables.html#column-alignment">Section 17.5.4
Horizontal alignment in a column</a></h3>

<p>The &lt;string&gt; value for 'text-align' is not part of
CSS&nbsp;2.1.</p>

<h3 id="c17.6"><a href="tables.html#borders">Section 17.6
Borders</a></h3>

<p>Several popular browsers assume an initial value for
'border-collapse' of 'separate' rather than 'collapse' or exhibit
behavior that is close to that value, even if they do not actually
implement the CSS table model. 'Separate' is now the initial value.</p>

<h3 id="c17.6.1"><a href="tables.html#separated-borders">Section 17.6.1
The separated borders model</a></h3>

<p>Specified the effect of padding on the table element.</p>

<p>Specified which parts of the table are included in the width
measurement.</p>

<h3 id="c17.6.1.1"><a href="tables.html#empty-cells">Section 17.6.1.1
Borders and Backgrounds around empty cells</a></h3>

<p>Refined definition of "empty" when used as a condition for the
'empty-cells' property so that it is not triggered when the cell
includes any child elements, even if they are empty.</p>

<p>The 'empty-cells' property now hides both borders and backgrounds,
not just borders.</p>

<p>Changed behavior of a row when it collapses due to 'empty-cells':
it is no longer treated as "display: none". Instead it is given zero
height and its associated border-spacing is eliminated.</p>

<h3 id="c17.6.2"><a href="tables.html#collapsing-borders">Section 17.6.2
The collapsing border model</a></h3>

<p>The outer half of the table borders no longer lie in the margin area.
Specified which part of the table is considered the border are
in the collapsed borders model and how its width is calculated.
The edges of the box in which the table background is painted
is, however left explicitly undefined.</p>

<h3 id="c17.6.2.1"><a href="tables.html#border-conflict-resolution">Section 17.6.2.1
Border conflict resolution</a></h3>

<p>Defined in rule 4 what happens when two elements of the same
type conflict and their borders have the same width and style.</p>

<h3 id="c18.1"><a href="ui.html#cursor-props">Section 18.1 Cursors:
the 'cursor' property</a></h3>

<p>The size of cursors without an intrinsic size is now defined.

<h3 id="c18.4"><a href="ui.html#dynamic-outlines">Section 18.4
Dynamic outlines</a></h3>

<p>Position of outline with respect to the border edge is now
only suggested, not required.</p>

<p>Conformant UAs are now allowed to ignore the 'invert' value.
In such UAs the initial value of 'outline-color' is the value of
the 'color' property.</p>

<h3 id="s-12"><a href="generate.html">Chapter 12 Generated content,
automatic numbering, and lists</a></h3>

<p>The 'marker' value for 'display' does not exist in CSS&nbsp;2.1



<h3 id="cA"><a href="aural.html">Appendix A. Aural style
sheets</a></h3>

<p>Chapter 19 on aural style sheets has become appendix A and is not
normative in CSS&nbsp;2.1. Related units (deg, grad, rad, ms, s, Hz,
kHz) are also moved to this appendix, as is the 'speak-header'
property from the "tables" chapter and other notes on aural table
rendering. The 'aural' media type is deprecated in favor of the new
'speech' media type.</p>

<h3 id="cA.5"><a href="aural.html#pause-props">Appendix A Section 5 Pause properties</a></h3>

<p>Changed the initial value of 'pause-before' and 'pause-after' to
be 0 instead of UA-defined.</p>

<p>A note has been added to this section (formerly 19.4) about the change
in position and behavior of pauses in CSS3 Speech compared to this appendix.</p>

<h3 id="cA.6"><a href="aural.html#cue-props">Appendix A Section 6 Cue properties</a></h3>

<p>This section (formerly Section 19.5) now specifies the placement
of cues and pauses with respect to the :before and :after pseudo-elements.</p>

<h3 id="cA.7"><a href="aural.html#mixing-props">Appendix A Section 7
Mixing properties</a></h3>

<p>The keywords 'mix' and 'repeat' may now appear in either order.</p>

<h3 id="cB"><a href="refs.html">Appendix B
Bibliography</a></h3>

<p>Various references in Appendix B (formerly Appendix E) have been
updated as appropriate.</p>

<p>Switched [CSS1] from Normative to Informative.</p>

<p>Updated URI reference from [RFC1808] and the draft-fielding-uri-syntax-01.txt
to [RFC3986].</p>

<p>Updated HTTP reference from [RFC2068] to [RFC2616].</p>

<p>Removed normative references to [IANA] and [ICC32].<p>

<p>Added normative references to [ICC42], [RFC3986], [RFC2070], [UAAG10].</p>

<p>Added informative references to CSS2, CSS3 Color, CSS3 Lists,
Selectors, CSS3 Speech, DOM 3 Core, MathML 2, P3P, RFC1630, SVG 1.1,
XHTML 1, XML ID, and XML Namespaces.</p>

<p>Removed informative references to [ISO10179] (DSSSL), [INFINIFONT],
[ISO9899] (C), [MONOTYPE], [NEGOT], [OPENTYPE], [PANOSE], [PANOSE2],
[POSTSCRIPT], [RFC1866] (HTML 2), [RFC1942] (HTML Tables), [TRUETYPEGX],
[W3CStyle].</p>

<p>Updated language tags references from [RFC1766] to [3066].</p>

<h3 id="other">Other</h3>

<p>The former informative appendix C, "Implementation and
performance notes for fonts," is left out of CSS&nbsp;2.1.




<h2><a name="known-errors">Errors</a></h2>

<h3 id="x-shorthand-inherit">Shorthand properties</h3>

<p>Shorthand properties take a list of subproperty values <em>or</em>
the value 'inherit'. One cannot mix 'inherit' with other subproperty
values as it would not be possible to specify the subproperty to which
'inherit' applied. The definitions of a number of shorthand properties
did not enforce this rule: 'border-top', 'border-right',
'border-bottom', 'border-left', 'border', 'background', 'font',
'list-style', 'cue', and 'outline'.

<h3 id="x-applies-table">Applies to</h3>

<p>The "applies to" line of many property definitions has been made more
accurate by excluding or including table display types where appropriate.</p>

<h3 id="x4.1.1"><a href="syndata.html#tokenization">Section 4.1.1</a> (and
<a href="grammar.html#grammar">G2</a>)</h3>

<p>DELIM should not have included single or double quote. Refer also
to section 4.1.6 on strings, which must have matching single or
double quotes around them.

<p>Removed "A-Z" from the "nmchar" token: as CSS is case insensitive
anyway, it was redundant.</p>

<p>Corrected "unicode" macro to treat CRLF as a single character.</p>

<p>Corrected "block" production to allow white space between declarations.</p>

<p>In the rule for "any" (in the core syntax), corrected "FUNCTION"
to "FUNCTION any* ')'".</p>

<h3 id="x4.1.3"><a href="syndata.html#characters">Section 4.1.3
Characters and case</a></h3>

<p>Corrected third paragraph to say that an '@import' rule can only be
preceeded by an '@charset' rule or other '@import' rules.</p>

<h3 id="x4.3"><a href="syndata.html#values">Section 4.3 (Double sign problem)</a></h3>

<p>Several values described in subsections of this section
incorrectly allowed two "+" or "-" signs at their beginnings. 

<h3 id="x4.3.2"><a href="syndata.html#length-units">Section 4.3.2
Lengths</a></h3>

<p>Fixed double sign error in definition of &lt;length&gt;.
(&lt;number&gt; already has a sign.)</p>

<p>Corrected the suggested reference pixel to be based on a
<ins>96&nbsp;dpi</ins> device, not 90&nbsp;dpi. The visual angle is
thus about <ins>0.0213 degrees</ins> instead of 0.0227, and a pixel
at arm's length is about <ins>0.26&nbsp;mm</ins> instead of 0.28

<p>Corrected last sentence to refer to a unsupported <em>used</em>
length, not an unsupported specified length.</p>

<h3 id="x4.3.3"><a href="syndata.html#percentage-units">Section 4.3.3
Percentages</a></h3>

<p>Fixed double sign error in definition of &lt;percentage&gt;.
(&lt;number&gt; already has a sign.)</p>

<h3 id="x4.3.4"><a href="syndata.html#uri">Section 4.3.4
URLs and URIs</a></h3>

<p>Defined escaping requirements in terms of the URI token so that
no escaping requirements are missing from the prose.</p>

<p>Included invalid URIs in last paragraph about URI error handling.</p>

<h3 id="x4.3.5"><a href="syndata.html#counter">Section 4.3.5
Counters</a></h3>

<p>Corrected syntax of counter() and counters() notation to allow white space
between tokens.</p>

<h3 id="x4.3.6"><a href="syndata.html#color-units">Section 4.3.6
Colors</a></h3>

<p>Deleted the comments about range
restriction after the following examples:

<pre>
em { color: rgb(255,0,0) }
em { color: rgb(100%, 0%, 0%) }
</pre>

<h3 id="x4.3.7"><a href="syndata.html#strings">Section 4.3.7
Strings</a></h3>

<p>(Formerly section 4.3.10) Corrected text to allow all forms of Unicode
escapes for U+000A, not just the "\A" form, for including newlines in
strings.</p>

<h3 id="x5.10"><a href="selector.html#pseudo-elements">Section 5.10
Pseudo-elements and pseudo-classes</a></h3>

<p>In the second bullet, added that the ':lang()' pseudo-class can also
be deduced from the document in some cases.</p>

<h3 id="x6.4"><a href="cascade.html#cascade">Section 6.4 The cascade</a></h3>

<p>Removed paragraph about imported style sheets being overridden by
rules in the importing style sheet: imported style rules follow the
cascade as specified in <a href="cascade.html#cascading-order">6.4.1
Cascading order</a>, exactly as if they were inserted in place of the
@import rule.</p>

<h3 id="x8.1"><a href="box.html#box-dimensions">Section 8.1 Box Dimensions</a></h3>

<p>The definition of "content edge" has been changed to depend on 'width'
and 'height' rather than directly on 'rendered content'.</p>

<p>From the definition of "padding edge", deleted the sentence "The
padding edge of a box defines the edges of the containing block
established by the box." For information about containing
blocks, consult <a href="visudet.html#containing-block-details">
Section 10.1</a>.</p>

<h3 id="x8.2"><a href="box.html#mpb-examples">Section 8.2 Example of margins, padding, and borders</a></h3>

<p>The colors in the example HTML did not match the colors in the
image.

<h3 id="x8.5.4"><a
href="box.html#border-shorthand-properties">Section 8.5.4
Border shorthand properties</a></h3>

<p>Changedvarious border shorthands' syntax definitions to use the
&lt;border-width&gt;, &lt;border-style&gt; and &lt;'border-top-color'&gt;
value types as appropriate.</p>

<h3 id="x9.2.1"><a href="visuren.html#containing-block">Section 9.2.1
Block-level elements and block boxes</a></h3>

<p>Excepted table elements from second paragraph about principal block
boxes and their contents.</p>

<p>Corrected sentence to say "either only block boxes or only inline
boxes" instead of "only block boxes".</p>

<h3 id="x9.3.1"><a href="visuren.html#choose-position">Section 9.3.1
Choosing a positioning scheme</a></h3>

<p>In the definition of "position: static", added 'right' and 'bottom'
to the sentence saying that 'top' and 'left' do not apply.</p>

<h3 id="x9.3.2"><a href="visuren.html#position-props">Section 9.3.2
Box offsets</a></h3>

<p>The properties 'top', 'right', 'bottom', and 'left', incorrectly
referred to offsets with respect to a box's content edge. The proper edge
is the margin edge. Thus, for 'top', the description now reads:
"This property specifies how far a box's top margin edge is offset
below the top edge of the box's containing block."

<p>Corrected text under property definitions to say that for
relatively-positioned elements, 'top', 'right', 'bottom', and 'left'
define the offset from the box's position in the normal flow, not
from the edges of the containing block. (The previous definition
conflicted with that was further down; since that text is now
redundant, it has been removed.)</p>

<h3 id="x9.4.1"><a href="visuren.html#block-formatting">Section 9.4.1
Block formatting contexts</a></h3>

<p>In paragraph about relationship of a box's outer edges to its
containing block's edges, corrected parenthetical to say that
<em>line boxes</em>, not the <em>content area</em>, may shrink due
to floats.</p>

<h3 id="x9.4.2"><a href="visuren.html#inline-formatting">Section 9.4.2
Inline formatting context</a></h3>

<p>Added "and the presence of floats" to "The width of a line box is
determined by a containing block".</p>

<h3 id="x9.4.3"><a href="visuren.html#relative-positioning">Section 9.4.3
Relative positioning</a></h3>

<p>In the first paragraph, added "or floated" to the phrase "laid out
according to the normal flow" as floated elements can be relatively
positioned but are not part of the normal flow.</p>

<h3 id="x9.5"><a href="visuren.html#floats">Section 9.5
Floats</a></h3>

<p>Corrected sentence about not enough horizontal room for the float
to say that it is shifted downward until either it fits <em>or there
are no more floats present</em>.</p>

<h3 id="x9.5.1"><a href="visuren.html#float-position">Section 9.5.1
Positioning the float</a></h3>

<p>Correct "Applies to" line and prose to say that the 'float' property
can be set for any element but only applies to elements that are not
absolutely positioned.</p>

<h3 id="x9.5.2"><a href="visuren.html#flow-control">Section 9.5.2
Controlling flow next to floats</a></h3>

<p>Removed sentence saying that 'clear' may only be specified for
block-level elements: it can be specified for any element, it only
<em>applies to</em> block-level elements.</p>

<h3 id="x9.6"><a href="visuren.html#absolute-positioning">Section 9.6
Absolute positioning</a></h3>

<p>Corrected sentence that said absolutely positioned boxes establish
a new containing block for absolutely positioned descendants to
except fixed positioned descendants.</p>

<h3 id="x9.7"><a href="visuren.html#dis-pos-flo">Section 9.7
Relationships between 'display', 'position', and 'float'</a></h3>

<p>In rule 1, corrected "user agents must ignore 'position' and 'float"
to "'position' and 'float' do not apply".</p>

<h3 id="x9.10"><a href="visuren.html#direction">Section 9.10
Text direction</a></h3>

<p>Corrected note about 'direction' on table column elements to say
that "columns are not the ancestors of the cells in the document tree"
rather than saying "columns do not exist in the document tree".</p>

<p>Added table cells, table captions, and inline blocks alongside
block-level elements in description of 'bidi-override' value. Also
corrected the prose to handle anonymous child blocks.</p>

<p>Updated mention of Unicode's embedding limit from 15 to 61.</p>

<h3 id="x10.1"><a href="visudet.html#containing-block-details">Section 10.1
Definition of "containing block"</a></h3>

<p>Included table cells (and inline blocks) together with block-level elements
in rule 2 defining the containing block of non-absolutely-positioned elements.</p>


<h3 id="x10.3.3"><a href="visudet.html#blockwidth">Section 10.3.3
Block-level, non-replaced elements in normal flow</a></h3>

<p>In the last sentence of the paragraph following the equation
("If the value of 'direction' is 'ltr', this happens to 
'margin-left' instead") substituted 'rtl' for 'ltr'.</p>

<h3 id="x10.4"><a href="visudet.html#min-max-widths">Section 10.4
Minimum and maximum widths</a></h3>

<p>The initial value for 'min-width' is now '0' rather than UA-dependent.</p>

<p>Corrected "applies to" exception for both 'min-width' and 'max-width'
from "table elements" to "table rows and row groups".</p>

<p>Specified that negative values for 'min-width' and 'max-width' are
illegal.</p>

<h3 id="x10.6.3"><a href="visudet.html#normal-block">Section 10.6.3
Block-level non-replaced elements in normal flow when 'overflow'
computes to 'visible'</a></h3>

<p>Added that 'auto' height also depends on whether the element has
padding or borders, as these influence margin-collapsing behavior.</p>

<p>Added text to correctly account for margin collapsing behavior.</p>

<h3 id="x10.7"><a href="visudet.html#min-max-heights">Section 10.7
Minimum and maximum heights</a></h3>

<p>Corrected "applies to" exception for both 'min-width' and 'max-width'
from "table elements" to "table columns and column groups".</p>

<p>Specified that negative values for 'min-height' and 'max-height'
are illegal.</p>

<h3 id="x11.1.1"><a href="visufx.html#overflow">Section 11.1.1
Overflow</a></h3>

<p>Corrected "applies to" line for 'overflow' from "block-level and
replaced elements" to "non-replaced block-level elements, table cells,
and inline-block elements".</p>

<p>The example of a DIV element containing a BLOCKQUOTE containing
another DIV was not rendered correctly. The first style rule applied
to both DIVs, so the second DIV box should have been rendered with a
red border as well. The second DIV has now been changed to a CITE,
which does not have a red border.

<h3 id="x11.1.2"><a href="visufx.html#clipping">Section 11.1.2 Clipping:
the 'clip' property</a></h3>

<p>Corrected "rect (&lt;top&gt; &lt;right&gt; &lt;bottom&gt; &lt;left&gt;)" to
"rect(&lt;top&gt;, &lt;right&gt;, &lt;bottom&gt;, &lt;left&gt;)".</p>

<h3 id="x11.2"><a href="visufx.html#overflow-clipping ">Section 11.2
Visibility</a></h3>

<p>Corrected initial value of 'visibility' to 'visible'.</p>

<h3 id="x12.4.2"><a href="generate.html#counter-styles">Section 12.4.2 Counter
styles</a></h3>

<p>The example used the style 'hebrew', which does not exist in CSS
level 2. Changed to 'lower-greek'.

<h3 id="x12.6.2"><a href="generate.html#list-style">Section 12.6.2 Lists</a></h3>

<p>Under the 'list-style' property, the example:</p>

<pre>
ul > ul { list-style: circle outside } /* Any UL child of a UL */
</pre>

<p>could never match valid HTML markup (since a UL element
cannot be a child of another UL element). An LI has been inserted in
between.

<h3 id="x14.2"><a href="colors.html#background">Section 14.2 The background</a></h3>

<p>Second sentence: "In terms of the box model, 'background' refers to
the background of the content and the padding areas" now also
mentions the border area. (See also <a href="#x8.1">errata to section
8.1</a> above.) Thus:

<blockquote>
<p>In terms of the box model, "background" refers to the background of
the content, padding and border areas.
</blockquote>

<h3 id="x14.2.1"><a href="colors.html#background-properties">Section 14.2.1
Background properties</a></h3>

<p>Under 'background-image', defined the image tile size used when
the background image has intrinsic sizes specified in percentages
or no intrinsic size.</p>

<p>Under 'background-repeat',
the sentence "All tiling covers the content and padding areas [...]"
has been corrected to

<blockquote><p>"All tiling covers the content, padding <ins>and
border</ins> areas [...]".</blockquote>

<p>Under 'background-attachment', the value 'scroll' is defined to
scroll with the "containing block" rather than with the "document".
Also the sentence "Even if the image is fixed [...] background or padding
area of the element" has been corrected to

<blockquote><p>Even if the image is fixed, it is still only visible
when it is in the background, padding <ins>or border</ins> area of the
element.</blockquote>

<h3 id="x15.2"><a href="fonts.html#algorithm">Section 15.2 Font
matching algorithm</a></h3>

<p>In bullet 2, changed "the UA uses the 'font-family' descriptor"
to "the UA uses the 'font-family' property".

<h3 id="x15.7"><a href="fonts.html#font-size-props">Section 15.7
Font size</a></h3>

<p>The statement "Negative values are not allowed" for 'font-size'
now applies to percentages as well as lengths.</p>

<h3 id="x16.1"><a href="text.html#indentation-prop">Section 16.1
Indentation</a></h3>

<p>Corrected 'text-indent' to apply to table cells (and inline blocks)
as well as block-level elements.</p>

<h3 id="x16.2"><a href="text.html#alignment-prop">Section 16.2
Alignment</a></h3>

<p>Corrected 'text-align' to apply to table cells (and inline blocks)
as well as block-level elements.

<p>Changed prose about the effect of 'justify' to be less correct.</p>

<p>Corrected the note to say that justification is also dependent
on the script, not just the language, of the text.</p>

<h3 id="x17.2"><a href="tables.html#table-display">Section 17.2 The CSS table
model</a></h3>

<p>In the definition of <strong>table-header-group</strong>, changed
"footer" to "header" in "Print user agents may repeat footer rows on
each page spanned by a table."

<h3 id="x17.2.1"><a href="tables.html#anonymous-boxes">Section 17.2.1
Anonymous table objects </a></h3>

<p>Added 'table-header-group' and 'table-footer-group' alongside
mentions of 'table-row-group' where missing.</p>

<p>Corrected 'caption' to 'table-caption'.</p>

<p>Added missing rule (#3) for 'table-column' boxes.</p>

<p>Added 'table-caption' and 'table-column-group' to list of boxes
requiring a 'table' or 'inline-table' parent in rule 4.</p>

<p>Added rules 5 and 6 to generate 'table-row' boxes where necessary
for children of 'table'/'inline-table' and
'table-row-group'/'table-header-group'/'table-footer-group' boxes.</p>

<h3 id="x17.4"><a href="tables.html#model">Section 17.4
Tables in the visual formatting model</a></h3>

<p>Specified handling of multiple caption boxes.</p>

<p>Specified that the anonymous outer table box is a 'block'
box if the table is block-level and an 'inline-block' box if
the table is inline-level but that the anonymous outer table
box cannot accept run-ins.</p>

<h3 id="x17.5"><a href="tables.html#table-layout">Section 17.5
Visual layout of table contents</a></h3>

<p>Correct text that said all internal table elements have
padding; change to say that of these only table cells have
padding.</p>

<p>The following note:</p>

<blockquote>
<p><strong>Note.</strong> Table cells may be relatively and absolutely positioned, but this is not recommended: positioning and floating remove a
    box from the flow, affecting table alignment. 
</p>
</blockquote>

<p>has been amended as follows:</p>

<blockquote>
<p><strong>Note.</strong> Table cells may be 
positioned, but this is not recommended: absolute and fixed
positioning, as well as floating, remove a box from the flow, affecting
table size.
</p>
</blockquote>

<h3 id="x17.5.1"><a href="tables.html#table-layers">Section 17.5.1
Table layers and transparency</a></h3>

<p>The rows and columns only cover the whole table in the collapsed
borders model, not in the separated borders model.

<p>The points 2, 3, 4 and 5 have been corrected to define the area
covered by rows, columns, row groups and column groups and thus the
positioning and painting of backgrounds on those elements.</p>

<p>Specify the handling of "missing cells".</p>

<h3 id="x17.6.1"><a href="tables.html#separated-borders">Section 17.6.1
The separated borders model</a></h3>

<p>In the image, changed "cell-spacing" to "border-spacing".

<h3 id="x18.2"><a href="ui.html#system-colors">Section 18.2 System
Colors</a></h3>

<p>For the 'ButtonHighlight' value, changed the description
from "Dark shadow" to "Highlight color".</p>

<h3 id="xE.2"><a href="zindex.html#painting-order">Section E.2 Painting
order</a></h3>

<p>Changed "but any descendants which actually create a new stacking
context" to "but any <ins>positioned descendants and</ins> descendants
which actually create a new stacking context" (3 times).

<p>This change also occurred once in <a
href="visuren.html#floats">section&nbsp;9.5 (Floats)</a> and once in
section <a href="visuren.html#layers">section&nbsp;9.9 (Layered
presentation).</a>


<h2><a name="clarifications">Clarifications</a></h2>

<h3 id="r2.1"><a href="intro.html#html-tutorial">Section 2.1
A brief CSS&nbsp;2.1 tutorial for HTML</a></h3>

<p>This section has been marked non-normative.</p>

<h3 id="r2.2"><a
href="intro.html#xml-tutorial">Section 2.2
A brief CSS&nbsp;2.1 tutorial for XML</a></h3>

<p>This section has been marked non-normative.</p>

<p>Added a statement about case-sensitivity of selectors for XML.</p>

<p>The specification for the <a
href="http://www.w3.org/1999/06/REC-xml-stylesheet-19990629/">XML
style sheet PI</a>
was written after CSS2 was finalized. The first line of the full XML
example should not have been be <code>&lt;?XML:stylesheet type="text/css"
href="bach.css"?&gt;</code>, but

<pre>&lt;?xml-stylesheet type="text/css" href="bach.css"?&gt;</pre>

<h3 id="r2.3"><a href="intro.html#processing-model">Section&nbsp;2.3
The CSS&nbsp;2.1 processing model</a></h3>

<p>This section has been marked non-normative.

<h3 id="r3.1"><a href="conform.html#defs">Section 3.1
Definitions</a></h3>

<p>Added a note to clarify that the deprecated/non-deprecated status
of a feature is distinct from its normative/non-normative status.</p>

<p>Under 'document language' clarified that CSS only describes the
presentation of a document language, and has no effect on its semantics.</p>

<p>Changed definition of 'replaced element' to "an element whose content
is outside the scope of the CSS formatting model" and added further clarifying
text. This clarifies that e.g. SVG images embedded in an XML document are
also considered replaced elements, not just those linked in from an outside
file. Also changed definition of 'rendered content' to be consistent with this
clarification.</p>

<p>Added under "Intrinsic dimension" that raster images without
reliable resolution information are assumed to have a size of 1&nbsp;px
unit per image source pixel.

<p>Added definition for 'ignore'.</p>

<p>Added definition for 'HTML user agent'.</p>

<p>Added definition for 'property'.</p>

<h3 id="r4.1"><a href="syndata.html#syntax">Section 4.1
Syntax</a></h3>

<p>Moved definitions of "immediately before" and "immediately after" forward
so they apply to the whole Syntax section.</p>

<p>Added sections 4.1.2.1 and 4.1.2.2 to defined vendor-specific
extensions.</p>

<h3 id="r4.1.1"><a href="syndata.html#tokenization">Section 4.1.1
Tokenization</a></h3>

<p>Clarified that input that cannot be parsed according to the core syntax
is ignored according to the rules for handling parsing errors.</p>

<p>Clarified that input that cannot be tokenized or parsed has no meaning in
CSS2.1.</p>

<h3 id="r4.1.3"><a href="syndata.html#characters">Section 4.1.3
Characters and case</a></h3>

<p>Clarified that when a CRLF pair terminates an escape sequence, the pair
is treated as a single white space character as <a href="#x4.1.1">corrected</a>
in the tokenization rules.</p>

<p>Replaced "[a-z0-9]" by "[a-zA-Z0-9]" as an extra reminder that CSS
identifiers are case-insensitive.

<h3 id ="r4.1.7"><a href="syndata.html#declaration">Section 4.1.7
Rule sets, declaration blocks, and selectors</a></h3>

<p>Replaced the term "{}-block" with "declaration block".</p>

<h3 id="r4.2"><a href="syndata.html#parsing-errors">Section 4.2
Rules for handling parsing errors</a></h3>

<p>Clarified that all property:value combinations and @-keywords that do not
contain an identifier beginning with dash or underscore are reserved by CSS
for future use.</p>

<p>Clarified that when something inside an at-rule is ignored because it is
invalid, this does not make the entire at-rule invalid.</p>

<p>Referenced section 4.1.7 for parsing invalid bits inside declaration
blocks.</p>

<h3 id="r4.3.1"><a href="syndata.html#numbers">Section 4.3.1
Integers and real numbers</a></h3>

<p>Clarified that '-0' is equivalent to '0' and is not a negative number.</p>

<h3 id="r4.3.2"><a href="syndata.html#length-units">Section 4.3.2
Lengths</a></h3>

<p>Clarified that negative length values on properties that do not allow them
cause the declaration to be ignored.</p>

<h3 id="r4.3.4"><a href="syndata.html#uri">Section 4.3.4
URLs and URIs</a></h3>

<p>Reduced unnecessary discussion of what a URI is.</p>

<!-- Chapter 5 -->

<h3 id="r5.1"><a href="selector.html#pattern-matching">Section 5.1
Pattern matching</a></h3>

<p>Added note about terminology change ("simple selector") between
CSS2 and CSS3.

<h3 id="r5.7"><a href="selector.html#adjacent-selectors">Section 5.7
Adjacent sibling selectors</a></h3>

<p>Clarified that text nodes and comments do not affect whether a
sibling selector matches.

<h3 id="r5.8.1"><a href="selector.html#matching-attrs">Section 5.8.1
Matching attributes and attribute values</a></h3>

<p>Clarified ~= and |= by using the definitions from the Selectors
module.

<h3 id="r5.8.2"><a href="selector.html#default-attrs">Section 5.8.2
Default attribute values in DTDs</a></h3>

<p>Clarified that rules about default attribute values are the same,
whether the default is specified in a DTD or by other means.

<h3 id="r5.9"><a href="selector.html#id-selectors">Section 5.9 ID
selectors</a></h3>

<p>Added a note that it depends on the document format which
attributes are ID attributes.

<h3 id="r5.11.3"><a
href="selector.html#dynamic-pseudo-classes">Section 5.11.3 The
dynamic pseudo-classes: :hover, :active, and :focus</a></h3>

<p>Clarified that CSS&nbsp;2.1 does <em>not</em> define if the parent
of an element that matches ':active' or ':hover' itself also matches
':active' or ':hover'.

<p>Added note that, in CSS1, ':active' only applies to links.

<h3 id="r5.11.4"><a href="selector.html#lang">Section 5.11.4 The
language pseudo-class: :lang</a></h3>

<p>Added a note to show the differences between ':lang(xx)' and
'[lang=xx]'.

<h3 id="r5.12.2"><a href="selector.html#first-letter">Section 5.12.2
The :first-letter pseudo-element</a></h3>

<p>Clarified that digits can also be first letter.



<!-- Chapter 6 -->

<h3 id="r6.2"><a href="cascade.html#inheritance">Section 6.2 Inheritance</a></h3>

<p>Clarified that computed values are inherited (not specified values)
and that they become the specified value on the inheritor.</p>

<p>Removed discussion of "default" styles for a document.</p>

<h3 id="r6.2.1"><a href="cascade.html#value-def-inherit">Section 6.2.1 The 'inherit' value</a></h3>

<p>Clarify that 'inherit' can be used on properties that are not normally inherited
and that when set on the root element, it has the effect of assigning the
property's initial value.</p>

<h3 id="r6.3"><a href="cascade.html#at-import">Section 6.3 The @import rule</a></h3>

<p>Except @charset from the statement that @imports must precede all other rules.</p>

<h3 id="r6.4"><a href="cascade.html#cascade">Section 6.4 The Cascade</a></h3>

<p>Obfuscated note about system settings and UA limitations.</p>

<h3 id="r6.4.1"><a href="cascade.html#cascading-order">Section 6.4.1 Cascading order</a></h3>

<p>Various editorial changes to clarify sort order.</p>

<h3 id="r6.4.3"><a href="cascade.html#specificity">Section 6.4.3 Calculating a
selector's specificity</a></h3>

<p>Added a note:

<blockquote><p>The specificity is based only on the form of the selector.
In particular, a selector of the form "<code>[id=p33]</code>" is
counted as an attribute selector (a=0, b=1, c=0), even if the
<code>id</code> attribute is defined as an "ID" in the source
document's DTD.
</blockquote>

<h3 id="r7.2.1"><a href="media.html#at-media-rule">Section 7.2.1
The @media rule</a></h3>

<p>Clarify that Style rules outside of @media rules apply to the same
media types that the style sheet itself applies to.</p>

<h3 id="r7.3"><a href="media.html#media-types">Section 7.3 Recognized
media types</a></h3>

<p>Added text to clarify that media types are mutually exclusive,
but a UA can render simulatenously to canvases with different
media types.</p>

<h3 id="r7.3.1"><a href="media.html#media-groups">Section 7.3.1
Media groups</a></h3>

<p>Split "aural" media group into "audio" and "speech".</p>

<h3 id="r8.1"><a href="box.html#box-dimensions">Section 8.1 Box dimensions</a></h3>

<ul>
<li>The terms "content box", "padding box", "border box", and "margin box"
have been defined.
<li>Border backgrounds are not specified by border properties. Changed
the last paragraph of 8.1 to:
<blockquote>
<p>The background style of the content, padding, and border areas of a
box is specified by the <span
class="propinst-background">'background'</span> property of the
generating element. Margin backgrounds are always transparent.
</blockquote>
<li>Removed definition of "box width" and "height".
</ul>

<h3 id="r8.3"><a href="box.html#margin-properties">Section 8.3 Margin properties</a></h3>

<p>Added a sentence to note that vertical margins have no effect on non-replaced
inline elements.</p>

<h3 id="r8.3.1"><a href="box.html#collapsing-margins">Section 8.3.1
Collapsing margins</a></h3>

<p>Changed "absolute maximum" to "maximum of the absolute values" in
sentence about negative margins collapsing.</p>

<p>Added this clarifying note to the first bullet of the explanation
of vertical collapsing of margins:</p>
<blockquote>
<p><strong>Note.</strong> Adjoining boxes may be generated by
elements that are not related as siblings or ancestors.
</blockquote>

<p>Emphasized that floating elements' margins do not collapse even between a float
and its in-flow children.</p>

<p>Emphasized that absolutely positioned elements' margins do not collapse even between
the positioned element and its in-flow children.</p>

<h3 id="r8.5.3"><a href="box.html#border-style-properties">Section 8.5.3
Border style</a></h3>

<p>Changed description of 'none' value to not imply that all four border
widths are set to zero.</p>

<h3 id="r9.1.1"><a href="visuren.html#viewport">Section 9.1.1
The viewport</a></h3>

<p>Changed the sentence "When the viewport is smaller than the ..., the user
agent should offer a scrolling mechanism" to use "area of the canvas on
which the document is rendered" instead of "document's initial containing
block".</p>

<h3 id="r9.2.4"><a href="visuren.html#display-prop">Section 9.2.4 The
'display' property</a></h3>

<p>Clarified that 'display: none' also applies to non-visual media.

<h3 id="r9.3.1"><a href="visuren.html#choose-position">Section 9.3.1
Choosing a positioning scheme</a></h3>

<p>Clarified that the margins of fixed positioned boxes do not collapse
with any other margins.</p>

<p>Clarified that in print media fixed boxes are rendered on every page.</p>


<h3 id="r9.3.2"><a href="visuren.html#position-props">Section 9.3.2
Box offsets</a></h3>

<p>Clarified that negative lengths and percentages are allowed as values
of 'top', 'right', 'bottom', and 'left'.</p>

<p>Added "For replaced elements, the effect of this value depends only
on the intrinsic dimensions of the replaced content. See the sections
on the width and height of absolutely positioned, replaced elements
for details." to the definition of 'auto' because that's not what
chapter 10 says at all.</p>

<h3 id="r9.4.2"><a href="visuren.html#inline-formatting">Section 9.4.2
Inline formatting context</a></h3>

<p>Clarified that 'justify' stretches "spaces and words in inline boxes";
previous text simply said that it stretches "inline boxes".</p>

<p>The statement "When an inline box is split, margins, borders, and
padding have no visual effect where the split occurs." has been
generalized. Margins, borders, and padding have no visual effect
where one or more splits occur.</p>

<p>Clarified that an inline box that exceeds the width of a line box
and cannot be split therefore overflows the line box.</p>

<p>Removed sentence about formatting of margins, borders, and padding
for split inline boxes not being fully defined when affected by bidi
as that situation is now defined in <a href="box.html#bidi-box-model">section
8.6</a>.</p>

<h3 id="r9.4.3"><a href="visuren.html#relative-positioning">Section 9.4.3
Relative positioning</a></h3>

<p>Clarified that although relative positioning normally does not
directly affect layout, it may affect layout indirectly through
the creation of scrollbars.</p>

<p>Relatively positioned boxes do not always establish new containing
blocks. Changed the second paragraph to refer to the section on
containing blocks accordingly.</p>

<p>The paragraph about dynamic movement and superscripting has been
shifted into a non-normative note.</p>

<h3 id="r9.5"><a href="visuren.html#floats">Section 9.5
Floats</a></h3>

<p>Clarified that line boxes are shortened to make room for the
<em>margin box</em> of the float.</p>

<p>Added some text to clarify what "Any content in the current line before
a floated box is reflowed in the first available line on the other side of
the float" means.</p>

<p>Clarified floats' position in the stacking order.</p>

<h3 id="r9.5.1"><a href="visuren.html#float-position">Section 9.5.1
Positioning the float</a></h3>

<p>Clarified that the elements referenced in the float behavior
rules are in the same block formatting context as the float.</p>

<h3 id="r9.5.2"><a href="visuren.html#flow-control">Section 9.5.2
Controlling flow next to floats</a></h3>

<p>Clarified that the effects of 'clear' do not consider floats
in other block formatting contexts.</p>

<h3 id="r9.8"><a href="visuren.html#comparison">Section 9.8
Comparison of normal flow, floats, and absolute positioning</a></h3>

<p>Added a note to clarify that the images in this section are not
drawn to scale and are illustrations, not reference renderings.</p>

<h3 id="r10.1"><a href="visudet.html#containing-block-details">Section 10.1
Definition of "containing block"</a></h3>

<p>Noted that a containing block formed by inline elements may wind up
with a negative containing block width.</p>

<h3 id="r10.2"><a href="visudet.html#the-width-property">Section 10.2
Content width</a></h3>

<p>In the definition of &lt;length&gt; values for the 'width' property,
changed "Specifies a fixed width" to "Specifies the width of the content
area using a length unit".</p>

<h3 id="r10.3.3"><a href="visudet.html#blockwidth">Section 10.3.3
Block-level, non-replaced elements in normal flow</a></h3>

<p>Clarified that setting both left and right margins to 'auto'
horizontally centers the element within its containing block.</p>

<h3 id="r10.3.8"><a href="visudet.html#abs-replaced-width">Section 10.3.8
Absolutely positioning, replaced elements</a></h3>

<p>Clarified which part of the text of section 10.3.7 is re-used.

<h3 id="r10.4"><a href="visudet.html#min-max-widths">Section 10.4
Minimum and maximum widths</a></h3>

<p>Clarified that 'min-width' and 'max-width' do not affect the
computed values of any properties. (They only affect the used value.)</p>

<h3 id="r10.6.1"><a href="visudet.html#Computing_heights_and_margins">Section 10.6
Calculating heights and margins</a></h3>

<p>Clarified that these rules apply to the root element just as to
any other element.</p>

<h3 id="r10.7"><a href="visudet.html#min-max-heights">Section 10.7
Minimum and maximum heights</a></h3>

<p>Clarified that 'min-width' and 'max-width' do not affect the
computed values of any properties. (They only affect the used value.)</p>

<h3 id="r10.8"><a href="visudet.html#line-height">Section 10.8
Line height calculations</a></h3>

<p>Removed clarifying note about line height being taller than tallest
single inline box due to vertical alignment.</p>

<h3 id="r10.8.1"><a href="visudet.html#leading">Section 10.8.1 Leading
and half-leading</a></h3>

<p>Removed "slightly" from the note "Values of this property have
<del>slightly</del> different meanings in the context of tables."

<h3 id="r11.1"><a href="visufx.html#overflow-clipping">Section 11.1
Overflow and clipping</a></h3>

<p>Clarified when absolute positioning and negative margins cause
overflow.</p>

<p>Added 'text-indent' to the list of things that can cause overflow.</p>

<p>Removed mention of 'clip' since it no longer affects most elements;
mentioned that the 'overflow' property also specifies whether a
scrolling mechanism is provided to access clipped content.</p>

<h3 id="r11.1.1"><a href="visufx.html#overflow">Section 11.1.1
Overflow</a></h3>

<p>Clarified that descendant elements whose containing block is the
viewport or an ancestor of the element are not affected by overflow
clipping.</p>

<p>Removed unnecessary mentions of the 'clip' property from the 'hidden'
value definition.</p>

<h3 id="r11.1.2"><a href="visufx.html#clipping">Section 11.1.2
Clipping</a></h3>

<p>Changed "portion of an element's rendered content" to "portion
of an element's border box" since clipping also affects the element's
backgrounds and borders.</p>

<p>Clarified what parts of the element are affected by clipping.</p>

<p>Clarified that clipped content does not cause overflow.</p>

<p>Clarified that arguments of clip() can be separated by spaces or by
commas, <em>but not a combination.</em>

<h3 id="r11.2"><a href="visufx.html#overflow-clipping ">Section 11.2
Visibility</a></h3>

<p>Clarified that descendants of a 'visibility: hidden' element will
be visible if they have 'visibility: visible'.</p>

<h3 id="r12.1"><a href="generate.html#before-after-content">Section 12.1
The :before and :after pseudo-elements</a></h3>

<p>Clarified that :before and :after pseudo-elements interact with
other boxes as if they were real elements just inside their associated
element.

<p>Noted that the interaction of :before and :after with replaced elements
is left undefined for now.</p>

<h3 id="r12.2"><a href="generate.html#content">Section 12.2
The 'content' property</a></h3>

<p>Clarified which counters are used for counter() and counters() in
case there are multiple counters of the same name.</p>

<h3 id="r12.3.2"><a href="generate.html#quotes-insert">Section 12.3.2
Inserting quotes with the 'content' property</a></h3>

<p>Removed note about common typographic practices when quotes in
different languages are mixed.</p>

<h3 id="r12.4"><a href="generate.html#counters">Section 12.4
Automatic counters and numbering</a></h3>

<p>In the "self-nesting" behavior of counters, clarified that merely
using a counter in a child element does not create a new instance of it:
only resetting it does.</p>

<p>Clarified that the scope of a counter does not include any elements
in the scope of a counter with the same name created by a 'counter-reset'
on a later sibling or a later 'counter-reset' on the same element.</p>

<p>Removed sentence about scope of 'counter-increment' without prior
'counter-reset' as that is now defined (differently) under
"12.4.1 Nested counters and scope."</p>

<h3 id="r12.4.3"><a href="generate.html#undisplayed-counters">Section 12.4.3
Counters in elements with 'display: none'</a></h3>

<p>Clarified that pseudo-elements that generate no boxes also do not
increment counters.

<h3 id="r14.2"><a href="colors.html#background">Section 14.2 The background</a></h3>

<p>Clarified that the root background image, although painted over the entire
canvas, is anchored as if painted only for the root element, and that the root's
background is only painted once.</p>

<p>Clarified rules for propagation of background settings on HTML's &lt;body>
element to the root.</p>

<p>Added statement about z-index of backgrounds for elements that form a
stacking context and referred to z-index property for details.</p>

<p>Added this note after the first paragraph after 'background-attachment':

<blockquote><p>Note that there is only <em>one</em> viewport per
document. I.e., even if an element has a scrolling mechanism (see
'overflow'), a 'fixed' background does not move with it.</blockquote>

<p>Definition of 'background-position' has been rewritten as normative rules
rather than just examples.</p>

<p>Stated that the tiling and positioning of background images for inline
elements is undefined in CSS2.1.</p>

<h3 id="r15.1"><a href="fonts.html#fonts-intro">Section 15.1 Fonts Introduction</a></h3>

<p>Drastically shortened introduction.</p>

<h3 id="r15.2"><a href="fonts.html#algorithm">Section 15.2
Font matching algorithm</a></h3>

<p>In the per-property rule 2, clarified that 'normal' matches
the non-small-caps variant (if there is one).</p>

<h3 id="r15.3"><a href="fonts.html#font-family-prop">Section 15.2.2 Font family</a></h3>

<p>Removed discussion of font-matching algorithm. (It is already
covered in the <a href="fonts.html#algorithm">font-matching algorithm's
own section</a>.</p>

<p>Clarified that quoted strings that are the same as a keyword
value must be treated as font family names and not as the keyword
value (which must be unquoted).</p>

<h3 id="r15.3.1"><a href="fonts.html#generic-font-families">Section 15.3.1
Generic font families</a></h3>

<p>This section, previously section 15.2.6, has been moved but no
other change was made.</p>

<h3 id="r15.4"><a href="fonts.html#font-styling">Section 15.4
Font styling</a></h3>

<p>The text for this section (formerly part of 15.2.3) has been
reverted to its CSS1 format.</p>

<h3 id="r15.5"><a href="fonts.html#small-caps">Section 15.5
Small-caps</a></h3>

<p>The text for this section (formerly part of 15.2.3) has been
reverted to its CSS1 format.</p>

<p>Clarified that CSS2.1 cannot select font variants besides small-caps.</p>

<p>Clarified that when "font-variant: small-caps" results in the
substitution of full-caps, the behavior is the same as for
text-transform.</p>

<h3 id="r15.6"><a href="fonts.html#font-boldness">Section 15.6
Font boldness</a></h3>

<p>The text for this section (formerly part of 15.2.3) has been
reverted to its CSS1 format. Also, discussion of font-weight from
other parts of the Fonts chapter has been aggregated under this
section.</p>

<p>Removed statemnt that says "User agents must map names to values
in a way that preserves visual order; a face mapped to a value
must not be lighter than faces mapped to lower values." This is
otherwise implied by "The only guarantee is that a face of a given
value will be no less dark than the faces of lighter values."</p>

<h3 id="r15.7"><a href="fonts.html#font-size-props">Section 15.7
Font size</a></h3>

<p>Clarified relationship of font size to em squares.</p>

<p>Added a totally irrelevant note about font sizes virtual reality
scenes.</p>

<h3 id="r16.1"><a href="text.html#indentation-prop">Section 16.1
Indentation</a></h3>

<p>Clarified that text overflowing due to text-indent is affected
by the 'overflow' property.</p>

<p>Added a note about text-indents inheriting behavior and suggesting
'text-indent: 0' on inline-blocks.</p>

<h3 id="r16.2"><a href="text.html#alignment-prop">Section 16.2
Alignment</a></h3>

<p>Changed "double justify" to "justify" under "left, right, center,
and justify".</p>

<h3 id="r16.3.1"><a href="text.html#lining-striking-props">Section 16.3.1
Underlining, over lining, striking, and blinking</a></h3>

<p>Added an example to illustrate how underlining affects descendant
boxes.</p>

<h3 id="r16.5"><a href="text.html#caps-prop">Section 16.5
Capitalization</a></h3>

<p>Switched language reference from RFC2070 to RFC3066.</p>

<h3 id="r16.6"><a href="text.html#white-space-prop">Section 16.6
White space</a></h3>

<p>Added <a href="text.html#egbidiwscollapse">section 16.6.1</a> as an example
to illustrate the interaction of white space collapsing and bidi.</p>

<h3 id="r17.1"><a href="tables.html#tables-intro">Section 17.1
Introduction to tables</a></h3>

<p>Expanded introduction to include a brief discussion of the two
table layout models. Mentioned that the automatic table algorithm
is not fully defined in CSS&nbsp;2.1 but that some implementations
have achieved relatively close interoperability.</p>

<h3 id="r17.2"><a href="tables.html#table-display">Section 17.2
The CSS table model</a></h3>

<p>Clarify that all table captions must be rendered if more than
one exists.</p>

<p>Specified that replaced elements with table display values are
treated as table elements in table layout.</p>

<h3 id="r17.2.1"><a href="tables.html#anonymous-boxes">Section 17.2.1
Anonymous table objects</a></h3>

<p>Moved the first bullet text to the prose before the list of
generation rules as it is a general statement of what the rules
are supposed to accomplish.</p>

<h3 id="r17.4"><a href="tables.html#model">Section 17.4
Tables in the visual formatting model</a></h3>

<p>Clarified that "display: table" elements behave as block-level elements
and "display: inline-table" elements behave as inline-level elements and
not the other way around.</p>

<p>Clarified that 'table-caption' boxes behave as normal block boxes
within the outer anonymous table box.</p>

<p>Clarified that percentage 'width' and 'height' on the table box is
relative to the anonymous box's containing block, not the anonymous
box itself.

<p>Clarified that the 'position', 'float', 'top', 'right', 'bottom',
and 'left' values on the table box are used on the anonymous outer
box instead of the table box and that the table box itself uses the
initial values of those properties.</p>

<h3 id="r17.5"><a href="tables.html#table-layout">Section 17.5
Visual layout of table contents</a></h3>

<p>To remove ambiguity about the position of extent of internal
table boxes, the following paragraph was added after point 6:

<blockquote><p>the edges of the rows, columns, row groups and column
groups in the <a href="tables.html#collapsing-borders">collapsing borders
model</a> coincide with the hypothetical grid lines on which the
borders of the cells are centered. (And thus, in this model, the rows
together exactly cover the table, leaving no gaps; ditto for the
columns.) In the <a href="tables.html#separated-borders">separated borders
model,</a> the edges coincide with the <a
href="box.html#border-edge">border edges</a> of cells. (And thus, in
this model, there may be gaps between the rows and columns,
corresponding to the <span
class="propinst-border-spacing">'border-spacing'</span>
property.)</blockquote>

<p>Changed warning note about positioning of table cells to be more
precise about the possibly unintended effects.</p>

<h3 id="r17.5.1"><a href="tables.html#table-layers">Section 17.5.1 Table layers and
transparency</a></h3>

<p>At the end of the section added the following paragraph:

<blockquote><p>Note that if the table has 'border-collapse: separate',
the background of the area given by the 'border-spacing' property is
always the background of the table element. See 17.6.1</blockquote>

<h3 id="r17.5.2"><a href="tables.html#width-layout">Section 17.5.2 Table width algorithms</a></h3>

<p>Added a paragraph to clarify the interaction of the table width
algorithms with the rules in
<a href="visudet.html#Computing_widths_and_margins">section 10.3</a>
(Calculating widths and margins).</p>

<h3 id="r17.5.2.1"><a href="tables.html#fixed-table-layout">Section 17.5.2.1
Fixed table layout</a></h3>

<p>Explicitly mentioned that the fixed table layout algorithm may be
used with the algorithm of <a href="visudet.html#blockwidth">section
10.3.3</a> when 'table-layout' is 'fixed' but 'width' is 'auto'.</p>

<h3 id="r17.5.2.2"><a href="tables.html#auto-table-layout">Section 17.5.2.2
Automatic table layout</a></h3>

<p>Clarified that UAs can use other algorithms besides the one in
this section <em>even if</em> it results in different behavior.
Also marked the rest of the section non-normative in accordance
with that statement.</p>

<h3 id="r17.5.4"><a href="tables.html#column-alignment">Section 17.5.4
Horizontal alignment in a column</a></h3>

<p>Changed "The horizontal alignment of a cell's content within a cell
box is specified with the 'text-align' property" to "The horizontal
alignment of a cell's <ins>inline content</ins> within a cell box
<ins>can be</ins> specified with the 'text-align' property."

<h3 id="r17.5.5"><a href="tables.html#dynamic-effects">Section 17.5.5
Dynamic row and column effects</a></h3>

<p>Clarified that not affecting layout means that 'visibility: collapse'
causes the part of row- and column-spanning cells that span into
the collapsed row to be clipped.</p>

<h3 id="r17.6.1"><a href="tables.html#separated-borders">Section 17.6.1
The separated borders model</a></h3>

<p>Added a note explaining that 'border-spacing' can be used as a
substitute for the non-standard 'framespacing' attribute on
frameset elements (which are out-of-scope for CSS2.1).</p>

<p>Added clarification about backgrounds: the
sentence "This space is filled with the background of the table
element" was replaced by:

<blockquote><p>In this space, the row, column, row group, and column
group backgrounds are invisible, allowing the table background to show
through.</blockquote>

<h3 id="r17.6.2"><a href="tables.html#collapsing-borders">Section 17.6.2
The collapsing borders model</a></h3>

<p>In the sentence after the question, added "and
padding-left<sub>i</sub> and padding-right<sub>i</sub> refer 
to the left (resp., right) padding of cell i."

<h3 id="r18.2"><a href="ui.html#system-colors">Section 18.2
System Colors</a></h3>

<p>Noted that system colors are deprecated in CSS3.</p>

<h3 id="r18.4"><a href="ui.html#dynamic-outlines">Section 18.4
Dynamic outlines</a></h3>

<p>Clarified that outlines do not cause overflow.</p>

<p>Clarified that outlines are only fully connected "if possible".</p>

<h3 id="r18.4.1"><a href="ui.html#outline-focus">Section 18.4.1
Outlines and the focus</a></h3>

<p>Clarify that changing outlines in response to focus
should not cause a document to reflow.</p>

<h3 id="rD"><a href="sample.html">Appendix D Default style sheet for
HTML 4</a></h3>

<p>Added paragraph clarifying that some presentational markup in
HTML can be replaced with CSS, but it requires different markup.</p>

<h2><a name=errata>Errata since the Candidate Recommendation of July
2007</a></h2>

<p>Errata to CSS&nbsp;2.1 since <a
href="/TR/2007/CR-CSS21-20070719">CR version of July 19, 2007.</a>

<!--========================== issue 113 ==========================-->

<h3 id="s.1.4.2.1"><a
href="/TR/2007/CR-CSS21-20070719/about.html#value-defs">
Section&nbsp;1.4.2.1 Value</a></h3>

<p><span class=date>[2009-04-15]</span> The notation
&ldquo;&amp;&amp;&rdquo; may be used in syntax definitions in future
CSS specifications.

<!--========================== issue 63 ===========================-->

<h3 id="s.2.3"><a
href="/TR/2007/CR-CSS21-20070719/intro.html#processing-model">
Section&nbsp;2.3 The CSS&nbsp;2.1 processing model</a></h3>

<p><span class=date>[2008-08-19]</span> The first part of the section
is not normative.

<!--========================== issue 16 ===========================-->

<h3 id="s.3.1"><a href="/TR/2007/CR-CSS21-20070719/conform.html#defs">
Section 3.1 Definitions</a></h3>

<p><span class=date>[2007-11-14]</span> Append <q><ins>For raster
images without reliable resolution information, a size of 1&nbsp;px
unit per image source pixel must be assumed.</ins></q> to the
definition of <q>intrinsic dimensions.</q>

<!--===================== issue 2 & 82 & 87 =======================-->

<h3 id=s.4.1.1><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#tokenization"> Section
4.1.1 Tokenization</a></h3>

<p><span class=date>[2007-09-27]</span> Remove <q>DELIM?</q> from
the grammar rule

<pre>declaration : <del>DELIM?</del> property S* ':' S* value;</pre>

<p>The DELIM was allowed there so that unofficial properties could
start with a dash (-), but the dash was already allowed because of the
definition of <q>IDENT.</q>

<p><span class=date>[2009-02-02]</span> Change <del>U</del> to
<ins>u</ins> in token UNICODE-RANGE. (It means the same, but seems to
avoid confusion.)

<p><span class=date>[2009-02-02]</span> Clarify where comments are
allowed:

<blockquote>
<p>COMMENT tokens do not occur in the grammar (to keep it readable),
but any number of these tokens may appear anywhere <del>between</del>
<ins>outside</ins> other tokens. <ins>(Note, however, that a comment
before or within the @charset rule disables the @charset.)</ins>
</blockquote>

<!--========================== issue 90 ===========================-->

<h3 id="s.4.1.2.2"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#vendor-keyword-history">
Section&nbsp;4.1.2.2 Informative Historical Notes</a></h3>

<p><span class=date>[2008-12-09]</span> Other known vendor prefixes
are: -xv-, -ah-, prince-, -webkit-, and -khtml-.

<!--========================== issue 15 ===========================-->

<h3 id="s.4.1.3"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#characters">
Section&nbsp;4.1.3 Characters and case</a></h3>

<p><span class=date>[2007-11-14]</span> In the second bullet, change
<q><del>[a-z0-9]</del></q> to <q><ins>[a-zA-Z0-9]</ins></q>; in the
third bullet, change <q><del>[0-9a-f]</del></q> to
<q><ins>[0-9a-fA-F]</ins></q>.

<p>Although the preceding bullet already says that CSS is
case-insensitive, the explicit mention of upper and lower case letters
helps avoid mistakes.

<!--========================== issue 19a ==========================-->

<h3 id="s.4.1.3a"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#characters">
Section&nbsp;4.1.3 Characters and case</a></h3>

<p><span class=date>[2008-03-05]</span> CSS is now case-sensitive,
except for certain parts:

<blockquote><p>All CSS syntax is case-insensitive <ins>within the
ASCII range (i.e. [a-z] and [A-Z] are equivalent)</ins>, except for
parts that are not under the control of CSS.</blockquote>

<!--========================== issue 66 ===========================-->

<h3 id="s.4.1.3b"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#characters">
Section&nbsp;4.1.3 Characters and case</a></h3>

<p><span class=date>[2008-12-02]</span> The pair &ldquo;*/&rdquo; ends
a comment, even if preceded by a backslash. Change this sentence in
the third bullet:

<blockquote>
<p><ins>Except within CSS comments,</ins> any character (except a
hexadecimal digit) can be escaped with a backslash to remove its
special meaning.
</blockquote>

<!--========================== issue 85 ===========================-->

<h3 id="s.4.1.3c"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#characters">
Section&nbsp;4.1.3 Characters and case</a></h3>

<p><span class=date>[2009-04-15]</span> Text added to match the grammar:

<blockquote>
<p>[&hellip;] any character (except a hexadecimal digit <ins>,
linefeed, carriage return or form feed</ins>) can be escaped [&hellip;]
</blockquote>


<!--========================== issue 102 ==========================-->

<h3 id="s.4.1.5"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#at-rules">
Section&nbsp;4.1.5  At-rules</a></h3>

<p><span class=date>[2009-04-15]</span> Clarified that unknown
statements are ignored when looking for @import:

<blockquote>
<p>CSS 2.1 user agents must ignore any '@import' rule that occurs
inside a block or after any <del>valid</del> <ins>non-ignored</ins>
statement other than an @charset or an @import rule.
</blockquote>

<!--========================== issue 32a ==========================-->

<h3 id="s.4.1.7"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#rule-sets">Section&nbsp;4.1.7
Rule sets, declaration blocks, and selectors</a></h3>

<p><span class=date>[2008-11-26]</span> More precise statement of what
is ignored:

<blockquote><p>When a user agent cannot parse the selector (i.e., it is
not valid CSS&nbsp;2.1), it must ignore the <ins>selector and the
following</ins> declaration block <ins>(if any)</ins> as
well.</blockquote>

<!--========================== issue 24 ===========================-->

<h3 id="s.4.2"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#parsing-errors">
Section&nbsp;4.2 Rules for handling parsing errors</a></h3>

<p><span class=date>[2009-04-15]</span> Added error recovery rule for
unexpected tokens at the top level:

<blockquote>
<p><strong>Malformed statements.</strong> User agents must handle
unexpected tokens encountered while parsing a statement by reading
until the end of the statement, while observing the rules for matching
pairs of (), [], {}, "", and '', and correctly handling escapes. For
example, a malformed statement may contain an unexpected closing brace
or at-keyword. E.g., the following lines are all ignored:

<pre>
p @here {color: red}     /* ruleset with unexpected at-keyword "@here" */
@foo @bar;               /* at-rule with unexpected at-keyword "@bar" */
}} {{ - }}               /* ruleset with unexpected right brace */
) [ {} ] p {color: red } /* ruleset with unexpected right parenthesis */
</pre>
</blockquote>

<!--========================== issue 32b ==========================-->

<h3 id="s.4.2a"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#parsing-errors">
Section&nbsp;4.2 Rules for handling parsing errors</a></h3>

<p><span class=date>[2008-11-26]</span>
Change &ldquo;or block&rdquo; as follows:

<blockquote><p>User agents must ignore an invalid at-keyword together
with everything following it, up to and including the next semicolon
(;), <del>or block ({...})</del> <ins>the next block ({...}), or the
end of the block (}) that contains the invalid at-keyword</ins>,
whichever comes first.</blockquote>

<!--========================== issue 41 ===========================-->

<h3 id="s.4.3.2"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#length-units">
Section&nbsp;4.3.2 Lengths</a></h3>

<p><span class=date>[2008-08-19]</span> Add recommendation about size
of px:

<blockquote>
<p>[&hellip;] the user agent should rescale pixel values. <ins>It is
recommended that the pixel unit refer to the whole number of device
pixels that best approximates the reference pixel.</ins>
</blockquote>

<!--========================== issue 19b ==========================-->

<h3 id="s.4.3.5"><a
href="/TR/2007/CR-CSS21-20070719/syndata.html#counter">
Section&nbsp;4.3.5 Counters</a></h3>

<p><span class=date>[2008-03-05]</span> Insert <q>case-sensitive</q>
in <q>Counters are denoted by <ins>case-sensitive</ins>
identifiers</q>.

<!--========================== issue 38, 81 =======================-->

<h3 id="s.5.8.1"><a
href="/TR/2007/CR-CSS21-20070719/selector.html#matching-attrs">
Section&nbsp;5.8.1 Matching attributes and attribute values</a></h3>

<p><span class=date>[2008-04-07]</span> Clarified ~= and |= by using
the definitions from the <a
href="/TR/2005/WD-css3-selectors-20051215/#attribute-substrings">
Selectors</a> module.

<p><span class=date>[2008-11-03]</span> Clarified that [foo~=""]
(i.e., with an empty value) will not match anything.

<!--========================== issue 13 ===========================-->

<h3 id="s.5.8.2"><a
href="/TR/2007/CR-CSS21-20070719/selector.html#default-attrs"> Section
5.8.2 Default attribute values in DTDs</a></h3>

<p><span class=date>[2007-11-14]</span> Replace <q><del>tag</del>
selector</q> by <q><ins>type</ins> selector</q>.

<!--========================== issue 68 ===========================-->

<h3 id="s.5.11.4"><a
href="/TR/2007/CR-CSS21-20070719/selector.html#lang">
Section&nbsp;5.11.4 The language pseudo-class: :lang</a></h3>

<p><span class=date>[2009-04-15]</span> The language code is
case-insensitive.

<!--========================== issue 78 ===========================-->

<h3 id="s.5.12.3"><a
href="/TR/2007/CR-CSS21-20070719/selector.html#before-and-after">
Section&nbsp;5.12.3 The :before and :after pseudo-elements</a></h3>

<p><span class=date>[2008-11-03]</span> Clarified text:

<blockquote><p>When the :first-letter and :first-line pseudo-elements
are <del>combined with</del> <ins>applied to an element having content
generated using</ins> :before and :after, they apply to the first
letter or line of the element including the <del>inserted text</del>
<ins>generated content</ins>.
</blockquote>

<!--========================== issue 31 ===========================-->

<h3 id="s.6.3"><a
href="/TR/2007/CR-CSS21-20070719/cascade.html#at-import">
Section&nbsp;6.3 The @import rule</a></h3>

<p><span class=date>[2008-08-19]</span> Add &ldquo;In CSS 2.1&rdquo;
and &ldquo;See the section on parsing for when user agents must ignore
@import rules&rdquo; to

<blockquote>
<p><ins>In CSS&nbsp;2.1,</ins> any @import rules must precede all
other rules (except the @charset rule, if present). <ins>See the
section on parsing for when user agents must ignore @import
rules.</ins>
</blockquote>

<!--========================== issue 46b ==========================-->

<h3 id="s.6.3a"><a
href="/TR/2007/CR-CSS21-20070719/cascade.html#at-import">
Section&nbsp;6.3 The @import rule</a></h3>

<p><span class=date>[2008-11-26]</span> Define what it means to import
a style sheet twice and how the media list is matched. Add at the end:

<blockquote>
<p>In the absence of any media types, the import is unconditional. 
Specifying 'all' for the medium has the same effect. <ins>The import
only takes effect if the target medium matches the media list.</ins>

<p><ins>A target medium matches a media list if one of the items in
the media list is the target medium or 'all'.</ins>

<p class=note><ins>Note that Media Queries [MEDIAQ] extends the syntax
of media lists and the definition of matching.</ins>

<p><ins>When the same style sheet is imported or linked to a document
in multiple places, user agents must process (or act as though they
do) each link as though the link were to a separate style sheet.</ins>
</blockquote>

<!--============================ typo =============================-->

<h3 id="s.6.4.1"><a
href="/TR/2007/CR-CSS21-20070719/cascade.html#cascading-order">
Section 6.4.1 Cascading order</a></h3>

<p><span class=date>[2007-11-22]</span> Spelling error:
<q>prece<del>n</del>dence</q>.

<!--========================== issue 46a ==========================-->

<h3 id="s.6.4.1a"><a
href="/TR/2007/CR-CSS21-20070719/cascade.html#cascading-order">
Section 6.4.1 Cascading order</a></h3>

<p><span class=date>[2008-11-26]</span> Define the meaning of a media list:

<blockquote><p>Find all declarations that apply to the element and
property in question, for the target media type. Declarations apply if
the associated selector matches the element in question <ins>and the
target medium matches the media list on all @media rules containing
the declaration and on all links on the path through which the style
sheet was reached.</ins></blockquote>

<!--========================== issue 62 ===========================-->

<h3 id="s.7.2.1"><a
href="/TR/2007/CR-CSS21-20070719/media.html#at-media-rule">
Section&nbsp;7.2.1 The @media rule</a></h3>

<p><span class=date>[2008-12-02]</span> The rules for parsing unknown
statements inside @media blocks were ambiguous. Change the first
sentence as follows:

<blockquote>
<p>An @media rule specifies the target media types (separated by
commas) of a set of <del>rules</del> <ins>statements</ins> (delimited
by curly braces). <ins>Invalid statements must be ignored per 4.1.7
"Rule sets, declaration blocks, and selectors" and 4.2 "Rules for
handling parsing errors."</ins>
</blockquote>

<p>Also make it explicit that CSS level&nbsp;2 (unlike higher levels)
has no nested @-rules. Add at the end of the section:
&ldquo;<ins>At-rules inside @media are invalid in
CSS&nbsp;2.1.</ins>&rdquo;

<!--========================== issue 6 ============================-->

<h3 id="s.8.3.1"><a
href="/TR/2007/CR-CSS21-20070719/box.html#collapsing-margins">
Section 8.3.1 Collapsing margins</a></h3>

<p><span class=date>[2008-08-18]</span> In bullet 6, sub-bullet 2, the
position of the top border edge is determined by assuming the element
has a non-zero <em>bottom</em> (not: top) border.

<!--======================== issue 14 & 79 ========================-->

<h3 id="s.8.3.1a"><a
href="/TR/2007/CR-CSS21-20070719/box.html#collapsing-margins">
Section 8.3.1 Collapsing margins</a></h3>

<p><span class=date>[2009-02-02]</span> Rephrased the rule for
adjoining margins so that the 'min-height' and 'max-height' of an
element have no influence over whether the element's bottom margin is
adjoining to its last child's bottom margin.

<!--========================== issue 70 ===========================-->

<h3 id="s.8.3.1b"><a
href="/TR/2007/CR-CSS21-20070719/box.html#collapsing-margins">
Section 8.3.1 Collapsing margins</a></h3>

<p><span class=date>[2008-12-02]</span> Not only elements with
'overflow' other than 'visible', but <em>all</em> block formatting
contexts avoid collapsing their margins with their children. Change
the third bullet as follows:

<blockquote>
<ul>
<li>Vertical margins of elements <del>with 'overflow' other than
'visible'</del> <ins>that establish new block formatting contexts
(such as floats and elements with 'overflow' other than
'visible')</ins> do not collapse with their in-flow children.
</ul>
</blockquote>

<!--========================== issue 65 ===========================-->

<h3 id="s.9.2.2"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#inline-boxes">
Section&nbsp;9.2.2 Inline-level elements and inline boxes</a></h3>

<p><span class=date>[2008-12-02]</span> Added missing 'inline-block'
in: &ldquo;Several values of the 'display' property make an element
inline: 'inline', 'inline-table', <ins>'inline-block'</ins> and
'run-in' (part of the time; see run-in boxes).&rdquo;

<!--========================== issue 22 ===========================-->

<h3 id="s.9.2.4"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#display-prop">
Section&nbsp;9.2.4 The 'display' property</a></h3>

<p><span class=date>[2008-04-07]</span> Clarified that 'display: none'
also applies to non-visual media.

<!--========================== issue 43 ===========================-->

<h3 id="s.9.3.2"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#position-props">
Section&nbsp;9.3.2 Box offsets: 'top', 'right', 'bottom',
'left'</a></h3>

<p><span class=date>[2008-08-19]</span> Remove true but confusing note
(occurs 4&times;):

<blockquote>
<p><del>Note: For absolutely positioned elements whose containing
block is based on a block-level element, this property is an offset
from the padding edge of that element.</del>
</blockquote>

<!--========================== issue 17a ==========================-->

<h3 id="s.9.5"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#floats">
Section&nbsp;9.5 Floats</a></h3>

<p><span class=date>[2008-08-19]</span> Positioned descendants of a
float are in the stacking context of the float's parent. Add
&ldquo;positioned elements and&rdquo; to

<blockquote>
<p>[&hellip;] except that any <ins>positioned elements and</ins>
elements that actually create new stacking contexts take part in the
float's parent's stacking context.
</blockquote>

<p>Same change in <a
href="/TR/2007/CR-CSS21-20070719/visuren.html#layers">
Section&nbsp;9.9 Layered presentation</a>:

<blockquote>
<p>[&hellip;] except
that any <ins>positioned elements and</ins> any elements that actually
create new stacking contexts take part in the parent stacking
context.&rdquo;
</blockquote>

<!--========================== issue 60a ==========================-->

<h3 id="s.9.5a"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#floats">
Section&nbsp;9.5 Floats</a></h3>

<p><span class=date>[2008-12-02]</span> Remove &ldquo;'s&rdquo; that
may be misinterpreted: &ldquo;the float's parent<del>'s</del> stacking
context.&rdquo;

<!--========================== issue 97 ===========================-->

<h3 id="s.9.5.2"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#flow-control">
Section&nbsp;9.5.2 Controlling flow next to floats: the 'clear'
property</a></h3>

<p><span class=date>[2009-02-02]</span> Add an example of negative
clearance after the first note.

<!--========================== issue 77 ===========================-->

<h3 id="s.9.6.1"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#fixed-positioning">
Section&nbsp;9.6.1 Fixed positioning</a></h3>

<p><span class=date>[2008-11-03]</span> Added:

<blockquote><p><ins>Boxes with fixed position that are larger than the
page box are clipped. Parts of the fixed position box that are not
visible in the initial containing block will not print.</ins>
</blockquote>

<!--========================== issue 60b ==========================-->

<h3 id="s.9.9.1"><a
href="/TR/2007/CR-CSS21-20070719/visuren.html#z-index">
Section&nbsp;9.9.1 Specifying the stack level: the 'z-index'
property</a></h3>

<p><span class=date>[2008-12-02]</span> The list of stacking levels is
ambiguous: relatively positioned elements could fall under items 3/4/5
or under item 6. Meant is item 6, so exclude them from 3/4/5 as
follows:

<blockquote>
<ol>
<li>the background and borders of the element forming the stacking
  context.
<li>the stacking contexts of descendants with negative stack levels.
<li>a stacking level containing in-flow non-inline-level
  <ins>non-positioned</ins> descendants.
<li>a stacking level for <ins>non-positioned</ins> floats and their
  contents.
<li>a stacking level for in-flow inline-level
  <ins>non-positioned</ins> descendants.
<li>a stacking level for positioned descendants with 'z-index:
  auto', and any descendant stacking contexts with 'z-index: 0'.
<li>the stacking contexts of descendants with positive stack levels.
</ol>
</blockquote>

<!--========================== issue 93 ===========================-->

<h3 id="s.10.1"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#containing-block-details">
Section&nbsp;10.1 Definition of "containing block"</a></h3>

<p><span class=date>[2009-02-02]</span> Rephrase first bullet point to
make easier to read:

<blockquote>
<p><del>The containing block in which the root element lives is a
rectangle with the dimensions of the viewport, anchored at the canvas
origin for continuous media, and the page area for paged media. This
containing block is called the initial containing block.</del>
</blockquote>

<blockquote>
<p><ins>The containing block in which the root element lives is a
rectangle called the initial containing block. For continuous media,
it has the dimensions of the viewport and is anchored at the canvas
origin; it is the page area for paged media.</ins>
</blockquote>

<!--========================== issue 103a =========================-->

<h3 id="s.10.3"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#Computing_widths_and_margins">
Section&nbsp;10.3 Calculating widths and margins</a></h3>

<p><span class=date>[2009-04-15]</span> The values of 'left' and
'right' are only determined by section&nbsp;9.4.3 in the case of
relatively positioned elements:

<blockquote>
<p>For Points 1-6 and 9-10, the values of 'left' and 'right' <del>used
for layout</del> <ins>in the case of relatively positioned
elements</ins> are determined by the rules in <a
href="visuren.html#relative-positioning">section 9.4.3.</a>
</blockquote>

<!--========================== issue 103b =========================-->

<h3 id="s.10.3.1"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#inline-width">
Section&nbsp;10.3.1 Inline, non-replaced elements</a></h3>

<p><span class=date>[2009-04-15]</span> The only case in which 'left'
or 'right' can be 'auto' is when the element is statically positioned. 
In that case 'left' and 'right are ignored and there is thus no need
to determine a used value:

<blockquote>
<p>A computed value of 'auto' for <del>'left', 'right',</del>
'margin-left' or 'margin-right' becomes a used value of '0'.
</blockquote>

<!--========================== issue 12b ==========================-->

<h3 id="s.10.3.2"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#inline-replaced-width">
Section 10.3.2 Inline, replaced elements</a></h3>

<p><span class=date>[2007-11-14]</span> Add the following
paragraph:

<blockquote><p><ins>Otherwise, if 'width' has a computed value of
'auto', and the element has an intrinsic width, then that intrinsic
width is the used value of 'width'.</ins></blockquote>

<p>just before the paragraph beginning <q>Otherwise, if 'width' has a
computed value of 'auto', but none of the conditions above are met,
[&hellip;]</q>.

<!--========================== issue 33 ===========================-->

<h3 id="s.10.3.2a"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#inline-replaced-width">
Section 10.3.2 Inline, replaced elements</a></h3>

<p><span class=date>[2008-03-05]</span> Change the last paragraph as
follows:

<blockquote><p>If it does, <del>then a percentage intrinsic width on
that element cannot be resolved and the element is assumed to have no
intrinsic width</del> <ins>then the resulting layout is undefined in
CSS2.1</ins>.</blockquote>

<!--========================== issue 27a ==========================-->

<h3 id="s.10.3.3"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#blockwidth">
Section&nbsp;10.3.3 Block-level, non-replaced elements in normal
flow</a></h3>

<p><span class=date>[2008-03-05]</span> Scrollbar widths are no longer
included in the containing block width. Remove scrollbar width from:

<blockquote><p>'margin-left' + 'border-left-width' + 'padding-left' +
'width' + 'padding-right' + 'border-right-width' + 'margin-right'
<del>+ scrollbar width (if any)</del> = width of containing
block</blockquote>

<p>and from:

<blockquote><p>If 'width' is not 'auto' and 'border-left-width' +
'padding-left' + 'width' + 'padding-right' + 'border-right-width'
<del>+ scrollbar width (if any)</del> [...]</blockquote>

<p>and remove the paragraph:

<blockquote><p><del>The "scrollbar width" value is only relevant if
the user agent uses a scrollbar as its scrolling mechanism. See the
definition of the 'overflow' property.</del></blockquote>

<!--========================== issue 27b ==========================-->

<h3 id="s.10.3.7"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-non-replaced-width">
Section&nbsp;10.3.7 Absolutely positioned, non-replaced elements</a></h3>

<p><span class=date>[2008-03-05]</span> Scrollbar widths are no longer
included in the containing block width. Remove scrollbar width from:

<blockquote><p>'left' + 'margin-left' + 'border-left-width' +
'padding-left' + 'width' + 'padding-right' + 'border-right-width' +
'margin-right' + 'right' <del>+ scrollbar width (if any)</del> = width
of containing block</blockquote>

<p>and remove the paragraph:

<blockquote><p><del>The "scrollbar width" value is only relevant if
the user agent uses a scrollbar as its scrolling mechanism. See the
definition of the 'overflow' property.</del></blockquote>

<!--======================= issue 36a & 45 ========================-->

<h3 id="s.10.3.7a"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-non-replaced-width">
Section&nbsp;10.3.7 Absolutely positioned, non-replaced elements</a></h3>

<p><span class=date>[2008-03-05]</span> Add the following definition.

<p><span class=date>[2008-08-19]</span> Add the following note to that
definition.

<blockquote><p><ins>The <dfn>static-position containing block</dfn> is
the containing block of a hypothetical box that would have been the
first box of the element if its specified 'position' property had been
'static'
and its 'float' had been 'none'. (Note that due to the rules in
section 9.7 this hypothetical calculation might require also assuming
a different computed value for 'display'.)</ins></blockquote>

<p>And change which 'direction' property is used as follows (two
occurrences):

<blockquote><p>[...] if the 'direction' property of the <ins>element
establishing the static-position</ins> containing block is
[...]</blockquote>

<!--========================== issue 36b ==========================-->

<h3 id="s.10.3.8"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-replaced-width">
Section&nbsp;10.3.8 Absolutely positioned, replaced elements</a></h3>

<p><span class=date>[2008-03-05]</span> Change bullet&nbsp;2 as follows:

<blockquote><p>[...] if <ins>the</ins> 'direction' <ins>property</ins>
of the <ins>element establishing the static-position</ins> containing
block is [...]</blockquote>

<!--========================== issue 29 ===========================-->

<h3 id="s.10.3.8a"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-replaced-width">
Section&nbsp;10.3.8 Absolutely positioned, replaced elements</a></h3>

<p><span class=date>[2008-03-05]</span> Clarification. Replace

<blockquote><p><del>This situation is similar to the previous one,
except that the element has an intrinsic width. The sequence of
substitutions is now:</del></blockquote>

<p>by

<blockquote><p><ins>In this case, section 10.3.7 applies up through
and including the constraint equation, but the rest of section 10.3.7
is replaced by the following rules:</ins></blockquote>

<!--========================== issue 34a ==========================-->

<h3 id="s.10.3.8c"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-replaced-width">
Section&nbsp;10.3.8 Absolutely positioned, replaced elements</a></h3>

<p><span class=date>[2008-04-07]</span> Clarified that margins are
<em>not</em> calculated as for inline elements.

<!--========================== issue 50 ===========================-->

<h3 id="s.10.5"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#the-height-property">
Section&nbsp;10.5 Content height: the 'height' property</a></h3>

<p>Under &ldquo;&lt;percentage&gt;,&rdquo; add the same note as under
&ldquo;&lt;percentage&gt;,&rdquo; in section&nbsp;10.2 (&ldquo;Content
width: the 'width' property&rdquo;).

<!--========================== issue 12a ==========================-->

<h3 id="s.10.6.2"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#inline-replaced-height">
Section 10.6.2 Inline replaced elements [&hellip;]</a></h3>

<p><span class=date>[2007-11-14]</span> Add the following
paragraph:

<blockquote><p><ins>Otherwise, if 'height' has a computed value of
'auto', and the element has an intrinsic height, then that intrinsic
height is the used value of 'height'.</ins></blockquote>

<p>just before the paragraph beginning <q>Otherwise, if 'height' has a
computed value of 'auto', but none of the conditions above are
met [&hellip;]</q>.

<!--========================== issue 42 ===========================-->

<h3 id="s.10.6.4"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-non-replaced-height">
Section&nbsp;10.6.4 Absolutely positioned, non-replaced
elements</a></h3>

<p><span class=date>[2008-11-26]</span> The static position is
determined considering <em>neither</em> float <em>nor</em> clear. Add
this:

<blockquote><p>[&hellip;] and its specified 'float' had been 'none'
<ins>and 'clear' had been 'none'</ins>.</blockquote>

<!--========================== issue 34b ==========================-->

<h3 id="s.10.6.5"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#abs-replaced-height">
Section&nbsp;10.6.5 Absolutely positioned, replaced elements</a></h3>

<p><span class=date>[2008-04-07]</span> Clarified that margins are
<em>not</em> calculated as for inline elements.

<!--========================== issue 9 ============================-->

<h3 id="s.10.8.1"><a
href="/TR/2007/CR-CSS21-20070719/visudet.html#leading"> Section 10.8.1
Leading and half-leading</a></h3>

<p><span class=date>[2007-11-14]</span> In the Note under
'vertical-align', remove <q>slightly</q> from <q>Values of
this property have <del>slightly</del> different meanings in the
context of tables.</q>

<!--========================== issue 27c, 80 ======================-->

<h3 id="s.11.1.1"><a
href="/TR/2007/CR-CSS21-20070719/visufx.html#overflow">
Section&nbsp;11.1.1 Overflow: the 'overflow' property</a></h3>

<p><span class=date>[2008-03-05]</span> Scrollbar widths are no longer
included in the containing block width. Replace

<blockquote><p><del>The space taken up by the scrollbars affects the
computation of the dimensions in the rendering
model.</del></blockquote>

<p>by

<blockquote><p><ins>Any space taken up by the scrollbars should be
taken out of (subtracted from the dimensions of) the containing block
formed by the element with the scrollbars.</ins></blockquote>

<p><span class=date>[2008-11-03]</span> 'Overflow' on BODY is special
not only in HTML but also in XHTML. Change the sentence
&ldquo;<del>HTML UAs must instead apply the 'overflow' property from
the BODY element to the viewport, if the value on the HTML element is
'visible'.</del>&rdquo; to:

<blockquote><p><ins>When the root element is an HTML "HTML" element or
an XHTML "html" element, and that element has an HTML "BODY" element
or an XHTML "body" element as a child, user agents must instead apply
the 'overflow' property from the first such child element to the
viewport, if the value on the root element is 'visible'.</ins>
</blockquote>

<!--========================== issue 28 ===========================-->

<h3 id="s.11.1.2"><a
href="/TR/2007/CR-CSS21-20070719/visufx.html#clipping">
Section&nbsp;11.1.2 Clipping: the 'clip' property</a></h3>

<p><span class=date>[2008-03-05]</span> Insert <q>(but not a
combination)</q> in <q>User agents must support separation with
commas, but may also support separation without commas <ins>(but not a
combination)</ins></q>.

<!--========================== issue 108 ==========================-->

<h3 id="s.12.2"><a
href="/TR/2007/CR-CSS21-20070719/generate.html#content">
Section&nbsp;12.2 The 'content' property</a></h3>

<p><span class=date>[2009-04-15]</span> (And also in
section&nbsp;12.4:) certain keywords, in particular 'none', 'inherit'
and 'initial' (the latter being reserved for future use) cannot be
used as names for counters.

<!--========================== issue 30 ===========================-->

<h3 id="s.12.4.2"><a
href="/TR/2007/CR-CSS21-20070719/generate.html#counter-styles">
Section&nbsp;12.4.2 Counter styles</a></h3>

<p><span class=date>[2008-03-05]</span> Error in example. Replace
hebrew by lower-greek:

<pre>BLOCKQUOTE:after { content: " [" counter(bq, <del>hebrew</del> <ins>lower-greek</ins>) "]" }</pre>

<!--========================== issue 58 ===========================-->

<h3 id="s.12.5"><a
href="/TR/2007/CR-CSS21-20070719/generate.html#lists">
Section&nbsp;12.5 Lists</a></h3>

<p><span class=date>[2008-12-01]</span> Change &ldquo;in&rdquo; to
&ldquo;with respect to&rdquo; in

<blockquote><p>The list properties describe basic visual formatting of
lists: they allow style sheets to specify the marker type (image,
glyph, or number), and the marker position <del>in</del> <ins>with
respect to</ins> the principal box (outside it or within it before
content).
</blockquote>

<p>because the marker is, as the rest of the sentence itself makes
clear, not necessarily <em>in</em> the principal box.

<!--========================== issue 10a ==========================-->

<h3 id="s.12.5.1"><a
href="/TR/2007/CR-CSS21-20070719/generate.html#list-style">
Section&nbsp;12.5.1 Lists: the 'list-style-type', 'list-style-image',
'list-style-position', and 'list-style' properties</a></h3>

<p><span class=date>[2008-04-07]</span> The size of list style markers
without an intrinsic size is now defined.

<!--===================== issue 54 & 59 & 64 ======================-->

<h3 id="s.12.5.1a"><a
href="/TR/2007/CR-CSS21-20070719/generate.html#list-style">
Section&nbsp;12.5.1 Lists: the 'list-style-type', 'list-style-image',
'list-style-position', and 'list-style' properties</a></h3>

<p><span class=date>[2008-12-01]</span> CSS&nbsp;2.1 does not specify
the position of the list item marker, but <em>does</em> require it to
be on the left or right of the content. Also, the marker is not
affected by 'overflow', but <em>may</em> influence the height of the
      principal box. Add to the definition of 'outside':

<blockquote><p><ins>&hellip; but does require that for list items whose
'direction' property is 'ltr' the marker box be on the left side of
the content and for elements whose 'direction' property is 'rtl' the
marker box be on the right side of the content. 'overflow' on the
element does not clip the marker box. The marker box is fixed with
respect to the principal block box's border and does not scroll with
the principal block box's content. The size or contents of the marker
box may affect the height of the principal block box and/or the height
of its first line box, and in some cases may cause the creation of a
new line box. Note: This interaction may be more precisely defined in
a future level of CSS.</ins>
</blockquote>

<!--========================== issue 94 ===========================-->

<h3 id="s.12.5.1b"><a
href="/TR/2007/CR-CSS21-20070719/generate.html#list-style">
Section&nbsp;12.5.1 Lists: the 'list-style-type', 'list-style-image',
'list-style-position', and 'list-style' properties</a></h3>

<p><span class=date>[2009-04-015]</span> Meaning of 'none' for
'list-style' was only defined by an example.

<!--========================== issue 39 ===========================-->

<h3 id="s.13.2"><a
href="/TR/2007/CR-CSS21-20070719/page.html#page-box">
Section&nbsp;13.2 Page boxes: the @page rule</a></h3>

<p><span class=date>[2008-08-19]</span> Add rules for drawing canvas
to:

<blockquote>
<ul>
<li>The page area. The page area includes the boxes laid out on that
page. The edges of the first page area establish the rectangle that is
the initial containing block of the document. <ins>The canvas
background is painted within and covers the page area.</ins>

<li>The margin area, which surrounds the page area. <ins>The page
margin area is transparent.</ins>
</ul>
</blockquote>

<!--========================== issue 95 ===========================-->

<h3 id="s.13.2.1.1"><a
href="/TR/2007/CR-CSS21-20070719/page.html#oversized-page-box">
Section&nbsp;13.2.1.1 Rendering page boxes that do not fit a target
sheet</a></h3>

<p><span class=date>[2009-02-02]</span> <p>Remove sections 13.2.1.1
and 13.2.1.2. (The described situations cannot occur in CSS&nbsp;2.1,
because CSS&nbsp;2.1 does not have a 'size' property.)

<!--========================== issue 76 ===========================-->

<h3 id="s.13.2.3"><a
href="/TR/2007/CR-CSS21-20070719/page.html#outside-page-box">
Section&nbsp;13.2.3 Content outside the page box</a></h3>

<p><span class=date>[2008-11-03]</span> Clarified what locations are
inconvenient for printing:

<blockquote><p>When formatting content in the page model, some content
may end up outside the <ins>current</ins> page box. For example, an
element whose 'white-space' property has the value 'pre' may generate
a box that is wider than the page box. <ins>As another example,</ins>
when boxes are positioned absolutely <ins>or relatively</ins>, they
may end up in &ldquo;inconvenient&rdquo; locations. For example,
images may be placed on the edge of the page box or 100,000 meters
below the page box.
</blockquote>

<!--============== issue 44a = ISSUE-35a ==========================-->

<h3 id="s.13.3.1"><a
href="/TR/2007/CR-CSS21-20070719/page.html#page-break-props">
Section&nbsp;13.3.1 Page break properties: 'page-break-before',
'page-break-after', 'page-break-inside'</a></h3>

<p><span class=date>[2008-04-30]</span> The 'page-break-inside'
property no longer inherits.</p>

<!--========================== issue 52 ===========================-->

<h3 id="s.13.3.1a"><a
href="/TR/2007/CR-CSS21-20070719/page.html#page-break-props">
Section&nbsp;13.3.1 Page break properties: 'page-break-before',
'page-break-after', 'page-break-inside'</a></h3>

<p><span class=date>[2008-12-01]</span> UAs <em>may</em> apply
'page-break-before', 'page-break-after' and 'page-break-inside' to
other elements than block-level ones.

<!--========================== issue 92 ===========================-->

<h3 id="s.13.3.2"><a
href="/TR/2007/CR-CSS21-20070719/page.html#break-inside">
Section&nbsp;13.3.2 Breaks inside elements: 'orphans',
'widows'</a></h3>

<p><span class=date>[2009-02-02]</span> &ldquo;Paragraph&rdquo; is not
a defined term. Change <del>of a paragraph</del> to <ins>in a block
element</ins> (twice).

<!--========================== issue 105 ==========================-->

<h3 id="s.13.3.2a"><a
href="/TR/2007/CR-CSS21-20070719/page.html#break-inside">
Section&nbsp;13.3.2 Breaks inside elements: 'orphans',
'widows'</a></h3>

<p><span class=date>[2009-04-15]</span> 'Widows' and 'orphans' only
accept positive values.

<!--============== issue 44b = ISSUE-35b ==========================-->

<h3 id="s.13.3.3"><a
href="/TR/2007/CR-CSS21-20070719/page.html#allowed-page-breaks">
Section&nbsp;13.3.3 Allowed page breaks</a></h3>

<p><span class=date>[2008-04-30]</span> The 'page-break-inside'
property of all ancestors is checked for page-breaking restrictions,
not just that of the breakpoint's parent.</p>

<!--========================== issue 96 ===========================-->

<h3 id="s.13.3.3a"><a
href="/TR/2007/CR-CSS21-20070719/page.html#allowed-page-breaks">
Section&nbsp;13.3.3 Allowed page breaks</a></h3>

<p><span class=date>[2009-02-02]</span> Remove possible confusion:

<blockquote>
<p>Rule D: In addition, breaking at (2) is allowed only if the
'page-break-inside' property of <ins>the element and</ins> all
<ins>its</ins> ancestors is 'auto'.
</blockquote>

<!--========================== issue 98 ===========================-->

<h3 id="s.13.3.3b"><a
href="/TR/2007/CR-CSS21-20070719/page.html#allowed-page-breaks">
Section&nbsp;13.3.3 Allowed page breaks</a></h3>

<p><span class=date>[2009-02-02]</span> Top margins do <em>not</em>
disappear at a page break that is forced by a 'page-break-after' or
'page-break-before'. Correct the first bullet to:

<blockquote>
<p>When an <ins>unforced</ins> page break occurs here, the used values
of the relevant 'margin-top' and 'margin-bottom' properties are set to
'0'. <ins>When a forced page break occurs here, the used value of the
relevant 'margin-bottom' property is set to '0'; the relevant
'margin-top' used value may either be set to '0' or retained.</ins>
</blockquote>

<p>And add the following note:

<blockquote>
<p><ins> Note: It is expected that CSS3 will specify that the relevant
'margin-top' applies (i.e., is not set to '0') after a forced page
break.</ins>
</blockquote>

<!--========================== issue 74 ===========================-->

<h3 id="s.13.3.5"><a
href="/TR/2007/CR-CSS21-20070719/page.html#best-page-breaks">
Section&nbsp;13.3.5 "Best" page breaks</a></h3>

<p><span class=date>[2009-02-02]</span> Remove the advice to user
agents to avoid breaking inside elements with borders, inside tables
or inside floating elements; add the advice to avoid breaking inside
replaced elements.

<!--========================== issue 80 ===========================-->

<h3 id="s.14.2"><a
href="/TR/2007/CR-CSS21-20070719/colors.html#background">
Section&nbsp;14.2 The background</a></h3>

<p><span class=date>[2008-11-03]</span> The 'background' property is
special on BODY not only in HTML but also in XHTML.

<!--========================== issue 100 ==========================-->

<h3 id="s.14.2a"><a
href="/TR/2007/CR-CSS21-20070719/colors.html#background">
Section&nbsp;14.2 The background</a></h3>

<p><span class=date>[2009-04-15]</span> The whole 'background'
property is used for the canvas, not just the color and the image:

<blockquote>
<p>For documents whose root element is an HTML "HTML" element or an
XHTML "html" element that has computed values of 'transparent' for
'background-color' and 'none' for 'background-image', user agents must
instead use the computed value of <del>those</del> <ins>the
background</ins> properties from that element's first HTML "BODY"
element or XHTML "body" element child [&hellip;]
</blockquote>

<!--========================== issue 10b ==========================-->

<h3 id="s.14.2.1a"><a
href="/TR/2007/CR-CSS21-20070719/colors.html#background-properties">
Section 14.2.1 Background properties: 'background-color',
'background-image', 'background-repeat', 'background-attachment',
'background-position', and 'background'</a></h3>

<p><span class=date>[2008-04-07]</span> The size of background images
without an intrinsic size is now defined.

<!--======================== issue 48 & 49 ========================-->

<h3 id="s.15.6"><a
href="/TR/2007/CR-CSS21-20070719/fonts.html#font-boldness">
Section&nbsp;15.6 Font boldness: the 'font-weight' property</a></h3>

<p><span class=date>[2008-11-26]</span> Remove incorrect text:

<blockquote>
<ul>
<li>'bolder' selects the next weight that is assigned to a font that
is darker than the inherited one. <del>If there is no such weight, it
simply results in the next darker numerical value (and the font
remains unchanged), unless the inherited value was '900' in which case
the resulting weight is also '900'.</del>

<li>'lighter' is similar, but works in the opposite direction: it
selects the next lighter keyword with a different font from the
inherited one, <del>unless there is no such font, in which case it
selects the next lighter numerical value (and keeps the font
unchanged)</del>.
</ul>
</blockquote>

<p>and:

<blockquote><p><del>The computed value of "font-weight" is
either:</del>
<ul>
<li><del>one of the legal number values, or</del>

<li><del>one of the legal number values combined with one or more of
the relative values (bolder or lighter). This type of computed values
is necessary to use when the font in question does not have all weight
variations that are needed.</del>
</ul>
</blockquote>

<p>And instead add this note:

<blockquote><p><ins>Note: A set of nested elements that mix 'bolder'
and 'lighter' will give unpredictable results depending on the UA, OS,
and font availability. This behavior will be more precisely defined in
CSS3.</ins>
</blockquote>

<!--========================== issue 37a ==========================-->

<h3 id="s.16.6"><a
href="/TR/2007/CR-CSS21-20070719/text.html#white-space-prop">
Section&nbsp;16.6 Whitespace: the 'white-space' property</a></h3>

<p><span class=date>[2008-08-19]</span> Remove rules about generated
text from:

<blockquote>
<p>The following examples show what whitespace behavior is expected
from the PRE and P elements, the &ldquo;nowrap&rdquo; attribute in
HTML, <del>and in generated content</del>.

<pre>pre        { white-space: pre }
p          { white-space: normal }
td[nowrap] { white-space: nowrap }
<del>:before,:after { white-space: pre-line }</del></pre>
</blockquote>

<!--========================== issue 91 ===========================-->

<h3 id="s.16.6.1"><a
href="/TR/2007/CR-CSS21-20070719/text.html#white-space-model">
Section&nbsp;16.6.1 The 'white-space' processing model</a></h3>

<p><span class=date>[2009-02-02]</span> Collapsing of white space does
not remove any line breaking oppportunities. Add the following
clarification:

<blockquote>
<p>Then, the entire block is rendered. Inlines are laid out, taking
bidi reordering into account, and wrapping as specified by the
'white-space' property. <ins>When wrapping, line breaking
opportunities are determined based on the text prior to the white
space collapsing steps above.</ins>
</blockquote>

<!--========================== issue 11a ==========================-->

<h3 id="s.17.2.1"><a
href="/TR/2007/CR-CSS21-20070719/tables.html#anonymous-boxes"> Section
17.2.1 Anonymous table objects</a></h3>

<p><span class=date>[2007-11-14]</span> Spelling error:
<q>boxes<del>s</del></q>.

<!--========================== issue 8 ============================-->

<h3 id="s.17.2.1a"><a
href="/TR/2007/CR-CSS21-20070719/tables.html#anonymous-boxes"> Section
17.2.1 Anonymous table objects</a></h3>

<p><span class=date>[2008-10-13]</span> Added new rule after
bullet&nbsp;4:

<blockquote>
<p><ins>5. If a child T of a 'table', 'inline-table', 'table-row-group',
'table-header-group', 'table-footer-group', or 'table-row' box is an
anonymous inline box that contains only white space, then it is
treated as if it has 'display: none'.</ins>
</blockquote>

<!--========================== issue 88 ===========================-->

<h3 id="s.17.4"><a
href="/TR/2007/CR-CSS21-20070719/tables.html#model">
Section&nbsp;17.4 Tables in the visual formatting model</a></h3>

<p><span class=date>[2009-02-02]</span> The anonymous block containing
the table and its caption establishes a block formatting context:

<blockquote>
<p>The anonymous box is a 'block' box if the table is block-level, and
an 'inline-block' box if the table is inline-level <del>except that
this block is never considered as a block for 'run-in' interaction,
and that </del> <ins>The anonymous box establishes a block formatting
context.</ins> The table box (not the anonymous box) is used when
doing baseline vertical alignment for an 'inline-table'.
</blockquote>

<p>The diagram now shows the caption's margins <em>inside</em> the
anonymous box.

<!--======================= issue 20 & 112 ========================-->

<h3 id="s.17.5.4a"><a
href="/TR/2007/CR-CSS21-20070719/tables.html#column-alignment">
Section&nbsp;17.5.4 Horizontal alignment in a column</a></h3>

<p><span class=date>[2008-04-07]</span> Clarification:

<blockquote><p>The horizontal alignment of a cell's <ins>inline</ins>
content within a cell box <del>is</del> <ins>can be</ins> specified
<del>with the 'text-align' property</del> <ins>by the value of the
'text-align' property on the cell</ins>.</blockquote>

<!--========================== issue 10c ==========================-->

<h3 id="s.18.1"><a
href="/TR/2007/CR-CSS21-20070719/ui.html#cursor-props">
Section&nbsp;18.1 Cursors: the 'cursor' property</a></h3>

<p><span class=date>[2008-04-07]</span> The size of cursors without an
intrinsic size is now defined.

<!--========================== issue 11b ==========================-->

<h3 id="s.B.2"><a href="/TR/2007/CR-CSS21-20070719/refs.html#q2">
Section B.2 Informative references</a></h3>

<p><span class=date>[2007-11-14]</span> Spelling error: change
<q><del>?</del>lik</q> to <q><ins>&Ccedil;</ins>elik</q>
(2&times;).

<!--========================== issue 37b ==========================-->

<h3 id="s.D"><a href="/TR/2007/CR-CSS21-20070719/sample.html">
Appendix&nbsp;D. Default style sheet for HTML 4</a></h3>

<p><span class=date>[2008-08-19]</span> Replace

<pre>br:before       { content: "\A" }
:before, :after { white-space: pre-line }</pre>

<p>with

<pre>br:before       { content: "\A"; white-space: pre-line }</pre>

<!--========================== issue 40 ===========================-->

<h3 id="s.Da"><a href="/TR/2007/CR-CSS21-20070719/sample.html">
Appendix&nbsp;D. Default style sheet for HTML 4</a></h3>

<p><span class=date>[2008-08-19]</span> Add tr to:

<pre>td, th<ins>, tr</ins>      { vertical-align: inherit }</pre>

<!--========================== issue 17b ==========================-->

<h3 id="s.E.2"><a
href="/TR/2007/CR-CSS21-20070719/zindex.html#painting-order"> Section
E.2 Painting order</a></h3>

<p><span class=date>[2007-11-14]</span> Replace <q>but any descendants
which actually create a new stacking context</q> by <q>but any
<ins>positioned descendants and</ins> descendants which actually
create a new stacking context</q>.

<!--========================== issue 5 ============================-->

<h3 id=s.G><a href="/TR/2007/CR-CSS21-20070719/grammar.html"> Appendix
G. Grammar of CSS 2.1</a></h3>

<p><span class=date>[2007-09-27]</span> Change the last <q>S</q> in
the grammar rule for <q>combinator</q> to
<q>S+</q>:

<pre>combinator
  : PLUS S*
  | GREATER S*
  | S<ins>+</ins></pre>

<p>and remove the rule

<pre><del>{s}+\/\*[^*]*\*+([^/*][^*]*\*+)*\/  {unput(' '); /*replace by space*/}</del></pre>

<p>in the tokenizer. The resulting language is the same, but the
grammar is easier to read and relies less on specific notations of
Flex.

<!--========================= issue 104 ===========================-->

<h3 id=s.G.1><a
href="/TR/2007/CR-CSS21-20070719/grammar.html#grammar">
Section&nbsp;G.1 Grammar</a></h3>

<p><span class=date>[2007-09-27]</span> Changes to remove ambiguity
with respect to the S token and avoid nullable non-terminals.

<!--========================== issue 3 ============================-->

<h3 id=s.G.2><a
href="/TR/2007/CR-CSS21-20070719/grammar.html#scanner">
Section G.2 Lexical scanner</a></h3>

<p><span class=date>[2007-09-27]</span> Change the tokenizer rule
<pre><del>@{C}{H}{A}{R}{S}{E}{T}</del>	{return CHARSET_SYM;}</pre>
<p>to
<pre><ins>"@charset "</ins>  {return CHARSET_SYM;}</pre>

<p>The @charset must be in lowercase and must have a space after it
(as defined in section&nbsp;<a
href="http://www.w3.org/TR/2007/CR-CSS21-20070719/syndata.html#charset">
4.4 CSS style sheet representation</a>).

<!--========================== issue 23 ===========================-->

<h3 id=s.G.2a><a
href="/TR/2007/CR-CSS21-20070719/grammar.html#scanner">
Section G.2 Lexical scanner</a></h3>

<p><span class=date>[2008-03-05]</span> Change the tokenizer rules

<pre><del>"url</del>("{w}{string}{w}")" {return URI;}
<del>"url</del>("{w}{url}{w}")"    {return URI;}</pre>

<p>to

<pre><ins>{U}{R}{L}"</ins>("{w}{string}{w}")"	{return URI;}
<ins>{U}{R}{L}"</ins>("{w}{url}{w}")"	{return URI;}</pre>



<!--========================== issue 55 ===========================-->

<h3 id=s.G.2b><a
href="/TR/2007/CR-CSS21-20070719/grammar.html#scanner">
Section&nbsp;G.2 Lexical scanner</a></h3>

<p><span class=date>[2008-04-07]</span> The definition of the macro
&ldquo;O&rdquo; is wrong. The letters O
and o can be written with hexadecimal escapes as
&ldquo;<code>\4f</code>&rdquo; and &ldquo;<code>\6f</code>&rdquo;
respectively (<em>not</em> as &ldquo;<code>\51</code>&rdquo; and
&ldquo;<code>\71</code>&rdquo;). The macro should therefore be

<pre>O		o|\\0{0,4}(4f|6f)(\r\n|[ \t\r\n\f])?|\\o</pre>

<!--========================== issue 99 ===========================-->

<h3 id=s.G.2c><a
href="/TR/2007/CR-CSS21-20070719/grammar.html#scanner">
Section&nbsp;G.2 Lexical scanner</a></h3>

<p>&ldquo;The two occurrences of "\377"&hellip;&rdquo;: There is in
fact only one occurrence.

<!--========================== issue 21 ===========================-->

<h3 id=s.I><a href="/TR/2007/CR-CSS21-20070719/indexlist.html">
Appendix&nbsp;I. Index</a></h3>

<p>Add a TITLE attribute to all links and which is equal to the lemma.

<h2><a name=errata2>Errata since the Candidate Recommendation of April
2009</a></h2>

<p>These are the errata for <a
href="http://www.w3.org/TR/2009/CR-CSS2-20090423">CSS level 2
revision 1, CR version of 23 April 2009.</a> These corrections have the
status of a draft.

<p>There are no errata at this point.


</BODY>
</HTML>

