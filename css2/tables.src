<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en">
<!-- $Id: tables.src,v 2.27 1998-03-24 04:30:17 ijacobs Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
<title>Tables</title>
</head>
<body>
<h1 align="center"><a name="visual-tables">Tables</a></h1>
<h2>Introduction to tables</h2>

<p><span class="index-def" title="tables">Tables</span> represent
relationships between data. Authors specify these relationships in the
<a href="conform.html#doclanguage">document language</a> and specify
their <em>presentation</em> in CSS, in two ways: visually and aurally.

<P>Authors may specify the visual rendering of a table as a
rectangular grid of cells. Rows and columns of cells may be organized
into row groups and column groups. Rows, columns, row groups, row
columns, and cells may have borders drawn around them (there are two
border models in CSS2). Authors may align data vertically or
horizontally within a cell and align data in all cells of a row or
column.

<P>Authors may also specify the aural rendering of a table; how
headers and data will be spoken. In the document language, authors may
label cells and groups of cells so that when rendered aurally, cell
headers are spoken before cell data. In effect, this "serializes" the
table: users browsing the table aurally hear a sequence of headers
followed by data.

<div class="example"><P>
Here is a simple three-row, three-column 
table described in HTML 4.0:

<PRE class="html-example">
&lt;TABLE&gt;
&lt;CAPTION&gt;This is a simple 3x3 table&lt;/CAPTION&gt;
&lt;TR id="row1"&gt;
   &lt;TH&gt;Header 1      &lt;TD&gt;Cell 1        &lt;TD&gt;Cell 2
&lt;TR id="row2"&gt;
   &lt;TH&gt;Header 2      &lt;TD&gt;Cell 3        &lt;TD&gt;Cell 4
&lt;TR id="row3"&gt;
   &lt;TH&gt;Header 3      &lt;TD&gt;Cell 5        &lt;TD&gt;Cell 6
&lt;/TABLE&gt;
</PRE>

<P>This code creates one table (the TABLE element), three
rows (the TR elements), three header cells (the TH elements),
and six data cells (the TD elements). Note that the three columns
of this example are specified implicitly: there are as many
columns in the table as required by header and data cells.

<P>The following CSS rule centers the text horizontally
in the header cells and present the data with a bold font weight:</P>

<PRE>
TH { text-align: center; font-weight: bold }
</PRE>

<P>The next rules align the text of the header cells on their baseline
and vertically centers the text in each data cell:</p>

<PRE>
TH { vertical-align: baseline }
TD { vertical-align: middle }
</PRE>

<P>The next rules specify that the top row will be surrounded by a 3px
solid blue border and each of the other rows will be surrounded by a
1px solid black border:</P>

<PRE>
TABLE { border-spacing: none }
TR#row1 { border-top: 3px solid blue }
TR#row2 { border-top: 1px solid black }
TR#row3 { border-top: 1px solid black }
</PRE>

<P>Note, however, that the borders around the rows overlap where the
rows meet. What color (black or blue) and thickness (1px or 3px) will
the border between row1 and row2 be? We discuss this in the section on
<a href="#border-conflict-resolution">border conflict resolution.</a>

<P>The following rule puts the table caption above the table:</P>

<PRE>
CAPTION { caption-side: top }
</PRE>

<P>Finally, the following rule specifies that, when rendered aurally,
each row of data is to be spoken as a "Header, Data, Data":</P>

<PRE>
TH { speak-header: once }
</PRE>

<P>For instance, the first row would be spoken "Header1 Cell1 Cell2".
On the other hand, with the following rule:</p>

<PRE>
TH { speak-header: always }
</PRE>

<P>it would be spoken "Header1 Cell1 Header1 Cell2". 
</div>

<P>The preceding example shows how CSS works with HTML 4.0 elements;
in HTML 4.0, the semantics of the various table elements (TABLE,
CAPTION, THEAD, TBODY, TFOOT, COL, COLGROUP, TH, and TD) are
well-defined. In other document languages (such as XML applications),
there may not be pre-defined table elements. Therefore, CSS2 allows
authors to <span class="index-inst" title="mapping elements to table
parts">"map"</span> document language elements to table elements via
the <span class="propinst-display">'display'</span> property. For
example, the following rule makes the FOO element act like an HTML
TABLE element and the BAR element act like a CAPTION element:</p>

<PRE class="example">
FOO { display : table }
BAR { display : table-caption }
</PRE>

<P>We discuss the various table elements in the following section. In
this specification, the term <span class="index-def" title="table
element"><dfn>table element</dfn></span> refers to any element
involved in the creation of a table. An <span class="index-def"
title="internal table element|table element::internal">"internal"
table element</span> is one that produces a row, row group, column,
column group, or cell.

<H2>The CSS table model</h2>

<P>The CSS table model is based on the HTML 4.0 table model, in which
the structure of a table closely parallels the visual layout of the
table. In this model, a table consists of an optional caption and any
number of rows of cells. The table model is said to be "row primary"
since authors specify rows, not columns, explicitly in the document
language. Columns are derived once all the rows have been specified --
the first cell of each row belongs to the first column, the second to
the second column, etc.). Rows and columns may be grouped structurally
and this grouping reflected in presentation (e.g., a border may
be drawn around a group of rows).

<P>Thus, the table model consists of tables, captions, 
rows, row groups, columns, column groups, and cells. 

<P>The CSS model does not require that the <a
href="conform.html#doclanguage">document language</a> include elements
that correspond to each of these components.  For document languages
(such as XML applications) that do not have pre-defined table
elements, authors must map document language elements to table
elements; this is done with the <span
class="propinst-display">'display'</span> property. The following
<span class="propinst-display">'display'</span> values assign table
semantics to an arbitrary element:</p>

<dl>
<dt><strong><span class="index-def" title="table"><a class="value-def"
name="value-def-table">table</a></span></strong> (In HTML: TABLE)

<dd>Specifies that an element defines a <a
href="visuren.html#block-level">block-level</a> table: it
is a rectangular block that participates
in a <a href="visuren.html#block-formatting">block formatting
context</a>.

<dt><strong><span class="index-def" title="inline-table"><a
class="value-def"
name="value-def-inline-table">inline-table</a></span></strong> (In
HTML: TABLE)

<dd>Specifies that an element defines an 
<a href="visuren.html#inline-level">inline-level</a> table: it
is a rectangular block that participates 
in an <a href="visuren.html#inline-formatting">inline formatting
context</a>).

<dt><strong><span class="index-def" title="table-row"><a
class="value-def"
name="value-def-table-row">table-row</a></span></strong> (In HTML: TR)

<dd>Specifies that an element is a row of cells.
<!--Note, however, that the calculation of <em>which</em> row of
cells depends on the document language.-->

<dt><strong><span class="index-def" title="table-row-group"><a
class="value-def"
name="value-def-table-row-group">table-row-group</a></span></strong>
(In HTML: TBODY) <dd>Specifies that an element groups one or more
rows.

<dt><strong><span class="index-def" title="table-header-group"><a
class="value-def"
name="value-def-table-header-group">table-header-group</a></span></strong>
(In HTML: THEAD) <dd>Like 'table-row-group', but for visual rendering,
the row group is always displayed before all other rows and rowgroups
and after any top captions.

<dt><strong><span class="index-def" title="table-footer-group"><a
class="value-def"
name="value-def-table-footer-group">table-footer-group</a></span></strong>
(In HTML: TFOOT)

<dd>Like 'table-row-group', but for visual rendering, the row group is
always displayed after all other rows and rowgroups and before any
bottom captions.

<dt><strong><span class="index-def" title="table-column"><a
class="value-def"
name="value-def-table-column">table-column</a></span></strong> (In
HTML: COL)

<dd>Specifies that an element describes a column
of cells. <!--Note, however, that the calculation of <em>which</em> column 
of cells depends on the document language.-->

<dt><strong><span class="index-def" title="table-column-group"><a
class="value-def"
name="value-def-table-column-group">table-column-group</a></span></strong>
(In HTML: COLGROUP)

<dd>Specifies that an element groups one or more columns.

<dt><strong><span class="index-def" title="table-cell"><a
class="value-def"
name="value-def-table-cell">table-cell</a></span></strong> (In HTML:
TD, TH)

<dd>Specifies that an element represents a table cell.

<dt><strong><span class="index-def" title="table-caption"><a
class="value-def"
name="value-def-table-caption">table-caption</a></span></strong> (In
HTML: CAPTION)

<dd>Specifies a caption for the table.
</dl>

<!-- table-column-header-group? StevenP 27/2/98 -->

<p>Elements with <span class="propinst-display">'display'</span> set
to 'table-column' or 'table-column-group' are not rendered (exactly as
if they had 'display: none'), but they are useful, because they may
have attributes which induce a certain style for the columns they
represent.</p>

<p>The <a href="sample.html">default style sheet for HTML 4.0</a>
in the appendix illustrates the use of these values for HTML 4.0:</p>

<pre class="example">
TABLE    { display: table }
TR       { display: table-row }
THEAD    { display: table-header-group }
TBODY    { display: table-row-group }
TFOOT    { display: table-footer-group }
COL      { display: table-column }
COLGROUP { display: table-column-group }
TD, TH   { display: table-cell }
CAPTION  { display: table-caption }
</pre>

<P>User agents may <a href="syndata.html#ignore">ignore</a> these <span
class="propinst-display">'display'</span> property values for HTML
documents, since authors should not alter an element's expected
behavior.

<h3><a name="anonymous-boxes">Anonymous table boxes</a></h3> 

<P>Document languages other than HTML may not contain all the elements
in the CSS2 table model. In these cases, the "missing" elements must
be assumed in order for the table model to work. The missing elements
generate <a href="visuren.html#anonymous">anonymous</a> boxes
according to the following rules:</p>

<ol>

<li>Any table element will automatically generate necessary table
boxes around itself, consisting of at least three nested boxes
corresponding to a 'table'/'inline-table' element, a 'table-row'
element, and a 'table-cell' element.

<li>If the parent of a 'table-cell' is not a 'table-row', a
'table-row' element will be assumed as its parent, and this 
element will generate an anonymous box that spans 
all consecutive 'table-cell' siblings.

<li>If the parent of a 'table-row' is not a 'table', 'inline-table',
or 'row-group' element, the 'table-row' will be assumed to have a
parent 'table' element that generates a box spanning all consecutive
siblings also requiring a 'table' parent.

<li>If the parent of a 'table-row-group' is not a 'table'
or 'inline-table', the 'table-row-group' will be assumed to have a
parent 'table' element that generates a box spanning all consecutive
siblings also requiring a 'table' parent.

<li>'table-cell' elements are inserted as children of a
'table-row' element to contain consecutive children that are not
'table-cell' elements.
</ol>

<div class="example">
<p>In this XML example, a 'table' element is assumed
to contain the HBOX element:</p>

<pre class="xml-example">
&lt;HBOX&gt;
  &lt;VBOX&gt;George&lt;/VBOX&gt;
  &lt;VBOX&gt;4287&lt;/VBOX&gt;
  &lt;VBOX&gt;1998&lt;/VBOX&gt;
&lt;/HBOX&gt;
</pre>

<p>because the associated style sheet is:</p>

<pre class="example">
HBOX {display: table-row}
VBOX {display: table-cell}
</pre>
</div><!-- end of example -->

<div class="example">
<p>In this example, three 'table-cell' elements are assumed
to contain the text in the ROWs. Note that the text is further
encapsulated in anonymous inline boxes, as explained in <a
href="visuren.html#anonymous">visual rendering model</a>:</p>

<pre class="xml-example">
&lt;STACK&gt;
  &lt;ROW&gt;This is the &lt;D&gt;top&lt;/D&gt; row.&lt;/ROW&gt;
  &lt;ROW&gt;This is the &lt;D&gt;middle&lt;/D&gt; row.&lt;/ROW&gt;
  &lt;ROW&gt;This is the &lt;D&gt;bottom&lt;/D&gt; row.&lt;/ROW&gt;
&lt;/STACK&gt;
</pre>

<p>The style sheet is:</p>

<pre class="example">
STACK {display: inline-table}
ROW {display: table-row}
D {display: inline; font-weight: bolder}
</pre>

</div><!-- end of example -->

<P>HTML user agents are not required to create
anonymous boxes according to the above rules.

<h2>Column selectors</h2>

<p>Table cells may belong to two contexts: rows and columns. However,
in the source document cells are descendants of rows, never of
columns. Nevertheless, some aspects of cells can be influenced by
setting properties on columns.

<p>The following properties apply to column and column-group elements:

<dl>
<dt><span class="propinst-border">'border'</span>

<dd>The various border properties apply to columns only if <span
class="propinst-border-collapse">'border-collapse'</span> is set to
'collapse' on the table element. In that case, borders set on columns and
column groups are input to the <a
href="#border-conflict-resolution">conflict resolution algorithm</a>
that selects the border styles at every cell edge.

<dt><span class="propinst-background">'background'</span>

<dd>The background properties set the background for cells in the
column, but only if both the cell and row have transparent
backgrounds. See <a href="#table-layers">"Table layers and
transparency."</a>

<dt><span class="propinst-width">'width'</span>

<dd>The 'width' property of the column only applies if the <a
href="#layout-algos">fixed layout algorithm</a> is selected on the
<span class="propinst-table-layout">'table-layout'</span> property.

<dt><span class="propinst-column-span">'column-span'</span>

<dd>The number of grid columns spanned by this column or column group.

<dt><span class="propinst-visibility">'visibility'</span>

<dd>If the 'visibility' of a column is set to 'collapse', none of the
cells in the column are rendered, and cells that span into other
columns are clipped. In addition, the width of the table is diminished
by the width the column would have taken up. See <a
href="#dynamic-effects">"Dynamic effects"</a> below. Other values for
'visibility' have no effect.
</dl>

<div class="example">
<p>Here are some examples of style rules that set properties on
columns. The first two rules together implement the "rules" attribute
of HTML 4.0 with a value of "cols". The third rule makes the "totals"
column blue, the final two rules shows how to make a column a fixed
size, by using the <a href="#fixed-table-layout">fixed layout
algorithm</a>.

<pre>
COL {border-style: none solid}
TABLE {border-style: hidden}
COL.totals {background: blue}
TABLE {table-layout: fixed}
COL.totals {width: 5em}
</pre>
</div>

<!-- Make illustration. 27/2/98 -->


<h2>Tables in the visual rendering model</h2>

<P>In terms of the <a href="visuren.html">visual rendering model</a>,
a table may behave like a <a
href="visuren.html#block-level">block-level</a> or replaced <a
href="visuren.html#inline-level">inline-level</a> element.

<P>In both cases, the table element generates an <a
href="visuren.html#anonymous">anonymous</a> box that contains the
table box itself and the caption's box (if present). The table and
caption boxes retain their own content, padding, margin, and border
areas, and the dimensions of the rectangular anonymous box are the
smallest required to contain both. Vertical margins collapse where
the table box and caption box touch. Any repositioning of the table
must move the entire anonymous box, not just the table box, so
that the caption follows the table.

<div class="figure">
<p><img src="images/top-caption.gif" alt="A table with a caption above
it; both have margins and the margins between them are collapsed, as
is normal for vertical margins."> <p class="caption">Diagram of a
table with a caption above it; the bottom margin of the caption is
collapsed with the top margin of the table.
</div>

<h3>Caption position and alignment</h3>

<!-- #include src=properties/caption-side.srb -->

<P>This property specifies the position of the caption box with
respect to the table box. Values have the following meanings:</p>

<dl>
<dt><strong>top</strong>
<dd>Positions the caption box above the table box.
<dt><strong>bottom</strong>
<dd>Positions the caption box below the table box.
<dt><strong>left</strong>
<dd>Positions the caption box to the left of the table box.
<dt><strong>right</strong>
<dd>Positions the caption box to the right of the table box.
</dl>

<p>Captions above or below a 'table' element are rendered very much as
if they were a block element before or after the table, except that
(1) they inherit inheritable properties from the table, and (2) are
not considered to be a block box for the purposes of any
'compact' or 'run-in' element that may precede the table.

<p>The width of a caption that is above or below a 'table' element is
computed as if the caption were a block-level child of the table's
parent. In other words, the width of the caption is independent of the
width of the table.

<P>The width of a caption that is on the left or right side of the
table must be set explicitly. The default value ('auto') will result in
the narrowest possible box.

<P>To align caption content horizontally within the caption box, use
the <span class="propinst-text-align">'text-align'</span>
property. For vertical alignment of captions on the left or right
side, use the <span
class="propinst-vertical-align">'vertical-align'</span> property. The
only meaningful values in this case are 'top', 'middle', and
'bottom'. All other values are treated the same as 'top'.

<div class="example">
<p>In this example, the <span
class="propinst-caption-side">'caption-side'</span> property places
captions below tables.  The caption will be as wide as the parent of
the table, and caption text will be left-justified.

<PRE>
CAPTION { caption-side: bottom; 
          width: auto;    /* default */
          text-align: left }
</PRE>
</div>

<div class="example">
<p>The following example shows how to put a caption in the left
margin. The table itself is centered, by setting its left and right
margins to 'auto', and the whole box with table and caption is shifted
into the left margin by the same amount as the width of the caption.

<pre>
BODY {
    margin-left: 8em
}
TABLE {
    margin-left: auto;
    margin-right: auto
}
CAPTION {
    caption-side: left;
    margin-left: -8em;
    width: 8em;
    text-align: right;
    vertical-align: bottom
}
</pre>

<p>Assuming the width of the table is less than the available width,
the rendering will be similar to this:

<div class="figure">
<p><img src="images/left-caption.gif" alt="A centered table with a
caption in the left margin of the page"><p class="caption"> Diagram
showing a centered table with the caption extending into the left
margin, as a result of a negative 'margin-left' property.

</div><!-- figure -->
</div><!-- example -->

<h2>Visual layout of table contents</h2>

<P>Like other elements of the <a
href="conform.html#doclanguage">document language</a>, table elements
generate rectangular <a href="box.html#box-dimensions">boxes</a>
with content, padding, border, and margin areas.

<h3><a name="spanning-props">Row and column spans:</a> <span
class="propinst-column-span">'column-span'</span>, and 
<span class="propinst-row-span">'row-span'</span></h3>

<!-- #include src=properties/row-span.srb -->

<p>This property specifies the <span class="index-inst"
title="&lt;integer&gt;"><span
class="value-inst-integer">&lt;integer&gt;</span></span> number of
rows spanned by a cell.

<!-- #include src=properties/column-span.srb -->

<p>This property specifies the <span class="index-inst"
title="&lt;integer&gt;"><span
class="value-inst-integer">&lt;integer&gt;</span></span> number of grid
columns spanned by a cell, column, or column group.</p>

<p>The visual layout of these boxes is governed by a rectangular,
irregular grid of rows and columns.  Each box occupies a whole number
of grid cells, determined according to the following rules.
These rules do not apply to HTML 4.0 or earlier HTML versions; 
HTML imposes its own limitations on row and column spans.
</p>

<ol>
<li>Each row box occupies one row of grid cells. Together, the row
boxes fill the table from top to bottom in the order they occur in the
source document (i.e., the table occupies exactly as
many grid rows as there are row elements).

<li>A row group occupies the same grid cells as the rows it contains.

<li>Columns are placed next to each other in the order they occur. Each
one occupies the number of grid columns given by its <span
class="propinst-column-span">'column-span'</span> property. The
first column may be either on the left or on the right, depending on
the value of the <span class="propinst-direction">'direction'</span>
property of the table.

<li>A column group occupies the same grid cells as the columns it
contains. 

<P><em class=note>[Not true, need correct description.]</em>

<li>Structurally speaking, each cell belongs to one row and column;
this row and column determine the coordinates of the cell.
Visually, each cell occupies a
rectangle of <span class="propinst-column-span">'column-span'</span>
grid cells wide and <span class="propinst-row-span">'row-span'</span>
grid cells high. The top row of this rectangle of grid cells must be
the row specified by the cell's parent. The rectangle must be as far
to the left as possible, but it may not overlap with any other cell, and
must be to the right of all cells in the same row that are earlier in
the source document. (If the <span
class="propinst-direction">'direction'</span> of the table is
'right-to-left', interchange "left" and "right" in the previous
sentence.)

<li>Cells are <span class="propinst-row-span">'row-span'</span> high
only if there are enough rows: a cell cannot extend below the last row
box; it is made shorter until it fits.
</ol>

<div class="html-example">
<p>Here is an example:

<pre>
&lt;TABLE&gt;
&lt;TR&gt;&lt;TD&gt;1 &lt;TD rowspan=2&gt;2 &lt;TD&gt;3 &lt;TD&gt;4
&lt;TR&gt;&lt;TD colspan=2&gt;5
&lt;/TABLE&gt;
</pre>

<p>This table is in error. According to HTML 4.0, the rendering on the
left is allowed. However, CSS2 UAs must render this table as in the
figure on the right:

<div class="figure">
<p><img src="images/table-overlap.gif" alt="two renderings of an erroneous table"> <p class="caption">Two renderings of an erroneous
HTML 4.0 table. The rendering on the left is allowed by HTML 4.0, but
in CSS2 the one on the right is compulsory.
</div>
</div>

<h3><a name="table-layers">Table layers and transparency</a></h3>

<p>For the purposes of finding the background of each table cell, the
different table elements may be thought of as being on six
superimposed layers. The background set on an element in one of the
layers will only be visible if the layers above it have a transparent
background.

<div class="figure">
<p><img src="images/tbl-layers.gif" alt="schema of table layers"> <p
class="caption">Schema of table layers.
</div>

<ol>
<li>
<p>The lowest layer is a single plane, representing the table box
itself. Like all boxes, it may be transparent.</p>
</li>
<li>
<p>The next layer contains the column groups. The columns groups are
as tall as the table, but they need not cover the whole table
horizontally.</p>
</li>
<li>
<p>On top of the column groups are the areas representing the column
boxes. Like column groups, columns are as tall as the table, but need
not cover the whole table horizontally.</p>
</li>
<li>
<p>Next is the layer containing the row groups. Each row group is as
wide as the table. Together, the row groups completely cover the table
from top to bottom.</p>
</li>
<li>
<p>The last but one layer contains the rows. The rows also cover the
whole table.</p>
</li>
<li>
<p>The topmost layer contains the cells themselves. As the figure
shows, although all rows contain the same number of cells, not every
cell may have specified content These "empty" cells are transparent,
letting lower layers shine through.
</p>
</li>
</ol>

<div class="html-example">
<P>In the following example, the first row contains four cells, but
the second row contains no cells, and thus the table background shines
through, except where a cell from the first row spans into this
row. The following HTML code and style rules</p>

<PRE>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;STYLE type="text/css"&gt;
      TABLE { background: #ff0; border-collapse: collapse }
      TD { background: red; border: double black }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;
    &lt;TABLE&gt;
      &lt;TR&gt;
        &lt;TD&gt; 1 
        &lt;TD rowspan="2"&gt; 2
        &lt;TD&gt; 3 
        &lt;TD&gt; 4 
      &lt;/TR&gt;
      &lt;TR&gt;&lt;TD&gt;&lt;/TD&gt;&lt;/TR&gt;
    &lt;/TABLE&gt; 
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>might be rendered as follows:</p>

<div class="figure">
<p><img src="images/tbl-empty.gif" alt="Table with three empty cells
in bottom row"><p class="caption"> Table with three empty cells in the
bottom row.
</div>
</div>


<h3><a name="layout-algos">Table size algorithms:</a>
the <span class="propinst-table-layout">'table-layout'</span>
property</h3>

<p>CSS does not define an "optimal" layout for tables since, in many
cases, what is optimal is a matter of taste. CSS does define
constraints that user agents must respect when laying out a
table. User agents may use any algorithm they wish to do so, and are
free to prefer rendering speed over precision, except when the "fixed
layout algorithm" is selected.

<!-- Implementation notes? -->

<!-- #include src=properties/table-layout.srb -->

<p>The <span class="propinst-table-layout">'table-layout'</span>
property controls the algorithm used to lay out the table cells, rows,
and columns. Values have the following meaning:</p>

<dl>
<dt><strong>fixed</strong>
<dd>Use the fixed table layout algorithm
<dt><strong>auto</strong>
<dd>Use any automatic table layout algorithm
</dl>

<P>The two algorithms are described below.

<h4><a name="fixed-table-layout">Fixed table layout</a></h4>

<P>With this (fast) algorithm, the horizontal layout of the table does
not depend on the contents of the cells; it only depends on the
table's width and the width of the columns.

<P>The table's width is determined by the <span
class="propinst-width">'width'</span> property.  If the value is
'auto', the table is as wide as the available horizontal space.

<P>The width of each column is determined as follows:</p>

<ol>
<li>A column element with a value other than 'auto' for the
<span class="propinst-width">'width'</span> property sets the width
for that columns.

<li>Otherwise, a cell in the first row with a value other than 'auto'
for the <span class="propinst-width">'width'</span> property sets the
width for that column. If the cell spans columns, the width is divided
over the columns.

<li>Any remaining columns equally divide the remaining space.
</ol>

<p>In this manner, the user agent lays out the first row of the table
immediately upon receiving the content. All subsequent rows have the
same widths of columns of cells; nothing in subsequent rows can
affect the widths of the columns.  Any cell that has content that
overflows its dimensions uses the <span
class="propinst-overflow">'overflow'</span> property to determine how
to handle the overflow content. However, a value of 
'visible' will <em>not</em> increase the cell box dimensions; cell
content will flow into the adjacent cell. 

<P>With this algorithm, the height of a row of cells may either be
computed dynamically (the 'auto' value), or may be set explicitly, in
which case overflow is handled in the same manner as with the width
dimension.

<p>It is possible that the sum of the widths of the columns exceeds
the table's width. In that case the larger width is used as the <a
href="cascade.html#actual-value">actual value</a> of the table's
'width' property.


<h4><a name="auto-table-layout">Automatic table layout</a></h4>

<P>This is a multiple-pass algorithm in which a table width is given
by the width of its columns (and intervening <a
href="#borders">borders</a>). This algorithm reflects the behavior of
several popular HTML user agents at the writing of this
specification. UAs are not required to implement this algorithm to
determine the table layout in the case that 'table-layout' is 'auto';
they can use any other algorithm.

<P>In this algorithm, the width of each column is based on the largest
unbreakable element in a cell in that column.  This algorithm may be
inefficient since it may demand multiple passes and requires the user
agent to have access to all the content in the table before
determining the final layout.

<p>For this algorithm, a value of 'auto' for the <span
class="propinst-width">'width'</span> property for the table element
means that the final table width is computed dynamically: it is the sum
of the column widths and the borders between them.

<p>Column widths are determined as follows:</p>

<ol>
<li>For each cell determine the minimum and maximum widths needed.
Cells with a given 'width' get a minimum width equal to the greater of
the specified width and the minimum needed width.

<li>For each column determine a maximum and minimum width from the
cells with a colspan of 1. If the column has a 'width' greater than
the minimum over the cells, then the 'width' is used as the minimum
width for the column.

<li>For each cell with a colspan of more than one, increase the
minimum and maximum widths of the columns it spans enough so the
combined minimum/maximum widths are at least those of the cell. If
possible, widen all spanned columns by approximately the same amount.
</ol>

<p>Now we have a maximum and minimum width per column. We now
determine final column widths. Cell spacing is appropriately added
into these calculations.

<p>If there is a table width given, and it is larger than the minimum
width needed, use it, and distribute the width over the columns in
some way.

<p class="note">Note that a table may thus be wider than its 'width'
property.

<p>If the table width is 'auto', there are three cases:

<ol>
<li>If the maximum needed width for the table is less than the width
of the table's containing block, use the maximum width.

<li>If the minimum width needed is greater than the width of the
containing block, use the minimum width.

<li>Otherwise, use the width of the containing block and distribute
the width over the columns in some way.
</ol>

<p>A percentage is relative to the table width. If the table's width
is 'auto', a percentage represents a constraint on the column's width,
which a UA should try to satisfy. (Obviously, this is not always
possible: if the column's width is '110%', the constraint cannot be
satisfied.)</p>

<div class="note">
<P> <em><strong>Note.</strong> In this algorithm, rows (and row
groups) and columns (and column groups) both constrain and are
constrained by the dimensions of the cells they contain. Setting the
width of a column may indirectly influence the height of a row, and
vice versa.</em>
</div>

<h3><a name="alignment">Alignment of cell boxes</a></h3>

<P>Cells may be aligned vertically (within a row) and
horizontally (within a column).

<div class="note"><P>
<em><strong>Note.</strong>
Table cells may be relatively and absolutely positioned, but
this is not recommended: positioning and floating remove a box
from the flow, affecting table alignment.
</em>
</div>

<h4><a name="vertical-align">Vertical alignment in a row</a></h4>

<P>The height of a cell's box is constrained by the rows that contain
it.  A cell may be smaller than a row, in which case its vertical
alignment is governed by the <span
class="propinst-vertical-align">'vertical-align'</span> property (much
as an inline box is aligned within a <a
href="visuren.html#line-box">line box</a>).

<P>Each cell's content has a baseline, a top, a middle, and a bottom,
and so does the row itself. The value of the <span
class="propinst-vertical-align">'vertical-align'</span> property of
the cells determines on which of these lines they are aligned.  In the
context of tables, values have the following meanings:</p>

<dl>
<dt><strong>baseline</strong></dt>
<dd>The baseline of the cell is put at the same height as the baseline
of the row (see below for the definition of baselines of cells and
rows)
<dt><strong>top</strong></dt>
<dd>The top of the cell box is aligned with the top of the row
<dt><strong>bottom</strong></dt>
<dd>The bottom of the cell box is aligned with the bottom of the row
<dt><strong>middle</strong></dt>
<dd>The center of the cell is aligned with the center of the row
<dt><strong>sub, super, text-top, text-bottom</strong></dt>
<dd>These values do not apply to cells; the cell is aligned at the
baseline instead
</dl>

<p>The baseline of a cell is the baseline of the first line of text in
the cell. If there is no text, the baseline is the baseline of
whatever object is displayed in the cell, or, if it has none, the
bottom of the cell box. The maximum distance between the top of the
cell box and the baseline over all cells that have
'vertical-align:baseline' is used to set the baseline of the row. Here
is an example:</p>

<div class="figure">
<p><img src="images/cell-align.gif" alt="Example of vertically
aligning the cells"><p class="caption"> Diagram showing the effect of
various values of 'vertical-align' on table cells.
</div>

<p>Cell boxes 1 and 2 are aligned at their baselines. Cell box 2 has
the largest height above the baseline, so that determines the baseline
of the row.  Note that if there is no cell box aligned at its
baseline, the row will not have (nor need) a baseline.</p>

<p>To avoid ambiguous situations, the alignment of cells proceeds in a
certain order. First the cells that are aligned on their baseline are
positioned. This will establish the baseline of the row. Next the
cells with alignment 'top' are positioned.</p>

<p>The row now has a top, possibly a baseline, and a provisional
height, which is the distance from the top to the lowest bottom of the
cells positioned so far. (See conditions on the cell padding
below.)</p>

<p>If any of the remaining cells, those aligned at the bottom or the
middle, have a height that is larger than the current height of the
row, the height of the row will be increased to the maximum of those
cells, by lowering the bottom.</p>

<p>Finally the remaining cells are positioned.</p>

<p>Cells that are smaller than the height of the row will get extra
padding added at their top or bottom. As a result, the <a
href="box.html#box-padding-area">padding area</a> at the top and
bottom of each cell box after positioning must be at least as large as
the <span class="propinst-padding">'padding'</span> property
specifies. <!--The height of the row must be as small as possible without
violating this rule.--></p>

<!-- Add example -IJ -->

<h4><a name="column-alignment">Horizontal alignment in a column</a></h4>

<p>The horizontal alignment of a cell's contents within a cell box is
specified with the <span
class="propinst-text-align">'text-align'</span> property.

<P>Cell boxes in the same column may also be aligned horizontally
along a common axis, specified by the <span
class="propinst-text-align">'text-align'</span> property.  The <span
class="index-inst" title="&lt;string&gt;"><span
class="value-inst-string">&lt;string&gt;</span></span> value of this
property specifies how cell boxes in the same column will align
horizontally.

<P>When the 'text-align' property for more than one cell in a column
is set to a &lt;string&gt; the content of those cells is placed in
such a way that the beginnings of the first occurrence of the string in
the respective cells are placed directly over each other.

<p>If a cell has a string-values 'text-align', but the string doesn't
occur in the cell, the cell is aligned at the end of its content.

<p>Note that the strings do not have to be the same for each cell,
although they usually are.

<p>Aligning text in this way is only useful if the text fits on one
line. The result is undefined if the text spans more than one line.

<div class="example"><P>
The following style sheet:</p>

<PRE>
   TD { text-align: "." }
   TD:before { text-align: right; content: "$" }
</PRE>

<P>will cause the column of dollar figures
in the following HTML table:</p>

<PRE class="html-example">
  &lt;TABLE&gt;
  &lt;COL width="40"&gt;
  &lt;TR&gt; &lt;TH&gt;Long distance calls
  &lt;TR&gt; &lt;TD&gt; 1.30
  &lt;TR&gt; &lt;TD&gt; 2.50
  &lt;TR&gt; &lt;TD&gt; 10.80
  &lt;TR&gt; &lt;TD&gt; 111.01
  &lt;TR&gt; &lt;TD&gt; 85.
  &lt;TR&gt; &lt;TD&gt; 90
  &lt;TR&gt; &lt;TD&gt; .05
  &lt;TR&gt; &lt;TD&gt; .06
  &lt;/TABLE&gt;
</PRE>

<P>to align along the decimal point. For fun,
we have used the <span class="index-inst" title=":before">:before</span>
pseudo-element to insert a dollar sign before each figure:</P>

<PRE>
Long distance calls
              $1.30      
              $2.50
             $10.80
            $111.01
             $85.
             $90
               $.05
               $.06
</PRE>
</div>

<h3><a name="dynamic-effects">Dynamic row and column effects</a></h3>

<p>The <span class="propinst-visibility">'visibility'</span> property
takes the value 'collapse' for row, row group, column, and column
group elements. This value causes the entire row or column to be
removed from the display, and the space normally taken up by the row
or column to be made available for other content. The suppression of
the row or column, however, does not otherwise affect the layout of
the table. This allows dynamic effects to remove table rows or columns
without forcing a re-layout of the table in order to account for the
potential change in column constraints.

<!-- Example? -IJ -->

<h2><a name="borders">Borders</a></h2>

<!-- Add property that switches between drawing borders on empty
cells. MikeW 27/2/98 -->

<p>There are two distinct models for setting borders on table cells in
CSS. One is most suitable for so-called <span class="index-inst"
title="2½D borders">"2½D" borders</span> around individual cells, the
other is suitable for borders that are continuous from one end of the
table to the other. Many border styles can be achieved with either
model, so it is often a matter of taste which one is used.

<!-- #include src=properties/border-collapse.srb -->

<P>This property selects a table's border model.  The value 'separate'
selects the separated borders border model. The value 'collapse'
selects the collapsing borders model. The models are described below.

<h3><a name="2D">The separated borders model</a></h3>

<!-- #include src=properties/border-spacing.srb -->

<dl>
<dt><span class="index-inst" title="&lt;length&gt;"><span
class="value-inst-length"><strong>&lt;length&gt;</strong></span></span>
<span class="index-inst" title="&lt;length&gt;"><span
class="value-inst-length"><strong>&lt;length&gt;?</strong></span></span>
<dd>Use the separated borders model. In this case, the
lengths specify the distance that separate adjacent cell borders.
If one length is specified, it gives both the horizontal and vertical
spacing. If two are specified, the first gives the horizontal
spacing and the second the vertical spacing. Lengths may
not be negative.
</dl>

<p>In this model, each cell has an individual border.  The
<span class="propinst-border-spacing">'border-spacing'</span> property
specifies the distance between the borders of adjacent cells.  This
space is filled with the background of the table element.  Rows,
columns, row groups, and column groups cannot have borders (i.e., user
agents must <span class="index-inst" title="ignore"><a
href="syndata.html#ignore">ignore</a></span> the border properties for
those elements.

<div class="example">
<p>The table in the figure below could be the result of a style sheet
like this:

<pre>
  TABLE      { border: outset 10pt; 
               border-collapse: separate;
               border-spacing: 15pt }
  TD         { border: inset 5pt }
  TD.special { border: inset 10pt }  /* The top-left cell */
</pre>

<div class=figure>
<p><img src="images/tbl-spacing.gif" alt="A table with
border-spacing"><p class="caption"> A table with <span
class="propinst-border-spacing">'border-spacing'</span> set to a
length value. Note that each cell has its own border, and the table
has a separate border as well.
</div>
</div>

<P>When this border model is used, the overall width of the table is
the sum of the cells plus the border spacing between all borders. See
the section on <a href="#auto-table-layout">automatic table layout</a>
for more information about table dimension calculations.

<h4><a name="empty-cells">Borders around empty cells:</a> the <span
class="propinst-empty-cells">'empty-cells'</span> property</h4>

<!-- #include src=properties/empty-cells.srb -->

<P>In the separated borders model, this property controls the
rendering of borders around cells that have no visible content.  Empty
cells and cells with the <span
class="propinst-visibility">'visibility'</span> property set to
'hidden' are considered to have no visible content.  Visible content
includes "&amp;nbsp;" and other whitespace except ASCII CR ("\0D"), LF
("\0A"), tab ("\09"), and space ("\20").

<P>When this property has the value 'borders', borders are drawn
around empty cells (like normal cells). 

<P>A value of 'no-borders' means that no borders are drawn around
empty cells. Furthermore, if all the cells in a row have a value of
'no-borders' and have no visible content, the entire row behaves as if
it had 'display : none'.

<div class="example"><P>
The following rule causes borders to be drawn around
all cells:</p>

<PRE>
TABLE { empty-cells: borders }
</PRE>
</div>


<h3><a name="collapsing-borders">The collapsing border model</a></h3>

<p>In the collapsing border model, it is possible to
specify borders that surround all or part of a cell, row, row group,
column, and column group. Borders for HTML's "rule" attribute can be
specified this way.

<p>Borders are centered on the grid lines between the cells. User
agents must find a consistent rule for rounding off in the case of an
odd number of discrete units (screen pixels, printer dots).</p>

<p>The diagram below shows how the width of the table, the widths of
the borders, the padding, and the cell width interact. Their relation
is given by the following equation, which holds for every row of the
table:</p>

<blockquote>
<p><var>row-width</var> = <var>border-width</var><sub>0</sub> +
<var>padding-left</var><sub>1</sub> + <var>width</var><sub>1</sub> +
<var>padding-right</var><sub>1</sub> +
<var>border-width</var><sub>1</sub> +
<var>padding-left</var><sub>2</sub> +...+
<var>padding-right</var><sub><var>n</var></sub> +
<var>border-width</var><sub><var>n</var></sub></p>
</blockquote>

<p>Here <var>n</var> is the number of cells in the row, and
<var>border-width</var><sub><var>i</var></sub> refers to the border
between cells <var>i</var> and <var>i</var> + 1.</p>

<div class="figure">
<p><img src="images/tbl-width.gif" alt="Schema showing the widths of
cells and borders and the padding of cells"><p class="caption"> Schema
showing the widths of cells and borders and the padding of cells.
</div>

<p>Note that in this model, the width of the table includes half the
table border. Also, in this model, a table doesn't have padding (but
does have margins).

<h4><a name="border-conflict-resolution">Border conflict resolution</a></h4>

<p>In the collapsing border model, borders at every edge of every cell
may be specified by border properties on a variety of elements that
meet at hat edge (cells, rows, row groups, columns, column groups, and
the table itself), and these borders may vary in width, style, and
color. The following rules determine which border style "wins" in case
of a conflict:</p>

<p>The rule of thumb is that at each edge the most "eye catching"
border style is chosen, except that any occurrence of the style
'hidden' unconditionally turns the border off.

<ol>
<li>Borders with the <span
class="propinst-border-style">'border-style'</span> of 'hidden'
take precedence over all other conflicting borders. Any border
with this value suppresses all borders at this location.
</li>

<li>Borders with a style of 'none' have the lowest priority. Only if
the border properties of all the elements meeting at this edge are
'none' will the border be omitted (but note that 'none' is the default
value for the border style.)

<li>If none of the styles is 'hidden' and at least one of them is not
'none', then narrow borders are discarded in favor of wider
ones. If several have the same 'border-width' than styles are
preferred in this order: 'double', 'solid', 'dashed', 'dotted',
'ridge', 'outset', 'groove', and the lowest: 'inset'.

<li>If border styles differ only in color, then a style set on a cell
wins over one on a row, which wins over a row group, column, column
group and, lastly, table.
</ol>

<div class="example">
<P>The following example illustrates the application
of these precedence rules. This style sheet:</p>

<pre>
  TABLE          { border-collapse: collapse;
                   border: 5px solid yellow; }
  *#col1         { border: 1px solid black; }
  TD             { border: 5px solid red; }
  TD.solid-blue  { border: 11px solid blue; }
  TD.solid-green { border: 7px solid green; }
</pre>

<P>with this HTML source:</p>

<!-- Put some real content instead of nbsp. 27/2/98 -->
<pre class="html-example">
&lt;P&gt;
&lt;TABLE&gt;
&lt;COL id=&quot;col1&quot;&gt;&lt;COL id=&quot;col2&quot;&gt;&lt;COL id=&quot;col3&quot;&gt;
&lt;TR id=&quot;row1&quot;&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR id=&quot;row2&quot;&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD class="solid-blue"&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD class="solid-green"&gt;&amp;nbsp;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR id=&quot;row3&quot;&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR id=&quot;row4&quot;&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR id=&quot;row5&quot;&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
    &lt;TD&gt;&amp;nbsp;&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
</pre>

<P>would produce something like this:</p>

<div class="figure">
<p>[IMAGE HERE]</p>
<!-- <P><img src="images/not-yet-drawn.gif" width="167" height="142"
alt="an example of a table with collapsed borders"></pa> -->
<p class="caption">An example of a table with collapsed borders.</p>
</div>
</div>

<div class="example">
<p>The next example shows a table with horizontal rules between the
rows. The top border of the table is set to 'hidden' to suppress the
top border of the first row. This implements the RULES="rows"
attribute of HTML 4.0.

<pre>
TABLE[rules=rows] TR {border-top: solid}
TABLE[rules=rows] {border-collapse: collapse; 
                   border-top: hidden}
</pre>

<div class="figure">
<p><img src="images/tbl-rules.gif" alt="Table with horizontal
rules"><p class="caption"> Table with horizontal rules between the
rows.
</div>

<p>In this case the same effect can also be achieved without setting a
'hidden' border on TABLE, by addressing the first row separately. Which
method is preferred is a matter of taste.

<pre>
TR:first-child {border-top: none}
TR {border-top: solid}
</pre>
</div>

<div class="example">
<p>Here is another example of hidden collapsing
borders:</p>

<div class="figure">
<p><img src="images/CSStbl3.gif" width="57" height="48" alt="Table
with two omitted borders"><p class="caption"> Table with
two omitted internal borders.
</div>

<p>HTML source:</p>

<pre class="html-example">
&lt;TABLE style="border-collapse: collapse; border: solid;"&gt;
&lt;TR&gt;&lt;TD style="border-right: hidden; border-bottom: hidden"&gt;foo&lt;/TD&gt;
    &lt;TD style="border: solid"&gt;bar&lt;/TD&gt;&lt;/TR&gt;
&lt;TR&gt;&lt;TD style="border: none"&gt;foo&lt;/TD&gt;
    &lt;TD style="border: solid"&gt;bar&lt;/TD&gt;&lt;/TR&gt;
&lt;/TABLE&gt;
</pre>
</div>

<h3>Border styles</h3>

<p>Some of the values of the <span class="index-inst"
title="&lt;border-style&gt;"><span
class="propinst-border-style">'border-style'</span></span> have
different meanings in tables than for other elements. In the list
below they are marked with an asterisk.</p>

<dl>
<dt><span class="value-inst-bo-none"><strong>none</strong></span>
<dd><span class="index-inst" title="'none'::as border
style">No border.</span>

<dt><strong>*<span class="index-inst" title="'hidden"><span
class="value-inst-hidden">hidden</span></span></strong>
<dd>Same as 'none', but in the <a href="#collapsing-borders">collapsing
border model</a>, also inhibits any other border (see the
section on <a href="#border-conflict-resolution">border conflicts</a>).

<dt><strong><span class="index-inst" title="'dotted'"><span
class="value-inst-dotted">dotted</span></span></strong>
<dd>The border is a series of dots.

<dt><strong><span class="index-inst" title="'dashed'"><span
class="value-inst-dashed">dashed</span></span></strong>
<dd>The border is a series of short line segments.

<dt><strong><span class="index-inst" title="'solid'"><span
class="value-inst-solid">solid</span></span></strong>
<dd>The border is a single line segment.

<dt><strong><span class="index-inst" title="'double'"><span
class="value-inst-double">double</span></span></strong>
<dd>The border is two solid lines. The sum of the two lines and the
space between them equals the value of <span
class="propinst-border-width">'border-width'</span>.

<dt><strong><span class="index-inst" title="'groove'"><span
class="value-inst-groove">groove</span></span></strong>
<dd>The border looks as though it were carved into the canvas.

<dt><strong><span class="index-inst" title="'ridge'"><span
class="value-inst-ridge">ridge</span></span></strong>
<dd>The opposite of 'grove': the border looks as though it were coming
out of the canvas.

<dt><strong>*<span class="index-inst" title="'inset'"><span
class="value-inst-inset">inset</span></span></strong>
<dd>In the <a href="#2D">2½D border model</a>,
the border makes the entire box look as though 
it were embedded in the canvas. In the 
<a href="#collapsing-borders">collapsing
border model</a>, same as 'groove'.

<dt><strong>*<span class="index-inst" title="'outset'"><span
class="value-inst-outset">outset</span></span></strong>
<dd>In the <a href="#2D">2½D border model</a>,
the border makes the entire box look as though 
it were coming out of the canvas. In the 
<a href="#collapsing-borders">collapsing
border model</a>, same as 'ridge'.
</dl>

<h2>Audio rendering of tables</h2>
<p>When a table is spoken by a speech generator, the relation between
the data cells and the header cells must be expressed in a different
way than by horizontal and vertical alignment. Some speech browsers
may allow a user to move around in the 2-dimensional space, thus
giving them the opportunity to map out the spatially represented
relations. When that is not possible, the style sheet must specify at
which points the headers are spoken.</p>

<h3><a name="speak-headers">Speaking headers:</a> the <span
class="propinst-speak-header">'speak-header'</span> property</h3>


<!-- #include src=properties/speak-header.srb -->

<P>This property specifies whether table headers
are spoken before every
cell, or only before a cell when that cell is associated with a
different header than the previous cell. Values have
the following meanings:</p>

<dl>
<dt><strong>once</strong>
<dd>The header is spoken one time, before a series of
cells.
<dt><strong>always</strong>
<dd>The header is before every pertinent cell.
</dl>

<!-- 
<p>[Add speak:header-cell|data-cell, and some way to mirror the
axis/headers attributes? -BB]

[Perhaps rename 'speak-cell'? -IJ]
</p>
-->

<!-- I propose this instead of requiring the mechanism to be that of
HTML 4.0 -IJ --> 

<p>Each document language may have different mechanisms that allow
authors to specify headers. For example, in HTML 4.0 ([[HTML40]]), it
is possible to specify header information with three different
attributes ("headers", "scope", and "axis"), and the specification
gives an algorithm for determining header information when these
attributes have not been specified.</p>

<div class="html-example">
<div class="figure">
<P><img src="images/table1.gif" alt="Image of a table created in MS
Word"><p class="caption"> Image of a table with header cells ("San
Jose" and "Seattle") that are not in the same column or row as the
data they apply to.
</div>

<p>This HTML example presents the money spent on meals, hotels and
transport in two locations (San Jose and Seattle) for successive
days. Conceptually, you can think of the table in terms of a
n-dimensional space. The headers of this space are: location, day,
category and subtotal. Some cells define marks along an axis while
others give money spent at points within this space. The markup
for this table is:</p>

<pre>
&lt;TABLE&gt;
&lt;CAPTION&gt;Travel Expense Report&lt;/CAPTION&gt;
&lt;TR&gt;
  &lt;TH&gt;&lt;/TH&gt;
  &lt;TH&gt;Meals&lt;/TH&gt;
  &lt;TH&gt;Hotels&lt;/TH&gt;
  &lt;TH&gt;Transport&lt;/TH&gt;
  &lt;TH&gt;subtotal&lt;/TH&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH id="san-jose" axis="san-jose"&gt;San Jose&lt;/TH&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH headers="san-jose"&gt;25-Aug-97&lt;/TH&gt;
  &lt;TD&gt;37.74&lt;/TD&gt;
  &lt;TD&gt;112.00&lt;/TD&gt;
  &lt;TD&gt;45.00&lt;/TD&gt;
  &lt;TD&gt;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH headers="san-jose"&gt;26-Aug-97&lt;/TH&gt;
  &lt;TD&gt;27.28&lt;/TD&gt;
  &lt;TD&gt;112.00&lt;/TD&gt;
  &lt;TD&gt;45.00&lt;/TD&gt;
  &lt;TD&gt;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH headers="san-jose"&gt;subtotal&lt;/TH&gt;
  &lt;TD&gt;65.02&lt;/TD&gt;
  &lt;TD&gt;224.00&lt;/TD&gt;
  &lt;TD&gt;90.00&lt;/TD&gt;
  &lt;TD&gt;379.02&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH id="seattle" axis="seattle"&gt;Seattle&lt;/TH&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH headers="seattle"&gt;27-Aug-97&lt;/TH&gt;
  &lt;TD&gt;96.25&lt;/TD&gt;
  &lt;TD&gt;109.00&lt;/TD&gt;
  &lt;TD&gt;36.00&lt;/TD&gt;
  &lt;TD&gt;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH headers="seattle"&gt;28-Aug-97&lt;/TH&gt;
  &lt;TD&gt;35.00&lt;/TD&gt;
  &lt;TD&gt;109.00&lt;/TD&gt;
  &lt;TD&gt;36.00&lt;/TD&gt;
  &lt;TD&gt;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH headers="seattle"&gt;subtotal&lt;/TH&gt;
  &lt;TD&gt;131.25&lt;/TD&gt;
  &lt;TD&gt;218.00&lt;/TD&gt;
  &lt;TD&gt;72.00&lt;/TD&gt;
  &lt;TD&gt;421.25&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;
  &lt;TH&gt;Totals&lt;/TH&gt;
  &lt;TD&gt;196.27&lt;/TD&gt;
  &lt;TD&gt;442.00&lt;/TD&gt;
  &lt;TD&gt;162.00&lt;/TD&gt;
  &lt;TD&gt;800.27&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
</pre>

<p>By providing the data model in this way, authors make it
possible for speech enabled-browsers to explore the table in
rich ways, e.g. each cell could be spoken as a list, repeating the
applicable headers before each data cell:</p>

<pre>
  San Jose, 25-Aug-97, Meals:  37.74
  San Jose, 25-Aug-97, Hotels:  112.00
  San Jose, 25-Aug-97, Transport:  45.00
 ...
</pre>

<p>The browser could also speak the headers only when they change:</p>

<pre>
San Jose, 25-Aug-97, Meals: 37.74
    Hotels: 112.00
    Transport: 45.00
  26-Aug-97, Meals: 27.28
    Hotels: 112.00
...
</pre>
</div>

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode:sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:nil
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:t
sgml-shorttag:nil
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
