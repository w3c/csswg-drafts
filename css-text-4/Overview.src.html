<!DOCTYPE html public '-//W3C//DTD HTML 4.01//EN'
  'http://www.w3.org/TR/html4/strict.dtd'>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>CSS Text Level 4</title>
  <link rel="stylesheet" type="text/css" href="../default.css">

  <style type="text/css">
    .egbidiwsaA,.egbidiwsbB,.egbidiwsaB,.egbidiwsbC
      { white-space:pre;font-size:80%;font-family:monospace; vertical-align:2px; margin:1px }
    .egbidiwsaA { background:lime;padding:2px; }
    .egbidiwsbB { border:2px solid blue }
    .egbidiwsaB { background:yellow;border:2px dotted white }
    .egbidiwsbC { border:2px dotted red }

    .char { border: 1px dotted gray; }
    .quarter { font-size: 25%; }
    tt[lang="ja"] { font-family: "MS Gothic", "Osaka", monospace }
  </style>

  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-ED.css">
</head>

<body>

<div class="head">

<!--logo-->

<h1>CSS Text Level 4</h1>

<h2 class="no-num no-toc">[LONGSTATUS] [DATE]</h2>

<dl>
  <dt>This version:</dt>
      <dd><a href="http://dev.w3.org/csswg/css3-text/">$Date$ (CVS $Revision$)</a>
    <!--
      <dd><a href="http://www.w3.org/TR/[YEAR]/WD-css3-text-[CDATE]/">http://www.w3.org/TR/[YEAR]/WD-css3-text-[CDATE]/</a></dd>
    -->
  <dt>Latest version:</dt>
    <dd><a href="http://www.w3.org/TR/css3-text">http://www.w3.org/TR/css3-text</a></dd>
  <dt>Latest editor's draft:</dt>
    <dd><a href="http://dev.w3.org/csswg/css3-text/">http://dev.w3.org/csswg/css3-text/</a></dd>
  <dt>Previous version:</dt>
    <dd><a
      href="http://www.w3.org/TR/2011/WD-css3-text-20110901/">http://www.w3.org/TR/2011/WD-css3-text-20110901/</a></dd>
  <dt>Feedback:</dt>
    <dd><a href="mailto:www-style@w3.org?subject=%5Bcss-text%5D%20feedback">www-style@w3.org</a>
        with subject line &ldquo;<kbd>[css-text] <var>&hellip; message topic &hellip;</var></kbd>&rdquo;
        (<a rel="discussion" href="http://lists.w3.org/Archives/Public/www-style/">archives</a>)
  <dt>Editors:</dt>
    <dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a> (Mozilla)</dd>
    <dd><a href="mailto:kojiishi@gluesoft.co.jp">Koji Ishii</a> (Invited Expert)</dd>
</dl>

<!--begin-copyright-->
<p>[Here will be included the file "../copyright.inc"]</p>
<!--end-copyright-->

<hr title="Separator for header">
</div>

<details class=obsolete open>
  <summary>Not Ready For Implementation</summary>
  <p>
    This spec is not yet ready for implementation.
    It exists in this repository to record the ideas and promote discussion.
    
  <p>
    Before attempting to implement this spec,
    please contact the CSSWG at www-style@w3.org.
</details>

<h2 class="no-num no-toc" id="abstract">Abstract</h2>

  <p>This CSS3 module defines properties for text manipulation and
    specifies their processing model. It covers line breaking, justification
    and alignment, white space handling, text decoration and text
    transformation.</p>

<h2 class="no-num no-toc" id="status">Status of This Document</h2>

  <p><em>This section describes the status of this document at the time of
   its publication. Other documents may supersede this document. A list of
   current W3C publications and the latest revision of this technical report
   can be found in the <a href="http://www.w3.org/TR/">W3C technical reports
   index at http://www.w3.org/TR/.</a></em>

  <p>Publication as a Working Draft does not imply endorsement by the W3C
   Membership. This is a draft document and may be updated, replaced or
   obsoleted by other documents at any time. It is inappropriate to cite this
   document as other than work in progress.

  <p>This CSS module has been produced as a combined effort of the <a
    href="http://www.w3.org/International/Activity">W3C Internationalization Activity</a>,
    and the <a href="http://www.w3.org/Style/Activity">Style Activity</a> and is maintained
    by the <a href="http://www.w3.org/Style/CSS/members">CSS Working Group</a>. It also
    includes contributions made by participants in the <a
    href="http://www.w3.org/Style/XSL/Group/">XSL Working Group</a> (<a
    href="http://cgi.w3.org/MemberAccess/AccessRequest">members
    only</a>).

  <p>This document was produced by a group operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.</p>

  <p><strong>Feedback on this draft should be posted to the
    (<a href="http://lists.w3.org/Archives/Public/www-style/">archived</a>)
    public mailing list <a href="mailto:www-style@w3.org">www-style@w3.org</a></strong>
    (see <a href="http://www.w3.org/Mail/Request">instructions</a>) <strong>with
    <kbd>[css3-text]</kbd> in the subject line.</strong>
    You are strongly encouraged to complain if you see something stupid
    in this draft. The editors will do their best to respond to all feedback.</p>

  <p><strong>If you have implemented properties from the
    <a href="http://www.w3.org/TR/2003/CR-css3-text-20030514/">May 2003
    CSS3 Text CR</a></strong>
    <em>please</em> let us know so we can take that into account as
    we redraft the spec. You can post to
    <a href="http://lists.w3.org/Archives/Public/www-style/">www-style</a> (public),
    post to the <a href="http://lists.w3.org/Archives/Member/w3c-css-wg/">CSS WG mailing list</a>
    (<a href="http://cgi.w3.org/MemberAccess/AccessRequest">Member-restricted</a>),
    or <a href="http://fantasai.inkedblade.net/contact">email fantasai directly</a> (personal).</p>

  <p>The following features are at risk and may be cut from the spec during
    its CR period if there are no (correct) implementations:</p>
    <ul>
      <li>the &lt;length> values of the 'tab-size' property
      <li>the 'hanging-punctuation' property
      <li>the percentage values of 'letter-spacing' and 'word-spacing'
      <li>the 'hyphenate-limit-*' properties
      <li>the 'text-spacing' property
      <li>the 'text-decoration-skip' property / ''ink'' value
      <li>the 'text-emphasis-skip' property
      <li><span class="issue">audit draft and add more here</span>
    </ul>

<h2 class="no-num no-toc" id="contents">
Table of Contents</h2>

<!--toc-->

<h2 id="intro">
Introduction</h2>

  <p>[document here]</p>

  <p class="issue">This draft describes features that are specific to certain scripts.
  There is an ongoing discussion about where these features belong: in
  existing CSS properties, in new CSS properties, or perhaps in other
  specifications.


<h3 id="placement">
Module Interactions</h3>

  <p>This module replaces and extends the text-level
  features defined in [[!CSS21]] chapter 16.

<h3 id="values">
Values</h3>

  <p>This specification follows the
  <a href="http://www.w3.org/TR/CSS21/about.html#property-defs">CSS property
  definition conventions</a> from [[!CSS21]]. Value types not defined in
  this specification are defined in CSS Level 2 Revision 1 [[!CSS21]].
  Other CSS modules may expand the definitions of these value types: for
  example [[CSS3COLOR]], when combined with this module, expands the
  definition of the &lt;color&gt; value type as used in this specification.</p>
  
  <p>In addition to the property-specific values listed in their definitions,
  all properties defined in this specification also accept the
  <a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">inherit</a>
  keyword as their property value. For readability it has not been repeated
  explicitly.

<h3 id="terms">
Terminology</h3>

  <p id="grapheme-cluster">A <dfn>grapheme cluster</dfn> is what
    a language user considers to be a character or a basic unit of the
    script. The term is described in detail in the Unicode Technical
    Report: Text Boundaries [[!UAX29]]. This specification uses the
    <em>extended grapheme cluster</em> definition in [[!UAX29]] (not
    the <em>legacy grapheme cluster</em> definition). The UA may further
    tailor the definition as allowed by Unicode. Within this specification,
    the ambiguous term <dfn>character</dfn> is used as a friendlier synonym
    for <i>grapheme cluster</i>.
    See <a href="http://dev.w3.org/csswg/css3-writing-modes/#character-properties">Characters and Properties</a>
    for how to determine the Unicode properties of a character.

  <p id="letter">A <dfn>letter</dfn> for the purpose of this specification
    is a <i>character</i> belonging to one of the Letter or Number general
    categories in Unicode. [[!UAX44]]

<h2 id="transforming">
  Transforming Text</h2>

  <h3 id="text-transform">
    <a name="caps-prop"></a>
    Transforming Text: the 'text-transform' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-transform</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>none |
            [ [ capitalize | uppercase | lowercase ] || full-width || full-size-kana ]
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>none</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified</td>
        </tr>
      </tbody>
    </table>

    <p>This property transforms text for styling purposes.
      Values have the following meanings:</p>

    <dl>
      <dt><dfn title="text-transform:none">''none''</dfn></dt>
        <dd>No effects.</dd>
      <dt><dfn title="text-transform:capitalize">''capitalize''</dfn></dt>
        <dd>Puts the first <i>letter</i> of each word in titlecase; other characters
          are unaffected.</dd>
      <dt><dfn title="text-transform:uppercase">''uppercase''</dfn></dt>
        <dd>Puts all characters in uppercase.
      <dt><dfn title="text-transform:lowercase">''lowercase''</dfn></dt>
        <dd>Puts all characters in lowercase.</dd>
      <dt><dfn title="text-transform:full-width">''full-width''</dfn></dt>
        <dd>Puts all characters in fullwidth form.
          If the character does not have a corresponding fullwidth form,
          it is left as is.
          This value is typically used to typeset Latin characters and digits
          like ideographic characters.
      <dt><dfn title="text-transform:full-size-kana">''full-size-kana''</dfn></dt>
        <dd>Converts all small Kana characters to normal Kana.
          This value is typically used for ruby annotation text,
          where all small Kana should be drawn as large Kana.
    </dl>

    <p>The case mapping rules for the character repertoire specified by the
      Unicode Standard can be found on the Unicode Consortium Web site
      [[!UNICODE]]. The UA must use the full case mappings for Unicode
      characters, including any conditional casing rules, as defined in
      Default Case Algorithm section. If (and only if) the content language
      of the element is, according to the rules of the document language,
      known, then any appropriate language-specific rules must be applied
      as well.
      These minimally include, but are not limited to, the language-specific
      rules in Unicode's
      <a href="http://www.unicode.org/Public/UNIDATA/SpecialCasing.txt">SpecialCasing.txt</a>.

    <div class="example">
      <p>For example, in Turkish there are two &ldquo;i&rdquo;s, one with
        a dot&mdash;&ldquo;İ&rdquo; and &ldquo;i&rdquo;&mdash; and one
        without&mdash;&ldquo;I&rdquo; and &ldquo;ı&rdquo;. Thus the usual
        case mappings between &ldquo;I&rdquo; and &ldquo;i&rdquo; are
        replaced with a different set of mappings to their respective
        undotted/dotted counterparts, which do not exist in English. This
        mapping must only take effect if the language is known to be Turkish
        or Azeri; in other languages, the usual mapping of &ldquo;I&rdquo;
        and &ldquo;i&rdquo; is required. This rule is thus conditionally
        defined in Unicode's SpecialCasing.txt file.
    </div>

<!--
    <div class="example">
      <p>An example where the UA may choose to include rules beyond those
        in Unicode is Greek. In Greek, if the entire word is in upper case,
        accents are dropped or transformed
       http://blogs.msdn.com/b/michkap/archive/2006/08/18/706383.aspx
    </div>
-->

    <p>The definition of "word" used for ''capitalize'' is UA-dependent;
      [[!UAX29]] is suggested (but not required) for determining such word
      boundaries. Authors should not expect ''capitalize'' to follow
      language-specific titlecasing conventions (such as skipping articles
      in English).

    <p>The definition of fullwidth and halfwidth forms can be found on the
      Unicode consortium web site at [[!UAX11]].
      The mapping to fullwidth form is defined by taking code points with
      the &lt;wide&gt; or the &lt;narrow&gt; tag in their Decomposition_Mapping
      in [[!UAX44]]. For the &lt;narrow&gt; tag, the mapping is from the code
      point to the decomposition (minus &lt;narrow&gt; tag), and for the
      &lt;wide&gt; tag, the mapping is from the decomposition (minus the
      &lt;wide&gt; tag) back to the original code point.</p>

    <p>The mappings for small Kana to normal Kana are defined in
      <a href="#small-kana">Small Kana Mappings</a>.</p>

    <p>When multiple values are specified and therefore multiple
      transformations need to be applied, they are applied in the following
      order:</p>
    <ol>
      <li>''capitalize'', ''uppercase'', and ''lowercase''</li>
      <li>''full-width''</li>
      <li>''full-size-kana''</li>
    </ol>

    <p>Text transformation happens after <a href="#white-space-rules">white
      space processing</a>, which means that ''full-width'' transforms
      only preserved U+0020 spaces to U+3000.

    <div class="example">
      <p>The following example converts the ASCII characters in abbreviations
        in Japanese to their fullwidth variants so that they lay out and line
        break like ideographs:
      <pre>abbr:lang(ja) { text-transform: full-width; }</pre>
    </div>

    <p class="issue">All-caps text sometimes has special typographic considerations.
      For example: Punctuation and number glyphs might be adjusted for the
      higher "center of gravity" (see the
        <a href="http://www.microsoft.com/typography/otspec/features_ae.htm#case">case</a>
      feature in OpenType). Should we turn that on by default, as they suggest?</p>
      
    <p class="issue">CSS may introduce the ability to create custom mapping
      tables for less common text transforms, such as by an ''@text-transform''
      rule similar to ''@counter-style'' from [[CSS3LIST]], and this mechanism
      may be used to replace ''full-size-kana''.

<h2 id="white-space-processing">
  White Space Processing</h2>

  <p>The source text of a document often contains formatting that
    is not relevant to the final rendering: for example, breaking
    the source into segments (lines) for ease of editing or adding
    white space characters such as tabs and spaces to indent the
    source code. CSS white space processing allows the author to
    control interpretation of such formatting: to preserve or
    collapse it away when rendering the document.

  <p id="segment-normalization">
    In the document source, segments can be delimited by carriage
    returns (U+000D), linefeeds (U+000A) or a combination (U+000D U+000A),
    or by some other mechanism, such as the SGML RECORD-START
    and RECORD-END tokens.
    
    If no segmentation rules are specified for the document language,
    each line feed (U+000A), carriage return (U+000D) and CRLF sequence
    (U+000D U+000A) in the text is considered a segment break. (This
    default rule also applies to generated content.)

    In CSS, each such segment break is treated as a single line feed
    character (U+000A).

  <p>White space processing in CSS interprets white space characters
    only for rendering: it has no effect on the underlying document data.

  <p class="note">Note that the document parser may have not only normalized
    segment breaks, but also collapsed other space characters or
    otherwise processed white space according to markup rules. Because CSS
    processing occurs <em>after</em> the parsing stage, it is not possible
    to restore these characters for styling. Therefore, some of the
    behavior specified below can be affected by these limitations and
    may be user agent dependent.</p>

  <p>Control characters (Unicode class Cc) other than tab (U+0009), line feed
    (U+000A), space (U+0020), and the bidi formatting characters (U+202<var>x</var>)
    should be rendered as invisible zero-width characters. UAs may instead treat
    them as visible characters. (Note, however, that this will usually result in
    them being rendered as missing glyphs.)
    <span class="issue">What's the line-breaking behavior? Effects on joining?
    Can we just copy the behavior of some zero-width Unicode character?</span>

  <h3 id="white-space-collapsing">
    White Space Collapsing: the 'text-space-collapse' property</h3>

    <p class="issue">This section is still under discussion and may change in future drafts.</p>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-space-collapse</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>collapse | discard | [ [preserve | preserve-breaks] && [ trim-inner || consume-before || consume-after ]</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>collapse</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p class="issue">Need a property name</p>

    <p>This property declares whether and how
      <a href="#white-space-processing">white space</a> inside the element is
      collapsed. Values have the following meanings, which must be interpreted
      according to the <a href="#white-space-rules">white space processing
      rules</a>:</p>

    <dl>
      <dt><dfn title="white-space:collapse">''collapse''</dfn></dt>
      <dd>This value directs user agents to collapse sequences of white space
        into a single character (or <a href="#line-break-transform">in some
        cases</a>, no character).</dd>
      <dt><dfn title="white-space:preserve">''preserve''</dfn></dt>
      <dd>This value prevents user agents from collapsing sequences
      of white space. Line feeds are preserved as forced line breaks.</dd>
      <dt><dfn title="white-space:preserve-breaks">''preserve-breaks''</dfn></dt>
      <dd>This value collapses white space as for ''collapse'', but preserves
        line feeds as forced line breaks.</dd>
      <dt><dfn title="white-space:discard">''discard''</dfn></dt>
      <dd>This value directs user agents to "discard" all white space in the
        element.
      <dt><dfn title="white-space:trim-inner">''trim-inner''</dfn></dt>
      <dd>For block containers this value directs UAs to discard all whitespace
        at the beginning of the element up to and including the last line feed
        before the first non-white-space character in the element as well as
        to discard all white space at the end of the element starting with the
        first line feed after the last non-white-space character in the element.
        For other elements this value directs UAs to discard all whitespace
        at the beginning and end of the element.</dd>
      <dt><dfn title="white-space:consume-before">''consume-before''</dfn></dt>
      <dd>This value directs the UA to collapse all collapsible whitespace
        immediately before the start of the element.
      <dt><dfn title="white-space:consume-after">''consume-after''</dfn></dt>
      <dd>This value directs the UA to collapse all collapsible whitespace
        immediately after the end of the element.
    </dl>

    <div class="example">
      <p>The following style rules implement MathML's white space processing:
      <pre>
<!-- -->@namespace m "http://www.w3.org/1998/Math/MathML";
<!-- -->m|* {
<!-- -->  text-space-collapse: discard;
<!-- -->}
<!-- -->m|mi, m|mn, m|mo, m|ms, m|mtext {
<!-- -->  text-space-collapse: trim-inner;
<!-- -->}</pre>
    </div>


    <div class="example">
      <p>The following style rules render DT elements as a comma-separated list:
      <pre>
<!-- -->dt { display: inline; }
<!-- -->dt + dt:before { content: ", "; text-space-collapse: consume-before; }</pre>
    </div>

    <p class="issue">It's been pointed out that ''trim-inner'', ''consume-before'',
    and ''consume-after'' won't work well because 'text-space-collapse' is
    inherited, meaning that inserting a &lt;span> or &gt;div> would cause more
    white space to be removed than otherwise.

  <h3 id="tab-size">
    Tab Character Size: the 'tab-size' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>tab-size</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>&lt;integer&gt; | &lt;length&gt;</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>8</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>block containers</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property determines the measure of the tab character (U+0009)
      when rendered. Integers represent the measure in space characters (U+0020).
      Negative integers are not allowed.

  <h3 id="white-space-rules">
    The White Space Processing Rules</h3>

    <p>White space processing affects only spaces (U+0020), tabs (U+0009),
      and (<a href="#segment-normalization">post-normalization</a>)
      line feeds (U+00A0).

    <p>For each inline (including anonymous inlines) within an inline
      formatting context, white space characters are handled as follows,
      ignoring bidi formatting characters as if they were not there:</p>

    <ul>
    <li id="collapse"><p>If 'text-space-collapse'
      is set to ''collapse'' or ''preserve-breaks'', white space characters
      are considered <dfn>collapsible</dfn> and are processed by
      performing the following steps:</p>
      <ol>
        <li>All spaces and tabs immediately preceding or following a line
          feed character are removed.</li>
        <li>If 'text-space-collapse' is not
          ''preserve-breaks'', line feed characters are transformed for
          rendering according to the <a href="#line-break-transform">line
          feed transformation rules</a>.
        </li>
        <li>Every tab is converted to a space (U+0020).</li>
        <li>Any space immediately following another collapsible space
          &mdash;even one outside the boundary of the inline&mdash;is
          removed.
          However, if removing this space would eliminate a line breaking
          opportunity in the text, that opportunity is still considered
          to exist.</li>
        <li>A collapsible space immediately preceding an element with
          ''consume-before'' is removed. Such removed spaces do not indicate
          a line breaking opportunity in the text.
        <li>Any collapsible spaces after the end of an element with
          ''consume-after'' are removed. Such removed spaces do not indicate
          a line breaking opportunity in the text.
      </ol>
    </li>
    <li><p>If 'text-space-collapse' is set to
      ''preserve'', any sequence of spaces unbroken by an element
      boundary is treated as a sequence of non-breaking spaces. However,
      a line breaking opportunity exists at the end of the sequence.</p></li>
    <li><p>If 'text-space-collapse' is set to
      ''discard'', the first white space character in every white space
      sequence is converted to a zero width non-joiner (U+200C) and
      the rest of the sequence is removed.</p>
    </ul>

    <p>Then, the entire block is rendered. Inlines are laid out, taking bidi
      reordering into account, and wrapping as specified by the
      'text-wrap' property.</p>

    <p>As each line is laid out,</p>
    <ol>
      <li>A sequence of collapsible spaces at the beginning of a line is
        removed.
      <li>Each tab is rendered as a horizontal shift that lines up
        the start edge of the next glyph with the next tab stop.
        Tab stops occur at points that are multiples of the width of a
        space (U+0020) rendered in the block's font from the block's
        starting content edge. How many spaces is given by the 'tab-size'
        property.</li>
      <li>A sequence of collapsible spaces at the end of a line is removed.
      <li>If spaces or tabs at the end of a line are non-collapsible but
         have 'text-wrap' set to 'normal' or 'avoid' the UA may visually
         collapse their character advance widths.
    </ol>

    <p>White space that was not removed during the white space processing
      steps is called <dfn>preserved</dfn> white space.</p>

    <div class="example">
    <h4 id="egbidiwscollapse">
      Example of bidirectionality with white space collapsing</h4>

      <p>Consider the following markup fragment, taking special note of spaces
        (with varied backgrounds and borders for emphasis and identification):
        </p>
      <pre><code>&lt;ltr&gt;A<span class="egbidiwsaA">&#160;</span>&lt;rtl&gt;<span class="egbidiwsbB">&#160;</span>B<span class="egbidiwsaB">&#160;</span>&lt;/rtl&gt;<span class="egbidiwsbC">&#160;</span>C&lt;/ltr&gt;</code></pre>

      <p>where the <code>&lt;ltr&gt;</code> element represents a left-to-right
        embedding and the <code>&lt;rtl&gt;</code> element represents a
        right-to-left embedding. If the 'text-space-collapse' property is set
        to ''collapse'', the above processing model would result in the
        following:</p>

      <ul style="line-height:1.3">
        <li>The space before the B (<span class="egbidiwsbB">&#160;</span>)
          would collapse with the space after the A (<span
          class="egbidiwsaA">&#160;</span>).</li>
        <li>The space before the C (<span class="egbidiwsbC">&#160;</span>)
          would collapse with the space after the B (<span
          class="egbidiwsaB">&#160;</span>).</li>
      </ul>

      <p>This would leave two spaces, one after the A in the left-to-right
        embedding level, and one after the B in the right-to-left embedding
        level. This is then ordered according to the Unicode bidirectional
        algorithm, with the end result being:</p>

      <pre>A<span class="egbidiwsaA">&#160;</span><span class="egbidiwsaB">&#160;</span>BC</pre>

      <p>Note that there are two spaces between A and B, and none between B
        and C. This is best avoided by putting spaces outside the element
        instead of just inside the opening and closing tags and, where
        practical, by relying on implicit bidirectionality instead of explicit
        embedding levels.</p>
    </div>

    <h4 id="line-break-transform">
      Line Feed Transformation Rules</h4>

      <p>When line feeds are <a href="#collapse">collapsible</a>, they are
        either transformed into a space (U+0020) or removed depending on the
        context before and after the line break.</p>

      <p class="note">Note that the white space processing rules have already
        removed any tabs and spaces after the line feed before these checks
        take place.</p>

      <ul>
        <li>If the character immediately before or immediately after the line
          feed is the zero width space character (U+200B), then the line feed
          is removed.
        <li>Otherwise, if the East Asian Width property [[!UAX11]] of both
          the character before and after the line feed is F, W, or H (not A),
          and neither side is Hangul,
          then the line feed is removed.
        <li>Otherwise, the line feed is converted to a space (U+0020).
      </ul>

      <p class="issue">Comments on how well this would work in practice would
        be very much appreciated, particularly from people who work with
        Thai and similar scripts.</p>

    <h4 id="white-space-summary">
      Informative Summary of White Space Collapsing Effects</h4>

      <ul>
        <li>Consecutive white space collapses into a single space.
        <li>A sequence of newlines and other white space between two
          Chinese, Japanese, or Yi characters collapses into nothing.
        <li>A zero width space before or after a white space sequence
          containing a newline causes the entire sequence of white space
          to collapse into a zero width space.
      </ul>

  <h3 id="white-space">
    White Space and Text Wrapping Shorthand: the 'white-space' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>white-space</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>normal | pre | nowrap | pre-wrap | pre-line</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>not defined for shorthand properties</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>see individual properties</td>
        </tr>
      </tbody>
    </table>

    <p>The 'white-space' property is a shorthand for the
      'text-space-collapse' and 'text-wrap' properties.
      Not all combinations are represented.
      Values have the following meanings:</p>

    <dl>
      <dt><dfn title="white-space:normal">''normal''</dfn></dt>
      <dd>Sets 'text-space-collapse' to ''collapse'' and
        'text-wrap' to ''normal''</dd>
      <dt><dfn title="white-space:pre">''pre''</dfn></dt>
      <dd>Sets 'text-space-collapse' to ''preserve'' and
        'text-wrap' to ''none''</dd>
      <dt><dfn title="white-space:nowrap">''nowrap''</dfn></dt>
      <dd>Sets 'text-space-collapse' to ''collapse'' and
        'text-wrap' to ''none''</dd>
      <dt><dfn title="white-space:pre-wrap">''pre-wrap''</dfn></dt>
      <dd>Sets 'text-space-collapse' to ''preserve'' and
        'text-wrap' to ''normal''</dd>
      <dt><dfn title="white-space:pre-line">''pre-line''</dfn></dt>
      <dd>Sets 'text-space-collapse' to ''preserve-breaks'' and
        'text-wrap' to ''normal''</dd>
    </dl>

    <p>The following informative table summarizes the behavior of various
      'white-space' values:</p>

    <table class="data">
      <colgroup class="header"></colgroup>
      <colgroup span=3></colgroup>
      <thead>
        <tr>
          <th></th>
          <th>New Lines</th>
          <th>Spaces and Tabs</th> 
          <th>Text Wrapping</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>normal</th>
          <td>Collapse</td>
          <td>Collapse</td>
          <td>Wrap</td>
        </tr>
        <tr>
          <th>pre</th>
          <td>Preserve</td>
          <td>Preserve</td>
          <td>No wrap</td>
        </tr>
        <tr>
          <th>nowrap</th>
          <td>Collapse</td>
          <td>Collapse</td>
          <td>No wrap</td>
        </tr>
        <tr>
          <th>pre-wrap</th>
          <td>Preserve</td>
          <td>Preserve</td>
          <td>Wrap</td>
        </tr>
        <tr>
          <th>pre-line</th>
          <td>Preserve</td>
          <td>Collapse</td>
          <td>Wrap</td>
      </tbody>
    </table>

<h2 id="line-breaking">
  Line Breaking and Word Boundaries</h2>

  <p>In most writing systems, in the absence of hyphenation a line break occurs
    only at word boundaries. Many writing systems use spaces or
    punctuation to explicitly separate words, and line break opportunities
    can be identified by these characters. Scripts such as Thai, Lao, and
    Khmer, however, do not use spaces or punctuation to separate words.
    Although the zero width space (U+200B) can be used as an explicit word
    delimiter in these scripts, this practice is not common. As a result,
    a lexical resource is needed to correctly identify break points in such
    texts.

  <p>In several other writing systems, (including Chinese, Japanese, Yi,
    and sometimes also Korean) a line break opportunity is based on
    character boundaries, not word boundaries. In these systems a line can break
    anywhere <em>except</em> between certain character combinations.
    Additionally the level of strictness in these restrictions can vary
    with the typesetting style.</p>

  <p>CSS does not fully define where line breaking opportunities occur,
    however some controls are provided to distinguish common variations.

  <p class="note">Further information on line breaking conventions can be
      found in
      [[JLREQ]] and [[JIS4051]] for Japanese,
      [[ZHMARK]] for Chinese, and
      in [[!UAX14]] for all scripts in Unicode.
      <!-- The CSS Working Group notes that although UAX 14 contains a wealth of
      information about line breaking conventions, a literal implementation
      of its algorithm has been found to be inadequate in multiple situations. --></p>

  <p class="issue">Any guidance for appropriate references here would be
    much appreciated.</p>

  <p class="issue">Information on line-breaking in the absence of dictionaries:
    <a href="http://lists.w3.org/Archives/Public/www-style/2011Feb/0126.html">for Thai</a>

  <p>Floated and absolutely-positioned elements do not introduce a line
    breaking opportunity. The line breaking behavior of a replaced element
    is equivalent to that of a Latin character.</p>

  <p class="issue">It is not clear whether this section handles Southeast Asian
    scripts well. Additionally, some guidance should be provided on how to
    break or not break Southeast Asian in the absence of a dictionary.</p>

  <h3 id="line-break">
    Line Breaking Strictness: the 'line-break' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>line-break</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>auto | loose | normal | strict</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>auto</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property specifies the strictness of line-breaking rules applied
      within an element: particularly how line-breaking interacts with
      punctuation. Values have the following meanings:</p>

    <dl>
      <dt><dfn title="line-break:auto">''auto''</dfn></dt>
      <dd>The UA determines the set of line-breaking restrictions to use,
        and it may vary the restrictions based on the length of the line; e.g., 
        use a less restrictive set of line-break rules for short lines.</dd>
      <dt><dfn title="line-break:loose">''loose''</dfn></dt>
      <dd>Breaks text using the least restrictive set of line-breaking
        rules. Typically used for short lines, such as in newspapers.</dd>
      <dt><dfn title="line-break:normal">''normal''</dfn></dt>
      <dd>Breaks text using the most common set of line-breaking rules.</dd>
      <dt><dfn title="line-break:strict">''strict''</dfn></dt>
      <dd>Breaks text using the most stringent set of line-breaking
        rules.</dd>
    </dl>

    <p>CSS distinguishes between three levels of strictness in the rules for
      implicit line breaking. The precise set of rules in effect for each
      level is up to the UA and should follow language conventions. However,
      this specification does recommend that:</p>

    <ul>
      <li>Following breaks be forbidden in ''strict'' line breaking and
        allowed in ''normal'' and ''loose'':
        <ul>
          <li>breaks before Japanese <a href="#small-kana">small kana</a>
          <li>breaks before the Katakana-Hiragana prolonged sound mark:
            &#x30FC;&nbsp;U+30FC
        </ul>
        If the language is known to be Chinese or Japanese, then additionally:
        <ul>
          <li>breaks before before hyphens:<br>
            &#x2010;&nbsp;U+2010,  &#x2013;&nbsp;U+2013,  &#x301C;&nbsp;U+301C,
            &#x30A0;&nbsp;U+30A0
        </ul>
      <li>Following breaks be forbidden in ''normal'' and ''strict'' line
        breaking and allowed in ''loose'':
        <ul>
          <li>breaks before iteration marks:<br>
            &#x3005;&nbsp;U+3005,  &#x303B;&nbsp;U+303B,  &#x309D;&nbsp;U+309D,
            &#x309E;&nbsp;U+309E,  &#x30FD;&nbsp;U+30FD,  &#x30FE;&nbsp;U+30FE
          <li>breaks between some inseparable characters:<br>
            &#x2025;&nbsp;U+2025,  &#x2026;&nbsp;U+2026
        </ul>
        If the language is known to be Chinese or Japanese, then additionally:
        <ul>
          <li>breaks before certain centered punctuation marks:<br>
            &#x003A;&nbsp;U+003A,  &#x003B;&nbsp;U+003B,  &#x30FB;&nbsp;U+30FB,
            &#xFF1A;&nbsp;U+FF1A,  &#xFF1B;&nbsp;U+FF1B,  &#xFF65;&nbsp;U+FF65,
            &#x0021;&nbsp;U+0021,  &#x003F;&nbsp;U+003F,  &#x203C;&nbsp;U+203C,
            &#x2047;&nbsp;U+2047,  &#x2048;&nbsp;U+2048,  &#x2049;&nbsp;U+2049,
            &#xFF01;&nbsp;U+FF01,  &#xFF1F;&nbsp;U+FF1F
          <li>breaks before postfixes:<br>
            &#x0025;&nbsp;U+0025,  &#x00A2;&nbsp;U+00A2,  &#x00B0;&nbsp;U+00B0,
            &#x2030;&nbsp;U+2030,  &#x2032;&nbsp;U+2032,  &#x2033;&nbsp;U+2033,
            &#x2103;&nbsp;U+2103,  &#xFF05;&nbsp;U+FF05,  &#xFFE0;&nbsp;U+FFE0
          <li>breaks after prefixes:<br>
            &#x0024;&nbsp;U+0024,  &#x00A3;&nbsp;U+00A3,  &#x00A5;&nbsp;U+00A5,
            &#x20AC;&nbsp;U+20AC,  &#x2116;&nbsp;U+2116,  &#xFF04;&nbsp;U+FF04,
            &#xFFE1;&nbsp;U+FFE1,  &#xFFE5;&nbsp;U+FFE5
        </ul>
    </ul>

    <p class="note">In CSS3 no distinction is made among the levels of
      strictness in non-CJK text: only CJK codepoints are affected, unless
      the text is marked as Chinese or Japanese, in which case some additional
      common codepoints are affected. However a future level of CSS may add
      behaviors affecting non-CJK text.

    <p>Support for this property is <em>optional</em>. It is recommended
      for UAs that wish to support CJK typography and strongly recommended
      for UAs in the Japanese market.</p>

    <p class="note">The CSSWG recognizes that in a future edition of the
      specification finer control over line breaking may be necessary to
      satisfy high-end publishing requirements.

  <h3 id="word-break">
    Word Breaking Rules: the 'word-break' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>word-break</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>normal | keep-all | break-all</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>normal</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property specifies line break opportunities within words.
      Values have the following meanings:</p>

    <dl>
      <dt><dfn title="word-break:normal">''normal''</dfn></dt>
      <dd>Break lines according to their usual rules.</dd>
      <dt><dfn title="word-break:break-all">''break-all''</dfn></dt>
      <dd>Lines may break between any two characters within words.
        Hyphenation is not applied. This option is used mostly in a context where
        the text is predominantly using CJK characters with few non-CJK excerpts
        and it is desired that the text be better distributed on each line.</dd>
      <dt><dfn title="word-break:keep-all">''keep-all''</dfn></dt>
      <dd>Lines may break only at <a href="#word-separator">word separators</a>
        and other explicit break opportunities. Otherwise this option is
        equivalent to ''normal''.
        This option is mostly used where the presence of word separator
        characters still creates line-breaking opportunities, as in Korean.</dd>
    </dl>

    <p>When shaping scripts such as Arabic are allowed to break within words
      due to ''break-all'', the characters must still be shaped as if the
      word were not broken.</p>

<h2 id="hyphenation">Hyphenation</h2>

    <p>Hyphenation allows the controlled splitting of words to improve the
      layout of paragraphs. CSS3 Text does not define the exact rules for
      hyphenation, but defines six properties and an at-rule that influence
      hyphenation.

    <p>Whether hyphenation is applied can controlled with the 'hyphens' property.

    <p>The following author controls are not required to be supported for
      the UA to claim conformance to CSS Text Level 4:
    <ul>
      <li>'hyphenate-limit-zone'
      <li>'hyphenate-limit-chars'
      <li>'hyphenate-limit-lines'
    </ul>

    <p>Nonetheless, UAs are strongly encouraged to optimize their line-breaking
      implementation to choose good break points and appropriate hyphenation
      points.

    <p class="note">These controls are optional because for a low-end
      implementation of hyphenation, they are not critical enough; and for
      a high-end implementation of paragraph breaking (such as in
      T<span style="font-variant: small-caps">e</span>&chi;) they are not
      considered especially useful.</p>

    <p>Hyphenation opportunities are not considered when calculating
      ''min-content'' intrinsic sizes.

  <h3 id="hyphens">Hyphenation Control: the 'hyphens' property</h3>

    <table class=propdef>
      <tr>
        <td>Name:
        <td><dfn>hyphens</dfn>
      <tr>
        <th>Value:
        <td>none | manual | auto
      <tr>
        <th>Initial:
        <td>manual
      <tr>
        <th>Applies to:
        <td>all elements
      <tr>
        <th>Inherited:
        <td>yes
      <tr>
        <th>Percentages:
        <td>N/A
      <tr>
        <th>Media:
        <td>visual
      <tr>
        <th>Computed&nbsp;value:
        <td>specified value
    </table>

    <p>This property controls whether hyphenation is allowed to create more
      break opportunities within a line of text. Values have the following
      meanings:

    <dl>
      <dt><dfn title="hyphens:none">''none''</dfn>
        <dd>Words are not broken at line breaks, even if characters inside
          the word suggest line break points.
      <dt><dfn title="hyphens:manual">''manual''</dfn>
        <dd>Words are only broken at line breaks where there are characters
          inside the word that suggest line break opportunities. Characters
          can be explicit or conditional.
        <div class="example">
        <p>In Unicode, U+00AD is a conditional "soft hyphen" and U+2010 is an
          explicit hyphen. Unicode Standard Annex #14 describes the
          <a href="http://unicode.org/reports/tr14/#SoftHyphen">role of soft hyphens in</a>
          Unicode line breaking. [[!UAX14]]
        </div>

        <div class="example">
          <p>In HTML, &amp;shy; represents the soft hyphen character which
            suggests a line break opportunity.
          <pre>ex&amp;shy;ample</pre>
        </div>
      <dt><dfn title="hyphens:auto">''auto''</dfn>
        <dd>Words can be broken at appropriate hyphenation points either as
          determined by hyphenation characters inside the word or as
          determined automatically by a language-appropriate hyphenation
          resource.
          Conditional hyphenation characters inside a word, if present,
          take priority over automatic resources when determining
          hyphenation points within the word.
    </dl>

    <p>Correct automatic hyphenation requires a hyphenation resource
      appropriate to the language of the text being broken. The UA is
      therefore only required to automatically hyphenate text for which
      the author has declared a language (e.g. via HTML <code>lang</code>
      or XML <code>xml:lang</code>) and for which it has an appropriate
      hyphenation resource.

    <p>When shaping scripts such as Arabic are allowed to break within words
      due to hyphenation, the characters must still be shaped as if the word
      were not broken.</p>

  <h3 id="hyphenate-character">
    Hyphens: the 'hyphenate-character' property</h3>

    <table class=propdef>
        <tr>
          <th>Name:
          <td><dfn>hyphenate-character</dfn>
        <tr>
          <th>Value:
          <td>auto | &lt;string>
        <tr>
          <th>Initial:
          <td>auto
        <tr>
          <th>Applies to:
          <td>all elements
        <tr>
          <th>Inherited:
          <td>yes
        <tr>
          <th>Percentages:
          <td>N/A
        <tr>
          <th>Media:
          <td>visual
        <tr>
          <th>Computed&nbsp;value:
          <td>specified value
    </table>

    <p>This property specifies strings that are shown between parts of
      hyphenated words. The 'auto' value means that the user agent should
      find an appropriate value, preferably from the same source as the
      hyphenation dictionary. If a string is specified, it appears at
      the end of the line before a hyphenation break. 

    <div class="example">
      <p>In Latin scripts, the hyphen character (U+2010) is often used to
        indicate that a word has been split. Normally, it will not be
        necessary to set it explicitly. However, this can easily be done:
      <pre>article { hyphenate-character: "\2010" }</pre>
    </div>

    <p class="note">Both hyphens triggered by automatic hyphenation and
      hyphens triggered by soft hyphens are rendered according to
      'hyphenate-character'.

  <h3 id="hyphenate-size-limits">
    Hyphenation Size Limit: the 'hyphenate-limit-zone' property</h3>

    <table class=propdef>
      <tr>
        <th>Name:
        <td><dfn>hyphenate-limit-zone</dfn>
      <tr>
        <th>Value:
        <td>&lt;percentage> | &lt;length>
      <tr>
        <th>Initial:
        <td>0
      <tr>
        <th>Applies to:
        <td>block containers
      <tr>
        <th>Inherited:
        <td>yes
      <tr>
        <th>Percentages:
        <td>refers to width of the line box
      <tr>
        <th>Media:
        <td>visual
      <tr>
        <th>Computed&nbsp;value:
        <td>specified value
    </table>

    <p class="issue">Is 'hyphenate-limit-zone' a good name? Comments/suggestions?</p>

    <p>This property specifies the maximum amount of unfilled space (before
      justification) that may be left in the line box before hyphenation is
      triggered to pull part of a word from the next line back up into the
      current line.

  <h3 id="hyphenate-char-limits">
    Hyphenation Character Limits: the 'hyphenate-limit-chars' property</h3>

    <table class=propdef>
      <tr>
        <th>Name:
        <td><dfn>hyphenate-limit-chars</dfn>
      <tr>
        <th>Value:
        <td>[auto | &lt;integer&gt;]{1,3}
      <tr>
        <th>Initial:
        <td>auto
      <tr>
        <th>Applies to:
        <td>all elements
      <tr>
        <th>Inherited:
        <td>yes
      <tr>
        <th>Percentages:
        <td>N/A
      <tr>
        <th>Media:
        <td>visual
      <tr>
        <th>Computed&nbsp;value:
        <td>specified value
    </table>

    <p>This property specifies the minimum number of characters in a
      hyphenated word. If the word does not meet the required minimum
      number of characters in the word / before the hyphen / after the
      hyphen, then the word must not be hyphenated. Nonspacing combining
      marks (<span class="issue">Unicode class</span>) and intra-word
      punctuation (Unicode classes P*) do not count towards the minimum.

    <p>If three values are specified, the first value is the required
      minimum for the total characters in a word, the second value is
      the minimum for characters before the hyphenation point, and
      the third value is the minimum for characters after the hyphenation
      point. If the third value is missing, it is the same as the second.
      If the second value is missing, then it is ''auto''. The ''auto''
      value means that the UA chooses a value that adapts to the current
      layout.

    <p class="note">Unless the UA is able to calculate a better value, it
      is suggested that ''auto'' means 2 for before and after, and 5 for
      the word total.

    <div class="example">
      <p>In the example below, the minimum size of a hyphenated word is
        left to the UA (which means it may vary depending on the language,
        the length of the line, or other factors), but the minimum number
        of characters before and after the hyphenation point is set to 3.
      <pre>p { hyphenate-limit-chars: auto 3; }</pre>
    </div>

  <h3 id="hyphenate-line-limits">
    Hyphenation Line Limits: the 'hyphenate-limit-lines' and 'hyphenate-limit-last' properties</h3>

    <table class=propdef>
      <tr>
        <th>Name:
        <td><dfn>hyphenate-limit-lines</dfn>
      <tr>
        <th>Value:
        <td>no-limit | &lt;integer>
      <tr>
        <th>Initial:
        <td>no-limit
      <tr>
        <th>Applies to:
        <td>block containers
      <tr>
        <th>Inherited:
        <td>yes
      <tr>
        <th>Percentages:
        <td>N/A
      <tr>
        <th>Media:
        <td>visual
      <tr>
        <th>Computed&nbsp;value:
        <td>specified value
    </table>

    <p>This property indicates the maximum number of successive hyphenated
      lines in an element. The ''no-limit'' value means that there is no limit.

    <p>In some cases, user agents may not be able to  honor the specified value.
      (See 'overflow-wrap'.) It is not defined whether hyphenation introduced by
      such emergency breaking influences nearby hyphenation points.

    <table class=propdef>
      <tr>
        <th>Name:
        <td><dfn>hyphenate-limit-last</dfn>
      <tr>
        <th>Value:
        <td>none | always | column | page | spread 
      <tr>
        <th>Initial:
        <td>none
      <tr>
        <th>Applies to:
        <td>block containers
      <tr>
        <th>Inherited:
        <td>yes
      <tr>
        <th>Percentages:
        <td>N/A
      <tr>
        <th>Media:
        <td>visual
      <tr>
        <th>Computed&nbsp;value:
        <td>specified value
    </table>

    <p>This property indicates hyphenation behavior at the end of elements,
      column, pages and spreads. A spread is a set of two pages that are
      visible to the reader at the same time. Values are:

    <dl>
      <dt><dfn>''none''</dfn>
      <dd>No restrictions imposed.
      <dt><dfn>''always''</dfn>
      <dd>The last full line of the element, or the last line before any
        column, page, or spread break inside the element should not be
        hyphenated. 
      <dt><dfn>''column''</dfn>
      <dd>The last line before any column, page, or spread break inside
        the element should not be hyphenated.
      <dt><dfn>''page''</dfn>
      <dd>The last line before page or spread break inside the element
        should not be hyphenated.
      <dt><dfn>''spread''</dfn>
      <dd>The last line before any spread break inside the element should
        not be hyphenated.
    </dl>

    <div class=example>
      <pre>
<!-- -->p { hyphenate-limit-last: always }
<!-- -->div.chapter {  hyphenate-limit-last: spread }</pre>
    </div>

    <div class=example>
      <p>A paragraph may be formatted like this when 'hyphenate-limit-last: none' is set:
      <pre>
<!-- -->This is just a
<!-- -->simple example
<!-- -->to show Antarc-
<!-- -->tica.
      </pre>

      <p>With 'hyphenate-limit-last: always' one would get:

      <pre>
<!-- -->This is just a
<!-- -->simple example
<!-- -->to        show 
<!-- -->Antarctica.
      </pre>
    </div>

<h2 id="wrapping">
  Text Wrapping</h2>

  <p>Text wrapping is controlled by the 'text-wrap' and 'overflow-wrap' properties:</p>

  <h3 id="text-wrap">
    Text Wrap Settings: the 'text-wrap' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-wrap</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>normal | none | avoid</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>normal</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property specifies the mode for text wrapping. Possible values:</p>

    <dl>
    <dt><dfn title="text-wrap:normal">''normal''</dfn></dt>
    <dd>Lines may break at allowed break points, as determined by the
      line-breaking rules in effect. Line breaking behavior defined
      for the WJ, ZW, and GL line-breaking classes in
      [[!UAX14]] must be honored.
    <dt><dfn title="text-wrap:none">''none''</dfn></dt>
    <dd>Lines may not break; text that does not fit within the block container
      overflows it.</dd>
    <dt><dfn title="text-wrap:avoid">''avoid''</dfn></dt>
    <dd>Line breaking is suppressed within the element: the UA may only break
      within the element if there are no other valid break points in the
      line. If the text breaks, line-breaking restrictions are honored as for
      'normal'.
    </dl>

    <p>Regardless of the 'text-wrap' value, lines always break at forced breaks:
     for all values, line-breaking behavior defined for the BK, CR, LF, CM
     NL, and SG line breaking classes in [[!UAX14]] must
     be honored.</p>

    <p>When <span class="property">'text-wrap'</span> is set to 'normal' or
      'avoid', UAs that allow breaks at punctuation other than spaces
      should prioritize breakpoints.
      For example, if breaks after slashes have a lower priority than spaces,
      the sequence "check /etc" will never break between the '/' and the 'e'.
      The UA may use the width of the containing block, the text's language,
      and other factors in assigning priorities.
      As long as care is taken to avoid such awkward breaks, allowing breaks at
      appropriate punctuation other than spaces is recommended, as it results
      in more even-looking margins, particularly in narrow measures.</p>

    <!-- add a sample prioritization algorithm -->

<h4 id="example-avoid">
Example of using 'text-wrap: avoid' in presenting a footer</h4>

    <div class="example">
      <p>The priority of breakpoints can be set to reflect the intended
        grouping of text.</p>

      <p>Given the rules</p>
      <pre>
<!-- -->footer { text-wrap: avoid; /* inherits to all descendants */ }
      </pre>
      <p>and the following markup:</p>
      <pre>
<!-- -->&lt;footer>
<!-- -->  &lt;venue>27th Internationalization and Unicode Conference&lt;/venue>
<!-- -->  &amp;#8226; &lt;date>April 7, 2005&lt;/date> &amp;#8226;
<!-- -->  &lt;place>Berlin, Germany&lt;/place>
<!-- -->&lt;/footer>
      </pre>

      <p>In a narrow window the footer could be broken as</p>
      <pre>
<!-- -->27th Internationalization and Unicode Conference &#8226;
<!-- -->April 7, 2005 &#8226; Berlin, Germany
      </pre>
      <p>or in a narrower window as</p>
      <pre>
<!-- -->27th Internationalization and Unicode
<!-- -->Conference &#8226; April 7, 2005 &#8226;
<!-- -->Berlin, Germany
      </pre>
      <p>but not as</p>
      <pre>
<!-- -->27th Internationalization and Unicode Conference &#8226; April
<!-- -->7, 2005 &#8226; Berlin, Germany
      </pre>
    </div>

  <h3 id="overflow-wrap">
    Emergency Wrapping: the 'overflow-wrap' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>overflow-wrap</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>normal | [ break-word || hyphenate ]</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>normal</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property specifies whether the UA may break within a word
      to prevent overflow when an otherwise-unbreakable string is too
      long to fit within the line box. It only has an effect when
      'text-wrap' is either 'normal' or 'avoid'. Possible values:</p>

    <dl>
    <dt><dfn title="overflow-wrap:normal">''normal''</dfn></dt>
    <dd>Lines may break only at allowed break points. However, the restrictions
      introduced by ''word-break: keep-all'' may be relaxed to match
      ''word-break: normal'' and the various hyphenation limit properties
      may be ignored if there are no otherwise-acceptable break points in
      the line.</dd>
    <dt><dfn title="overflow-wrap:hyphenate">''hyphenate''</dfn></dt>
    <dd>An unbreakable "word" may be hyphenated if there are no
      otherwise-acceptable break points in the line even if hyphenation is
      turned off or otherwise restricted.
      Hyphenation controls may influence where the word breaks,
      but cannot forbid the word from hyphenating to prevent overflow.
    <dt><dfn title="overflow-wrap:break-word">''break-word''</dfn></dt>
    <dd>An unbreakable "word" may be broken at an arbitrary point if
      there are no otherwise-acceptable break points in the line.
      Shaping characters are still shaped as if the word were not
      broken, and grapheme clusters must together stay as one unit.
      If specified together with ''hyphenate'', valid hyphenation
      takes precedence over ''break-word'' breaking.</dd>
    </dl>

    <p>Break opportunities not part of ''overflow-wrap: normal'' line breaking
       are not considered when calculating ''min-content'' intrinsic
       sizes.

    <p>For legacy reasons, UAs may also accept 'word-wrap' as an alternate name
      for the 'overflow-wrap' property. However this syntax not valid.

<h2 id="justification">
  Alignment and Justification</h2>

  <h3 id="text-align">
    Text Alignment: the 'text-align' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-align</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>start end | match-parent |
            <a class="noxref" href="http://www.w3.org/TR/CSS21/syndata.html#value-def-string"><span class="value-inst-string">&lt;string&gt;</span></a>?
            [ start | end | left | right | center | justify ]
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>start</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>block containers</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value, except for 'match-parent' (see prose)</td>
        </tr>
      </tbody>
    </table>

    <p>This property describes how inline contents of a block are horizontally aligned
      if the contents do not completely fill the line box. Values have the following
      meanings:</p>

    <dl>
    <dt><dfn title="text-align:start">''start''</dfn></dt>
      <dd>The inline contents are aligned to the start edge of the line box.
    <dt><dfn title="text-align:end">''end''</dfn></dt>
      <dd>The inline contents are aligned to the end edge of the line box.
    <dt><dfn title="text-align:left">''left''</dfn></dt>
      <dd>The inline contents are aligned to the left edge of the line box.
        In vertical text, 'left' aligns to the edge of the line box that
        would be the start edge for left-to-right text.</dd>
    <dt><dfn title="text-align:right">''right''</dfn></dt>
      <dd>The inline contents are aligned to the right edge of the line box.
        In vertical text, 'right' aligns to the edge of the line box that
        would be the end edge for left-to-right text.</dd>
    <dt><dfn title="text-align:center">''center''</dfn></dt>
      <dd>The inline contents are centered within the line box.
    <dt><dfn title="text-align:justify">''justify''</dfn></dt>
      <dd>The text is justified according to the method specified by the
      <a href="#text-justify" class="property">'text-justify'</a> property.
    <dt><dfn title="text-align:&lt;string>">''<span title="&lt;string&gt;"><a
      class="noxref" href="http://www.w3.org/TR/CSS21/syndata.html#value-def-string"
      ><span class="value-inst-string">&lt;string&gt;</span></a></span>''</dfn></dt>
      <dd>The string must be a single character; otherwise the declaration must
        be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.
        When applied to a table cell, specifies the <dfn>alignment character</dfn>
        around which the cell's contents will align. See
        <a href="#character-alignment">below</a> for further details and
        how this value combines with keywords.
      </dd>
    <dt><dfn title="text-align:match-parent">''match-parent''</dfn></dt>
      <dd>This value behaves the same as 'inherit' except that an inherited
        'start' or 'end' keyword is calculated against its parent's 'direction'
        value and results in a computed value of either 'left' or 'right'.
    <dt><dfn title="text-align:start end">''start end''</dfn>
      <dd>Specifies ''start''' alignment of the first line and any line
        immediately after a forced line break; and ''end'' alignment of
        any remaining lines not affected by 'text-align-last'.
    </dl>

    <p>A block of text is a stack of
      <a href="http://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
      In the case of 'start', 'end', 'left', 'right' and 'center', this
      property specifies how the inline-level boxes within each line box align
      with respect to the start and end sides of the line box: alignment is not
      with respect to the
      <a href="http://www.w3.org/TR/CSS21/visuren.html#viewport">viewport</a>
      or containing block.
      
    <p>In the case of 'justify', the UA may stretch or shrink any inline boxes
      by <a href="#text-justify">adjusting</a> their text in addition to
      shifting their positions. (See also 'text-justify', 'letter-spacing', and
      'word-spacing'.)
      If an element's white space is set to be <a href="#collapse">collapsible</a>,
      then the UA is not required to adjust its text for the purpose of
      justification and may instead treat the text as having no expansion
      opportunities. If the UA chooses to adjust the text, then it must ensure
      that tab stops continue to line up as required by the
      <a href="http://dev.w3.org/csswg/css3-text/#white-space-rules">white
      space processing rules</a>. 

  <h4 id="character-alignment">Character-based Alignment in a Table Column</h4>

    <p>When multiple cells in a column have an <i>alignment character</i> specified,
      the alignment character of each such cell in the column is centered along
      a single column-parallel axis and the rest of the text in the column
      shifted accordingly. (Note that the strings do not have to be the same
      for each cell, although they usually are.)

    <div class="example">
      The following style sheet:
      <pre>TD { text-align: "." center }</pre>
      will cause the column of dollar figures in the following HTML table:

      <pre class="html-example">
<!-- -->&lt;TABLE&gt;
<!-- -->&lt;COL width="40"&gt;
<!-- -->&lt;TR&gt; &lt;TH&gt;Long distance calls
<!-- -->&lt;TR&gt; &lt;TD&gt; $1.30
<!-- -->&lt;TR&gt; &lt;TD&gt; $2.50
<!-- -->&lt;TR&gt; &lt;TD&gt; $10.80
<!-- -->&lt;TR&gt; &lt;TD&gt; $111.01
<!-- -->&lt;TR&gt; &lt;TD&gt; $85.
<!-- -->&lt;TR&gt; &lt;TD&gt; N/A
<!-- -->&lt;TR&gt; &lt;TD&gt; $.05
<!-- -->&lt;TR&gt; &lt;TD&gt; $.06
<!-- -->&lt;/TABLE&gt;</pre>
      <p>to align along the decimal point. The table might be rendered as
        follows:</P>
      <pre>
<!-- -->+---------------------+
<!-- -->| Long distance calls |
<!-- -->+---------------------+
<!-- -->|        $11.30       |
<!-- -->|        $22.50       |
<!-- -->|         $0.80       |
<!-- -->|    $200567.01       |
<!-- -->|        $85.         |
<!-- -->|        N/A          |
<!-- -->|          $.05       |
<!-- -->|          $.06       |
<!-- -->+---------------------+
<!-- --></pre>
    </div>

    <p>A keyword value may be specified in conjunction with the &lt;string&gt;
      value; if it is not given, it defaults to ''right''. This value is used:
    <ul>
      <li>when character-based alignment is applied to boxes that are not table
        cells.
      <li>when the text wraps to multiple lines (at unforced break points).
      <li>when a character-aligned cell spans more than one column. In this
        case the keyword alignment value is used to determine which column's
        axis to align with: the leftmost column for ''left'', the rightmost
        column for ''right'' and ''center'', the startmost column for ''start'',
        the endmost column for ''end''.
      <li>when the column is wide enough that the character alignment alone does
        not determine the positions of its character-aligned contents. In this
        case the keyword alignment of the first cell in the column with a
        specified alignment character is used to slide the position of the
        character-aligned contents to match the keyword alignment insofar as
        possible without changing the width of the column.
        For ''center'', the UA may center
        the aligned contents using its extremes, center the alignment axis
        itself (insofar as possible), or optically center the aligned contents
        some other way (such as by taking a weighted average of the extent of
        the cells' contents to either side of the axis).
    </ul>

    <p class="note">Right alignment is used by default for character-based
      alignment because numbering systems are almost all left-to-right even
      in right-to-left writing systems, and the primary use case of
      character-based alignment is for numerical alignment.</p>

    <p>If the alignment character appears more than once in the text, the first
      instance is used for alignment. If the alignment character does not appear
      in a cell at all, the string is aligned as if the alignment character had
      been inserted at the end of its contents.

    <p>Character-based alignment occurs before table cell width computation so
      that auto width computations can leave enough space for alignment.
      Whether column-spanning cells participate in the alignment prior to
      or after width computation is undefined.
      If width constraints on the cell contents prevent full alignment
      throughout the column, the resulting alignment is undefined.

  <h3 id="text-align-last">
    Last Line Alignment: the 'text-align-last' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-align-last</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>auto | start | end | left | right | center | justify
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>auto</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>block containers</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property describes how the last line of a block or a line
      right before a forced line break is aligned. If a line is also
      the first line of the block or the first line after a forced line
      break, then 'text-align-last' takes precedence over 'text-align'
      <em>except</em> when two keywords are given for 'text-align'
      (i.e. when 'text-align' assigns an explicit first line alignment).
      
    <p>''auto'' is
      equivalent to the value of the 'text-align' property except when
      'text-align' is set to ''justify'', in which case it is ''justify''
      when 'text-justify' is ''distribute'' and ''start'' otherwise. 
      All other values have the same meanings as in 'text-align'.</p>

  <h3 id="text-justify">
    Justification Method: the 'text-justify' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-justify</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>auto | none |
            inter-word | inter-ideograph | inter-cluster | distribute | kashida
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>auto</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>block containers and, optionally, inline elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property selects the justification method used when a line's
      alignment is set to ''justify'' (see 'text-align'), primarily by
      controlling which scripts' characters are adjusted together or
      separately.
      The property applies to block containers, but the UA may (but
      is not required to) also support it on inline elements.
      It takes the following values:</p>

    <dl>
      <dt><dfn title="text-justify:auto">''auto''</dfn></dt>
        <dd>The UA determines the justification algorithm to follow, based
          on a balance between performance and adequate presentation quality.
          <p class="note">One possible algorithm is to determine the behavior
          based on the language of the paragraph: the UA can then choose
          appropriate value for the language, like ''inter-ideograph''
          for CJK, or ''inter-word'' for English.
          Another possibility is to use a justification method that is a
          universal compromise for all scripts, e.g. the ''inter-cluster''
          method with block scripts raised to first priority.</p>
        </dd>
      <dt><dfn title="text-justify:none">''none''</dfn></dt>
        <dd>Justification is disabled.
          <span class="note">This value is intended for use in user stylesheets
          to improve readability or for accessibility purposes.</span></dd>
      <dt><dfn title="text-justify:inter-word">''inter-word''</dfn></dt>
        <dd>Justification primarily changes spacing at word separators.
          This value is typically used for languages that separate words using
          spaces, like English or Korean.</dd>
      <dt><dfn title="text-justify:inter-ideographic">''inter-ideograph''</dfn></dt>
        <dd>Justification primarily changes spacing at word separators and
          between characters in <a href="#block-scripts">block scripts</a>.
          This value is typically used for <abbr title="Chinese/Japanese/Korean">CJK</abbr>
          languages.</dd>
      <dt><dfn title="text-justify:inter-cluster">''inter-cluster''</dfn></dt>
        <dd>Justification primarily changes spacing at word separators and
          between characters in <a href="#clustered-scripts">clustered
          scripts</a>.
          This value is typically used for Southeast Asian scripts such as Thai.</dd>
      <dt><dfn title="text-justify:distribute">''distribute''</dfn></dt>
        <dd>Justification primarily changes spacing both at word
          separators and between characters in all scripts equally
          (except those in the connected and cursive categories).
          This value is sometimes used in e.g. Japanese.</dd>
      <dt><a name="kashida-prop"></a><a name="text-kashida-space"></a>
        <dfn title="text-justify:kashida">''kashida''</dfn></dt>
        <dd>Justification primarily stretches
          <a href="#cursive-scripts">cursive scripts</a> through the use of
          kashida or other calligraphic elongation.
          This value is <em>optional</em> for conformance to CSS3 Text.
          (UAs that do not support cursive elongation must
          <a href="http://www.w3.org/TR/css-2010/#partial">treat the value
          as invalid</a>.)
        </dd>
    </dl>

    <p>When justifying text, the user agent takes the remaining space between
      the ends of a line's contents and the edges of its line box, and
      distributes that space throughout its contents so that the contents
      exactly fill the line box. If the 'letter-spacing' and 'word-spacing'
      property values allow it, the user agent may also distribute negative
      space, putting more content on the line than would otherwise fit under
      normal spacing conditions. The exact justification algorithm is
      UA-dependent; however, CSS provides some general guidelines which should
      be followed when any justification method other than 'auto' is
      specified.</p>

    <p id="expansion-opportunity">CSS defines <dfn>expansion opportunities</dfn>
      as points where the justification algorithm may alter spacing within
      the text. These expansion opportunities fall into priority
      levels as defined by the justification method. Within a line, expansion
      and compression should primarily target the first-priority expansion
      opportunities; lower priority expansion opportunities are adjusted at a
      lower priority as needed.

    <p>Expansion and compression limits are given by the
      <a href="#letter-spacing">letter-spacing</a>
      and <a href="#word-spacing">word-spacing</a> properties.
      How any remaining space is distributed once all expansion opportunities
      reach their limits is up to the UA. If the inline contents of a line
      cannot be stretched to the full width of the line box, then they must be
      aligned as specified by the 'text-align-last' property. (If
      'text-align-last' is ''justify'', then they must be aligned as for
      ''center'' if 'text-justify' is ''distribute'' and as ''start''
      otherwise.)</p>

    <p>The expansion opportunity priorities for values of 'text-justify'
      are given in the table below. Since justification behavior
      varies by writing system, expansion opportunities are organized by
      <a href="#script-groups">script categories</a>.
      An expansion opportunity exists between two <i>letters</i> at a
      priority level when at least one of them belongs to a script category
      at that level and the other does not belong to a higher priority level.
      All scripts in the same priority level must be treated exactly the same.
      Word separators (spaces) and other symbols and punctuation are treated
      specially, see below.

    <table class="data">
      <caption>Prioritization of Expansion Points</caption>
      <colgroup class="header"></colgroup>
      <colgroup span=6></colgroup>
      <thead>
        <tr>
          <td></td>
          <th>''inter-word''</th>
          <th>''inter-ideograph''</th>
          <th>''distribute''</th>
          <th>''inter-cluster''</th>
          <th>''kashida''</th>
          <th>''auto''</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row"><a href="#block-scripts">block</a></th>
          <td>2</td>
          <td><strong>1</strong></td>
          <td>2</td>
          <td>2</td>
          <td>3</td>
          <td><strong>1</strong>*</td>
        </tr>

        <tr>
          <th scope="row"><a href="#clustered-scripts">clustered</a></th>
          <td>2</td>
          <td>2</td>
          <td><strong>1</strong></td>
          <td><strong>1</strong></td>
          <td>3</td>
          <td><strong>1</strong>*</td>
        </tr>

        <tr>
          <th scope="row"><a href="#cursive-scripts">cursive</a></th>
          <td>2</td>
          <td>2</td>
          <td>2</td>
          <td>2</td>
          <td><strong>1</strong></td>
          <td>2*</td>
        </tr>

        <tr>
          <th scope="row"><a href="#discrete-scripts">discrete</a></th>
          <td>2</td>
          <td>2</td>
          <td><strong>1</strong></td>
          <td>2</td>
          <td>3</td>
          <td>2*</td>
        </tr>

        <tr>
          <th scope="row"><a href="#connected-scripts">connected</a></th>
          <td>never</td>
          <td>never</td>
          <td>never</td>
          <td>never</td>
          <td>never</td>
          <td>never</td>
        </tr>
      </tbody>

      <tbody>
        <tr>
          <th scope="row">spaces</th>
          <td><strong>1</strong></td>
          <td><strong>1</strong></td>
          <td><strong>1</strong></td>
          <td><strong>1</strong></td>
          <td>2</td>
          <td><strong>1</strong>*</td>
        </tr>

        <tr>
          <th scope="row">symbols</th>
          <td>2</td>
          <td><strong>1</strong></td>
          <td><strong>1</strong></td>
          <td><strong>1</strong></td>
          <td>3</td>
          <td>*</td>
        </tr>
      </tbody>
    </table>

    <p id="auto-justify"><small>* The ''auto'' column defined above is informative; it
      suggests a prioritization that presents a universal compromise among
      justification methods.</small></p>
    <p id="justify-spaces">The <dfn title="spaces-category">spaces</dfn> category represents
      expansion opportunities at <a href="#word-separator">word separators</a>.
      (See <a href="#word-spacing">'word-spacing'</a>.) The UA may treat
      spaces differently than other expansion points in the same priority,
      but must not change their priority with respect to expansion points
      in other priority levels. For example, in Japanese ''inter-ideograph''
      justification (which treats CJK characters at a higher priority than
      Latin characters), word spaces traditionally have a higher priority
      than inter-CJK spacing, and the UA may split the 1st-priority level
      to implement that. However the UA is not allowed to drop spaces to
      the same priority as Latin characters.
    <p id="justify-symbols">The <dfn id="punctuation-symbols">symbols</dfn>
      category represents the expansion opportunities existing at or between
      any pair of characters from the Unicode Symbols (S*) and Punctuation (P*)
      classes and at enabled <a href="#text-autospace">autospace</a> points.
      The default justification priority of these points is given above.
      However, there may be additional rules controlling their justification
      behavior due to typographic tradition. Therefore, the UA may reassign
      specific characters or introduce additional levels of prioritization
      to handle expansion opportunities involving symbols and punctuation.
      For example, there are traditionally no expansion opportunities
      between consecutive EM DASH U+2014, HORIZONTAL BAR U+2015, HORIZONTAL
      ELLIPSIS U+2026, or TWO DOT LEADER U+2025 characters [[JLREQ]]; thus
      a UA might assign these characters to the "never" prioritization level.
      As another example, certain fullwidth punctuation characters are
      considered to contain an expansion opportunity (see 'text-spacing').
      The UA might therefore assign these characters to a higher prioritization
      level than the opportunities between ideographic characters.

    <p id="justify-cursive">For justification of <i>cursive scripts</i>,
      words may be expanded through kashida elongation or other cursive
      expansion processes. Kashida may be applied in discrete units or
      continuously, and the prioritization of kashida points is UA-dependent:
      for example, the UA may apply more at the end of the line. The
      UA should not apply kashida to fonts for which it is inappropriate.
      It may instead rely on other justification methods that lengthen
      or shorten Arabic segments (e.g. by substituting in swash forms or
      optional ligatures). Because elongation rules depend on the typeface
      style, the UA should rely on on the font whenever possible rather
      than inserting kashida based on a font-independent ruleset. The UA
      should limit elongation so that, e.g. in multi-script lines a short
      stretch of Arabic will not be forced to soak up too much of the
      extra space by itself. If the UA does not support cursive elongation,
      then, as with connected scripts, no expansion points exist between
      characters of these scripts.

    <p>The UA may enable or break optional ligatures or use other font
      features such as alternate glyphs or glyph compression to help
      justify the text under any method. This behavior is not controlled by
      this level of CSS.</p>

    <p class="issue">Add example of using 'text-justify' with the TeX
      algorithm.</p>

    <div class="example">
      <p>3.8 Line Adjustment in [[JLREQ]] gives an example of a set of rules for
        how a text formatter can justify Japanese text.
        It describes rules for cases where the 'text-justify' property is ''inter-ideograph''
        and the 'text-spacing' property does not specify ''no-compress''.</p>
      <p>It produces an effect similar to cases where
        the computed value of 'text-spacing' property does not specify
        ''trim-end'' or ''space-end''.
        If the UA wants to prohibit this behavior,
        rule b. of 3.8.3 should be omitted.</p>
      <p>Note that the rules described in the document specifically target Japanese.
        Therefore they may produce non-optimal results
        when used to justify other languages such as English.
        To make the rules more applicable to other scripts,
        the UA could, for instance,
        omit the rule to compress half-width spaces (rule a. of 3.8.3).</p>
      <!--
      <p>JIS X-4051 [[JIS4051]] defines how a text formatter can justify Japanese text.
        Here is one example of the interpretation of JIS X-4051 with slight modification.</p>
        <ol>
          <li>If no justification is necessary, neither compression nor expansion occur.</li>
          <li>If justification is necessary,
            take the first line break opportunity beyond the end of line
            and apply the following rules (in order) to compress until it fits.
            <ol style="list-style-type:lower-alpha">
              <li>Compress space characters up to the minimum value specified by 'word-spacing' property, or up to 1/4em.</li>
              <li>Compress <a href="#fullwidth-middle-dot-punctuation">fullwidth middle dot punctuations</a>
                and <a href="#fullwidth-colon-punctuation">fullwidth colon punctuations</a>
                up to 1/2em, by trimming the same amount of spaces from both sides of the characters.</li>
              <li>Compress the left side of <a href="#fullwidth-opening-punctuation">fullwidth opening punctuations</a>
                and the right side of <a href="#fullwidth-closing-punctuation">fullwidth closing punctuations</a>
                up to 1/2em.</li>
              <li>Compress spaces created by 'text-spacing' property up to 1/8em.</li>
            </ol></li>
          <li>If the compression fails to fit the line,
            take the last line break opportunity before the end of line,
            and apply the following rules (in order) to expand until it fits.
            <ol style="list-style-type:lower-alpha">
              <li>Expand space characters up to the maximum value specified by 'word-spacing' property, or up to 1/2em.</li>
              <li>Expand spaces created by 'text-spacing' property up to 1/2em.</li>
              <li>Expand all expansion opportunities as defined above in equal percent of the size of each character.</li>
            </ol></li>
        </ol>
      -->
    </div>

<h2 id="spacing">
  Spacing</h2>

  <p>The <dfn>&lt;spacing-limit&gt;</dfn> value type,
    which is to represent an optimum, minimum, and maximum for 'word-spacing'
    and 'letter-spacing', is defined as
  <pre class="prod"><dfn>&lt;spacing-limit></dfn> = [ normal | &lt;length&gt; | &lt;percentage&gt;]{1,3}

  <p>If three values are specified, they represent the optimum, minimum,
    and maximum respectively.
    If only two values are specified, then the first represents both the
    optimum and the minimum, and the second represents the maximum.
    If just one value is specified, then it represents the optimum,
    minimum, and maximum. The values are interpreted as defined below:

  <dl>
    <dt><dfn title="&lt;spacing-limit&gt;:normal">''normal''</dfn></dt>
      <dd>Specifies the normal optimum/minimum/maximum spacing, as defined
        by the current font and/or the user agent.
        Normal minimum and maximum spacing must be defined relative to
        the optimum spacing so that the minimum and maximum limits
        increase and decrease with changes to the optimum spacing.
        These limits may also vary according to some measure of the amount
        of text on a line (e.g. block width divided by font size), as
        larger measures can accommodate tighter spacing constraints.
        Normal optimum/minimum/maximum spacing may also vary based on the
        value of the <a href="#text-justify">'text-justify'</a> property,
        the element's language, and other factors.
        Normal spacing between a pair of
        <a href="#connected-scripts">connected</a> or
        <a href="#cursive-scripts">cursive</a>
        characters is always zero.
      </dd>
    <dt><dfn title="&lt;spacing-limit&gt;:&lt;length&gt;">''&lt;length&gt;''</dfn>
      <dd>Specifies extra spacing <em>in addition to</em> the normal spacing.
        Values may be negative, but there may be implementation-dependent
        limits.
      </dd>
    <dt><dfn title="&lt;spacing-limit&gt;:&lt;percentage&gt;">''&lt;percentage&gt;''</dfn>
      <dd>Specifies the spacing as a percentage of the affected character.
        Only valid on 'word-spacing'. Negative values are not allowed.
      </dd>
  </dl>

  <p>In the absence of justification the optimum spacing must be used.
    The text justification process may alter the spacing
    from its optimum (see the <a href="#text-justify">'text-justify'</a>
    property, above) but must not violate the minimum spacing limit
    and should also avoid exceeding the maximum.

  <p>If the minimum is more than the maxmimum, then the used maximum is
    set to the minimum. Likewise for the optimum. If the maximum is less
    than the optimum, then the used optimum is set to the used maximum.

  <h3 id="word-spacing">
    Word Spacing: the 'word-spacing' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>word-spacing</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td><a href="#spacing-limit">&lt;spacing-limit&gt;</a>
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>normal</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>refers to width of the affected glyph</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified, except with &lt;length> values computed to absolute lengths</td>
        </tr>
      </tbody>
    </table>

    <p>This property specifies the minimum, maximum, and optimal spacing
      between &ldquo;words&rdquo;, as follows:

    <p>Spacing is applied to each word-separator character
      left in the text after the <a href="#white-space-rules">white space
      processing rules</a> have been applied, and should be applied half on
      each side of the character.
      <dfn id="word-separator">Word-separator characters</dfn> include the
      space (U+0020), the no-break space (U+00A0), the Ethiopic word space (U+1361),
      the Aegean word separators (U+10100,U+10101), the Ugaritic word divider
      (U+1039F), and the Tibetan tsek (U+0F0B, U+0F0C).

      If there are no word-separator characters, or if the word-separating
      character has a zero advance width (such as the zero width space U+200B)
      then the user agent must not create an additional spacing between words.

      General punctuation and fixed-width spaces (such as U+3000 and U+2000
      through U+200A) are not considered word-separator characters.</p>

    <div class="example">
      <p>The following example will make all the spaces between words in Arabic
      be rendered as zero-width, and double the width of each space in English:

      <pre>:lang(ar) { word-spacing:   0%; }
<!--    -->:lang(en) { word-spacing: 200%; }</pre>

      <p>The following example will <em>add</em> half the the width of the
        &ldquo;0&rdquo; glyph to word spacing character [[CSS3VAL]]:
      <pre>p { word-spacing: 0.5ch; }</pre>
    </div>

  <h3 id="letter-spacing">
    Tracking: the 'letter-spacing' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>letter-spacing</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td><a href="#spacing-limit">&lt;spacing-limit&gt;</a>
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>normal</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified, except with &lt;length> values computed to absolute lengths
        </tr>
      </tbody>
    </table>

    <p>This property specifies the minimum, maximum, and optimal spacing
      between <i>characters</i>. Letter-spacing is applied in
      addition to any word-spacing. ''normal'' optimum letter-spacing is
      typically zero.</p>

    <p>Letter-spacing must not be applied at the beginning or at the end
       of a line. At element boundaries, the letter spacing is given by
       and rendered within the innermost element that <em>contains</em>
       the boundary.</p>

    <p>For the purpose of letter-spacing, each atomic inline (such as an
      image or inline block) is treated as a single <i>character</i>.

    <div class="example">
      <p>For example, given the markup</p>

      <pre>&lt;P&gt;a&lt;LS&gt;b&lt;Z&gt;cd&lt;/Z&gt;&lt;Y&gt;ef&lt;/Y&gt;&lt;/LS&gt;g&lt;/P&gt;</pre>

      <p>and the style sheet</p>

      <pre><!--
     -->LS { letter-spacing: 1em; }
<!-- -->Z { letter-spacing: 0.3em; }
<!-- -->Y { letter-spacing: 0.4em; }</pre>

      <p>the spacing would be</p>

      <pre>a[0]b[1em]c[0.3em]d[1em]e[0.4em]f[0]g</pre>
    </div>

    <p>UAs may apply letter-spacing to cursive scripts. In this case, UAs
      should extend the space between disjoint characters as specified above
      <em>and</em> extend the visible connection between cursively connected
      characters by the same amount (rather than leaving a gap). The UA may
      use glyph substitution or other font capabilities to spread out the
      letters. If the UA  cannot expand a cursive script without breaking
      the cursive connections, it should not apply letter-spacing between
      characters of that script at all.</p>

    <p>When the resulting space between two characters is not the same as the
      default space, user agents should not use optional ligatures.</p>

  <h3 id="text-spacing-prop">
    <a name="punctuation-trim"></a>
    <a name="text-trim-prop"></a><a name="text-trim"></a>
    <a name="text-autospace-prop"></a><a name="text-autospace"></a>
    Character Class Spacing: the 'text-spacing' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-spacing</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>normal | none |
              [ trim-start | space-start ] ||
              [ trim-end | space-end | allow-end ] ||
              [ trim-adjacent | space-adjacent ] ||
              no-compress ||
              ideograph-alpha ||
              ideograph-numeric ||
              punctuation
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>normal</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>block containers</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>specified value</td>
        </tr>
      </tbody>
    </table>

    <p>This property controls spacing between adjacent characters on the
      same line within the same inline formatting context using a set of
      character-class-based rules.
      Such spacing can either be created between or trimmed from the
      affected glyphs.
      Values are defined as follows:</p>

    <dl>
      <dt><dfn title="text-spacing:normal">''normal''</dfn></dt>
        <dd>Specifies the baseline behavior, equivalent to
          ''space-start allow-end trim-adjacent''.
      <dt><dfn title="text-spacing:none">''none''</dfn><dt>
        <dd>Turns off all text-spacing features. All fullwidth characters
          are set with full-width glyphs.
      <dt><dfn title="text-spacing:ideograph-alpha">''ideograph-alpha''</dfn></dt>
        <dd>Creates 1/4em extra spacing between runs of <i>ideographs</i> and
          <i>non-ideographic letters</i>.
          <span class="note">A commonly used algorithm for determining this
            behavior is specified in [[JLREQ]]</span>
        </dd>
      <dt><dfn title="text-spacing:ideograph-numeric">''ideograph-numeric''</dfn></dt>
        <dd>Creates 1/4em extra spacing between runs of <i>ideographs</i> and
          <i>non-ideographic numerals</i> glyphs.
          <span class="note">A commonly used algorithm for determining this
            behavior is specified in [[JLREQ]]</span>
        </dd>
      <dt><dfn title="text-spacing:punctuation">''punctuation''</dfn>
        <dd>Creates extra non-breaking spacing around punctuation as required by
          language-specific typographic conventions. In this level, if the
          element's content language is French, narrow no-break space (U+202F)
          and no-break space (U+00A0) is be inserted where required by
          <a href="http://unicode.org/udhr/n/notes_fra.html">French typographic
          guidelines</a>.
          Otherwise this value has no effect. However future specifications
          may add automatic spacing behavior for other languages.
      <dt><dfn title="text-spacing:space-start">''space-start''</dfn></dt>
        <dd>Set <i>fullwidth opening punctuation</i> with full-width glyphs
          (spaced) at the start of each line.
      <dt><dfn title="text-spacing:trim-start">''trim-start''</dfn></dt>
        <dd>Set <i>fullwidth opening punctuation</i> with half-width glyphs
          (flush) at the start of each line.
      <dt><dfn title="text-spacing:allow-end">''allow-end''</dfn></dt>
        <dd>Set <i>fullwidth closing punctuation</i> with half-width glyphs
          (flush) at the end
          of each line if it does not otherwise fit prior to justification,
          otherwise sets the punctuation with full-width glyphs.
      <dt><dfn title="text-spacing:space-end">''space-end''</dfn></dt>
        <dd>Set <i>fullwidth opening punctuation</i> with full-width glyphs
          (spaced) at the start of each line.</dd>
      <dt><dfn title="text-spacing:trim-end">''trim-end''</dfn></dt>
        <dd>Set <i>fullwidth closing punctuation</i> with half-width glyphs
          (flush) at the end of each line.</dd>
      <dt><dfn title="text-spacing:space-adjacent">''space-adjacent''</dfn></dt>
        <dd>Set <i>fullwidth opening punctuation</i> with full-width glyphs
          (spaced) when not at the start of the line.
          Set <i>fullwidth closing punctuation</i> with full-width glyphs
          (spaced) when not at the end of the line.
      <dt><dfn title="text-spacing:trim-adjacent">''trim-adjacent''</dfn></dt>
        <dd>Collapse spacing between punctuation glyphs
          <a href="#fullwidth-collapsing">as described below</a>.
      <dt><dfn title="text-spacing:no-compress">''no-compress''</dfn></dt>
        <dd>Justification may not compress text-spacing. (If this value is not
           specified, the justification process may reduce autospacing except
           when the spacing is at the start or end of the line.)
        <span class="note">
          An example of compression rules is given for Japanese in
          3.8 Line Adjustment in [[JLREQ]].</span>
        </dd>
    </dl>

    <p>This property is additive with the 'word-spacing' and 'letter-spacing'
      properties. That is, the amount of spacing contributed by the
      'letter-spacing' setting (if any) is added to the spacing created by
      'text-spacing'. The same applies to 'word-spacing'.

    <p>At element boundaries, the amount of extra spacing introduced
      between characters is determined by and rendered within the innermost
      element that contains the boundary. If the extra spacing is applied
      to a particular glyph, then the spacing is determined by the innermost
      element containing that glyph.

    <p class="note">Values other than ''normal'', ''none'', ''trim-start'',
      ''trim-end'', and ''space-end'' are at-risk and may be dropped from
      this level of CSS. They are defined here currently to help work out
      a complete design of this feature.

    <p>Support for this property is <em>optional</em>. It is strongly
      recommended for UAs that wish to support CJK typography.</p>

    <p class="issue">It was requested to add a value for doubling the space after
      periods.</p>


<h4 id="fullwidth-collapsing">
Fullwidth Punctuation Collapsing</h4>

    <p>Typically fullwidth characters have glyphs with the same advance width
      as a standard Han character (e.g. 水 U+6C34). However, many fullwidth
      punctuation glyphs only take up part of the fullwidth design space.
      Thus such punctuation are not always set fullwidth. Several values of
      'text-spacing' allow the author to control when such characters are
      set half-width (typically half the width of an ideograph) and when
      they are set full-width.

    <p>In order to set the text as specified, the UA may need to either
      <ul>
        <li>trim (kern) the blank half of the glyphs if they are given
          full-width and must be set half-width, or
        <li>add space to the glyphs if they are given half-width must be set
          full-width.
      </ul>

    <p>Some fonts use proportional glyphs for fullwidth punctuation characters.
      For such proportional glyphs, the given advance width is considered
      simultaneously full-width and half-width: no space is added or removed.

    <p class="note">The advance width of a standard Han character can be
      determined either from font metrics such as the OpenType <code>ideo</code>
      and <code>idtp</code> baselines for the opposite writing mode, or
      by taking the advance width of a Han character such as 水 U+6C34.
      (The opposite writing mode must be used because some fonts are compressed
      so that the characters are not square.) More information on OpenType
      metrics can be found <a href="http://www.microsoft.com/typography/otspec/baselinetags.htm#ideoembox">in
      the OpenType spec</a>.
      Note that if 水 U+6C34, 卜 U+535C, and 一 U+4E00 do not all have
      the same advance width, the font has proportional ideographs and the
      fullwidth advance width cannot be reliably determined by measuring
      glyphs.

    <p>Unless 'text-spacing' is set to ''space-adjacent'' or ''none'' (or the
      font has proportional fullwidth punctuation glyphs), the UA
      must collapse the space typically associated with such full width
      glyphs as follows:
    <ul>
      <li>Set <i>fullwidth opening punctuation</i> half-width if the previous
        character is a <i>fullwidth opening punctuation</i>, <i>fullwidth middle dot
        punctuation</i>, or ideographic space (U+3000). Else set it full-width.
      <li>Set <i>fullwidth closing punctuation</i> half-width if the next
        character is a <i>fullwidth closing punctuation</i>, <i>fullwidth middle dot
        punctuation</i>, or ideographic space (U+3000). Else set it full-width.
      <li>Set <i>fullwidth closing punctuation</i> followed by <i>fullwidth opening
        punctuation</i> each "3/4-width", i.e. halfway between fullw-width and
        half-width.
    </ul>

    <div class="example">
      <p>The following example table lists the punctuation pairs affected by
        adjancent-pairs trimming. It uses halfwidth equivalents to approximate
        the trimming effect.</p>

      <table class="data">
        <caption>Demonstration of adjacent-pairs punctuation trimming</caption>
        <thead>
          <tr><th>Combination</th> <th>Sample Pair</th> <th>Looks Like</th>
        </thead>

        <tbody>
          <tr><td scope=row>Opening&#8212;Opening</td>
              <td><tt lang="ja" class="char">〔</tt>+<tt lang="ja" class="char">（</tt>
              <td><tt lang="ja" class="char">〔</tt><tt lang="ja" class="char half-r">(</tt>
          <tr><td scope=row>Middle Dot&#8212;Opening</td>
              <td><tt lang="ja" class="char">・</tt>+<tt lang="ja" class="char">（</tt>
              <td><tt lang="ja" class="char">・</tt><tt lang="ja" class="char">(</tt>
          <tr><td scope=row>Closing&#8212;Opening</td>
              <td><tt lang="ja" class="char">〕</tt>+<tt lang="ja" class="char">（</tt>
              <td><tt lang="ja" class="char">)<span class="quarter">&#x3000;</span></tt><tt lang="ja" class="char"><span class="quarter">&#x3000;</span>(</tt>
          <tr><td scope=row>Ideographic Space&#8212;Opening</td>
              <td><tt lang="ja" class="char">　</tt>+<tt lang="ja" class="char">（</tt>
              <td><tt lang="ja" class="char">　</tt><tt lang="ja" class="char">(</tt>
          <tr><td scope=row>Closing&#8212;Closing</td>
              <td><tt lang="ja" class="char">）</tt>+<tt lang="ja" class="char">〕</tt>
              <td><tt lang="ja" class="char">)</tt><tt lang="ja" class="char">〕</tt>
          <tr><td scope=row>Closing&#8212;Middle Dot</td>
              <td><tt lang="ja" class="char">）</tt>+<tt lang="ja" class="char">・</tt>
              <td><tt lang="ja" class="char">)</tt><tt lang="ja" class="char">・</tt>
          <tr><td scope=row>Closing&#8212;Ideographic Space</td>
              <td><tt lang="ja" class="char">）</tt>+<tt lang="ja" class="char">　</tt>
              <td><tt lang="ja" class="char">)</tt><tt lang="ja" class="char">　</tt>
        </tbody>
      </table>
    </div>

<h4 id="text-spacing-classes">
Text Spacing Character Classes</h4>

    <p>In the context of this property the following definitions apply:</p>
    <p class="issue">classes and Unicode code point should be reviewed.</p>
    <dl>
      <dt><dfn>Ideographs</dfn></dt>
      <dd>Includes all characters listed below:
        <ul>
          <li>All characters in the range of U+3041 to U+30FF,
            except that belongs to Unicode Punctuation [P*] category.</li>
          <li>CJK Strokes (U+31C0 to U+31EF).</li>
          <li>Katakana Phonetic Extensions (U+31F0 to U+31FF).</li>
          <li>All characters that belongs to Han Unicode Script Property [[!UAX24]].</li>
        </ul>
      </dd>
      <dt><dfn>Non-ideographic letters</dfn></dt>
      <dd>Includes all characters that belongs to Unicode Letters [L*] and
        Mark [M*] category, except any of the following conditions are met:
          <ul>
            <li>Is defined as Ideographic letters.</li>
            <li>Is categorized as East Asian Fullwidth (F) by [[!UAX11]].</li>
            <li>Is upright in vertical text flow using the 'text-orientation' property
              or the 'text-combine' property.</li>
          </ul>
      </dd>
      <dt><dfn>Non-ideographic numerals</dfn></dt>
      <dd>Includes all characters that belongs to Unicode Number, Decimal Digit
        [Nd] category, except any of the following conditions are met:
          <ul>
            <li>Is categorized as East Asian Fullwidth (F) by [[!UAX11]].</li>
            <li>Is upright in vertical text flow using the 'text-orientation' property
              or the 'text-combine' property.</li>
          </ul>
      </dd>
      <dt id="fullwidth-opening-punctuation"><dfn>fullwidth opening punctuation</dfn></dt>
      <dd>Includes any opening punctuation character (Unicode category
        <code>Ps</code>) that belongs to the <i>CJK Symbols and Punctuation</i>
        block (U+3000&#8211;U+303F) or is categorized as <i>East Asian
        Fullwidth (F)</i> by [[!UAX11]]. Also includes
        LEFT SINGLE QUOTATION MARK (U+2018) and LEFT DOUBLE QUOTATION MARK
        (U+201C).
        When trimmed, the left (for horizontal text) or top (for vertical
        text) half is kerned.</dd>
      <dt id="fullwidth-closing-punctuation"><dfn>fullwidth closing punctuation</dfn></dt>
      <dd>Includes any closing punctuation character (Unicode category
        <code>Pe</code>) that belongs to the <i>CJK Symbols and Punctuation</i>
        block (U+3000&#8211;U+303F) or is categorized as <i>East Asian Fullwidth
        (F)</i> by [[!UAX11]]. Also includes RIGHT SINGLE
        QUOTATION MARK (U+2019) and RIGHT DOUBLE QUOTATION MARK (U+201D). May
        also include fullwidth colon punctuation and/or fullwidth dot
        punctuation (see below).
        When trimmed, the right (for horizontal text) or bottom (for vertical
        text) half is kerned.</dd>
      <dt id="fullwidth-middle-dot-punctuation"><dfn>fullwidth middle dot punctuation</dfn></dt>
      <dd>Includes MIDDLE DOT (U+00B7), HYPHENATION POINT (U+2027), and
        KATAKANA MIDDLE DOT (U+30FB). May also include fullwidth colon
        punctuation and/or fullwidth dot punctuation (see below).</dd>
      <dt id="fullwidth-colon-punctuation"><dfn>fullwidth colon punctuation</dfn></dt>
      <dd>Includes FULLWIDTH COLON (U+FF1A) and FULLWIDTH SEMICOLON (U+FF1B).</dd>
      <dt id="fullwidth-dot-punctuation"><dfn>fullwidth dot punctuation</dfn></dt>
      <dd>Includes IDEOGRAPHIC COMMA (U+3001), IDEOGRAPHIC FULL STOP (U+3002),
        FULLWIDTH COMMA (U+FF0C), FULLWIDTH FULL STOP (U+FF0E).</dd>
    </dl>

    <p>Whether fullwidth colon punctuation and fullwidth dot punctuation should
      be considered fullwidth closing punctuation or fullwidth middle dot
      punctuation depends on where in the glyph's box the punctuation is drawn.
      If the punctuation is centered, then it should be considered middle dot
      punctuation. If the punctuation is drawn to one side (left in horizontal
      text, top in vertical text) and the other half is therefore blank then
      the punctuation should be considered closing punctuation and trimmed
      accordingly.</p>

    <p>The UA must classify fullwidth colon punctuation and fullwidth dot
      punctuation under either the fullwidth closing punctuation category or
      the fullwidth middle dot punctuation category as appropriate. The UA
      may rely on language conventions and the writing mode (horizontal
      vs. vertical), and/or font information to determine this categorization.
      The UA may also add additional characters to any category as appropriate.</p>

    <div class="note">
      <p>The following informative table summarizes language conventions for
      classifying fullwidth colon and dot punctuation:</p>

      <table class="data">
        <colgroup class="header"></colgroup>
        <colgroup span=2></colgroup>
        <thead>
          <tr><td></td> <th>colon punctuation</th> <th>dot punctuation</th>
        </thead>
        <tbody>
          <tr><th>Simplified Chinese (horizontal)</th> <td>closing</td> <td>closing</td>
          <tr><th>Simplified Chinese (vertical)</th> <td>closing</td> <td>closing</td>
          <tr><th>Traditional Chinese</th> <td>middle dot</td> <td>middle dot</td>
          <tr><th>Korean</th> <td>middle dot</td> <td>closing</td>
          <tr><th>Japanese</th> <td>middle dot</td> <td>closing</td>
        </tbody>
      </table>

      <p>Note, that for Chinese fonts at least, the author observes that the
        standard convention is often not followed.</p>
    </div>

<h2 id="edge-effects">
  Edge Effects</h2>

  <p>Edge effects control the indentation of lines with respect to other lines
    in the block ('text-indent') and how content is aligned to the start and
    end edges of a line ('hanging-punctuation', see also 'text-spacing').

  <div class="example">
    <p>Japanese has three common start-edge typesetting schemes, which are
      distinguished by their handling of opening brackets.

    <div class="figure">
      <p><img src="opening-brackets-at-line-head.png"
        width="646" height="360"
        alt="The first scheme aligns opening brackets flush with the indent
             edge on the first line and with the start edge of other lines.
             The second scheme gives the opening bracket its full width, so
             that it is effectively indented half an em from the indent edge
             and from the start edge of other lines.
             The third scheme aligns the opening brackets flush with the
             start edge of lines, but hangs them inside the indent on the
             first line (resulting in an effective half-em indent instead
             of the full em for paragraphs that begin with an opening bracket).">
      <p class="caption">Positioning of opening brackets at line head [[JLREQ]]</p>
    </div>

    <p>Assuming a UA style sheet of <code>p { margin: 1em 0; }</code>, CSS can
      achieve the Japanese typesetting styles with the following rules:
    <ul>
      <li>Brackets flush with indent, flush with other lines (first scheme):
        <pre>p { /* Flush alignment */
<!--   -->  margin: 0;
<!--   -->  text-indent: 1em;
<!--   -->  text-spacing: trim-start;
<!--   -->}</pre>
      <li>Brackets preserve fullwidth spacing on all lines (second scheme):
        <pre>p { /* Fullwidth alignment */
<!--   -->  margin: 0;
<!--   -->  text-indent: 1em;
<!--   -->  text-spacing: normal;
<!--   -->}</pre>
      <li>Brackets hang in indent, flush with other lines (third scheme):
        <pre>p { /* Hanging alignment */
<!--   -->  margin: 0;
<!--   -->  text-indent: 1em;
<!--   -->  text-spacing: trim-start;
<!--   -->  hanging-punctuation: first;
<!--   -->}</pre>
    </ul>
  </div>

  <h3 id="text-indent">
    First Line Indentation: the 'text-indent' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-indent</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>[ <span class="value-inst-length"><a href="http://www.w3.org/TR/CSS21/syndata.html#value-def-length">&lt;length&gt;</a></span>
              | <span class="value-inst-percentage"><a href="http://www.w3.org/TR/CSS21/syndata.html#value-def-percentage">&lt;percentage&gt;</a></span>
              ] && [ hanging || each-line ]?
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>0</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>block containers</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>refers to width of containing block</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>the percentage as specified or the absolute length</td>
        </tr>
      </tbody>
    </table>

    <p>This property specifies the indentation applied to lines of inline
      content in a block. The indent is treated as a margin applied to
      the start edge of the line box. Unless otherwise specified via the
      ''each-line'' and/or ''hanging'' keywords, only lines that are the
      <a href="http://www.w3.org/TR/CSS21/selector.html#first-line-pseudo">first
      formatted line</a> of an element are affected. For example, the first line of
      an anonymous block box is only affected if it is the first child
      of its parent element.

    <p>Values have the following meanings:</p>

    <dl>
      <dt>''&lt;length&gt;''</dt>
      <dd>Gives the amount of the indent as an absolute length.</dd>
      <dt>''&lt;percentage&gt;''</dt>
      <dd>Gives the amount of the indent as a percentage of the containing
        block's logical width.</dd>
      <dt><dfn>''each-line''</dfn>
      <dd>Indentation affects the first line of the block container as
        well as each line after a forced line break, but does not affect
        lines after a text wrap break.
      <dt><dfn>''hanging''</dfn>
      <dd>Inverts which lines are affected.</dd>
    </dl>

    <div class="example">
      <p>If 'text-align' is 'start' and 'text-indent' is '5em' in
      left-to-right text with no floats present, then first line of text
      will start 5em into the block:</p>

      <pre><!--
       -->     Since CSS1 it has been possible
<!--   -->to indent the first line of a block
<!--   -->element using the 'text-indent'
<!--   -->property.<!--
   --></pre>
    </div>

    <p class="note">Note that since the 'text-indent' property inherits,
      when specified on a block element, it will affect descendant
      inline-block elements.
      For this reason, it is often wise to specify 'text-indent: 0' on
      elements that are specified 'display: inline-block'.</p>

  <h3 id="hanging-punctuation">
    Hanging Punctuation: the 'hanging-punctuation' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>hanging-punctuation</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>none | [ first || [ force-end | allow-end ] || last ]
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>none</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>inline elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified</td>
        </tr>
      </tbody>
    </table>

    <p>This property determines whether a punctuation mark, if one is present,
      may be placed outside the line box (or in the indent) at the start
      or at the end of a line of text.

    <p class="note">Note that if there is not sufficient padding on the
      block container, hanging punctuation can trigger overflow.</p>

    <p>Values have the following meanings:</p>

    <dl>
      <dt><dfn title="hanging-punctuation:none">''none''</dfn></dt>
        <dd>No characters can hang.</dd>
      <dt><dfn title="hanging-punctuation:first">''first''</dfn></dt>
        <dd>An opening bracket or quote at the start of the
          <a href="http://www.w3.org/TR/CSS21/selector.html#first-line-pseudo">first
          formatted line</a> of an element hangs.
          This applies to all characters in the Unicode categories Ps, Pf, Pi.</dd>
      <dt><dfn title="hanging-punctuation:last">''last''</dfn></dt>
        <dd>A closing bracket or quote at the end of the
          <i>last formatted line</i> of an element hangs.
          This applies to all characters in the Unicode categories Pe, Pf, Pi.</dd>
      <dt><dfn title="hanging-punctuation:force-end">''force-end''</dfn></dt>
        <dd>A stop or comma at the end of a line hangs.</dd>
      <dt><dfn title="hanging-punctuation:allow-end">''allow-end''</dfn></dt>
        <dd>A stop or comma at the end of a line hangs if it
          does not otherwise fit prior to justification.</dd>
    </dl>

    <p>When a punctuation mark hangs, it is not considered when measuring
      the line's contents for fit, alignment, or justification.
      Depending on the line's alignment, this can push the mark outside the
      line box. At most one punctuation character may hang outside each edge
      of the line.

    <p class="note">A hanging punctuation mark is still enclosed inside
      its inline box and participates in text justification: its character
      advance width is just not measured when determining how much content
      fits on the line, how much the line's contents need to be expanded
      or compressed for justification, or how to position the content
      within the line box for text alignment.

    <p>Non-zero start and end borders or padding on an inline box are not
      allowed to hang. This can prevent a hangable punctuation mark
      from hanging: for example, a period at the end of an inline box with
      end padding cannot hang outside the end edge of a line.

    <p><dfn>Stops and commas</dfn> allowed to hang include:
    <table class="data">
      <tr><td>U+002C <td>&#x002C; <td>COMMA
      <tr><td>U+002E <td>&#x002E; <td>FULL STOP
      <tr><td>U+060C <td>&#x060C; <td>ARABIC COMMA
      <tr><td>U+06D4 <td>&#x06D4; <td>ARABIC FULL STOP
      <tr><td>U+3001 <td>&#x3001; <td>IDEOGRAPHIC COMMA
      <tr><td>U+3002 <td>&#x3002; <td>IDEOGRAPHIC FULL STOP
      <tr><td>U+FF0C <td>&#xFF0C; <td>FULLWIDTH COMMA
      <tr><td>U+FF0E <td>&#xFF0E; <td>FULLWIDTH FULL STOP
      <tr><td>U+FE50 <td>&#xFE50; <td>SMALL COMMA
      <tr><td>U+FE51 <td>&#xFE51; <td>SMALL IDEOGRAPHIC COMMA
      <tr><td>U+FE52 <td>&#xFE52; <td>SMALL FULL STOP
      <tr><td>U+FF61 <td>&#xFF61; <td>HALFWIDTH IDEOGRAPHIC FULL STOP
      <tr><td>U+FF64 <td>&#xFF64; <td>HALFWIDTH IDEOGRAPHIC COMMA
    </table>
    <p>The UA may include other characters as appropriate.
    <span class="issue">Should other characters be included?</span>

    <p class="note">The CSS Working Group would appreciate if UAs including
      other characters would <a href="#status">inform the working group</a>
      of such additions.</p>

    <p>Support for this property is <em>optional</em>. It is recommended
      for UAs that wish to support CJK typography, particularly those in
      the Japanese market.</p>

    <div class="example">
      <p>The ''allow-end'' and ''force-end'' are two variations of
        hanging punctuation used in East Asia.</p>
      <div>
      <div class="sidefigure">
        <img src="hanging-punctuation-allow-end.png"
          width="202" height="51"
          alt="hanging-punctuation: allow-end">
      </div>
      <pre><code class="css"><!--
     -->p {
<!-- -->   hanging-punctuation: allow-end;
<!-- -->}
<!----></code></pre>
      <div class="sidefigure">
        <img src="hanging-punctuation-force-end.png"
          width="202" height="51"
          alt="hanging-punctuation: force-end">
      </div>
      <pre><code class="css"><!--
     -->p {
<!-- -->   hanging-punctuation: force-end;
<!-- -->}
<!----></code></pre>
      </div>
      <p>The punctuation at the end of the first line for ''allow-end''
        does not hang, because it fits without hanging.
        However, if ''force-end'' is used, it is forced to hang.
        The justification measures the line without the hanging punctuation.
        Therefore the line is expanded.</p>
    </div>

<h2 id="decoration">Text Decoration</h2>

  <h3 id="line-decoration">
    Line Decoration: Underline, Overline, and Strike-Through</h3>

    <p>The following properties describe line decorations that are added
      to the content of an element. When specified on or propagated to
      an inline box, such decoration affects all the boxes generated
      by that element, and is further propagated to any in-flow block-level
      boxes that split the inline
      (see <a href="http://www.w3.org/TR/CSS21/visuren.html#anonymous-block-level">CSS2.1 section 9.2.1.1</a>)
      When specified on or propagated to a ruby box, the decorations are
      further propagated only to the ruby base.
      When specified on or propagated to a a block container that establishes
      an inline formatting context, the decorations are propagated to an
      anonymous inline element that wraps all the in-flow inline-level children
      of the block container. For all other elements, the decorations are
      propagated to any in-flow children.
      
    <p class="note">Note that text decorations are not propagated to any
      out-of-flow descendants, nor to the contents of atomic inline-level
      descendants such as inline blocks and inline tables.

    <p>By default underlines, overlines, and line-throughs are applied only
      to text (including white space, letter spacing, and word spacing):
      margins, borders, and padding are skipped. Elements containing
      no text, such as images, are likewise not decorated.
      The 'text-decoration-skip'
      property can be used to modify this behavior, for example allowing
      inline replaced elements to be underlined or requiring that white
      space be skipped.

    <p>In determining the position and thickness of text decoration lines,
      user agents may consider the font sizes and dominant baselines of
      descendants, but for a given element's decoration must use the same
      position and thickness throughout each line box. The
      <a href="#text-decoration-color">color</a> and
      <a href="#text-decoration-style">line style</a> of decorations must
      remain the same on all decorations applied by a given element, even
      if descendant elements have different color or line style values.</p>

    <p class="issue">One use case we would like to support is to
      <a href="http://lists.w3.org/Archives/Public/www-style/2011Apr/0407.html">change
      color and/or style of descendants while keeping the same position
      and thickness</a>.</p>

    <div class="example">
      <p>The following figure shows the averaging for underline: 
      <p><img alt="In the first rendering of the underlined text '1st a'
                   with 'st' as a superscript, both the '1st' and the 'a'
                   are rendered in a small font. In the second rendering,
                   the 'a' is rendered in a larger font. In the third, both
                   '1st' and 'a' are large."
              height="105" src="underline-averaging.gif" width="326">
      <p>In the three fragments of underlined text, the underline is drawn
        consecutively lower and thicker as the ratio of large text to small
        text increases.</p>
    </div>

    <p>Relatively positioning a descendant moves all text decorations
      affecting it along with the descendant's text; it does not affect
      calculation of the decoration's initial position on that line.
      The 'visibility' property, filters, and other graphical transformations
      likewise affect text decorations as part of the text they're drawn on,
      even if the decorations were specified on an ancestor element.
      <span class="issue">Does this include 'text-shadow'? What about text-fill etc.?</span>

    <div class="example">
      <p>In the following style sheet and document fragment:</p>
      <pre><code class="css">
<!-- -->   blockquote { text-decoration: underline; color: blue; }
<!-- -->   em { display: block; }
<!-- -->   cite { color: fuchsia; }
<!----></code></pre>
      <pre class="html"><code>
<!-- -->   &lt;blockquote&gt;
<!-- -->    &lt;p&gt;
<!-- -->     &lt;span&gt;
<!-- -->      Help, help!
<!-- -->      &lt;em&gt; I am under a hat! &lt;/em&gt;
<!-- -->
<!-- -->      &lt;cite&gt; &mdash;GwieF &lt;/cite&gt;
<!-- -->     &lt;/span&gt;
<!-- -->    &lt;/p&gt;
<!-- -->   &lt;/blockquote&gt;
<!----></code></pre>
      <p>...the underlining for the blockquote element is propagated to an
      anonymous inline element that surrounds the span element, causing 
      the text "Help, help!" to be blue, with the blue underlining from 
      the anonymous inline underneath it, the color being taken from the 
      blockquote element. The <code>&lt;em&gt;text&lt;/em&gt;</code> 
      in the em block is also underlined, as it is in an in-flow block to
      which the underline is propagated. The final line of text is fuchsia,
      but the underline underneath it is still the blue underline from the
      anonymous inline element.</p>
      <p><img src="underline-example.png" alt="Sample rendering of the above underline example"></p>
      <p>This diagram shows the boxes involved in the example above. The
      rounded aqua line represents the anonymous inline element wrapping
      the inline contents of the paragraph element, the rounded blue line
      represents the span element, and the orange lines represent the
      blocks.</p>
    </div>

    <h4 id="text-decoration-line">
      Text Decoration Lines: the 'text-decoration-line' property</h4>

      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>text-decoration-line</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>none | 
                [ underline    | no-underline    | replace-underline ] ||
                [ overline     | no-overline     | replace-overline ]  ||
                [ line-through | no-line-through | replace-line-through ] |
                remove-all
            </td>
          </tr>
          <tr>
            <th>Initial:</th>
            <td>none</td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>all elements</td>
          </tr>
          <tr>
            <th>Inherited:</th>
            <td>no (but see prose)</td>
          </tr>
          <tr>
            <th>Percentages:</th>
            <td>N/A</td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>visual</td>
          </tr>
          <tr>
            <th>Computed&#160;value:</th>
            <td>as specified</td>
          </tr>
        </tbody>
      </table>

      <p>Specifies what line decorations, if any, are added to the element.
        Values have the following meanings:</p>

      <dl>
        <dt><dfn title="text-decoration-line:none">''none''</dfn>
          <dd>Neither produces nor inhibits text decoration.
        <dt><dfn>''underline''</dfn>
          <dd>Each line of text is underlined.
        <dt><dfn>''no-underline''</dfn>
          <dd>Inhibits propagated underlines.
        <dt><dfn>''replace-underline''</dfn>
          <dd>Inhibits propagated underlines and produces an underline.
        <dt><dfn>''overline''</dfn>
          <dd>Each line of text has a line above it (i.e. on the opposite
          side from an underline).
        <dt><dfn>''no-overline''</dfn>
          <dd>Inhibits propagated overlines.
        <dt><dfn>''replace-overline''</dfn>
          <dd>Inhibits propagated overlines and produces an overline.
        <dt><dfn>''line-through''</dfn>
          <dd>Each line of text has a line through the middle.
        <dt><dfn>''no-line-through''</dfn>
          <dd>Inhibits propagated line-throughs.
        <dt><dfn>''replace-line-through''</dfn>
          <dd>Inhibits propagated line-throughs and produces an line-through.
        <dt><dfn>''remove-all''</dfn>
          <dd>Inhibits all propagated text decorations.
      </dl>

    <h4 id="text-decoration-color">
      Text Decoration Color: the 'text-decoration-color' property</h4>

      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>text-decoration-color</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td><a href="http://www.w3.org/TR/css3-color/#color0"><span class="value-inst-color">&lt;color&gt;</span></a>
            </td>
          </tr>
          <tr>
            <th>Initial:</th>
            <td>currentColor</td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>all elements</td>
          </tr>
          <tr>
            <th>Inherited:</th>
            <td>no</td>
          </tr>
          <tr>
            <th>Percentages:</th>
            <td>N/A</td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>visual</td>
          </tr>
          <tr>
            <th>Computed&#160;value:</th>
            <td>the computed color </td>
          </tr>
        </tbody>
      </table>

      <p>This property specifies the color of text decoration (underlines
        overlines, and line-throughs) set on the element with
        'text-decoration-line'.</p>

    <h4 id="text-decoration-style">
      Text Decoration Style: the 'text-decoration-style' property</h4>

      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>text-decoration-style</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>solid | double | dotted | dashed | wavy
            </td>
          </tr>
          <tr>
            <th>Initial:</th>
            <td>solid</td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>all elements</td>
          </tr>
          <tr>
            <th>Inherited:</th>
            <td>no</td>
          </tr>
          <tr>
            <th>Percentages:</th>
            <td>N/A</td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>visual</td>
          </tr>
          <tr>
            <th>Computed&#160;value:</th>
            <td>as specified</td>
          </tr>
        </tbody>
      </table>

      <p>This property specifies the style of the line(s) drawn for
        text decoration specified on the element. Values have the
        same meaning as for the
        <a href="http://www.w3.org/TR/css3-background/#the-border-style">border-style
        properties</a> [[!CSS3BG]]. ''wavy'' indicates a wavy line.</p>

    <h4 id="text-decoration">
      Text Decoration Shorthand: the 'text-decoration' property</h4>

      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>text-decoration</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td><var><a href="#text-decoration-line">&lt;text-decoration-line&gt;</a></var> ||
                <var><a href="#text-decoration-style">&lt;text-decoration-style&gt;</a></var> ||
                <var><a href="#text-decoration-color">&lt;text-decoration-color&gt;</a></var> || blink
            </td>
          </tr>
          <tr>
            <th>Initial:</th>
            <td>none</td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>all elements</td>
          </tr>
          <tr>
            <th>Inherited:</th>
            <td>no</td>
          </tr>
          <tr>
            <th>Percentages:</th>
            <td>N/A</td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>visual</td>
          </tr>
          <tr>
            <th>Computed&#160;value:</th>
            <td>as specified</td>
          </tr>
        </tbody>
      </table>

      <p>This property is a shorthand for setting 'text-decoration-line',
        'text-decoration-color', and 'text-decoration-style' in one declaration.
        Omitted values are set to their initial values. A 'text-decoration'
        declaration that omits both the 'text-decoration-color'
        and 'text-decoration-style' values is backwards-compatible
        with CSS Levels 1 and 2.</p>

      <p>If the ''blink'' keyword is specified the text blinks
        (alternates between visible and invisible). Conforming user agents
        may simply not blink the text. Note that not blinking the text is
        one technique to satisfy
        <a href="http://www.w3.org/TR/UAAG/guidelines.html#tech-on-off-blinking-text">checkpoint 3.3 of WAI-UAAG</a>.</p>

      <div class="example">
        <p>The following example underlines unvisited links with a solid blue
        underline in CSS1 and CSS2 UAs and a navy dotted underline in CSS3 UAs.</p>

        <pre><code class="css">
<!--   -->:link {
<!--   -->    color: blue;
<!--   -->    text-decoration: underline;
<!--   -->    text-decoration: navy dotted underline; /* <a href="http://www.w3.org/TR/CSS21/syndata.html#ignore">Ignored</a> in CSS1/CSS2 UAs */
<!--   -->}
<!-- --></code></pre>
      </div>

    <h4 id="text-decoration-skip">
      Text Decoration Line Continuity: the 'text-decoration-skip' property</h4>

      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>text-decoration-skip</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>none | [ objects || spaces || ink || edges ]
            </td>
          </tr>
          <tr>
            <th>Initial:</th>
            <td>objects</td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>all elements</td>
          </tr>
          <tr>
            <th>Inherited:</th>
            <td>yes</td>
          </tr>
          <tr>
            <th>Percentages:</th>
            <td>N/A</td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>visual</td>
          </tr>
          <tr>
            <th>Computed&#160;value:</th>
            <td>as specified</td>
          </tr>
        </tbody>
      </table>

        <p>This property specifies what parts of the element's content
        any text decoration affecting the element must skip over. It
        controls all text decoration lines drawn by the element
        and also any text decoration lines drawn by its ancestors.
        Values have the following meanings:</p>

      <dl>
        <dt><dfn title="text-decoration-skip:none">''none''</dfn></dt>
        <dd>Skip nothing: text-decoration is drawn for all text content
          and for inline replaced elements.</dd>
        <dt><dfn title="text-decoration-skip:objects">''objects''</dfn></dt>
        <dd>Skip this element if it is an atomic inline (such as an
          image or inline-block).</dd>
        <dt><dfn title="text-decoration-skip:spaces">''spaces''</dfn></dt>
        <dd>Skip white space: this includes regular spaces (U+0020) and
          tabs (U+0009), as well as nbsp (U+00A0), ideographic space
          (U+3000), all fixed width spaces (such as U+2000&ndash;U+200A,
          U+202F and U+205F), and any adjacent letter-spacing or
          word-spacing.</dd>
        <dt><dfn title="text-decoration-skip:ink">''ink''</dfn></dt>
        <dd>Skip over where glyphs are drawn: interrupt the decoration
          line to let text show through where the text decoration would
          otherwise cross over a glyph. The UA may also skip a small
          distance to either side of the glyph outline.</dd>
        <dt><dfn title="text-decoration-skip:edges">''edges''</dfn></dt>
        <dd>The UA should place the start and end of the line inwards from
          the content edge of the decorating element so that, e.g. two
          underlined elements side-by-side do not appear to have a single
          underline. (This is important in Chinese, where underlining is a
          form of punctuation.)</dd>
      </dl>

      <p class="issue">Do we need a value that <em>doesn't</em> skip
        margins and padding?</p>

      <p class="note">Note that this property inherits and that descendant
        elements can have a different setting.</p>

    <h4 id="text-underline-position">
      Text Underline Position: the 'text-underline-position' property</h4>

      <table class="propdef">
        <tbody>
          <tr>
            <th>Name:</th>
            <td><dfn>text-underline-position</dfn></td>
          </tr>
          <tr>
            <th>Value:</th>
            <td>auto | alphabetic | below left | below right
            </td>
          </tr>
          <tr>
            <th>Initial:</th>
            <td>auto</td>
          </tr>
          <tr>
            <th>Applies to:</th>
            <td>all elements</td>
          </tr>
          <tr>
            <th>Inherited:</th>
            <td>yes</td>
          </tr>
          <tr>
            <th>Percentages:</th>
            <td>N/A</td>
          </tr>
          <tr>
            <th>Media:</th>
            <td>visual</td>
          </tr>
          <tr>
            <th>Computed&#160;value:</th>
            <td>as specified</td>
          </tr>
        </tbody>
      </table>

      <p>This property sets the position of an underline specified
        on the same element: it does not affect underlines specified by
        ancestor elements. Values have the following meanings:</p>

      <dl>
        <dt><dfn>''auto''</dfn></dt>
        <dd>The user agent may use any algorithm to determine the
          underline's position.
          <p class="note">It is suggested that the underline position
          be ''alphabetic'' unless it crosses either subscripted (or
          otherwise lowered) text, or it affects characters from Asian
          scripts such as Han or Tibetan, for which an alphabetic
          underline is too high: in such cases, aligning to the em box
          edge as described for ''below left'' is more appropriate.
        <dt><dfn>''alphabetic''</dfn></dt>
        <dd>The underline is positioned relative to the alphabetic baseline. In
          this case the underline is likely to cross some descenders.</dd>
        <dt><dfn>''below left''</dfn></dt>
        <dd>The underline is positioned relative to the under edge of the element's
          content box. In this case the underline usually does not cross
          the descenders. (This is sometimes called "accounting" underline.)
          If the underline affects descendants with a lower content edge,
          the user agent should shift the underline down further to the
          lowest underlined content box edge.
          The user agent may ignore elements with ''vertical-align''
          values given as lengths, percentages, ''top'', or ''bottom''
          when making this adjustment.
          (Note that images that are not affected by the underline per
          'text-decoration-skip' will not affect the position of the
          underline.)</dd>
        <dt><dfn>''below right''</dfn></dt>
        <dd>In horizontal typographic mode, this value is equivalent to
          ''below left''. In vertical typographic mode, the underline is
          aligned as for ''below left'', except it is aligned to the
          right edge of the text. If this causes the underline to be
          drawn on the "over" side of the text, then an overline also
          switches sides and is drawn on the "under" side.</dd>
      </dl>

      <div class="note">
        <p>In some cases (such as in OpenType) the font format can offer
          information about the appropriate position of an underline.
          Typically this information gives the position of an ''alphabetic''
          underline; in some cases (especially in CJK fonts), it gives
          the position of a ''below left'' underline. (In this case,
          the font's underline metrics typically touch the bottom edge
          of the em box).
          The UA is encouraged to use information (such as the underline
          thickness, or appropriate alphabetic alignment) from the font
          wherever appropriate.
        </p>
      </div>

  <h3 id="emphasis-marks">
    Emphasis Marks</h3>

    <p>East Asian documents traditionally use small symbols next to each glyph to emphasize
      a run of text. For example:</p>

    <div class="figure">
      <p>
        <img alt="Example of emphasis in Japanese appearing above the text"
             class="example" src="text-emphasis-ja.gif" height="28" width="225"></p>
      <p class="caption">Accent emphasis (shown in blue for clarity) applied to Japanese text</p>
    </div>

    <h4 id="text-emphasis-style">
      Emphasis Mark Style: the 'text-emphasis-style' property</h4>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-emphasis-style</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>none |
              [ [ filled | open ] || [ dot | circle | double-circle | triangle | sesame ] ] |
              <a class="noxref" href="http://www.w3.org/TR/CSS21/syndata.html#value-def-string"><span class="value-inst-string">&lt;string&gt;</span></a>
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>none</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>'none', a pair of keywords representing the shape and fill, or
            a string</td>
        </tr>
      </tbody>
    </table>

    <p>This property applies emphasis marks to the element's text.
      Values have the following meanings:</p>

    <dl>
      <dt><dfn title="text-emphasis:none">''none''</dfn></dt>
        <dd>No emphasis marks.</dd>
      <dt><dfn title="text-emphasis:filled">''filled''</dfn></dt>
        <dd>The shape is filled with solid color.</dd>
      <dt><dfn title="text-emphasis:open">''open''</dfn></dt>
        <dd>The shape is hollow.</dd>
      <dt><dfn title="text-emphasis:dot">''dot''</dfn></dt>
        <dd>Display small circles as marks.
          The filled dot is U+2022 '&#x2022;', and the open dot is U+25E6 '&#x25e6;'.</dd>
      <dt><dfn title="text-emphasis:circle">''circle''</dfn></dt>
        <dd>Display large circles as marks.
          The filled circle is U+25CF '&#x25cf;', and the open circle is U+25CB '&#x25cb;'.</dd>
      <dt><dfn title="text-emphasis:double-circle">''double-circle''</dfn></dt>
        <dd>Display double circles as marks.
          The filled double-circle is U+25C9 '&#x25c9;', and the open double-circle is U+25CE '&#x25ce;'.</dd>
      <dt><dfn title="text-emphasis:triangle">''triangle''</dfn></dt>
        <dd>Display triangles as marks.
          The filled triangle is U+25B2 '&#x25b2;', and the open triangle is U+25B3 '&#x25b3;'.</dd>
      <dt><dfn title="text-emphasis:sesame">''sesame''</dfn></dt>
        <dd>Display sesames as marks.
          The filled sesame is U+FE45 '&#xfe45;', and the open sesame is U+FE46 '&#xfe46;'.</dd>
      <dt><dfn title="text-emphasis:sesame">''<var>&lt;string&gt;</var>''</dfn></dt>
        <dd>Display the given string as marks.
          Authors should not specify more than one <i>character</i> in &lt;string&gt;.
          The UA may truncate or ignore strings consisting of more than one grapheme cluster.</dd>
    </dl>

    <p>If a shape keyword is specified but neither of ''filled'' nor ''open'' is
      specified, ''filled'' is assumed. If only ''filled'' or ''open'' is specified,
      the shape keyword computes to ''circle'' in horizontal writing mode and
      ''sesame'' in vertical writing mode.</p>

    <p>The marks should be drawn using the element's font settings with its
      size scaled down to 50%. However, not all fonts have all these glyphs,
      and some fonts use inappropriate sizes for emphasis marks in these
      code points. The UA may opt to use a font known to be good for
      emphasis marks, or the marks may instead be synthesized by the UA.
      Marks must remain upright in vertical typographic modes: like CJK
      characters, they do not rotate to match the writing mode.</p>

    <div class="example">
      <p>One example of good fonts for emphasis marks is Adobe's opensource project,
        <a href="http://sourceforge.net/adobe/kenten-generic/">Kenten Generic OpenType Font</a>,
        which is specially designed for the emphasis marks.</p>
    </div>

    <p>The marks are drawn once for each <i>character</i>. However,
      emphasis marks are not drawn for characters that are:</p>
    <ul>
      <li><a href="#word-separator">Word separators</a> or that
        belong to the Unicode separator classes (Z*).
        (But note that emphasis marks <em>are</em> drawn for a space
         that combines with any combining characters.)</li>
      <li>Characters belonging to the Unicode classes for control codes
        and unassigned characters (Cc, Cf, Cn).</li>
      <li>Characters designated by 'text-emphasis-skip'.</li>
    </ul>

    <p>If emphasis marks are drawn for characters
      for which ruby is drawn in the same position as the emphasis mark,
      the ruby should be stacked between the emphasis marks and the base text.
      In this case, the position of the emphasis marks for a given element
      should be determined as if all characters have ruby boxes
      of the same height as the highest ruby box in the element.
      If the UA is not capable of drawing ruby and emphasis marks on the same side,
      the UA may hide ruby and draw only emphasis marks.</p>
    <div class="figure">
      <p><img
        alt="Example of emphasis marks applied to 4 characters, and ruby to 2 of them"
        src="text-emphasis-ruby.png" width="134" height="50"></p>
      <p class="caption">Emphasis marks applied to 4 characters, and ruby to 2 of them</p>
    </div>

    <p class="note">A future level of CSS may define controls to specify
      what to do when emphasis marks and ruby text coincide.</p>

    <h4 id="text-emphasis-color">
      Emphasis Mark Color: the 'text-emphasis-color' property</h4>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-emphasis-color</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>&lt;color&gt;</td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>currentcolor</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified</td>
        </tr>
      </tbody>
    </table>

    <p>This property describes the foreground color of the emphasis marks.</p>

    <h4 id="text-emphasis">
      Emphasis Mark Shorthand: the 'text-emphasis' property</h4>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-emphasis</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>'&lt;<a href="#text-emphasis-style">text-emphasis-style</a>&gt;' || '&lt;<a href="#text-emphasis-color">text-emphasis-color</a>&gt;'
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>see individual properties</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>see individual properties</td>
        </tr>
      </tbody>
    </table>

    <p>This property is a shorthand for setting
      'text-emphasis-style' and 'text-emphasis-color'
      in one declaration.
      Omitted values are set to their initial values.</p>

    <p class="note">Note that 'text-emphasis-position' is not reset in this
      shorthand. This is because typically the shape and color vary, but the
      position is consistent for a particular language throughout the document.
      Therefore the position should inherit independently.</p>

    <h4 id="text-emphasis-position">
      Emphasis Mark Position: the 'text-emphasis-position' property</h4>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-emphasis-position</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>[ above | below ] && [ right | left ]
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>above right
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified</td>
        </tr>
      </tbody>
    </table>

    <p>This property describes where emphasis marks are drawn at.
      The values have following meanings:</p>

    <dl>
      <dt><dfn title="text-emphasis:above">''above''</dfn></dt>
        <dd>Draw marks over the text in horizontal typographic mode.</dd>
      <dt><dfn title="text-emphasis:below">''below''</dfn></dt>
        <dd>Draw marks under the text in horizontal typographic mode.</dd>
      <dt><dfn title="text-emphasis:right">''right''</dfn></dt>
        <dd>Draw marks to the right of the text in vertical typographic mode.</dd>
      <dt><dfn title="text-emphasis:left">''left''</dfn></dt>
        <dd>Draw marks to the left of the text in vertical typographic mode.</dd>
    </dl>

    <p>Emphasis marks are drawn exactly as if each character was
      assigned the mark as its ruby annotation text with the ruby position
      given by 'text-emphasis-position' and the ruby alignment as centered.

    <p>The effect of emphasis marks on the line height is the same as for
      ruby text.</p>

    <div class="note">
      <p>Note, the preferred position of emphasis marks depends on the
        language. In Japanese for example, the preferred position is
        ''above right''. In Chinese, on the other hand, the preferred
        position is ''below right''.
        The informative table below summarizes the preferred
        emphasis mark positions for Chinese and Japanese:</p>

      <table class="data">
        <caption>Preferred emphasis mark and ruby position</caption>
        <thead>
          <tr>
            <th scope="col" rowspan=2>Language</th>
            <th scope="col" colspan=2>Preferred mark position</th>
            <th scope="col" colspan=2 rowspan=2>Illustration</th>
          </tr>
          <tr>
            <th>Horizontal</th>
            <th>Vertical</th>
        </thead>
        <tbody>
          <tr>
            <td scope="row">Japanese</td>
            <td>above</td>
            <td>right</td>
            <td>
                <img alt="Emphasis marks appear above each emphasized character in horizontal Japanese text."
                    title="Emphasis (shown in blue for clarity) applied above a fragment of Japanese text"
                    src="text-emphasis-ja.gif" height="28" width="225">
            </td>
            <td rowspan="2">
                <img alt="Emphasis marks appear on the right of each emphasized character in vertical Japanese text."
                    title="Emphasis applied on the right of a fragment of Japanese text"
                    src="text-emphasis-v.gif" height="89" width="34">
            </td>
          </tr>
          <!--
          <tr>
            <td scope="row">Mongolian</td>
            <td><span class="issue">?</span></td>
            <td>right</td>
          </tr>
          -->
          <tr>
            <td scope="row">Chinese</td>
            <td>below</td>
            <td>right</td>
            <td>
              <img alt="Emphasis marks appear below each emphasized character in horizontal Simplified Chinese text."
                    title="Emphasis (shown in blue for clarity) applied below a fragment of Chinese text"
                    src="text-emphasis-zh.gif" height="28" width="133">
          </tr>
        </tbody>
      </table>
    </div>

    <h4 id="text-emphasis-skip">
      Emphasis Mark Skip: the 'text-emphasis-skip' property</h4>

    <p class="issue">This section is under brainstorming.</p>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-emphasis-skip</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>spaces ||
            punctuation ||
            symbols ||
            narrow
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>spaces
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>as specified</td>
        </tr>
      </tbody>
    </table>

    <p>This property describes for which characters marks are drawn.
      The values have following meanings:</p>

    <dl>
      <dt><dfn title="text-emphasis-skip:spaces">''spaces''</dfn></dt>
        <dd>Skip <a href="#word-separator">Word separators</a> or characters
        belonging to the Unicode separator category (Z*).
        (But note that emphasis marks <em>are</em> drawn for a space
         that combines with any combining characters.)</dd>
      <dt><dfn title="text-emphasis-skip:punctuation">''punctuation''</dfn></dt>
        <dd>Skip punctuation.
          Punctuation in this definition includes characters belonging to
          the Unicode Pc, Pd, Ps, Pe, Pi, or Pf categories.
          It also includes characters where the Unicode category is Po and
          the Sentence_Break property [[!UAX29]] of the Unicode database
          [[!UAX44]] is ATerm, Close, SContinue, or STerm.
      <dt><dfn title="text-emphasis-skip:symbols">''symbols''</dfn></dt>
        <dd>Skip symbols.
          Symbols in this definition includes characters belonging to
          the Unicode S* category.
          It also includes the Unicode Po category
          that are not defined as ''<a>punctuation</a>'' above.</dd>
      <dt><dfn title="text-emphasis-skip:narrow">''narrow''</dfn></dt>
        <dd>Skip characters where the East_Asian_Width property [[!UAX11]]
          of the Unicode database [[!UAX44]] is not F (Fullwidth) or W (Wide).</dd>
    </dl>

    <p>Characters belonging to the Unicode classes for control codes
      and unassigned characters (Cc, Cf, Cn) are skipped
      regardless of the value of this property.</p>

    <p class="issue">This syntax requires UA to implement drawing marks for spaces.
      Is there any use case for doing so?
      If not, should we modify the syntax not to allow drawing marks for spaces?</p>

<!--
Some notes from Koji --

  Here's what Kobayashi-sensei and I've got.
  
  We have categorized to:
  1. Controls
  2. Spaces
  3. Connectors
  4. Symbols
  5. Delimiters
  
  >From these groups, his recommendation is not to put emphasis marks to any of these by default, including symbols.
  
  1 is C* except Co as we discussed, and 2 is Z*. These are easy.
  
  3: Connectors are Pc and Pd, plus U+30FB KATAKANA MIDDLE DOT. They are used to "connect", rather than "delimit".
  
  4: Symbols include more than we have in the spec; #, &, %, @, $, ...
  
  5: Delimiters are comma, full-stops, parenthesis, etc.; they're used to "delimit".
  
  Category Po is tough one, as I expected (and you might as well I guess :). By looking at his examples, it has 3, 4, and 5, all mixed.
  
  Here're options I came up:
  
  OPTION 1: Categorize every code point of Po (there are 402) into 3, 4, and 5, and list them up in the spec.
  OPTION 2: UAX #29 Text Segmentation: Sentence=Close|ATerm|SContinue|STerm are 5, in addition to Ps, Pe, Pi, Pf, and other Po are 4.
  OPTION 3: More simplified; just make all Po as 4: Symbols. It includes full-stops for instance which is not ideal, but simple. Either way, default is ok (if we make symbols to skip by default as Kobayashi-sensei suggested.)
  
  My preference is OPTION 2, I'm ok with 3. I don't like 1. What do you think?
  
  U+30FB still cannot be handled, so we could make it as the only exception, but I think just ignoring it is also acceptable (authors still can specify "keep-symbol" to put emphasis marks on them.)
  
  Three more things I'd like to have your opinions:
  1. Name of value for "connectors": connectors, dashes, hyphens?
  2. What do you think to skip-narrow by default? I have no idea how common emphasis marks for Tibetan is, but his definition includes skip-narrow.
  3. If we take Kobayashi-sensei's list, skip-symbols is also default, so most values other than skip-narrow is "keep-*". Maybe we should change property name?
  
  I'm copying all Sentence=Close|ATerm|SContinue|STerm for your reference, but you can play with the spreadsheet either on Windows Live or Google docs if you'd like:
  http://cid-1dfc0a803975458e.office.live.com/edit.aspx/.Public/Unicode.xlsx
  https://spreadsheets.google.com/ccc?key=0Ai2NamWX-WptdGpGZW9BdkhnVkVTTXFpMzhQTEloZ2c
  
  0021	EXCLAMATION MARK	Po	STerm
  0022	QUOTATION MARK	Po	Close
  0027	APOSTROPHE	Po	Close
  0028	LEFT PARENTHESIS	Ps	Close
  0029	RIGHT PARENTHESIS	Pe	Close
  002C	COMMA	Po	SContinue
  002D	HYPHEN-MINUS	Pd	SContinue
  002E	FULL STOP	Po	ATerm
  003A	COLON	Po	SContinue
  003F	QUESTION MARK	Po	STerm
  005B	LEFT SQUARE BRACKET	Ps	Close
  005D	RIGHT SQUARE BRACKET	Pe	Close
  007B	LEFT CURLY BRACKET	Ps	Close
  007D	RIGHT CURLY BRACKET	Pe	Close
  00AB	LEFT-POINTING DOUBLE ANGLE QUOTATION MARK	Pi	Close
  00BB	RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK	Pf	Close
  055C	ARMENIAN EXCLAMATION MARK	Po	STerm
  055D	ARMENIAN COMMA	Po	SContinue
  055E	ARMENIAN QUESTION MARK	Po	STerm
  0589	ARMENIAN FULL STOP	Po	STerm
  060C	ARABIC COMMA	Po	SContinue
  060D	ARABIC DATE SEPARATOR	Po	SContinue
  061F	ARABIC QUESTION MARK	Po	STerm
  06D4	ARABIC FULL STOP	Po	STerm
  0700	SYRIAC END OF PARAGRAPH	Po	STerm
  0701	SYRIAC SUPRALINEAR FULL STOP	Po	STerm
  0702	SYRIAC SUBLINEAR FULL STOP	Po	STerm
  07F8	NKO COMMA	Po	SContinue
  07F9	NKO EXCLAMATION MARK	Po	STerm
  0964	DEVANAGARI DANDA	Po	STerm
  0965	DEVANAGARI DOUBLE DANDA	Po	STerm
  0F3A	TIBETAN MARK GUG RTAGS GYON	Ps	Close
  0F3B	TIBETAN MARK GUG RTAGS GYAS	Pe	Close
  0F3C	TIBETAN MARK ANG KHANG GYON	Ps	Close
  0F3D	TIBETAN MARK ANG KHANG GYAS	Pe	Close
  104A	MYANMAR SIGN LITTLE SECTION	Po	STerm
  104B	MYANMAR SIGN SECTION	Po	STerm
  1362	ETHIOPIC FULL STOP	Po	STerm
  1367	ETHIOPIC QUESTION MARK	Po	STerm
  1368	ETHIOPIC PARAGRAPH SEPARATOR	Po	STerm
  166E	CANADIAN SYLLABICS FULL STOP	Po	STerm
  169B	OGHAM FEATHER MARK	Ps	Close
  169C	OGHAM REVERSED FEATHER MARK	Pe	Close
  1735	PHILIPPINE SINGLE PUNCTUATION	Po	STerm
  1736	PHILIPPINE DOUBLE PUNCTUATION	Po	STerm
  1802	MONGOLIAN COMMA	Po	SContinue
  1803	MONGOLIAN FULL STOP	Po	STerm
  1808	MONGOLIAN MANCHU COMMA	Po	SContinue
  1809	MONGOLIAN MANCHU FULL STOP	Po	STerm
  1944	LIMBU EXCLAMATION MARK	Po	STerm
  1945	LIMBU QUESTION MARK	Po	STerm
  1AA8	TAI THAM SIGN KAAN	Po	STerm
  1AA9	TAI THAM SIGN KAANKUU	Po	STerm
  1AAA	TAI THAM SIGN SATKAAN	Po	STerm
  1AAB	TAI THAM SIGN SATKAANKUU	Po	STerm
  1B5A	BALINESE PANTI	Po	STerm
  1B5B	BALINESE PAMADA	Po	STerm
  1B5E	BALINESE CARIK SIKI	Po	STerm
  1B5F	BALINESE CARIK PAREREN	Po	STerm
  1C3B	LEPCHA PUNCTUATION TA-ROL	Po	STerm
  1C3C	LEPCHA PUNCTUATION NYET THYOOM TA-ROL	Po	STerm
  1C7E	OL CHIKI PUNCTUATION MUCAAD	Po	STerm
  1C7F	OL CHIKI PUNCTUATION DOUBLE MUCAAD	Po	STerm
  2013	EN DASH	Pd	SContinue
  2014	EM DASH	Pd	SContinue
  2018	LEFT SINGLE QUOTATION MARK	Pi	Close
  2019	RIGHT SINGLE QUOTATION MARK	Pf	Close
  201A	SINGLE LOW-9 QUOTATION MARK	Ps	Close
  201B	SINGLE HIGH-REVERSED-9 QUOTATION MARK	Pi	Close
  201C	LEFT DOUBLE QUOTATION MARK	Pi	Close
  201D	RIGHT DOUBLE QUOTATION MARK	Pf	Close
  201E	DOUBLE LOW-9 QUOTATION MARK	Ps	Close
  201F	DOUBLE HIGH-REVERSED-9 QUOTATION MARK	Pi	Close
  2024	ONE DOT LEADER	Po	ATerm
  2039	SINGLE LEFT-POINTING ANGLE QUOTATION MARK	Pi	Close
  203A	SINGLE RIGHT-POINTING ANGLE QUOTATION MARK	Pf	Close
  203C	DOUBLE EXCLAMATION MARK	Po	STerm
  203D	INTERROBANG	Po	STerm
  2045	LEFT SQUARE BRACKET WITH QUILL	Ps	Close
  2046	RIGHT SQUARE BRACKET WITH QUILL	Pe	Close
  2047	DOUBLE QUESTION MARK	Po	STerm
  2048	QUESTION EXCLAMATION MARK	Po	STerm
  2049	EXCLAMATION QUESTION MARK	Po	STerm
  207D	SUPERSCRIPT LEFT PARENTHESIS	Ps	Close
  207E	SUPERSCRIPT RIGHT PARENTHESIS	Pe	Close
  208D	SUBSCRIPT LEFT PARENTHESIS	Ps	Close
  208E	SUBSCRIPT RIGHT PARENTHESIS	Pe	Close
  2329	LEFT-POINTING ANGLE BRACKET	Ps	Close
  232A	RIGHT-POINTING ANGLE BRACKET	Pe	Close
  275B	HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT	So	Close
  275C	HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT	So	Close
  275D	HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT	So	Close
  275E	HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT	So	Close
  2768	MEDIUM LEFT PARENTHESIS ORNAMENT	Ps	Close
  2769	MEDIUM RIGHT PARENTHESIS ORNAMENT	Pe	Close
  276A	MEDIUM FLATTENED LEFT PARENTHESIS ORNAMENT	Ps	Close
  276B	MEDIUM FLATTENED RIGHT PARENTHESIS ORNAMENT	Pe	Close
  276C	MEDIUM LEFT-POINTING ANGLE BRACKET ORNAMENT	Ps	Close
  276D	MEDIUM RIGHT-POINTING ANGLE BRACKET ORNAMENT	Pe	Close
  276E	HEAVY LEFT-POINTING ANGLE QUOTATION MARK ORNAMENT	Ps	Close
  276F	HEAVY RIGHT-POINTING ANGLE QUOTATION MARK ORNAMENT	Pe	Close
  2770	HEAVY LEFT-POINTING ANGLE BRACKET ORNAMENT	Ps	Close
  2771	HEAVY RIGHT-POINTING ANGLE BRACKET ORNAMENT	Pe	Close
  2772	LIGHT LEFT TORTOISE SHELL BRACKET ORNAMENT	Ps	Close
  2773	LIGHT RIGHT TORTOISE SHELL BRACKET ORNAMENT	Pe	Close
  2774	MEDIUM LEFT CURLY BRACKET ORNAMENT	Ps	Close
  2775	MEDIUM RIGHT CURLY BRACKET ORNAMENT	Pe	Close
  27C5	LEFT S-SHAPED BAG DELIMITER	Ps	Close
  27C6	RIGHT S-SHAPED BAG DELIMITER	Pe	Close
  27E6	MATHEMATICAL LEFT WHITE SQUARE BRACKET	Ps	Close
  27E7	MATHEMATICAL RIGHT WHITE SQUARE BRACKET	Pe	Close
  27E8	MATHEMATICAL LEFT ANGLE BRACKET	Ps	Close
  27E9	MATHEMATICAL RIGHT ANGLE BRACKET	Pe	Close
  27EA	MATHEMATICAL LEFT DOUBLE ANGLE BRACKET	Ps	Close
  27EB	MATHEMATICAL RIGHT DOUBLE ANGLE BRACKET	Pe	Close
  27EC	MATHEMATICAL LEFT WHITE TORTOISE SHELL BRACKET	Ps	Close
  27ED	MATHEMATICAL RIGHT WHITE TORTOISE SHELL BRACKET	Pe	Close
  27EE	MATHEMATICAL LEFT FLATTENED PARENTHESIS	Ps	Close
  27EF	MATHEMATICAL RIGHT FLATTENED PARENTHESIS	Pe	Close
  2983	LEFT WHITE CURLY BRACKET	Ps	Close
  2984	RIGHT WHITE CURLY BRACKET	Pe	Close
  2985	LEFT WHITE PARENTHESIS	Ps	Close
  2986	RIGHT WHITE PARENTHESIS	Pe	Close
  2987	Z NOTATION LEFT IMAGE BRACKET	Ps	Close
  2988	Z NOTATION RIGHT IMAGE BRACKET	Pe	Close
  2989	Z NOTATION LEFT BINDING BRACKET	Ps	Close
  298A	Z NOTATION RIGHT BINDING BRACKET	Pe	Close
  298B	LEFT SQUARE BRACKET WITH UNDERBAR	Ps	Close
  298C	RIGHT SQUARE BRACKET WITH UNDERBAR	Pe	Close
  298D	LEFT SQUARE BRACKET WITH TICK IN TOP CORNER	Ps	Close
  298E	RIGHT SQUARE BRACKET WITH TICK IN BOTTOM CORNER	Pe	Close
  298F	LEFT SQUARE BRACKET WITH TICK IN BOTTOM CORNER	Ps	Close
  2990	RIGHT SQUARE BRACKET WITH TICK IN TOP CORNER	Pe	Close
  2991	LEFT ANGLE BRACKET WITH DOT	Ps	Close
  2992	RIGHT ANGLE BRACKET WITH DOT	Pe	Close
  2993	LEFT ARC LESS-THAN BRACKET	Ps	Close
  2994	RIGHT ARC GREATER-THAN BRACKET	Pe	Close
  2995	DOUBLE LEFT ARC GREATER-THAN BRACKET	Ps	Close
  2996	DOUBLE RIGHT ARC LESS-THAN BRACKET	Pe	Close
  2997	LEFT BLACK TORTOISE SHELL BRACKET	Ps	Close
  2998	RIGHT BLACK TORTOISE SHELL BRACKET	Pe	Close
  29D8	LEFT WIGGLY FENCE	Ps	Close
  29D9	RIGHT WIGGLY FENCE	Pe	Close
  29DA	LEFT DOUBLE WIGGLY FENCE	Ps	Close
  29DB	RIGHT DOUBLE WIGGLY FENCE	Pe	Close
  29FC	LEFT-POINTING CURVED ANGLE BRACKET	Ps	Close
  29FD	RIGHT-POINTING CURVED ANGLE BRACKET	Pe	Close
  2E00	RIGHT ANGLE SUBSTITUTION MARKER	Po	Close
  2E01	RIGHT ANGLE DOTTED SUBSTITUTION MARKER	Po	Close
  2E02	LEFT SUBSTITUTION BRACKET	Pi	Close
  2E03	RIGHT SUBSTITUTION BRACKET	Pf	Close
  2E04	LEFT DOTTED SUBSTITUTION BRACKET	Pi	Close
  2E05	RIGHT DOTTED SUBSTITUTION BRACKET	Pf	Close
  2E06	RAISED INTERPOLATION MARKER	Po	Close
  2E07	RAISED DOTTED INTERPOLATION MARKER	Po	Close
  2E08	DOTTED TRANSPOSITION MARKER	Po	Close
  2E09	LEFT TRANSPOSITION BRACKET	Pi	Close
  2E0A	RIGHT TRANSPOSITION BRACKET	Pf	Close
  2E0B	RAISED SQUARE	Po	Close
  2E0C	LEFT RAISED OMISSION BRACKET	Pi	Close
  2E0D	RIGHT RAISED OMISSION BRACKET	Pf	Close
  2E1C	LEFT LOW PARAPHRASE BRACKET	Pi	Close
  2E1D	RIGHT LOW PARAPHRASE BRACKET	Pf	Close
  2E20	LEFT VERTICAL BAR WITH QUILL	Pi	Close
  2E21	RIGHT VERTICAL BAR WITH QUILL	Pf	Close
  2E22	TOP LEFT HALF BRACKET	Ps	Close
  2E23	TOP RIGHT HALF BRACKET	Pe	Close
  2E24	BOTTOM LEFT HALF BRACKET	Ps	Close
  2E25	BOTTOM RIGHT HALF BRACKET	Pe	Close
  2E26	LEFT SIDEWAYS U BRACKET	Ps	Close
  2E27	RIGHT SIDEWAYS U BRACKET	Pe	Close
  2E28	LEFT DOUBLE PARENTHESIS	Ps	Close
  2E29	RIGHT DOUBLE PARENTHESIS	Pe	Close
  2E2E	REVERSED QUESTION MARK	Po	STerm
  3001	IDEOGRAPHIC COMMA	Po	SContinue
  3002	IDEOGRAPHIC FULL STOP	Po	STerm
  3008	LEFT ANGLE BRACKET	Ps	Close
  3009	RIGHT ANGLE BRACKET	Pe	Close
  300A	LEFT DOUBLE ANGLE BRACKET	Ps	Close
  300B	RIGHT DOUBLE ANGLE BRACKET	Pe	Close
  300C	LEFT CORNER BRACKET	Ps	Close
  300D	RIGHT CORNER BRACKET	Pe	Close
  300E	LEFT WHITE CORNER BRACKET	Ps	Close
  300F	RIGHT WHITE CORNER BRACKET	Pe	Close
  3010	LEFT BLACK LENTICULAR BRACKET	Ps	Close
  3011	RIGHT BLACK LENTICULAR BRACKET	Pe	Close
  3014	LEFT TORTOISE SHELL BRACKET	Ps	Close
  3015	RIGHT TORTOISE SHELL BRACKET	Pe	Close
  3016	LEFT WHITE LENTICULAR BRACKET	Ps	Close
  3017	RIGHT WHITE LENTICULAR BRACKET	Pe	Close
  3018	LEFT WHITE TORTOISE SHELL BRACKET	Ps	Close
  3019	RIGHT WHITE TORTOISE SHELL BRACKET	Pe	Close
  301A	LEFT WHITE SQUARE BRACKET	Ps	Close
  301B	RIGHT WHITE SQUARE BRACKET	Pe	Close
  301D	REVERSED DOUBLE PRIME QUOTATION MARK	Ps	Close
  301E	DOUBLE PRIME QUOTATION MARK	Pe	Close
  301F	LOW DOUBLE PRIME QUOTATION MARK	Pe	Close
  A4FF	LISU PUNCTUATION FULL STOP	Po	STerm
  A60E	VAI FULL STOP	Po	STerm
  A60F	VAI QUESTION MARK	Po	STerm
  A6F3	BAMUM FULL STOP	Po	STerm
  A6F7	BAMUM QUESTION MARK	Po	STerm
  A876	PHAGS-PA MARK SHAD	Po	STerm
  A877	PHAGS-PA MARK DOUBLE SHAD	Po	STerm
  A8CE	SAURASHTRA DANDA	Po	STerm
  A8CF	SAURASHTRA DOUBLE DANDA	Po	STerm
  A92F	KAYAH LI SIGN SHYA	Po	STerm
  A9C8	JAVANESE PADA LINGSA	Po	STerm
  A9C9	JAVANESE PADA LUNGSI	Po	STerm
  AA5D	CHAM PUNCTUATION DANDA	Po	STerm
  AA5E	CHAM PUNCTUATION DOUBLE DANDA	Po	STerm
  AA5F	CHAM PUNCTUATION TRIPLE DANDA	Po	STerm
  ABEB	MEETEI MAYEK CHEIKHEI	Po	STerm
  FD3E	ORNATE LEFT PARENTHESIS	Ps	Close
  FD3F	ORNATE RIGHT PARENTHESIS	Pe	Close
  FE10	PRESENTATION FORM FOR VERTICAL COMMA	Po	SContinue
  FE11	PRESENTATION FORM FOR VERTICAL IDEOGRAPHIC COMMA	Po	SContinue
  FE13	PRESENTATION FORM FOR VERTICAL COLON	Po	SContinue
  FE17	PRESENTATION FORM FOR VERTICAL LEFT WHITE LENTICULAR BRACKET	Ps	Close
  FE18	PRESENTATION FORM FOR VERTICAL RIGHT WHITE LENTICULAR BRAKCET	Pe	Close
  FE31	PRESENTATION FORM FOR VERTICAL EM DASH	Pd	SContinue
  FE32	PRESENTATION FORM FOR VERTICAL EN DASH	Pd	SContinue
  FE35	PRESENTATION FORM FOR VERTICAL LEFT PARENTHESIS	Ps	Close
  FE36	PRESENTATION FORM FOR VERTICAL RIGHT PARENTHESIS	Pe	Close
  FE37	PRESENTATION FORM FOR VERTICAL LEFT CURLY BRACKET	Ps	Close
  FE38	PRESENTATION FORM FOR VERTICAL RIGHT CURLY BRACKET	Pe	Close
  FE39	PRESENTATION FORM FOR VERTICAL LEFT TORTOISE SHELL BRACKET	Ps	Close
  FE3A	PRESENTATION FORM FOR VERTICAL RIGHT TORTOISE SHELL BRACKET	Pe	Close
  FE3B	PRESENTATION FORM FOR VERTICAL LEFT BLACK LENTICULAR BRACKET	Ps	Close
  FE3C	PRESENTATION FORM FOR VERTICAL RIGHT BLACK LENTICULAR BRACKET	Pe	Close
  FE3D	PRESENTATION FORM FOR VERTICAL LEFT DOUBLE ANGLE BRACKET	Ps	Close
  FE3E	PRESENTATION FORM FOR VERTICAL RIGHT DOUBLE ANGLE BRACKET	Pe	Close
  FE3F	PRESENTATION FORM FOR VERTICAL LEFT ANGLE BRACKET	Ps	Close
  FE40	PRESENTATION FORM FOR VERTICAL RIGHT ANGLE BRACKET	Pe	Close
  FE41	PRESENTATION FORM FOR VERTICAL LEFT CORNER BRACKET	Ps	Close
  FE42	PRESENTATION FORM FOR VERTICAL RIGHT CORNER BRACKET	Pe	Close
  FE43	PRESENTATION FORM FOR VERTICAL LEFT WHITE CORNER BRACKET	Ps	Close
  FE44	PRESENTATION FORM FOR VERTICAL RIGHT WHITE CORNER BRACKET	Pe	Close
  FE47	PRESENTATION FORM FOR VERTICAL LEFT SQUARE BRACKET	Ps	Close
  FE48	PRESENTATION FORM FOR VERTICAL RIGHT SQUARE BRACKET	Pe	Close
  FE50	SMALL COMMA	Po	SContinue
  FE51	SMALL IDEOGRAPHIC COMMA	Po	SContinue
  FE52	SMALL FULL STOP	Po	ATerm
  FE55	SMALL COLON	Po	SContinue
  FE56	SMALL QUESTION MARK	Po	STerm
  FE57	SMALL EXCLAMATION MARK	Po	STerm
  FE58	SMALL EM DASH	Pd	SContinue
  FE59	SMALL LEFT PARENTHESIS	Ps	Close
  FE5A	SMALL RIGHT PARENTHESIS	Pe	Close
  FE5B	SMALL LEFT CURLY BRACKET	Ps	Close
  FE5C	SMALL RIGHT CURLY BRACKET	Pe	Close
  FE5D	SMALL LEFT TORTOISE SHELL BRACKET	Ps	Close
  FE5E	SMALL RIGHT TORTOISE SHELL BRACKET	Pe	Close
  FE63	SMALL HYPHEN-MINUS	Pd	SContinue
  FF01	FULLWIDTH EXCLAMATION MARK	Po	STerm
  FF08	FULLWIDTH LEFT PARENTHESIS	Ps	Close
  FF09	FULLWIDTH RIGHT PARENTHESIS	Pe	Close
  FF0C	FULLWIDTH COMMA	Po	SContinue
  FF0D	FULLWIDTH HYPHEN-MINUS	Pd	SContinue
  FF0E	FULLWIDTH FULL STOP	Po	ATerm
  FF1A	FULLWIDTH COLON	Po	SContinue
  FF1F	FULLWIDTH QUESTION MARK	Po	STerm
  FF3B	FULLWIDTH LEFT SQUARE BRACKET	Ps	Close
  FF3D	FULLWIDTH RIGHT SQUARE BRACKET	Pe	Close
  FF5B	FULLWIDTH LEFT CURLY BRACKET	Ps	Close
  FF5D	FULLWIDTH RIGHT CURLY BRACKET	Pe	Close
  FF5F	FULLWIDTH LEFT WHITE PARENTHESIS	Ps	Close
  FF60	FULLWIDTH RIGHT WHITE PARENTHESIS	Pe	Close
  FF61	HALFWIDTH IDEOGRAPHIC FULL STOP	Po	STerm
  FF62	HALFWIDTH LEFT CORNER BRACKET	Ps	Close
  FF63	HALFWIDTH RIGHT CORNER BRACKET	Pe	Close
  FF64	HALFWIDTH IDEOGRAPHIC COMMA	Po	SContinue
  10A56	KHAROSHTHI PUNCTUATION DANDA	Po	STerm
  10A57	KHAROSHTHI PUNCTUATION DOUBLE DANDA	Po	STerm
  11047	BRAHMI DANDA	Po	STerm
  11048	BRAHMI DOUBLE DANDA	Po	STerm
  110BE	KAITHI SECTION MARK	Po	STerm
  110BF	KAITHI DOUBLE SECTION MARK	Po	STerm
  110C0	KAITHI DANDA	Po	STerm
  110C1	KAITHI DOUBLE DANDA	Po	STerm

-->


  <h3 id="text-shadow">
    Text Shadows: the 'text-shadow' property</h3>

    <table class="propdef">
      <tbody>
        <tr>
          <th>Name:</th>
          <td><dfn>text-shadow</dfn></td>
        </tr>
        <tr>
          <th>Value:</th>
          <td>none | [<var>&lt;shadow&gt;</var>, ] * <var>&lt;shadow&gt;</var>
          </td>
        </tr>
        <tr>
          <th>Initial:</th>
          <td>none</td>
        </tr>
        <tr>
          <th>Applies to:</th>
          <td>all elements</td>
        </tr>
        <tr>
          <th>Inherited:</th>
          <td>yes</td>
        </tr>
        <tr>
          <th>Percentages:</th>
          <td>N/A</td>
        </tr>
        <tr>
          <th>Media:</th>
          <td>visual</td>
        </tr>
        <tr>
          <th>Computed&#160;value:</th>
          <td>a color plus three absolute &lt;length&gt;s</td>
        </tr>
      </tbody>
    </table>

    <p>This property accepts a comma-separated list of shadow effects to
      be applied to the text of the element. <dfn>&lt;shadow&gt;</dfn>
      is the same as defined for the 'box-shadow' property except that
      the ''inset'' keyword is not allowed. The shadow is applied to all
      of the element's text as well as any text decorations it specifies.

    <p>The shadow effects are applied front-to-back: the first shadow is on
      top. The shadows may thus overlay each other, but they never overlay
      the text itself. The shadow must be painted at a stack level between
      the element's border and/or background, if present, and the elements
      text and text decoration. UAs should avoid painting text shadows over
      text in adjacent elements belonging to the same stack level and stacking
      context. (This may mean that the exact stack level of the shadows depends
      on whether the element has a border or background: the exact stacking
      behavior of text shadows is thus UA-defined.)</p>

    <p>Unlike 'box-shadow', text shadows are not clipped to the shadowed
      shape and may show through if the text is partially-transparent.
      Like 'box-shadow', text shadows do not influence layout, and do not
      trigger scrolling or increase the size of the scrollable area.

    <p class="note">The painting order of shadows defined here is the opposite
      of that defined in the 1998
      <a href="http://www.w3.org/TR/1998/REC-CSS2-19980512">CSS2 Recommendation</a>.</p>

    <p>The ''text-shadow'' property applies to both the
      <code>::first-line</code> and <code>::first-letter</code>
      pseudo-elements.</p>

<h2 id="conformance">
Conformance</h2>

<h3 id="conventions">
Document Conventions</h3>

  <p>Conformance requirements are expressed with a combination of
  descriptive assertions and RFC 2119 terminology. The key words “MUST”,
  “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
  “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
  document are to be interpreted as described in RFC 2119.
  However, for readability, these words do not appear in all uppercase
  letters in this specification.
  
  <p>All of the text of this specification is normative except sections
  explicitly marked as non-normative, examples, and notes. [[!RFC2119]]</p>
  
  <p>Examples in this specification are introduced with the words “for example”
  or are set apart from the normative text with <code>class="example"</code>,
  like this:
  
  <div class="example">
    <p>This is an example of an informative example.</p>
  </div>
  
  <p>Informative notes begin with the word “Note” and are set apart from the
  normative text with <code>class="note"</code>, like this:
  
  <p class="note">Note, this is an informative note.</p>

<h3 id="conformance-classes">
Conformance Classes</h3>

  <p>Conformance to CSS Text Level 4
  is defined for three conformance classes:
  <dl>
    <dt><dfn title="style sheet!!as conformance class">style sheet</dfn>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
      style sheet</a>.
    <dt><dfn>renderer</dfn></dt>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that interprets the semantics of a style sheet and renders
      documents that use them.
    <dt><dfn id="authoring-tool">authoring tool</dfn></dt>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that writes a style sheet.
  </dl>
  
  <p>A style sheet is conformant to CSS Text Level 4
  if all of its declarations that use properties defined in this module
  have values that are valid according to the generic CSS grammar and the
  individual grammars of each property as given in this module.
  
  <p>A renderer is conformant to CSS Text Level 4
  if, in addition to interpreting the style sheet as defined by the
  appropriate specifications, it supports all the features defined
  by CSS Text Level 4 by parsing them correctly
  and rendering the document accordingly. However, the inability of a
  UA to correctly render a document due to limitations of the device
  does not make the UA non-conformant. (For example, a UA is not
  required to render color on a monochrome monitor.)
  
  <p>An authoring tool is conformant to CSS Text Level 4
  if it writes style sheets that are syntactically correct according to the
  generic CSS grammar and the individual grammars of each feature in
  this module, and meet all other conformance requirements of style sheets
  as described in this module.

<h3 id="partial">
Partial Implementations</h3>

  <p>So that authors can exploit the forward-compatible parsing rules to
  assign fallback values, CSS renderers <strong>must</strong>
  treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
  as appropriate</a>) any at-rules, properties, property values, keywords,
  and other syntactic constructs for which they have no usable level of
  support. In particular, user agents <strong>must not</strong> selectively
  ignore unsupported component values and honor supported values in a single
  multi-value property declaration: if any value is considered invalid
  (as unsupported values must be), CSS requires that the entire declaration
  be ignored.</p>
  
<h3 id="experimental">
Experimental Implementations</h3>

  <p>To avoid clashes with future CSS features, the CSS2.1 specification
  reserves a <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
  syntax</a> for proprietary and experimental extensions to CSS.
  
  <p>Prior to a specification reaching the Candidate Recommendation stage
  in the W3C process, all implementations of a CSS feature are considered
  experimental. The CSS Working Group recommends that implementations
  use a vendor-prefixed syntax for such features, including those in
  W3C Working Drafts. This avoids incompatibilities with future changes
  in the draft.
  </p>
 
<h3 id="testing">Non-Experimental Implementations</h3>

  <p>Once a specification reaches the Candidate Recommendation stage,
  non-experimental implementations are possible, and implementors should
  release an unprefixed implementation of any CR-level feature they
  can demonstrate to be correctly implemented according to spec.
  
  <p>To establish and maintain the interoperability of CSS across
  implementations, the CSS Working Group requests that non-experimental
  CSS renderers submit an implementation report (and, if necessary, the
  testcases used for that implementation report) to the W3C before
  releasing an unprefixed implementation of any CSS features. Testcases
  submitted to W3C are subject to review and correction by the CSS
  Working Group.
  
  <p>Further information on submitting testcases and implementation reports
  can be found from on the CSS Working Group's website at
  <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
  Questions should be directed to the
  <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
  mailing list.

<h3 id="cr-exit-criteria">
CR Exit Criteria</h3>

  <p>
  For this specification to be advanced to Proposed Recommendation,
  there must be at least two independent, interoperable implementations
  of each feature. Each feature may be implemented by a different set of
  products, there is no requirement that all features be implemented by
  a single product. For the purposes of this criterion, we define the
  following terms:
  
  <dl>
    <dt>independent <dd>each implementation must be developed by a
    different party and cannot share, reuse, or derive from code
    used by another qualifying implementation. Sections of code that
    have no bearing on the implementation of this specification are
    exempt from this requirement.
  
    <dt>interoperable <dd>passing the respective test case(s) in the
    official CSS test suite, or, if the implementation is not a Web
    browser, an equivalent test. Every relevant test in the test
    suite should have an equivalent test created if such a user
    agent (UA) is to be used to claim interoperability. In addition
    if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those
    equivalent tests in the same way for the purpose of
    interoperability. The equivalent tests must be made publicly
    available for the purposes of peer review.
  
    <dt>implementation <dd>a user agent which:
  
    <ol class=inline>
      <li>implements the specification.
  
      <li>is available to the general public. The implementation may
      be a shipping product or other publicly available version
      (i.e., beta version, preview release, or “nightly build”). 
      Non-shipping product releases must have implemented the
      feature(s) for a period of at least one month in order to
      demonstrate stability.
  
      <li>is not experimental (i.e., a version specifically designed
      to pass the test suite and is not intended for normal usage
      going forward).
    </ol>
  </dl>
  
  <p>The specification will remain Candidate Recommendation for at least
  six months.

<h2 class="no-num" id="acknowledgements">
  Appendix A: Acknowledgements</h2>

  <p>This specification would not have been possible without the help from:
    Ayman Aldahleh, Bert Bos, Tantek Çelik, Stephen Deach, John Daggett,
    Martin Dürst,
    Laurie Anna Edlund, Ben Errez, Yaniv Feinberg, Arye Gittelman, Ian
    Hickson, Martin Heijdra, Richard Ishida, Masayasu Ishikawa,
    Michael Jochimsen, Eric LeVine, Ambrose Li, Håkon Wium Lie, Chris Lilley,
    Ken Lunde, Nat McCully, Shinyu Murakami, Paul Nelson, Chris Pratley, Marcin Sawicki,
    Arnold Schrijver, Rahul Sonnad, Michel Suignard, Takao Suzuki,
    Frank Tang, Chris Thrasher, Etan Wexler, Chris Wilson, Masafumi Yabe
    and Steve Zilles.</p>

<h2 class="no-num">Appendix B: References</h2>

<h3 class="no-num" id="normative-ref">Normative references</h3>
<!--normative-->

<h3 class="no-num" id="informative-ref">Informative references</h3>
<!--informative-->

<h2 class="no-num" id="changes">Appendix C:
Changes</h2>

<h2 class="no-num" id="default-stylesheet">Appendix D: Default UA Stylesheet</h2>

    <p>This appendix is informative, and is to help UA developers to implement
      default stylesheet, but UA developers are free to ignore or change.</p>

    <div class="example">
      <pre><code class="css">
<!-- -->/* make list items align together */
<!-- -->li { text-align: match-parent; }
<!-- -->/* disable inheritance of text-emphasis marks to ruby text:
<!-- -->  emphasis marks should only apply to base text */
<!-- -->rt { text-emphasis: none; }
<!-- -->
<!-- -->:root:lang(zh), [lang|=zh] {
<!-- -->/* default emphasis mark position is 'below right' for Chinese */
<!-- -->  text-emphasis-position: below right;
<!-- -->}
</code></pre>
    </div>
    <p class="issue">If you find any issues, recommendations to add, or corrections,
      please send the information to <a href="mailto:www-style@w3.org">www-style@w3.org</a>
      with <kbd>[css3-text]</kbd> in the subject line.</p>

<h2 class="no-num" id="script-groups">Appendix E: Scripts and Spacing</h2>

  <p><em>This appendix is informative (non-normative).</em></p>

  <p>Typographic behavior varies somewhat by language, but varies drastically
    by writing system. This appendix categorizes some common scripts in
    Unicode 6.0 according to their justification and spacing behavior. Category
    descriptions are descriptive, not prescriptive; the determining factor is
    the prioritization of <i>expansion opportunities</i>.

  <dl>
    <dt id="block-scripts"><dfn>block scripts</dfn></dt>
      <dd>CJK and by extension all Wide characters. (See [[!UAX11]])
        The following scripts are included:
        Bopomofo,
        Han,
        Hangul,
        Hiragana,
        Katakana,
        Yi
      </dd>
    <dt id="clustered-scripts"><dfn>clustered scripts</dfn></dt>
      <dd>Scripts that have discrete units but do not use spaces between words,
        such as many Southeast Asian systems.
        The following scripts are included:
        Khmer,
        Lao,
        Myanmar,
        Thai,
      <span class="issue">This list is likely incomplete. What else fits here?</span>
      </dd>
    <dt id="connected-scripts"><dfn>connected scripts</dfn></dt>
      <dd>Devanagari, Ogham, and other scripts that use spaces between
        words and baseline connectors within words.
        By extension this category also includes any other Indic scripts
        whose typographic behavior is similar to Devanagari.
      The following scripts are included:
      Bengali,
      Brahmi,
      Devanagari,
      Gujarati,
      Gurmukhi,
      Kannada,
      Malayalam,
      Oriya?,
      Ogham,
      Tamil?,
      Telugu
      </dd>
    <dt id="cursive-scripts"><dfn>cursive scripts</dfn></dt>
      <dd>Arabic and similar inherently cursive scripts.
      The following scripts are included:
      Arabic,
      Mongolian,
      N'Ko?,
      Phags Pa?,
      Syriac
      </dd>
    <dt id="discrete-scripts"><dfn>discrete scripts</dfn></dt>
      <dd>Scripts that use spaces or visible word-separating
        punctuation between words and have discrete,
        unconnected (in print) units within words.
      The following scripts are included:
      Armenian,
      Bamum?,
      Braille,
      Canadian Aboriginal,
      Cherokee,
      Coptic,
      Cyrillic,
      Deseret,
      Ethiopic
      Greek,
      Hebrew,
      Kharoshthi,
      Latin,
      Lisu,
      Osmanya,
      Shavian,
      Tifinagh,
      Vai?
      </dd>
</dl>

<p>UAs should treat unrecognized scripts as <i>discrete</i>.

<p class="issue">This listing should ideally be exhaustive wrt Unicode.
Please <a href="#status">send</a> suggestions and corrections to the CSS
Working Group.</p>

<div class="note">
  <p>Guidelines for classification consider letter-spacing and justification:
  <ol>
    <li>If the script is cursive and may expand cursively but must not
      space between letters, it is <i>cursive</i>.
    <li>If the script primarily flexes word separators, it is either
      <i>discrete</i> or <i>connected</i>. <i>Discrete</i> scripts can
      space between letters. <i>Connected</i> scripts must not space
      between letters (typically because that would break the connections
      or otherwise look bad).
    <li>If the script primarily expands equally between its "letters"
      in native typesettings, it is either <i>block</i> or
      <i>clustered</i>. The exact classification depends on whether it
      always spaces when mixed with CJK and sometimes stays together
      when mixed with Thai and related scripts (<i>block</i>) or
      sometimes spaces when mixed with CJK and always spaces with Thai
      (<i>clustered</i>).
  </ol>
</div>

<h2 class="no-num" id="small-kana">Appendix F: Small Kana Mappings</h2>

  <table class="data">
    <caption>Small Kana Map to Normal Kana</caption>
    <colgroup span=2>
    <colgroup span=2>
    <colgroup span=2>
    <colgroup span=2>
    <colgroup span=2>
    <thead>
      <tr>
        <th colspan=2>A
        <th colspan=2>I
        <th colspan=2>U
        <th colspan=2>E
        <th colspan=2>O
      </tr>
      <tr>
        <th scope=col>small
        <th scope=col>normal
        <th scope=col>small
        <th scope=col>normal
        <th scope=col>small 
        <th scope=col>normal
        <th scope=col>small
        <th scope=col>normal
        <th scope=col>small
        <th scope=col>normal
      </tr>
    </thead>
    <tbody>
    <tr>
      <!-- Vowels (Hiragana) -->
      <td>&#x3041; U+3041 <td> &#x3042; U+3042</td>
      <td>&#x3043; U+3043 <td> &#x3044; U+3044</td>
      <td>&#x3045; U+3045 <td> &#x3046; U+3046</td>
      <td>&#x3047; U+3047 <td> &#x3048; U+3048</td>
      <td>&#x3049; U+3049 <td> &#x304A; U+304A
    </tr>
    <tr>
      <!-- Consonant K (Hiragana) -->
      <td>&#x3095; U+3095 <td> &#x304B; U+304B
      <td><td>
      <td><td>
      <td>&#x3096; U+3096 <td> &#x3051; U+3051
      <td><td>
    </tr>
    <tr>
      <!-- Consonant T (Hiragana) -->
      <td><td>
      <td><td>
      <td>&#x3063; U+3063 <td> &#x3064; U+3064
      <td><td>
      <td><td>
    </tr>
    <tr>
      <!-- Consonant Y (Hiragana) -->
      <td>&#x3083; U+3083 <td> &#x3084; U+3084
      <td><td>
      <td>&#x3085; U+3085 <td> &#x3086; U+3086
      <td><td>
      <td>&#x3087; U+3087 <td> &#x3088; U+3088
    </tr>
    <tr>
      <!-- Consonant W (Hiragana) -->
      <td>&#x308E; U+308E <td> &#x308F; U+308F
      <td><td>
      <td><td>
      <td><td>
      <td><td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <!-- Vowels (Katakana) -->
      <td>&#x30A1; U+30A1 <td> &#x30A2; U+30A2
      <td>&#x30A3; U+30A3 <td> &#x30A4; U+30A4
      <td>&#x30A5; U+30A5 <td> &#x30A6; U+30A6
      <td>&#x30A7; U+30A7 <td> &#x30A8; U+30A8
      <td>&#x30A9; U+30A9 <td> &#x30AA; U+30AA
    </tr>
    <tr>
      <!-- Consonant K (Katakana) -->
      <td>&#x30F5; U+30F5 <td> &#x30AB; U+30AB
      <td><td>
      <td>&#x31F0; U+31F0 <td> &#x30AF; U+30AF
      <td>&#x30F6; U+30F6 <td> &#x30B1; U+30B1
      <td><td>
    </tr>
    <tr>
      <!-- Consonant S (Katakana) -->
      <td><td>
      <td>&#x31F1; U+31F1 <td> &#x30B7; U+30B7
      <td>&#x31F2; U+31F2 <td> &#x30B9; U+30B9
      <td><td>
      <td><td>
    </tr>
    <tr>
      <!-- Consonant T (Katakana) -->
      <td><td>
      <td><td>
      <td>&#x30C3; U+30C3 <td> &#x30C4; U+30C4
      <td><td>
      <td>&#x31F3; U+31F3 <td> &#x30C8; U+30C8
    </tr>
    <tr>
      <!-- Consonant N (Katakana) -->
      <td><td>
      <td><td>
      <td>&#x31F4; U+31F4 <td> &#x30CC; U+30CC
      <td><td>
      <td><td>
    </tr>
    <tr>
      <!-- Consonant H (Katakana) -->
      <td>&#x31F5; U+31F5 <td> &#x30CF; U+30CF
      <td>&#x31F6; U+31F6 <td> &#x30D2; U+30D2
      <td>&#x31F7; U+31F7 <td> &#x30D5; U+30D5
      <td>&#x31F8; U+31F8 <td> &#x30D8; U+30D8
      <td>&#x31F9; U+31F9 <td> &#x30DB; U+30DB
    </tr>
    <tr>
      <!-- Consonant M (Katakana) -->
      <td><td>
      <td><td>
      <td>&#x31FA; U+31FA <td> &#x30E0; U+30E0
      <td><td>
      <td><td>
    </tr>
    <tr>
      <!-- Consonant Y (Katakana) -->
      <td>&#x30E3; U+30E3 <td> &#x30E4; U+30E4
      <td><td>
      <td>&#x30E5; U+30E5 <td> &#x30E6; U+30E6
      <td><td>
      <td>&#x30E7; U+30E7 <td> &#x30E8; U+30E8
    </tr>
    <tr>
      <!-- Consonant R (Katakana) -->
      <td>&#x31FB; U+31FB <td> &#x30E9; U+30E9
      <td>&#x31FC; U+31FC <td> &#x30EA; U+30EA
      <td>&#x31FD; U+31FD <td> &#x30EB; U+30EB
      <td>&#x31FE; U+31FE <td> &#x30EC; U+30EC
      <td>&#x31FF; U+31FF <td> &#x30ED; U+30ED
    </tr>
    <tr>
      <!-- Consonant W (Katakana) -->
      <td>&#x30EE; U+30EE <td> &#x30EF; U+30EF
      <td><td>
      <td><td>
      <td><td>
      <td><td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <!-- Vowels (hwid) -->
      <td>&#xFF67; U+FF67 <td> &#xFF71; U+FF71
      <td>&#xFF68; U+FF68 <td> &#xFF72; U+FF72
      <td>&#xFF69; U+FF69 <td> &#xFF73; U+FF73
      <td>&#xFF6A; U+FF6A <td> &#xFF74; U+FF74
      <td>&#xFF6B; U+FF6B <td> &#xFF75; U+FF75
    </tr>
    <tr>
      <!-- Consonant T (hwid Katakana) -->
      <td><td>
      <td><td>
      <td>&#xFF6F; U+FF6F <td> &#xFF82; U+FF82
      <td><td>
      <td><td>
    </tr>
    <tr>
      <!-- Consonant Y (hwid Katakana) -->
      <td>&#xFF6C; U+FF6C <td> &#xFF94; U+FF94
      <td><td>
      <td>&#xFF6D; U+FF6D <td> &#xFF95; U+FF95
      <td><td>
      <td>&#xFF6E; U+FF6E <td> &#xFF96; U+FF96
    </tr>
  </table>

<h2 class="no-num">Appendix G:
Text Processing Order of Operations</h2>

  <p>The following list defines the order of text operations. (Implementations
    are not bound to this order as long as the resulting layout is the same.)

  <ol>
    <li><a href="http://www.w3.org/TR/css3-writing-modes/#text-combine-horizontal">text combination</a> [[!CSS3-WRITING-MODES]]
    <li><a href="#white-space-rules">white space processing</a> part I (pre-wrapping)
    <li><a href="#text-transform">text transformation</a>
    <li><a href="#spacing">default spacing</a>
    <li><a href="#wrapping">text wrapping</a> while applying per line:
      <ol>
        <li><a href="#white-space-rules">white space processing</a> part II
        <li><a href="#text-indent">indentation</a>
        <li><a href="http://www.w3.org/TR/css3-writing-modes/#text-direction">bidirectional reordering</a> [[!CSS21]] / [[!CSS3-WRITING-MODES]]
        <li><a href="http://www.w3.org/TR/css3-writing-modes/#text-orientation">text orientation</a> [[!CSS3-WRITING-MODES]]
        <li><a href="http://www.w3.org/TR/css3-fonts/">font/glyph selection and kerning</a> [[!CSS21]] / [[!CSS3-FONTS]]
        <li><a href="#hanging-punctuation">hanging punctuation</a>
      </ol>
    <li><a href="#justification">justification</a> (which may affect glyph selection and/or text wrapping, looping back into that step)
    <li><a href="#text-align">text alignment</a>
    <li><a href="#decoration">text decoration</a>
  </ol>

<h2 class="no-num">Appendix H:
Full Property Index</h2>
<!-- properties -->

<!--
<h2 class="no-num" id="index">Appendix I:
Index</h2>
index-->


<h2 class="no-num" id="traditions">Appendix J: Cultural Correlations</h2>

  <p><em>This section is non-normative.</em></p>

  <p>Some features are more important in some typographic traditions
    than in others. This table summarizes which typographic traditions
    these features were designed for. Parentheses indicates traditions for
    which the feature is particularly significant. This table should be
    considered incomplete and non-exhaustive.

  <table class="data">
    <thead>
      <tr><th>Feature
          <th>Typographic Tradition
    </thead>
    <tbody>
      <tr><td>'hanging-punctuation'
          <td>CJK
      <tr><td>'hyphens'
          <td>Western, South Asian
      <tr><td>'hyphenate-character'
          <td>Western, South Asian
      <tr><td>'hyphenate-limit-chars'
          <td>Western, South Asian
      <tr><td>'hyphenate-limit-last'
          <td>Western, South Asian
      <tr><td>'hyphenate-limit-lines'
          <td>Western, South Asian
      <tr><td>'hyphenate-limit-zone'
          <td>Western, South Asian
      <tr><td>'line-break'
          <td>CJK (Japanese)
      <tr><td>'text-decoration-skip': ''edges''
          <td>CJK
      <tr><td>'text-justify': ''inter-cluster''
          <td>Southeast Asian
      <tr><td>'text-justify': ''inter-ideograph'', ''distribute''
          <td>CJK
      <tr><td>'text-justify': ''inter-word''
          <td>Western, African, Middle-Eastern, Indic
      <tr><td>'text-justify': ''kashida''
          <td>Arabic
      <tr><td>'text-emphasis-style'
          <td>CJK
      <tr><td>'text-emphasis-color'
          <td>CJK
      <tr><td>'text-emphasis-position'
          <td>CJK
      <tr><td>'text-emphasis-skip'
          <td>CJK
      <tr><td>'text-spacing'
          <td>CJK
      <tr><td>'text-spacing': ''punctuation''
          <td>European (French)
      <tr><td>'text-transform': ''capitalize'', ''uppercase'', ''lowercase''
          <td>Western
      <tr><td>'text-transform': ''full-width'', ''full-size-kana''
          <td>CJK
      <tr><td>'text-underline-position': ''auto''
          <td>CJK
      <tr><td>'word-break'
          <td>CJK (Korean)
      <tr><td>'word-spacing'
          <td>Western, African, Middle-Eastern, Indic
    </tbody>
  </table>

  <p class="issue">Additional information / corrections on this table are welcome.</p>


</body>
</html>
