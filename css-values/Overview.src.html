<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>CSS Values and Units Module Level 3</title>
  <style type="text/css">
    code, small { white-space: nowrap }
    .say { color: gray; }
    pre.value { font: inherit; white-space: pre-wrap; margin: 0; padding: 0; }
    #propvalues td { text-align: right; }
    #propvalues td + td { text-align: left; }
    dt + dt::before { content: ", "; }
    dt { display: inline; }
    :not(code) var { font-style: normal; color: #005A9C; }
    td > small { display: block; }
  </style>
  <link rel="stylesheet" type="text/css" href="../default.css">
	<link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-[STATUS].css">
</head>


<body class="h-entry">
<div class="head">
<!--logo-->

<h1 class="p-name">CSS Values and Units Module Level 3</h1>

<h2 class="no-num no-toc">[LONGSTATUS] <span class="dt-updated"><span class="value" title="[CDATE]">[DATE]</span></span></h2>

<dl>
<dt>This version:</dt>
<dd><a class="u-url" href="[VERSION]">http://www.w3.org/TR/[YEAR]/CR-css3-values-[CDATE]/</a></dd>

<dt>Latest version:</dt>
<dd><a href="[LATEST]">[LATEST]</a></dd>

<dt>Editor's draft:
<dd><a href="http://dev.w3.org/csswg/[SHORTNAME]/">http://dev.w3.org/csswg/[SHORTNAME]/</a>

<dt>Previous version:</dt>
<dd><a rel="previous" href="http://www.w3.org/TR/2013/CR-css3-values-20130404/">http://www.w3.org/TR/2013/CR-css3-values-20130404/</a></dd>

<dt>Issue Tracking:</dt>
<dd><a rel="issues" href="http://www.w3.org/Style/CSS/Tracker/products/33">http://www.w3.org/Style/CSS/Tracker/products/33</a>

  <dt>Feedback:</dt>
    <dd><a href="mailto:www-style@w3.org?subject=%5Bcss3-values%5D%20feedback">www-style@w3.org</a>
        with subject line &ldquo;<kbd>[css3-values] <var>&hellip; message topic &hellip;</var></kbd>&rdquo;
        (<a rel="discussion" href="http://lists.w3.org/Archives/Public/www-style/">archives</a>)

<dt>Editors:</dt>
<dd class="p-author h-card vcard">
 <a class="p-name fn u-url url" rel="author"
    href="mailto:howcome@opera.com">H&aring;kon Wium Lie</a> 
 (<span class="p-org org">Opera Software</span>)
<dd class="p-author h-card vcard">
 <a class="p-name fn u-url url" rel="author"
    href="http://www.xanthir.com/contact">Tab Atkins</a> 
 (<span class="p-org org">Google</span>)
<dd class="p-author h-card vcard">
 <a class="p-name fn u-url url" rel="author"
    href="http://fantasai.inkedblade.net/contact">Elika J. Etemad</a>
 (<span class="p-org org">Mozilla</span>)
</dl>

<!--copyright-->

<hr title="Separator for header">
</div>


<h2 class="no-num no-toc" id="abstract">Abstract</h2>

<p><span class="p-summary">This CSS3 module describes the common values and units that CSS
properties accept and the syntax used for describing them in CSS
property definitions.</span></p>

<h2 class="no-num no-toc" id="status">Status of this document</h2>

<!--status-->

<p>All features described in this specification that also
exist in CSS&nbsp;2.1 [[!CSS21]] are intended to be backwards compatible.
If you notice a conflict between this draft and CSS&nbsp;2.1 [[!CSS21]],
please inform the editors!

<p>The CR period will last at least until 4 May 2013. At the
time of publication, no test suite and implementation report have yet
been made. They will be made available from the <a
href="/Style/CSS/Test/" >CSS test suites page.</a> See the section <a
href="#cr-exit-criteria">“CR exit criteria”</a> for details.

<p>See the section <a href="#changes">“Changes”</a> for changes made
to this specification since the last Candidate Recommendation.

<p>The following features are at-risk and may be dropped during the
CR period: ''calc()'', ''toggle()'', ''attr()''.

<h2 class="no-num no-toc" id="contents">Table of contents</h2>

<!--toc-->

<h2>Introduction</h2>

	<p>The value definition field of each CSS property can contain keywords,
	data types (which appear between ''&lt;'' and ''>''), and information on how
	they can be combined.
	Generic data types (<var>&lt;length></var> being the most widely used)
	that can be used by many properties are described in this specification,
	while more specific data types (e.g., <var>&lt;spacing-limit></var>)
	are described in the corresponding modules.

<h3 id="placement">
Module Interactions</h3>

	<p>This module replaces and extends the data type definitions in [[!CSS21]]
	sections
	<a href="http://www.w3.org/TR/CSS21/about.html#value-defs">1.4.2.1</a>,
	<a href="http://www.w3.org/TR/CSS21/syndata.html#values">4.3</a>,
	and <a href="http://www.w3.org/TR/CSS21/aural.html#aural-intro">A.2</a>.

<h2 id="value-defs">
Value Definition Syntax</h2>

	<p>The syntax described here is used to define the set of valid values
	for CSS properties. A property value can have one or more components.

<h3 id="component-types">
Component value types</h3>

	<p>Component value types are designated in several ways:

	<ol>
		<li><a href="#keywords">keyword</a> values (such as ''auto'', ''disc'', etc.),
		which appear literally, without quotes (e.g. <code>auto</code>)

		<li>basic data types, which appear between ''&lt;'' and ''>''
		(e.g., <var>&lt;length></var>, <var>&lt;percentage></var>, etc.).

		<li>types that have the same range of values as a property bearing
		the same name
		(e.g., <var>&lt;'border-width'></var> <var>&lt;'background-attachment'></var>, etc.).
		In this case, the type name is the property name (complete with quotes)
		between the brackets.  Such a type does <em>not</em>
		include <a href="#common-keywords">CSS-wide keywords</a> such as ''inherit''.

		<li>non-terminals that do not share the same name as a property. In this
		case, the non-terminal name appears between ''&lt;'' and ''>'', as in
		<var>&lt;spacing-limit></var>.  Notice the distinction between
		<var>&lt;border-width></var> and <var>&lt;'border-width'></var>:
		the latter is defined as the value of the 'border-width' property,
		the former requires an explicit expansion elsewhere.
		The definition of a non-terminal is typically located near its first appearance
		in the specification.
	</ol>

	<p>
		Some property value definitions also include the slash (/),
		the comma (,),
		and/or parentheses as literals.
		These represent their corresponding tokens.
		Other non-keyword literal characters that may appear in a component value,
		such as “+”,
		must be written enclosed in single quotes.

	<p>
		All CSS properties also accept the <a href="#common-keywords">CSS-wide keyword values</a>
		as the sole component of their property value.
		For readability these are not listed explicitly in the property value syntax definitions.
		For example, the full value definition of <a href="http://www.w3.org/TR/css3-background/#border-color">'border-color'</a>
		is ''&lt;color>{1,4} | inherit | initial | unset''
		(even though it is listed as ''&lt;color>{1,4}'').

	<p class="note">
		Note: This implies that, in general,
		combining these keywords with other component values in the same declaration
		results in an invalid declaration.
		For example,
		''background: url(corner.png) no-repeat, inherit;'' is invalid.

<h3 id="component-combinators">
Component value combinators</h3>

	<p>Component values can be arranged into property values as follows:

	<ul>
		<li>Several juxtaposed words mean that all of them must occur, in the
			given order.
		<li>A double ampersand (&&) separates two or more components,
			all of which must occur, in any order.
		<li>A double bar (||) separates two or more options:
			one or more of them must occur, in any order.
		<li>A bar (|) separates two or more alternatives:
			exactly one of them must occur.
		<li>Brackets ([&nbsp;]) are for grouping.
	</ul>

	<p>Juxtaposition is stronger than the double ampersand, the double
	ampersand is stronger than the double bar, and the double bar
	is stronger than the bar. Thus, the following lines are equivalent:
	<pre>
<!---->  a b   |   c ||   d &&   e f
<!---->[ a b ] | [ c || [ d && [ e f ]]]</pre>

<h3 id="component-multipliers">
Component value multipliers</h3>

	<p>Every type, keyword, or bracketed group may be followed by one of
	the following modifiers:</p>

	<ul>
		<li>An asterisk (*) indicates that the preceding type, word, or
			group occurs zero or more times.

		<li>A plus (+) indicates that the preceding type, word, or group
			occurs one or more times.

		<li>A question mark (?) indicates that the preceding type, word, or
			group is optional (occurs zero or one times).

		<li>A single number in curly braces ({<var>A</var>})
			indicates that the preceding type, word, or group occurs <var>A</var> times.

		<li>A comma-separated pair of numbers in curly braces ({<var>A</var>,<var>B</var>})
			indicates that the preceding type, word, or group occurs at least
			<var>A</var> and at most <var>B</var> times.
			The <var>B</var> may be omitted ({<var>A</var>,})
			to indicate that there must be at least <var>A</var> repetitions,
			with no upper bound on the number of repetitions.

		<li>A hash mark (#) indicates that the preceding type, word, or
			group occurs one or more times, separated by comma tokens.
			It may optionally be followed by the curly brace forms, above,
			to indicate precisely how many times the repetition occurs,
			like ''&lt;length>#{1,4}''.
	</ul>

	<p>For repeated component values (indicated by ''*'', ''+'', or ''#''), UAs must support at least 20 repetitions of the component.  If a property value contains more than the supported number of repetitions, the declaration must be ignored as if it were invalid.</p>

<h3 id="component-whitespace">
Component values and white space</h3>

	<p>Unless otherwise specified,
	white space and/or comments may appear before, after, and/or between
	components in a property value
	or subcomponents in a <a href="#functional-notation">functional notation</a>
	that is defined using these component
	<a href="#component-combinators">combinators</a> and
	<a href="#component-multipliers">multipliers</a>.

	<p class=note>Note: In many cases, spaces will in fact be
	<em>required</em> between components in order to distinguish them from
	each other. For example, the value ''1em2em'' would be parsed as a
	single <code>DIMEN</code> token with the number ''1'' and the identifier
	''em2em'', which is an invalid unit. In this case, a space would be
	required before the ''2'' to get this parsed as the two lengths ''1em''
	and ''2em''.

<h3 id="value-examples">
Property value examples</h3>

	<p>Below are some examples of properties with their corresponding value
	definition fields

	<div class=example>
		<table class="data" id="propvalues">
			<thead>
				<tr><th>Property
				    <th>Value definition field
				    <th>Example value
			</thead>
			<tbody>
				<tr><td>'orphans'
				    <td>&lt;integer>
				    <td>''3''
				<tr><td>'text-align'
				    <td>left | right | center | justify
				    <td>''center''
				<tr><td>'padding-top'
				    <td>&lt;length> | &lt;percentage>
				    <td>''5%''
				<tr><td>'outline-color'
				    <td>&lt;color> | invert
				    <td>''#fefefe''
				<tr><td>'text-decoration'
				    <td>none | underline || overline || line-through || blink
				    <td>''overline underline''
				<tr><td>'font-family'
				    <td>[ &lt;family-name> | &lt;generic-family> ]#
				    <td>''"Gill Sans", Futura, sans-serif''
				<tr><td>'border-width'
				    <td>[ &lt;length> | thick | medium | thin ]{1,4}
				    <td>''2px medium 4px''
				<tr><td>'text-shadow'
				    <td>[ inset? && [ &lt;length>{2,4} && &lt;color>? ] ]# | none
				    <td>''3px 3px rgba(50%, 50%, 50%, 50%), lemonchiffon 0 0 4px inset''
				<tr><td>'voice-pitch'
				    <td><pre class="value">&lt;frequency> && absolute |
<!--				      -->[[x-low | low | medium | high | x-high] ||
<!--				      --> [&lt;frequency> | &lt;semitones> | &lt;percentage>]]</pre>
						<td>''-2st x-low''
			</tbody>
		</table>
	</div>

<h2 id="textual-values">
Textual Data Types</h2>

	<p>An <dfn>identifier</dfn> (or <dfn>&lt;ident></dfn>) is a sequence of characters conforming to
	the <code>IDENT</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>. [[!CSS21]]
	Identifiers cannot be quoted; otherwise they would be interpreted
	as a string.

<h3 id="keywords">
Pre-defined Keywords</h3>

	<p>In the value definition fields, keywords with a pre-defined meaning
	appear literally. Keywords are CSS <i>identifiers</i> and are interpreted
	case-insensitively within the ASCII range (i.e., [a-z] and [A-Z] are
	equivalent).</p>

	<div class="example">
		<p>For example, here is the value definition for the 'border-collapse'
		property:</p>
		<pre>Value:&nbsp;collapse | separate</pre>

		<p>And here is an example of its use:</p>
		<pre>table { border-collapse: separate }</pre>
	</div>

<h4 id="common-keywords">
CSS-wide keywords: ''initial'' and ''inherit''</h4>

	<p>As defined <a href="#component-types">above</a>,
	all properties accept the <dfn>CSS-wide keywords</dfn>,
	which represent value computations common to all CSS properties.

	<p>The <dfn>''inherit''</dfn> keyword is
	<a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">defined</a>
	in [[!CSS21]].

	<p>The <dfn>''initial''</dfn> keyword represents the specified value that
	is designated as the property's initial value. [[CSS3CASCADE]]

	<p>Other CSS specifications can define additional CSS-wide keywords.
	For example, [[CSS3CASCADE]] adds an ''unset'' keyword to this set.
	<!-- Make it easier to add CSS-wide keywords by defining a grammar production. -->

<h3 id='custom-idents'>
Author-defined Identifiers: the ''&lt;custom-ident>'' type</h3>

	<p>
		Some properties accept arbitrary author-defined identifiers as a component value. 
		This generic data type is denoted by <dfn id="identifier-value"><var>&lt;custom-ident></var></dfn>, 
		and represents any valid CSS <i>identifier</i> 
		that does not otherwise appear as a pre-defined keyword in that property's value definition.
		Such identifiers are fully case-sensitive, 
		even in the ASCII range 
		(e.g. ''example'' and ''EXAMPLE'' are two different, unrelated user-defined identifiers).

	<p>
		The <a href='#common-keywords'>CSS-wide keywords</a> are not valid <var>&lt;custom-ident>s</var>. 
		The ''default'' keyword is reserved 
		and is also not a valid <var>&lt;custom-ident>s</var>. 

	<p>
		Reserved keywords are reserved in all ASCII case permutations.


<h3 id="strings">
Quoted Strings: the ''&lt;string>'' type</h3>

	<p>Strings are denoted by <dfn id="string-value"><var>&lt;string></var></dfn>
	and consist of a sequence of characters delimited by double quotes or
	single quotes. They correspond to the <code>STRING</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	[[!CSS21]]

	<div class=example>
		<p>Double quotes cannot occur inside double quotes, unless escaped
		(as <code>"\""</code> or as <code>"\22"</code>). Analogously for single quotes (<code>&#39;\&#39;&#39;</code> or <code>&#39;\27&#39;</code>).
		<pre>
<!-- -->content: "this is a &#39;string&#39;.";
<!-- -->content: "this is a \"string\".";
<!-- -->content: &#39;this is a "string".&#39;;
<!-- -->content: &#39;this is a \&#39;string\&#39;.&#39;;</pre>
	</div>

	<p>It is possible to break strings over several lines, for aesthetic or
	other reasons, but in such a case the newline itself has to be escaped
	with a backslash (\). The newline is subsequently removed from the
	string. For instance, the following two selectors are exactly the
	same:</p>

	<div class="example">
		<p style="display:none">Example(s):</p>
		<pre>
<!-- -->a[title="a not s\
<!-- -->o very long title"] {/*...*/}
<!-- -->a[title="a not so very long title"] {/*...*/}</pre>
	</div>

	<p>Since a string cannot directly represent a newline, to include a
	newline in a string, use the escape "\A". (Hexadecimal A is the line
	feed character in Unicode (U+000A), but represents the generic notion
	of "newline" in CSS.)</p>

<h3 id="urls">
Resource Locators: the ''&lt;url>'' type</h3>

	<p>A <dfn>URL</dfn> is a pointer to a resource and is a
	<a href="http://www.w3.org/TR/CSS21/syndata.html#uri">specially-parsed</a>
	<a href="#functional-notation">functional notation</a> denoted by
	<dfn id="url-value"><var>&lt;url></var></dfn>. It corresponds to the
	<code>URI</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	[[!CSS21]]

	<div class="example">
		<p>Below is an example of a URL being used as a background image:
		<pre>body { background: url("http://www.example.com/pinkish.gif") }</pre>
		<p>The same example can be written without quotes:
		<pre>body { background: url(http://www.example.com/pinkish.gif) }</pre>
	</div>

	<p class="note">Note that in some CSS syntactic contexts (as defined
	by that context), a URL can be represented as a <var>&lt;string></var>
	rather than by <var>&lt;URL></var>. An example of this is the
	<a href="http://www.w3.org/TR/CSS21/cascade.html#at-import">''@import'' rule</a>.

	<p>Parentheses, whitespace characters, single quotes (&#39;) and
	double quotes (") appearing in a URL must be escaped with a backslash
	so that the resulting value is a valid <code>URL</code> token,
	e.g. ''url(open\(parens)'', ''url(close\)parens)''.
	Depending on the type of URL, it might also be possible to write these
	characters as URI-escapes (e.g. ''url(open%28parens)'' or
	''url(close%29parens)'') as described in [[URI]].
	Alternatively a URL containing such characters may be represented as
	a quoted <a href="#strings">string</a> within the ''url()'' notation.

	<p>In order to create modular style sheets that are not dependent on
	the absolute location of a resource, authors should use relative URIs.
	Relative URIs (as defined in [[!URI]]) are resolved to full URIs
	using a base URI. RFC&nbsp;3986, section&nbsp;3, defines the normative
	algorithm for this process. For CSS style sheets, the base URI is that
	of the style sheet, not that of the source document.

	<p>When a <i>&lt;url></i> appears in the computed value of a property,
	it is resolved to an absolute URL, as described in the preceding
	paragraph.
	The computed value of a URI that the UA cannot resolve to an absolute
	URI is the specified value.</p>

	<div class="example">
		<p>For example, suppose the following rule:
		<pre>body { background: url("tile.png") }</pre>
		<p>is located in a style sheet designated by the URL:</p>
		<pre>http://www.example.org/style/basic.css</pre>
		<p>The background of the source document's <var>&lt;body></var>
		will be tiled with whatever image is described by the resource
		designated by the URL:
		<pre>http://www.example.org/style/tile.png</pre>
		<p>The same image will be used regardless of the URL of the source
		document containing the <var>&lt;body></var>.
	</div>

<h2 id="numeric-types">
Numeric Data Types</h2>

	<p>
		Properties may restrict numeric values to some range.
		If the value is outside the allowed range,
		the declaration is invalid and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.
	<p>
		CSS theoretically supports infinite precision and infinite ranges for all value types;
		however in reality implementations have finite capacity.
		UAs should support reasonably useful ranges and precisions.
<!--
		The recommended minimum ranges and precision,
		and the required rounding and clamping rules,
		are given in <a href="#required-ranges">Appendix A</a>.
-->

<h3 id="integers">
Integers: the ''&lt;integer>'' type</h3>

	<p>Integer values are denoted by
	<dfn id="integer-value"><var>&lt;integer></var></dfn>.
	An <dfn>integer</dfn> is one or more decimal digits ''0'' through ''9''
	and corresponds to a subset of the <code>NUMBER</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	The first digit of an integer may be immediately preceded by ''-'' or ''+''
	to indicate the integer's sign.

<h3 id="numbers">
Numbers: the ''&lt;number>'' type</h3>

	<p>Number values are denoted by
	<dfn id="number-value"><var>&lt;number></var></dfn>.
	A <dfn>number</dfn> is either an &lt;integer> or
	zero or more decimal digits followed by a dot (.) followed by one or more decimal digits.
	It corresponds to the <code>NUMBER</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	As with integers, the first character of a number may be immediately preceded by ''-'' or ''+''
	to indicate the number's sign.

<h3 id="percentages">
Percentages: the ''&lt;percentage>'' type</h3>

	<p>A <dfn>percentage</dfn> value is denoted by
	<dfn id="percentage-value"><var>&lt;percentage></var></dfn>,
	consists of a <i>&lt;number></i> immediately followed by a percent
	sign ''%''. It corresponds to the <code>PERCENTAGE</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.

	<p>Percentage values are always relative to another value, for example a
	length. Each property that allows percentages also defines the value to which
	the percentage refers. The value may be that of another property for the same
	element, a property for an ancestor element, or a value of the formatting
	context (e.g., the width of a <i>containing block</i>). When a percentage
	value is set for a property of the <i>root</i> element and the percentage
	is defined as referring to the inherited value of some property, the
	resultant value is the percentage times the <i>initial value</i> of that
	property.</p>

<h2 id="lengths">
Distance Units: the ''&lt;length>'' type</h2>

	<p>Lengths refer to distance measurements and are denoted by
	<dfn id="length-value"><var>&lt;length></var></dfn> in the
	property definitions.
	A length is a <i>dimension</i>.
	However, for zero lengths the unit identifier is optional
	(i.e. can be syntactically represented as the <var>&lt;number></var> ''0'').

	<p>A <dfn>dimension</dfn> is a <i>number</i> immediately followed by a
	unit identifier. It corresponds to the <code>DIMENSION</code> token in the
	<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">grammar</a>.
	[[!CSS21]] Like keywords, unit identifiers are case-insensitive within
	the ASCII range.

	<p>Properties may restrict the length value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

	<p>While some properties allow negative length values, this may
	complicate the formatting and there may be implementation-specific
	limits. If a negative length value is allowed but cannot be supported,
	it must be converted to the nearest value that can be supported.</p>

	<p>In cases where the <!--FIXME: href--><a>used</a> length cannot be
	supported, user agents must approximate it in the
	<!--FIXME: href--><a>actual</a> value.

	<p>There are two types of length units: relative and absolute.

<h3 id="relative-lengths">
Relative lengths</h3>

	<p><dfn title="relative length">Relative length units</dfn> specify a
	length relative to another length. Style sheets that use relative
	units can more easily scale from one output environment to another.

	<p>The relative units are:</p>

	<table class="data">
	<caption>Informative Summary of Relative Units</caption>
	<thead>
		<tr><th>unit<th>relative to
	</thead>
	<tbody>
		<tr><td>''em''
		    <td>font size of the element
		<tr><td>''ex''
		    <td><i>x-height</i> of the element's font
		<tr><td>''ch''
		    <td>width of the "0" (ZERO, U+0030) glyph in the element's font
		<tr><td>''rem''
		    <td>font size of the root element
		<tr><td>''vw''
		    <td>1% of viewport's width
		<tr><td>''vh''
		    <td>1% viewport's height
		<tr><td>''vmin''
		    <td>1% of viewport's smaller dimension
		<tr><td>''vmax''
		    <td>1% of viewport's larger dimension
	</tbody>
	</table>

	<p>Child elements do not inherit the relative values as specified for
	their parent; they inherit the <!--FIXME: href--><a>computed values</a>.

<h4 id="font-relative-lengths">
Font-relative lengths: the ''em'', ''ex'', ''ch'', ''rem'' units</h4>

	<p>Aside from ''rem'' (which refers to the font-size of the root element),
	the font-relative lengths refer to the font metrics of the
	element on which they are used.
	The exception is when they occur in the value of the 'font-size' property
	itself, in which case they refer to the computed font metrics of the parent element
	(or the computed font metrics corresponding to the initial values of the 'font'
	property, if the element has no parent).

	<dl>
		<dt><dfn title="em">em unit</dfn>
		<dd><p>Equal to the computed value of the 'font-size' property of
		the element on which it is used.

		<div class="example">
			<p>The rule:</p>
			<pre>h1 { line-height: 1.2em }</pre>
			<p>means that the line height of <code>h1</code> elements will be
			20% greater than the font size of <code>h1</code> element. On the
			other hand:
			<pre>h1 { font-size: 1.2em }</pre>
			<p>means that the font size of <code>h1</code> elements will be 20%
			greater than the computed font size inherited by <code>h1</code> elements.</p>
		</div>

		<dt><dfn title="ex">ex unit</dfn>
		<dd><p>Equal to the used x-height of the <a href="http://www.w3.org/TR/css3-fonts/#first-available-font">first available font</a>. [[!CSS3-FONTS]]
		The x-height is so called because it is often equal to the height of the lowercase "x".
		However, an ''ex'' is defined even for fonts that do not contain an "x".
		<p>The x-height of a font can be found in different ways. Some fonts
		contain reliable metrics for the x-height. If reliable font metrics
		are not available, UAs may determine the x-height from the height
		of a lowercase glyph. One possible heuristic is to look at how far
		the glyph for the lowercase "o" extends below the baseline, and
		subtract that value from the top of its bounding box. In the cases
		where it is impossible or impractical to determine the x-height,
		a value of 0.5em must be assumed.

		<dt><dfn title="ch">ch unit</dfn>
		<dd><p>Equal to the used advance measure of the "0" (ZERO, U+0030) glyph
		found in the font used to render it.

		<dt><dfn title="rem">rem unit</dfn>
		<dd><p>Equal to the computed value of 'font-size' on the root element.
		<p>When specified on the 'font-size' property of the root element, the
		''rem'' units refer to the property's <em>initial value</em>.</p>
	</dl>

<h4 id="viewport-relative-lengths">
Viewport-percentage lengths: the ''vw'', ''vh'', ''vmin'', ''vmax'' units</h4>

	<p>
		The viewport-percentage lengths are relative to the size of the
		<a href="http://www.w3.org/TR/CSS21/visudet.html#containing-block-details">initial containing block</a>.
		When the height or width of the initial containing block is changed,
		they are scaled accordingly.
		However, when the value of 'overflow' on the root element is ''auto'',
		any scroll bars are assumed not to exist.
		<span class='note'>Note that the initial containing block's size is affected by the presence of scrollbars on the viewport.</span>

	<p>
		For paged media, the exact definition of the viewport-percentage lengths
		is deferred to [[!CSS3PAGE]].

	<dl>
		<dt><dfn title="vw">vw unit</dfn>
		<dd>Equal to 1% of the width of the initial containing block.
		<div class="example">
			<p>In the example below, if the width of the viewport is 200mm,
			the font size of <code>h1</code> elements will be
			16mm (i.e. (8&times;200mm)/100).
			<pre>h1 { font-size: 8vw }</pre>
		</div>

		<dt><dfn title="vh">vh unit</dfn>
		<dd>Equal to 1% of the height of the initial containing block.

		<dt><dfn title="vmin">vmin unit</dfn>
		<dd>Equal to the smaller of ''vw'' or ''vh''.

		<dt><dfn title="vmax">vmax unit</dfn>
		<dd>Equal to the larger of ''vw'' or ''vh''.
	</dl>

<h3 id="absolute-lengths">
Absolute lengths: the ''cm'', ''mm'', ''in'', ''pt'', ''pc'', ''px'' units</h3>


	<p>The <dfn>absolute length units</dfn> are fixed in relation to
	each other and anchored to some physical measurement.
	They are mainly useful when the output environment is known.
	The absolute units consist of the physical units (in, cm, mm, pt, pc)
	and the px unit:

	<table class="data">
	<thead>
		<tr><th>unit<th>definition
	</thead>
	<tbody>
		<tr><td>''cm''
		    <td>centimeters
		<tr><td>''mm''
		    <td>millimeters
		<tr><td>''in''
		    <td>inches; 1in is equal to 2.54cm
		<tr><td>''px''
		    <td>pixels; 1px is equal to 1/96th of 1in
		<tr><td>''pt''
		    <td>points; 1pt is equal to 1/72nd of 1in
		<tr><td>''pc''
		    <td>picas; 1pc is equal to 12pt
	</tbody>
	</table>

<pre class="example">
h1 { margin: 0.5in }      /* inches  */
h2 { line-height: 3cm }   /* centimeters */
h3 { word-spacing: 4mm }  /* millimeters */
h4 { font-size: 12pt }    /* points */
h4 { font-size: 1pc }     /* picas */
p  { font-size: 12px }    /* px */</pre>


	<p>For a CSS device, these dimensions are either anchored (i) by
	relating the physical units to their physical measurements, or
	(ii) by relating the pixel unit to the <i>reference pixel</i>.
	For print media and similar high-resolution devices, the anchor unit
	should be one of the standard physical units (inches, centimeters, etc).
	For lower-resolution devices, and devices with unusual viewing distances,
	it is recommended instead that the anchor unit be the pixel unit. For
	such devices it is recommended that the pixel unit refer to the whole
	number of device pixels that best approximates the reference pixel.

	<p class="note">Note that if the anchor unit is the pixel unit,
	the physical units might not match their physical measurements.
	Alternatively if the anchor unit is a physical unit, the pixel
	unit might not map to a whole number of device pixels.</p>

	<p class="note">Note that this definition of the pixel unit and
	the physical units differs from previous versions of CSS. In
	particular, in previous versions of CSS the pixel unit and the
	physical units were not related by a fixed ratio: the physical
	units were always tied to their physical measurements while the
	pixel unit would vary to most closely match the reference pixel.
	(This change was made because too much existing content relies
	on the assumption of 96dpi, and breaking that assumption breaks
	the content.)

	<p>The <dfn>reference pixel</dfn> is the
	visual angle of one pixel on a device with a pixel density of 96dpi
	and a distance from the reader of an arm's length. For a nominal arm's
	length of 28 inches, the visual angle is therefore about 0.0213
	degrees. For reading at arm's length, 1px thus corresponds to about
	0.26&nbsp;mm (1/96&nbsp;inch).

	<p>The image below illustrates the effect of viewing distance on
	the size of a reference pixel: a reading distance of 71&nbsp;cm
	(28&nbsp;inches) results in a reference pixel of 0.26&nbsp;mm,
	while a reading distance of 3.5&nbsp;m (12&nbsp;feet) results in
	a reference pixel of 1.3&nbsp;mm.

	<div class="figure">
		<p><img src="pixel1.png"
		        alt="This diagram illustrates how the definition of a pixel
		             depends on the users distance from the viewing surface
		             (paper or screen).
		             The image depicts the user looking at two planes, one
		             28 inches (71 cm) from the user, the second 140 inches
		             (3.5 m) from the user. An expanding cone is projected
		             from the user's eye onto each plane. Where the cone
		             strikes the first plane, the projected pixel is 0.26 mm
		             high. Where the cone strikes the second plane, the
		             projected pixel is 1.4 mm high.">
		<p class="caption">Showing that pixels must become larger if the
		viewing distance increases
	</div>

	<p>This second image illustrates the effect of a device's resolution
	on the pixel unit: an area of 1px by 1px is covered by a single dot
	in a low-resolution device (e.g. a typical computer display), while
	the same area is covered by 16 dots in a higher resolution device
	(such as a printer).

	<div class="figure">
		<p><img src="pixel2.png"
		        alt='This diagram illustrates the relationship between the
		             reference pixel and device pixels (called "dots" below).
		             The image depicts a high resolution (large dot density)
		             laser printer output on the left and a low resolution
		             monitor screen on the right. For the laser printer, one
		             square reference pixel is implemented by 16 dots. For
		             the monitor screen, one square reference pixel is
		             implemented by a single dot.'>
		<p class="caption">Showing that more device pixels (dots) are needed to
		cover a 1px by 1px area on a high-resolution device than on a low-res one
	</div>

<h2 id="other-units">
Other Units</h2>

<h3 id="angles">
Angles: the ''&lt;angle>'' type and ''deg'', ''grad'', ''rad'', ''turn'' units</h3>

	<p>Angle values are <i>dimensions</i> denoted by
	<dfn id="angle-value">&lt;angle></dfn>.
	The angle unit identifiers are:
	<dl>
		<dt><dfn title="deg">deg</dfn>
		<dd>Degrees. There are 360 degrees in a full circle.
		<dt><dfn title="grad">grad</dfn>
		<dd>Gradians, also known as "gons" or "grades". There are 400 gradians
		in a full circle.
		<dt><dfn title="rad">rad</dfn>
		<dd>Radians. There are 2&pi; radians in a full circle.
		<dt><dfn title="turn">turn</dfn>
		<dd>Turns. There is 1 turn in a full circle.
	</dl>

	<p>For example, a right angle is '90deg' or '100grad' or '0.25turn' or
	approximately '1.570796326794897rad'.</p>

<h3 id="time">
Times: the ''&lt;time>'' type and ''s'', ''ms'' units</h3>

	<p>Time values are <i>dimensions</i> denoted by
	<dfn id="time-value">&lt;time></dfn>.
	The time unit identifiers are:

	<dl>
		<dt><dfn title="s">s</dfn>
		<dd>Seconds.
		<dt><dfn title="ms">ms</dfn>
		<dd>Milliseconds. There are 1000 milliseconds in a second.
	</dl>

	<p>Properties may restrict the time value to some range.
	If the value is outside the allowed range, the declaration is invalid
	and must be <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

<h3 id="frequency">
Frequencies: the ''&lt;frequency>'' type and ''Hz'', ''kHz'' units</h3>

	<p>Frequency values are <i>dimensions</i> denoted by
	<dfn id="frequency-value">&lt;frequency></dfn>.
	The frequency unit identifiers are:</p>

	<dl>
	  <dt><dfn title="Hz">Hz</dfn>
	  <dd>Hertz. It represents the number of occurrences per second.
	  <dt><dfn title="kHz">kHz</dfn>
	  <dd>KiloHertz. A kiloHertz is 1000 Hertz.
	</dl>

	<p>For example, when representing sound pitches, 200Hz (or 200hz)
	is a bass sound, and 6kHz (or 6khz) is a treble sound.</p>

<h3 id="resolution">
Resolutions: the <var>&lt;resolution></var> type and ''dpi'', ''dpcm'', ''dppx'' units</h3>

	<p>Resolution units are <i>dimensions</i> denoted by <dfn id="resolution-value">&lt;resolution></dfn>.  The resolution unit identifiers are:</p>

	<dl>
		<dt><dfn>dpi</dfn></dt>
		<dd>dots per inch</dd>

		<dt><dfn>dpcm</dfn></dt>
		<dd>dots per centimeter</dd>

		<dt><dfn>dppx</dfn></dt>
		<dd>dots per ''px'' unit</dd>
	</dl>

	<p>The <var>&lt;resolution></var> unit represents the size of a single "dot" in a
	graphical representation by indicating how many of these dots fit in a
	CSS 'in', 'cm', or 'px'.
	For uses, see e.g. the  ''resolution'' media query in [[MEDIAQ]]
	or the 'image-resolution' property defined in [[CSS3-IMAGES]].

	<p class="note">Note that due to the 1:96 fixed ratio of CSS ''in'' to
	CSS ''px'', ''1dppx'' is equivalent to ''96dpi''. This corresponds to
	the default resolution of images displayed in CSS: see 'image-resolution'.

	<div class="example">
		<p>The following @media rule uses Media Queries [[MEDIAQ]] to assign
		some special style rules to devices that use two or more device pixels
		per CSS ''px'' unit:
		<pre>@media (min-resolution: 2dppx) { ... }</pre>
	</div>


<h2 id="defined-elsewhere">
Data Types Defined Elsewhere</h2>

<p>Some data types are defined in their own modules. The two common
ones are <var>&lt;color></var> and <var>&lt;image></var>.

<h3 id="colors">
Colors: the ''&lt;color>'' type</h3>

	<p>The <dfn id="color-value"><var>&lt;color></var></dfn> data type is
	<a href="http://www.w3.org/TR/CSS21/syndata.html#color-units">defined</a>
	in [[!CSS21]] and
	<a href="http://www.w3.org/TR/css3-color/#colorunits">extended</a> in [[!CSS3COLOR]].
	UAs that support CSS Color Level 3 or its successor must interpret <var>&lt;color></var>
	as defined therein.

<h3 id="images">
Images: the ''&lt;image>'' type</h3>

	<p>The <dfn id="image-value"><var>&lt;image></var></dfn> data type is
	defined herein as equivalent to <var>&lt;url></var>.
	It is <a href="http://www.w3.org/TR/css3-images/#image-values">extended</a> in
	[[!CSS3-IMAGES]]: UAs that support CSS Image Values Level 3 or its successor must interpret
	<var>&lt;image></var> as defined therein.

<h3 id="position">
2D Positioning: the ''&lt;position>'' type</h3>

	<p>The <dfn id="position-value"><var>&lt;position></var></dfn> data type is
	defined herein as equivalent to the <a href="http://www.w3.org/TR/CSS21/colors.html#propdef-background-position"><var>&lt;'background-position'></var></a> syntax defined in [[!CSS21]].  It specifies the position of a object area (e.g. background image) inside a positioning area (e.g. background positioning area).
	It is <a href="http://www.w3.org/TR/css3-background/#the-background-position">extended</a> in
	[[!CSS3BG]]: UAs that support CSS Backgrounds &amp; Borders Level 3 or its successor must interpret
	<var>&lt;position></var> as defined therein.

<h2 id="functional-notation">
Functional Notations</h2>

	<p>
		A <dfn>functional notation</dfn> is a type of component value
		that can represent more complex types or invoke special processing.
		The syntax starts with the name of the function
		immediately followed by a left parenthesis
		(i.e. a <code>FUNCTION</code> token)
		followed by the argument(s) to the notation
		followed by a right parenthesis.
		White space is allowed, but optional, immediately inside the parentheses.
		If a function takes a list of arguments,
		the arguments are separated by a comma (',')
		with optional whitespace before and after the comma.

	<pre class="example">
<!-- -->background: url(http://www.example.org/image);
<!-- -->color: rgb(100, 200, 50 );
<!-- -->content: counter(list-item) ". ";
<!-- -->width: calc(50% - 2em);</pre>

<h3 id="calc-notation">
Mathematical Expressions: ''calc()''</h3>

	<p>The <dfn>calc()</dfn> function
	allows mathematical expressions with addition (''+''), subtraction (''-''),
	multiplication (''*''), and division (''/'') to be used
	as component values.  The ''calc()'' expression represents the result of the
	mathematical calculation it contains, using standard operator precedence
	rules. It can be used wherever
	<var>&lt;length></var>,
	<var>&lt;frequency></var>,
	<var>&lt;angle></var>,
	<var>&lt;time></var>,
	<var>&lt;number></var>, or
	<var>&lt;integer></var>
	values are allowed.
	Components of a ''calc()'' expression can be literal values,
	''attr()'' or ''calc()'' expressions, or <var>&lt;percentage></var> values
	that resolve to one of the preceding types.

	<div class="example">
		<pre>
section {
  float: left;
  margin: 1em; border: solid 1px;
  width: calc(100%/3 - 2*1em - 2*1px);
}</pre>
	</div>

	<div class="example">
		<pre>
p {
  margin: calc(1rem - 2px) calc(1rem - 1px);
}</pre>
	</div>

	<div class="example">
		<p>The following sets the 'font-size' so that exactly 40em fits within the viewport, ensuring that roughly the same amount of text always fills the screen no matter the screen size.</p>

		<pre>
:root {
	font-size: calc(100vw / 40);
}</pre>

		<p>If the rest of the design is specified using the ''rem'' unit, the entire layout will scale to match the viewport width.</p>
	</div>

	<div class='example'>
		<p>
			The following example stacks two centered background images,
			with one offset slightly from the other.

		<pre>
.foo {
	background: url(top.png), url(bottom.png);
	background-repeat: no-repeat;
	background-position: calc(50% + 20px) calc(50% + 20px), 50% 50%;
}
</pre>
	</div>

	<div class='example'>
		<p>
			This example shows how to place color-stops on a gradient an equal distance from either end.

		<pre>
.foo {
	background-image: linear-gradient(to right, silver,
	                                            white 50px,
	                                            white calc(100% - 50px),
	                                            silver);
}
</pre>
	</div>


<h4 id='calc-syntax'>
Syntax</h4>

	<p>The expression language of these functions is described by
	the grammar and prose below.

	<pre>
math    : calc S*;
calc    : "calc(" S* sum S* ")";
sum     : product [ S+ [ "+" | "-" ] S+ product ]*;
product : unit [ S* [ "*" S* unit | "/" S* NUMBER ] ]*;
attr    : "attr(" S* qname [ S+ type-keyword ]? S* [ "," [ unit | calc ] S* ]? ")";
unit    : [ NUMBER | DIMENSION | PERCENTAGE | "(" S* sum S* ")" | calc | attr ];</pre>

	<p class='note'>Note that the grammar requires spaces around binary ''+''
	and ''-'' operators.  The ''*'' and ''/'' operators do not require
	spaces.</p>

	<p>Additionally, the following redefinition is made to the informative
	grammar appearing in
	<a href="http://www.w3.org/TR/CSS2/grammar.html">CSS 2.1 Appendix G</a>:</p>

	<pre>
term
  : unary_operator?
    [ NUMBER S* | PERCENTAGE S* | LENGTH S* | EMS S* | EXS S* | ANGLE S* |
      TIME S* | FREQ S* ]
  | STRING S* | IDENT S* | URI S* | hexcolor | function<ins> | math</ins>
  ;</pre>

	<p>
		UAs must support ''calc()'' expressions of at least 20 terms,
		where each <code>NUMBER</code>, <code>DIMENSION</code>, or <code>PERCENTAGE</code> is a term.
		If a ''calc()'' expression contains more than the supported number of terms,
		it must be treated as if it were invalid.


<h4 id='calc-type-checking'>
Type Checking</h4>

	<p>
		A math expression has a <dfn>resolved type</dfn>, which is one of
		<var>&lt;length></var>,
		<var>&lt;frequency></var>,
		<var>&lt;angle></var>,
		<var>&lt;time></var>,
		<var>&lt;number></var>, or
		<var>&lt;integer></var>.
		The <i>resolved type</i> must be valid for where the expression is placed;
		otherwise, the expression is invalid.
		The <i>resolved type</i> of the expression is determined by the types of the values it contains.
		<code>NUMBER</code> tokens are of type <var>&lt;number></var> or <var>&lt;integer></var>.
		A <code>DIMENSION</code> token's type is given by its unit
		(''cm'' is <var>&lt;length></var>, ''deg'' is <var>&lt;angle></var>, etc.).
		An ''attr()'' expression's type is given by its <var>&lt;type-or-unit></var> argument.
		If percentages are accepted in the context in which the expression is placed,
		a <code>PERCENTAGE</code> token has the type of the value that percentages are relative to;
		otherwise,
		a math expression containing percentages is invalid.</p>

	<p>Operators form sub-expressions, which gain types based on their arguments.
	To make expressions simpler, operators have restrictions on the
	types they accept. At each operator, the types of the left and right
	argument are checked for these restrictions. If compatible, the type resolves
	as described below (the following ignores precedence rules on
	the operators for simplicity):

	<ul>
		<li>
			At '','', ''+'', or ''-'',
			check that both sides have the same type,
			or that one side is a <var>&lt;number></var> and the other is an <var>&lt;integer></var>.
			If both sides are the same type,
			resolve to that type.
			If one side is a <var>&lt;number></var> and the other is an <var>&lt;integer></var>,
			resolve to <var>&lt;number></var>.

		<li>
			At ''*'',
			check that at least one side is <var>&lt;number></var>.
			If both sides are <var>&lt;integer></var>,
			resolve to <var>&lt;integer></var>.
			Otherwise,
			resolve to the type of the other side.

		<li>
			At ''/'',
			check that the right side is <var>&lt;number></var>.
			If the left side is <var>&lt;integer></var>,
			resolve to <var>&lt;number></var>.
			Otherwise,
			resolve to the type of the left side.
	</ul>

	<p>If an operator does not pass the above checks, the expression is invalid.
	Also, division by zero is invalid.  This includes both dividing by the
	literal number zero, as well as any numeric expression that evaluates to zero
	(as purely-numeric expressions can be evaluated without any additional
	information at parse time).</p>

	<p class='note'>
		Note that algebraic simplifications do not affect the validity of the ''calc()'' expression or its resolved type.
		For example, ''calc(5px - 5px + 10s)'' or ''calc(0 * 5px + 10s)'' are both invalid
		due to the attempt to add a length and a time.

<h4 id='calc-computed-value'>
Computed Value</h4>

	<p>
		The computed value of a ''calc()'' expression is the expression
		with all components computed,
		with all multiplication/division subexpressions resolved,
		and with all addition/subtraction subexpressions resolved where both sides are the same type.

	<p>
		Where percentages are not resolved at computed value,
		they are not resolved in ''calc()'' expressions,
		e.g. ''calc(100% - 100% + 1em)'' resolves to ''calc(0% + 1em)'',
		not to ''calc(1em)''.
		If there are special rules for computing percentages in a value
		(e.g. <a href="http://www.w3.org/TR/CSS21/visudet.html#the-height-property">the 'height' property</a>),
		they apply whenever a ''calc()'' expression contains percentages.

	<p class='note'>
		Thus, the computed value of a ''calc()'' expression can be represented
		as either a number
		or a tuple of a dimension and a percentage.

	<!-- http://lists.w3.org/Archives/Public/www-style/2010May/0001.html
	This has notes on how we should handle things when calc() is extended to
	handle unit mult/div. Related to this is <unit>mod<unit>, which can return
	0 and thus introduce computed-time division-by-zero. -->

	<p>
		Given the complexities of width and height calculations on table cells and table elements,
		math expressions involving percentages for widths and heights on
		table columns, table column groups, table rows, table row groups, and table cells
		in both auto and fixed layout tables
		MAY be treated as if ''auto'' had been specified.


<h4 id='calc-range'>
Range Checking</h4>

	<p>The value resulting from an expression must be clamped to the
	range allowed in the target context.

	<p class="note">Note this requires all contexts accepting ''calc()''
	to define their allowable values as a closed (not open) interval.

	<div class=example>
		<p>These two are equivalent to 'width: 0px' since widths
		smaller than 0px are not allowed.

		<pre>
width: calc(5px - 10px);
width: 0px;</pre>
	</div>

<h3 id="toggle-notation">
Toggling Between Values: ''toggle()''</h3>

	<p>The <dfn>toggle()</dfn> expression allows descendant elements
	to cycle over a list of values instead of inheriting the same value.

	<div class='example'>
		<p>The following example makes <code>&lt;em></code> elements italic in general,
		but makes them normal if they're inside something that's italic:
		<pre>em { font-style: toggle(italic, normal); }</pre>
	</div>


	<p>The syntax of the ''toggle()'' expression is:

	<pre>toggle( &lt;value><a href="#component-multipliers">#</a> )</pre>

	<p>
		where <var>&lt;value></var> is any CSS value
		that is valid where the expression is placed,
		and that doesn't contain any top-level commas.
		If any of the values inside are not valid,
		then the entire ''toggle()'' expression is invalid.
		The ''toggle()'' expression may be used as the value of any property
		(but must be the only component in that property's value).

	<p class='note'>
		Note that because toggled values are separated by commas,
		they cannot themselves include top-level commas.

	<p>
		The ''toggle()'' notation is not allowed to be nested; nor may it
		contain ''attr()'' or ''calc()'' notations.
		Declarations containing such constructs are invalid.</p>

	<p>
		The value represented by ''toggle()'' is determined
		by comparing the inherited value <var>I</var>
		(i.e. the <a href="http://www.w3.org/TR/CSS21/cascade.html#computed-value">computed value</a> on the parent,
		or, for the root, the initial value)
		to the computed values <var>C<sub>n</sub></var> returned by the <var>n</var>-th argument to ''toggle()''.
		For the earliest <var>C<sub>n</sub></var>
		such that <var>C<sub>n</sub></var> = <var>I</var>,
		the value returned by toggle is <var>C<sub>n+1</sub></var>.
		However, if this <var>C<sub>n</sub></var> is the last value,
		or if there are no <var>C<sub>n</sub></var> that equal <var>I</var>,
		the computed value of the first value is returned instead.

	<div class='example'>
		<p>The following example cycles markers for nested lists,
		so that a top level list has <code>disc</code>-shaped markers,
		but nested lists use <code>circle</code>, then <code>square</code>, then <code>box</code>,
		and then repeat through the list of marker shapes,
		starting again (for the 5th list deep) with <code>disc</code>.
		<pre>
  ul { list-style-type: disc; }
  ul ul { list-style-type: toggle(disc, circle, square, box); }</pre>
		</div>

	<p class='note'>
		Note that ''toggle()'' explicitly looks at the computed value of the parent,
		so it works even on non-inherited properties.
		This is similar to the ''inherit'' keyword,
		which is works even on non-inherited properties.

	<p class='note'>
		Note that the <a href="http://www.w3.org/TR/CSS21/cascade.html#computed-value">computed value</a> of a property is an abstract set of values,
		not a particular serialization [[!CSS21]],
		so comparison between computed values should always be unambiguous and have the expected result.
		For example,
		a Level 2 <a href="http://www.w3.org/TR/CSS21/colors.html#propdef-background-position">'background-position'</a> computed value
		is just two offsets, each represented as an absolute length or a percentage,
		so the declarations ''background-position: top center'' and ''background-position: 50% 0%''
		produce identical computed values.
		If the "Computed Value" line of a property definition seems to define something ambiguous or overly strict,
		please <a href="#status">provide feedback</a> so we can fix it.

<h3 id="attr-notation">
Attribute References: ''attr()''</h3>

<!--
Ian's proposal:
  http://lists.w3.org/Archives/Member/w3c-css-wg/2002OctDec/0141.html
-->

	<p>
		The <dfn>attr()</dfn> function is allowed as a component value in properties applied to an element or pseudo-element.
		It returns the value of an attribute on the element.
		If used on a pseudo-element, it returns the value of the attribute on the pseudo-element's originating element.

	<p>
		The computed value of the ''attr()'' expression is the value of the attribute with the specified name on the element, according to the rules given below.

	<p class='note'>In CSS2.1 [[!CSS21]], the ''attr()'' expression always returns a string.
	In CSS3, the ''attr()'' expression can return many different types. The
	''attr()'' expression cannot return everything, for example it cannot
	do counters, named strings, quotes, or keyword values such as ''auto'',
	''nowrap'', or ''baseline''. This is intentional, as the intent of the
	''attr()'' expression is not to make it possible to describe a
	presentational language's formatting using CSS, but to enable CSS
	to take semantic data into account.</p>

	<p>The new syntax for the ''attr()'' expression is:</p>

	<pre>attr( &lt;attr-name> &lt;type-or-unit>? [ , &lt;fallback> ]? )</pre>

	<p>
		where &lt;attr-name> is a <a href="http://dev.w3.org/csswg/css3-namespace/#css-qnames">CSS qualified name</a>
		(the qname production in [[!CSS3NAMESPACE]])
		that represents an attribute name.
		(In the absence of namespacing, this will just be a CSS identifier.)

	<p>
		The optional <var>&lt;type-or-unit></var> argument is a keyword drawn from the list below that tells the UA how to interpret the attribute value,
		and defines a type for the attr() expression.
		If omitted, ''string'' is implied.

	<p>
		The optional <var>&lt;fallback></var> argument represents a fallback value,
		which is used if the named attribute is missing,
		or its value cannot be parsed into the given type or is invalid/out-of-range for the property.
		If it's absent,
		the default value for the given <var>&lt;type-or-unit></var> (from the list below) is implied.
	<p class="note">
		Note that, unlike ''toggle()'' <var>&lt;value></var>s,
		an ''attr()'' <var>&lt;fallback></var> value may contain top-level commas,
		as it is always the last argument in the functional notation.

	<p>
		The attr() expression is only valid if:

	<ul>
		<li>
			the attr() expression's type is valid where the attr() expression is placed,

		<li>
			if the attribute name is given with a namespace prefix, the prefix is defined

		<li>
			the <var>&lt;fallback></var> is valid where the attr() expression is placed,

		<li>
			the <var>&lt;fallback></var> does not contain another attr() expression,

		<li>
			and, if the attr() expression is not the sole component value of a property,
			the <var>&lt;fallback></var> matches the attr()&#39;s type
	</ul>

	<div class='note'>
		<p>
			Note that the default value need not be of the type given,
			if the attr() expression is the entire property value.
			For instance, if the type required of the attribute by the author is ''px'',
			the default could still be ''auto'',
			like in ''width: attr(size px, auto);''.

		<p>
			If the attr() is used alongside other values to form the full property value,
			however, the default value must match the attr()&#39;s type.
			For example, ''box-shadow: attr(size px, inset) 5px 10px blue;'' is invalid,
			even though it would create a valid declaration if you substituted the attr() expression
			with either a ''px'' length <em>or</em> the ''inset'' keyword.
	</div>

	<p>
		If the specified attribute exists on the element,
		the value of the attribute must be parsed as required by the <var>&lt;type-or-unit></var> argument
		(as defined in the list below).
		Unless the type is ''string'', it must first be stripped of leading and trailing white space.
		The resulting value is the attr() expression's value.
		If the value did not parse as required,
		the attr() expression's value is its fallback value.

	<p>The <var>&lt;type-or-unit></var> keywords are:</p>

	<dl>
		<dt>''string''
		<dd>
			The attribute value is taken as the contents of a CSS <var>&lt;string></var>.
			The default is the empty string.
			<p class='note'>
				Note, this does not reparse the attribute value with the CSS parser.
				So, for example, an attribute whose value is "\33" will produce a string containing those three characters,
				not a string containing "3" (the character that the escape would evaluate to).

		<dt>''color''
		<dd>
			The attribute value must parse as a HASH or IDENT CSS token,
			and be successfully interpreted as a <var>&lt;color></var>.
			The default is ''currentColor''.

		<dt>''url''
		<dd>
			The attribute value is taken as the contents of a CSS <var>&lt;string></var>.
			It is interpreted as a quoted string within the ''url()'' notation.
			The default is ''about:invalid'', which is a URI defined (<a href="#about-invalid">in Appendix A</a>) to point
			to a non-existent document with a generic error condition.
			Relative URLs must be made absolute
			according to the rules of the document language as applied to URLs originating from the element;
			they are not relative to the style sheet.

		<dt>''integer''
		<dd>
			The attribute value must parse as a NUMBER CSS token,
			and be successfully interpreted as an <var>&lt;integer></var>.
			The default is ''0'',
			or else the property's minimum value if ''0'' is not valid for the property.
			The default must also be used
			if the property in question only accepts integers within a certain range
			and the attribute is out of range.

		<dt>''number''
		<dd>
			The attribute value must parse as a NUMBER CSS token,
			and is interpreted as an <var>&lt;number></var>.
			The default is ''0'',
			or else the property's minimum value if ''0'' is not valid for the property.
			The default must also be used
			if the property in question only accepts integers within a certain range
			and the attribute is out of range.

		<dt>''length''
		<dt>''angle''
		<dt>''time''
		<dt>''frequency''
		<dd>
			The attribute value must parse as a DIMENSION CSS token,
			and be successfully interpreted as the specified type.
			The default is ''0'' in the relevant units,
			or else the property's minimum value if ''0'' in the relevant units is not valid for the property.
			The default must also be used
			if the property in question only accepts values within a certain range
			(e.g. positive lengths or angles from 0 to 90deg)
			and the attribute is out of range (e.g. a negative length or 180deg).
			If the unit is a relative length, it must be computed to an absolute length.

		<dt>''em''
		<dt>''ex''
		<dt>''px''
		<dt>''rem''
		<dt>''vw''
		<dt>''vh''
		<dt>''vmin''
		<dt>''vmax''
		<dt>''mm''
		<dt>''cm''
		<dt>''in''
		<dt>''pt''
		<dt>''pc''
		<dt>''deg''
		<dt>''grad''
		<dt>''rad''
		<dt>''ms''
		<dt>''s''
		<dt>''Hz''
		<dt>''kHz''
		<dt>''%''
		<dd>
			The attribute value must parse as a NUMBER CSS token,
			and is interpreted as a <i>dimension</i> with the specified unit.
			The default is ''0'' in the relevant units,
			or else the property's minimum value if ''0'' in the relevant units is not valid for the property.
			The default must also be used
			if the property in question only accepts values within a certain range
			(e.g. positive lengths or angles from 0 to 90deg)
			and the attribute is out of range (e.g. a negative length or 180deg).
			If the unit is a relative length,
			it must be computed to an absolute length.
	</dl>

	<div class="example">
		<p>This example shows the use of attr() to visually illustrate data
		in an XML file:</p>

		<pre>
&lt;stock>
	&lt;wood length="12"/>
	&lt;wood length="5"/>
	&lt;metal length="19"/>
	&lt;wood length="4"/>
&lt;/stock>

stock::before {
	display: block;
	content: "To scale, the lengths of materials in stock are:";
}
stock > * {
	display: block;
	width: attr(length em); /* default 0 */
	height: 1em;
	border: solid thin;
	margin: 0.5em;
}
wood {
	background: orange url(wood.png);
}
metal {
	background: silver url(metal.png);
}</pre>
	</div>
<!--
/* this also uses a possible extension to the 'content' property
to handle replaced content and alternatives to unavailable,
corrupted or unsupported content */
img {
	content: replaced attr(src url), attr(alt string, none);
	height: attr(height px, auto);
	width: attr(width px, auto);
}-->

	<div class="illegal example">
		<p>All of the following examples are invalid and would cause a
		parse-time error, and thus cause the relevant declaration&mdash;in
		this case all of them&mdash;to be ignored:</p>

		<pre>
content: attr(title color); /* 'content' doesn't accept colors */

content: attr(end-of-quote string, inherit) close-quote;
/* the 'inherit' value is not allowed there, since the result would be
'inherit close-quote', which is invalid. */

margin: attr(vertical length) attr(horizontal deg);
/* deg units are not valid at that point */

color: attr(color); /* 'color' doesn't accept strings */</pre>
	</div>

	<p class='note'>The ''attr()'' expression cannot currently fall back onto
	another attribute. Future versions of CSS may extend ''attr()'' in this
	direction.</p>

<!--
<h2 id="limits">
Appendix A: Recommended Minimum Ranges and Precision of Computed Values</h2>

	<p>
		For unrestricted values, the recommended minimum range and precision
		of computed values
		is given in the table below.

	<table class="data">
		<thead>
			<tr><th>Type
			    <th>Recommended Minimum Precision
			    <th>Recommended Minimum Maximum (Absolute Value)
		</thead>
		<tbody>
			<tr><th><var>&lt;integer></var>
			    <td>1
			    <td>2<sup>23</sup>&minus;1
			<tr><th><var>&lt;number></var>
			    <td>0.01
			        <small>(within the range -100 &lt; <var>x</var> &lt; 100)</small>
			    <td>2<sup>17</sup>&minus;1
			<tr><th><var>&lt;percentage></var>
			    <td>0.01%
			        <small>(within the range -100 &lt; <var>x</var> &lt; 100)</small>
			    <td>(2<sup>17</sup>&minus;1)%
			<tr><th><var>&lt;length></var>
			    <td>0.1px
			    <td>(2<sup>23</sup>&minus;1)px
			<tr><th><var>&lt;angle></var>
			    <td>0.1deg
			    <td>(2<sup>23</sup>&minus;1)deg
			<tr><th><var>&lt;time></var>
			    <td>1ms
			    <td>(2<sup>23</sup>&minus;1)ms
			<tr><th><var>&lt;frequency></var>
			    <td>0.01Hz
			    <td>(2<sup>17</sup>&minus;1)Hz
			</tbody>
		</table>

	<p>
		Values outside the supported range must be clamped into the supported range.
		Values specified with an unsupported amount of precision must be rounded
		to the closest supported value when parsed;
		except that values that are not equal to, but would round to,
		either zero or the boundary of a closed range,
		should be rounded away from that value rather than to it.

	<div class="example">
		<p>
		For example, in a UA that only supports a precision of 0.01,
		an 'opacity' value of ''0.9999'' would round to ''0.99'', not ''1.0'',
		and would therefore cause the element to create a stacking context.
		Similarly, a ''flex-grow'' value of ''0.001'' would round to ''0.01'',
		not ''0'', and would therefore be flexible.
	</div>

	<p>
		When arithmetic is performed with numeric types
		(for example, in the ''calc()'' expression),
		if the result is unsupported
		it must also be clamped/rounded as necessary.
	<span class="note">
		Note this means that rounding errors <em>may</em> accumulate.
-->


<h2 id='iana'>
Appendix A: IANA Considerations</h2>

<h3 id='about-invalid'>
Registration for the <code>about:invalid</code> URL scheme</h3>

	<p>
		This sections defines and registers the <code>about:invalid</code> URI,
		in accordance with the registration procedure defined in <a href="http://tools.ietf.org/html/draft-ietf-appsawg-about-uri-scheme-07">the about: uri scheme RFC draft</a>.

	<p>
		The official record of this registration can be found at <a href="http://www.iana.org/assignments/about-uri-tokens/about-uri-tokens.xml">http://www.iana.org/assignments/about-uri-tokens/about-uri-tokens.xml</a>.

	<table class="data define">
		<tr>
			<th>Registered Token
			<td><code>invalid</code>
		<tr>
			<th>Intended Usage
			<td>
				<p>The <code>about:invalid</code> URI references a non-existent document with a generic error condition.
				It can be used when a URI is necessary, but the default value shouldn't be resolveable as any type of document.
		<tr>
			<th>Contact/Change controller
			<td>CSS WG &lt;<a href="mailto:www-style@w3.org">www-style@w3.org</a>> (on behalf of W3C)
		<tr>
			<th>Specification
			<td><a href="http://www.w3.org/TR/css3-values/">CSS Values and Units Module Level 3</a>
	</table>


<h2 class="no-num" id="acknowledgments">Acknowledgments</h2>

<p>Comments and suggestions from Giovanni Campagna, Christoph P&auml;per, Keith Rarick, Alex Mogilevsky, Ian Hickson, David Baron, Edward Welbourne, Boris Zbarsky, Bj&ouml;rn H&ouml;hrmann and Michael Day improved this module.

<h2 class="no-num" id="conformance">
Conformance</h2>

<h3 class="no-num" id="conventions">
Document conventions</h3>

  <p>Conformance requirements are expressed with a combination of
  descriptive assertions and RFC 2119 terminology. The key words “MUST”,
  “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
  “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
  document are to be interpreted as described in RFC 2119.
  However, for readability, these words do not appear in all uppercase
  letters in this specification.

  <p>All of the text of this specification is normative except sections
  explicitly marked as non-normative, examples, and notes. [[!RFC2119]]</p>

  <p>Examples in this specification are introduced with the words “for example”
  or are set apart from the normative text with <code>class="example"</code>,
  like this:

  <div class="example">
    <p>This is an example of an informative example.</p>
  </div>

  <p>Informative notes begin with the word “Note” and are set apart from the
  normative text with <code>class="note"</code>, like this:

  <p class="note">Note, this is an informative note.</p>

<h3 class="no-num" id="conformance-classes">
Conformance classes</h3>

  <p>Conformance to CSS Values and Units Level 3
  is defined for three conformance classes:
  <dl>
    <dt><dfn title="style sheet!!as conformance class">style sheet</dfn>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
      style sheet</a>.
    <dt><dfn>renderer</dfn></dt>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that interprets the semantics of a style sheet and renders
      documents that use them.
    <dt><dfn id="authoring-tool">authoring tool</dfn></dt>
      <dd>A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
      that writes a style sheet.
  </dl>

  <p>A style sheet is conformant to CSS Values and Units Level 3
  if all of its statements that use syntax defined in this module are valid
  according to the generic CSS grammar and the individual grammars of each
  feature defined in this module.

  <p>A renderer is conformant to CSS Values and Units Level 3
  if, in addition to interpreting the style sheet as defined by the
  appropriate specifications, it supports all the features defined
  CSS Values and Units Level 3 by parsing them correctly
  and rendering the document accordingly. However, the inability of a
  UA to correctly render a document due to limitations of the device
  does not make the UA non-conformant. (For example, a UA is not
  required to render color on a monochrome monitor.)

  <p>An authoring tool is conformant to CSS Values and Units Level 3
  if it writes style sheets that are syntactically correct according to the
  generic CSS grammar and the individual grammars of each feature in
  this module, and meet all other conformance requirements of style sheets
  as described in this module.

<h3 class="no-num" id="partial">
Partial implementations</h3>

  <p>So that authors can exploit the forward-compatible parsing rules to
  assign fallback values, CSS renderers <strong>must</strong>
  treat as invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignore
  as appropriate</a>) any at-rules, properties, property values, keywords,
  and other syntactic constructs for which they have no usable level of
  support. In particular, user agents <strong>must not</strong> selectively
  ignore unsupported component values and honor supported values in a single
  multi-value property declaration: if any value is considered invalid
  (as unsupported values must be), CSS requires that the entire declaration
  be ignored.</p>

<h3 class="no-num" id="experimental">
Experimental implementations</h3>

  <p>To avoid clashes with future CSS features, the CSS2.1 specification
  reserves a <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
  syntax</a> for proprietary and experimental extensions to CSS.

  <p>Prior to a specification reaching the Candidate Recommendation stage
  in the W3C process, all implementations of a CSS feature are considered
  experimental. The CSS Working Group recommends that implementations
  use a vendor-prefixed syntax for such features, including those in
  W3C Working Drafts. This avoids incompatibilities with future changes
  in the draft.
  </p>

<h3 class="no-num" id="testing">
Non-experimental implementations</h3>

  <p>Once a specification reaches the Candidate Recommendation stage,
  non-experimental implementations are possible, and implementors should
  release an unprefixed implementation of any CR-level feature they
  can demonstrate to be correctly implemented according to spec.

  <p>To establish and maintain the interoperability of CSS across
  implementations, the CSS Working Group requests that non-experimental
  CSS renderers submit an implementation report (and, if necessary, the
  testcases used for that implementation report) to the W3C before
  releasing an unprefixed implementation of any CSS features. Testcases
  submitted to W3C are subject to review and correction by the CSS
  Working Group.

  <p>Further information on submitting testcases and implementation reports
  can be found from on the CSS Working Group's website at
  <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
  Questions should be directed to the
  <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a>
  mailing list.

<h3 class="no-num" id="cr-exit-criteria">
CR exit criteria</h3>

  <p>
  For this specification to be advanced to Proposed Recommendation,
  there must be at least two independent, interoperable implementations
  of each feature. Each feature may be implemented by a different set of
  products, there is no requirement that all features be implemented by
  a single product. For the purposes of this criterion, we define the
  following terms:

  <dl>
    <dt>independent <dd>each implementation must be developed by a
    different party and cannot share, reuse, or derive from code
    used by another qualifying implementation. Sections of code that
    have no bearing on the implementation of this specification are
    exempt from this requirement.

    <dt>interoperable <dd>passing the respective test case(s) in the
    official CSS test suite, or, if the implementation is not a Web
    browser, an equivalent test. Every relevant test in the test
    suite should have an equivalent test created if such a user
    agent (UA) is to be used to claim interoperability. In addition
    if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those
    equivalent tests in the same way for the purpose of
    interoperability. The equivalent tests must be made publicly
    available for the purposes of peer review.

    <dt>implementation <dd>a user agent which:

    <ol class=inline>
      <li>implements the specification.

      <li>is available to the general public. The implementation may
      be a shipping product or other publicly available version
      (i.e., beta version, preview release, or “nightly build”).
      Non-shipping product releases must have implemented the
      feature(s) for a period of at least one month in order to
      demonstrate stability.

      <li>is not experimental (i.e., a version specifically designed
      to pass the test suite and is not intended for normal usage
      going forward).
    </ol>
  </dl>

  <p>The specification will remain Candidate Recommendation for at least
  six months.

<h2 class="no-num" id="changes">Changes</h2>

  <p>Changes since the <a href="http://www.w3.org/TR/2012/CR-css3-values-20120828/">28 August 2012 Candidate Recommendation</a> are:

  <ul>
    <li>Corrected <code>wqname</code> in the ''attr()'' syntax to <code>qname</code>
    <li>Made undefined namespace prefixes in ''attr()'' invalidate the function.
    <li>Per <a href="http://lists.w3.org/Archives/Public/www-style/2013Jan/0616.html">WG resolution</a>,
        made <a href="#viewport-relative-lengths">viewport-percentage units</a> respect scrollbars on the viewport
        unless 'overflow' is ''auto'' (in which case they ignore the presence of scrollbars).
    <li>Deferred exact definition of <a href="#viewport-relative-lengths">viewport-percentage units</a>
        in paged media to <a href="http://www.w3.org/TR/css3-page/">CSS Paged Media</a>.
    <li>Added back the <var>&lt;custom-ident></var> term as a convenience notation, so that other specs can refer to it.
  </ul>

  <p>Changes since the <a href="http://www.w3.org/TR/2013/CR-css3-values-20130404/">4 April 2013 Candidate Recommendation</a> are:

  <ul>
    <li>Noted that the list of <i>CSS-wide keywords</i> may be expanded by other specs.
    <li>Clarified definition of ''ex'' to refer to the “first available font”.
    <li>Specified that ''attr()'' with ''string'' or ''url'' types doesn't reparse the attribute contents, just takes the value literally as the value of a <var>&lt;string></var>.
  </ul>

<h2 class="no-num" id="references">References</h2>

<h3 class="no-num">Normative references</h3>
<!--begin-normative-->
<!--end-normative-->

<h3 class="no-num">Other references</h3>
<!--begin-informative-->
<!--end-informative-->


<h2 class="no-num">Index</h2>
<!--begin-index-->
<!--end-index-->

</body>
</html>
