<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>CSS basic box model</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="rewriting" name="csswg-work-status">
  <meta content="ED" name="w3c-status">
  <meta content="  <![CDATA[<p><abbr title=&quot;Cascading Style Sheets&quot;>CSS</abbr> describes the  rendering of documents on various media. When textual documents (e.g.,  HTML) are laid out on visual media (e.g., screen or print), CSS models  their layout as a collection of rectangular boxes containing words, lines,  paragraphs, tables, etc., each with properties such as size, color and  font.    <p>This module describes the basic types of boxes: block, list item,  inline, etc.; and some of their properties, including margins, padding  and width/height. It defines a layout called a “flow,” in which a  series of boxes is laid out one after the other, and it defines  “floating” boxes. Other kinds of layout, such as tables, absolute  positioning, ruby annotations, grid layouts, columns and page boxes,  are described by other modules. Also, the layout of text inside a line  (including the handling of left-to-right and right-to-left scripts) is  defined elsewhere.    <p>In CSS level 3, boxes may contain either horizontal or vertical text.  Different orientations can be mixed.  ]]>  " name="abstract">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
<style>
  body {
    background-image: url("https://www.w3.org/StyleSheets/TR/logo-ED");
  };
  </style>
  <meta content="Bikeshed 1.0.0" name="generator">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="../default.css" rel="stylesheet" type="text/css">
<style type="text/css">
  ol.stack p {margin-top: 0}
  img.small {max-width: 100%}
  .minidiagram {height: 6em; vertical-align: middle}
  dt {display: inline}
  dt + dt::before {content: ", "}
  /* Undo the max-width in the 2012 style for editor’s drafts: */

  /* maybe replace this with using default.css’s class=data? */
  .equiv-table {margin: 0.5em 0; border-collapse: collapse;
    border-bottom: hidden; empty-cells: show}
  .equiv-table th, .equiv-table td {padding: 0.3em 1em;
    border-bottom: thin solid #666}
  .equiv-table th {text-align: left}
  /* .equiv-table th:first-child {text-align: right} */
  .equiv-table caption {margin: 0.5em 0 0 0}
  .equiv-table td > p:first-child, .equiv-table th > p:first-child {
    margin-top: 0}
  .equiv-table tr {vertical-align: baseline}
  .equiv-table img {max-width: 100%}

  /* The TR postprocessor already inserted quotes: */
  .css::before, .property::before, .descriptor::before {content: none}
  .css::after, .property::after, .descriptor::after {content: none}

  @media screen {
    #annoying-warning:not(:checked) + * + * {position: fixed; z-index: 2;
      bottom: 2em; left: 0; right: 0; text-align: center;
      padding: 0.5em 0.5em 1em 0.5em; box-shadow: 0 2px 8px black;
      border-top: thin solid; border-bottom: thin solid;
      background: hsla(40,100%,50%,0.9); color: black}
    #annoying-warning:not(:checked) + * + * p {margin: 0}
    #annoying-warning, #annoying-warning + * {position: fixed; z-index: 3}
    #annoying-warning {font-size: 1em; bottom: 2.3em; right: 0.5em; margin: 0}
    #annoying-warning + * {font-size: 80%; bottom: 2.5em; right: 2.3em}
    #annoying-warning:checked, #annoying-warning:checked + * {display: none}
    html {margin-bottom: 15em}
  }
</style>
  <link href="https://www.w3.org/StyleSheets/TR/W3C-ED.css" rel="stylesheet" title="Default" type="text/css">
  <link href="#contents" rel="contents">
  <link href="#index" rel="index">
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure) " ";
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "¶"; }
            .heading > a.self-link::before { content: "§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "‘";
            }
            .css::after, .property::after, .descriptor::after {
                content: "’";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "‘";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "’";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="http://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1>CSS basic box model</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2016-09-07">7 September 2016</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="http://dev.w3.org/csswg/css-box/">http://dev.w3.org/csswg/css-box/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/css-box-3/">https://www.w3.org/TR/css-box-3/</a>
     <dt>Previous Versions:
     <dd><a href="http://www.w3.org/TR/2007/WD-css3-box-20070809/" rel="previous">http://www.w3.org/TR/2007/WD-css3-box-20070809/</a>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dd><span><a href="https://github.com/w3c/csswg-drafts/labels/css-box-3">GitHub Issues</a></span>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:mailto:bert@w3.org">Bert Bos</a> (<span class="p-org org">W3C</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:mailto:prowse@moonhenge.net">Anton Prowse</a> (<span class="p-org org">Invited Expert</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p><abbr title="Cascading Style Sheets">CSS</abbr> describes the

rendering of documents on various media. When textual documents (e.g.,
HTML) are laid out on visual media (e.g., screen or print), CSS models
their layout as a collection of rectangular boxes containing words, lines,
paragraphs, tables, etc., each with properties such as size, color and
font.</p>
   <p>This module describes the basic types of boxes: block, list item,
inline, etc.; and some of their properties, including margins, padding
and width/height. It defines a layout called a “flow,” in which a
series of boxes is laid out one after the other, and it defines
“floating” boxes. Other kinds of layout, such as tables, absolute
positioning, ruby annotations, grid layouts, columns and page boxes,
are described by other modules. Also, the layout of text inside a line
(including the handling of left-to-right and right-to-left scripts) is
defined elsewhere. </p>
   <p>In CSS level 3, boxes may contain either horizontal or vertical text.
Different orientations can be mixed.
]]> <a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> <a href="https://github.com/w3c/csswg-drafts/issues">GitHub Issues</a> are preferred for discussion of this specification.
	When filing an issue, please put the text “css-box” in the title,
	preferably like this:
	“[css-box] <em>…summary of comment…</em>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>,
	and there is also a <a href="http://lists.w3.org/Archives/Public/www-style/">historical archive</a>. </p>
   <p> This document was produced by the <a href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of the <a href="http://www.w3.org/Style/">Style Activity</a>). </p>
   <p> This document was produced by a group operating under
	the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/32061/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="http://www.w3.org/2015/Process-20150901/" id="w3c_process_revision">1 September 2015 W3C Process Document</a>. </p>
   <p></p>
   <p></p>
   <div>
    <input id="annoying-warning" title="hide

warning" type="checkbox">
    <label for="annoying-warning">(hide)</label>
    <div>
     <p>This
draft is undergoing changes and many parts are not consistent with
other modules of CSS. </p>
     <p>Please, refer to CSS level 2 <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> instead for the definition of the basic box model. </p>
    </div>
   </div>
   <p></p>
   <p>This module should eventually replace corresponding parts of the
revised CSS level 2 specification <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>. But this is an early
draft and any differences to level 2 are most likely unintentional,
unless they concern new features, such as vertical text or float
displacement. <em>Please help us improve the next draft by pointing
out such differences.</em> ]]> </p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#dependencies"><span class="secno">1</span> <span class="content">Dependencies on other modules</span></a>
    <li><a href="#intro"><span class="secno">2</span> <span class="content">Introduction &amp; definitions</span></a>
    <li><a href="#viewport"><span class="secno">3</span> <span class="content">The viewport and the canvas</span></a>
    <li><a href="#cb"><span class="secno">4</span> <span class="content">Containing blocks</span></a>
    <li><a href="#flows"><span class="secno">5</span> <span class="content">Flows</span></a>
    <li>
     <a href="#boxes"><span class="secno">6</span> <span class="content">Types of boxes</span></a>
     <ol class="toc">
      <li><a href="#block-level-cb-flows"><span class="secno">6.1</span> <span class="content">Block-level boxes, containing blocks
and anonymous boxes</span></a>
      <li><a href="#compact-boxes"><span class="secno">6.2</span> <span class="content">Compact boxes</span></a>
      <li><a href="#mixing"><span class="secno">6.3</span> <span class="content">Mixing the box model with other formatting models</span></a>
     </ol>
    <li><a href="#block-level0"><span class="secno">7</span> <span class="content">Block-level formatting</span></a>
    <li><a href="#padding-props"><span class="secno">8</span> <span class="content">The padding properties</span></a>
    <li><a href="#margin-props"><span class="secno">9</span> <span class="content">The margin properties</span></a>
    <li><a href="#width-and-height"><span class="secno">10</span> <span class="content">The width and height properties</span></a>
    <li><a href="#min-max"><span class="secno">11</span> <span class="content">The min-width, max-width, min-height and
max-height properties</span></a>
    <li><a href="#aspect"><span class="secno">12</span> <span class="content"><span class="index">Aspect ratios</span> of replaced elements</span></a>
    <li><a href="#collapsing-margins"><span class="secno">13</span> <span class="content">Collapsing margins</span></a>
    <li><a href="#inline-level0"><span class="secno">14</span> <span class="content">Inline-level formatting</span></a>
    <li>
     <a href="#Calculating"><span class="secno">15</span> <span class="content">Calculating widths, heights and margins</span></a>
     <ol class="toc">
      <li><a href="#inline-non-replaced"><span class="secno">15.1</span> <span class="content">Inline, non-replaced
elements</span></a>
      <li><a href="#inline-replaced"><span class="secno">15.2</span> <span class="content">Inline or floating, replaced
elements</span></a>
      <li><a href="#blockwidth"><span class="secno">15.3</span> <span class="content">Block-level, non-replaced elements
in normal flow
when <span class="property">overflow</span> computes to <span class="css">visible</span></span></a>
      <li><a href="#other-block-level"><span class="secno">15.4</span> <span class="content">Other block-level, non-replaced elements in normal flow</span></a>
      <li><a href="#inline-block-or-floating"><span class="secno">15.5</span> <span class="content"><span class="property">Inline-block</span> or floating, non-replaced
elements</span></a>
      <li><a href="#abs-non-replaced-width"><span class="secno">15.6</span> <span class="content">Absolutely positioned, non-replaced
elements</span></a>
      <li><a href="#abs-replaced"><span class="secno">15.7</span> <span class="content">Absolutely positioned, replaced
elements</span></a>
      <li><a href="#block-level-replaced"><span class="secno">15.8</span> <span class="content">Block-level, replaced elements in normal flow</span></a>
      <li><a href="#floating"><span class="secno">15.9</span> <span class="content">Floating, non-replaced elements</span></a>
      <li><a href="#root-height"><span class="secno">15.10</span> <span class="content">Auto heights for flow roots</span></a>
     </ol>
    <li>
     <a href="#float-prop"><span class="secno">16</span> <span class="content">The float property</span></a>
     <ol class="toc">
      <li><a href="#intro-to-floats"><span class="secno">16.1</span> <span class="content">Introduction to floats</span></a>
      <li><a href="#float-rules"><span class="secno">16.2</span> <span class="content">Rules for positioning floats</span></a>
     </ol>
    <li><a href="#clear-prop"><span class="secno">17</span> <span class="content">The clear property</span></a>
    <li><a href="#clear-after-prop"><span class="secno">18</span> <span class="content">The clear-after property</span></a>
    <li>
     <a href="#overflow-intro"><span class="secno">19</span> <span class="content">Overflow</span></a>
     <ol class="toc">
      <li><a href="#overflow-props"><span class="secno">19.1</span> <span class="content">The overflow, overflow-x and overflow-y properties</span></a>
     </ol>
    <li><a href="#visibility-prop"><span class="secno">20</span> <span class="content">The visibility property</span></a>
    <li>
     <a href="#stacking"><span class="secno">21</span> <span class="content">Stacking contexts</span></a>
     <ol class="toc">
      <li><a href="#definitions"><span class="secno">21.1</span> <span class="content">Definitions</span></a>
      <li><a href="#painting"><span class="secno">21.2</span> <span class="content">Painting order</span></a>
      <li><a href="#notes"><span class="secno">21.3</span> <span class="content">Notes</span></a>
     </ol>
    <li>
     <a href="#float-displace-1"><span class="secno">22</span> <span class="content">The <span class="property">float-displace</span> and <span class="property">indent-edge-reset</span> properties [alternative 1]</span></a>
     <ol class="toc">
      <li><a href="#float-displace-prop"><span class="secno">22.1</span> <span class="content">The <span class="property">float-displace</span> property</span></a>
      <li><a href="#indent-edge-reset-prop"><span class="secno">22.2</span> <span class="content">The <span class="property">indent-edge-reset</span> property</span></a>
     </ol>
    <li><a href="#float-displace-2"><span class="secno"></span> <span class="content">The ‘float-displace’ property [alternative 2]</span></a>
    <li><a href="#float-displace-3"><span class="secno"></span> <span class="content">The ‘float-displace’ property [alternative 3]</span></a>
    <li><a href="#acknowledgments"><span class="secno">23</span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#document-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#conform-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#conform-responsible"><span class="secno"></span> <span class="content"> Requirements for Responsible Implementation of CSS</span></a>
       <ol class="toc">
        <li><a href="#conform-partial"><span class="secno"></span> <span class="content"> Partial Implementations</span></a>
        <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
        <li><a href="#conform-testing"><span class="secno"></span> <span class="content"> Implementations of CR-level Features</span></a>
       </ol>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <p></p>
   <title>CSS basic box model</title>
   <h2 class="heading settled" data-level="1" id="dependencies"><span class="secno">1. </span><span class="content">Dependencies on other modules</span><a class="self-link" href="#dependencies"></a></h2>
   <p>This CSS module depends on the following other CSS modules: </p>
   <p class="issue" id="issue-5b645b7b"><a class="self-link" href="#issue-5b645b7b"></a>To do… </p>
   <h2 class="heading settled" data-level="2" id="intro"><span class="secno">2. </span><span class="content">Introduction &amp; definitions</span><a class="self-link" href="#intro"></a></h2>
   <div class="issue" id="center-text">
    <a class="self-link" href="#center-text"></a> 
    <p>How to center the text of a block element horizontally (more
precisely: in the inline direction) even if (part of) the block is
next to a float? </p>
   </div>
   <div class="issue" id="center-block">
    <a class="self-link" href="#center-block"></a> 
    <p>How to center a block horizontally in its CB if the block is wider
than the CB? (I.e., when 'margin: auto' doesn’t work and the document
structure doesn’t allow transforms or flexbox.) </p>
   </div>
   <div class="issue" id="distribute">
    <a class="self-link" href="#distribute"></a> 
    <p>How to center or distribute blocks vertically when flexbox doesn’t
apply (e.g., because the blocks aren’t siblings)? </p>
   </div>
   <div class="issue" id="anonymous-box-pseudo">
    <a class="self-link" href="#anonymous-box-pseudo"></a> 
    <p>Investigate if it is possible to make a pseudo-element to select
anonymous boxes ('::paragraph'). See minutes of 10 Aug 2011. </p>
   </div>
   <p class="note" role="note">Note: The model in this specification differs from the
model described in the CSS level 2 specification <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>, because
it is generalized to apply also to vertical text. A document using
only features from level 2 renders exactly as described there, except
possibly for features that are undefined in that specification and
have become defined since. </p>
   <p>CSS assumes that the document to lay out is modeled as a <span class="index" title="tree!!of elements|document tree|element
tree">tree</span> of <dfn data-dfn-type="dfn" data-noexport="" id="elements" title="element">elements.<a class="self-link" href="#elements"></a></dfn> Each element
has an ordered list of zero or more child elements, with an optional
string of text before the list, in-between the children and after the
list. Each child has one parent, except for the unique element that
has no parent, which is called the <dfn data-dfn-type="dfn" data-noexport="" id="root-element">root element.<a class="self-link" href="#root-element"></a></dfn> </p>
   <p class="note" role="note">Note that such a tree can be described in XML or SGML,
but also in other notations and that it is the definition of that
notation, not CSS, that determines the equivalence between the
abstract tree and the concrete notation. E.g., SGML often allows white
space to be added between elements for readability, which does not
result in a string of spaces in the abstract tree. </p>
   <p>CSS describes how each element and each string of text is laid out
by transforming the document tree into a set of boxes, whose size,
position, and stacking level on the <a data-link-type="dfn" href="#canvas" id="ref-for-canvas-1">canvas</a> depend on their
properties. We say that an element <dfn data-dfn-type="dfn" data-noexport="" id="generates" title="generated
box">generates<a class="self-link" href="#generates"></a></dfn> one or more boxes. </p>
   <div class="issue" id="box-tree">
    <a class="self-link" href="#box-tree"></a> 
    <p>Define the box tree </p>
   </div>
   <div class="figure">
    <p><img alt="Each generated box in the rendering
has a link to the element that generated it." src="box-intro.png"> </p>
    <p class="caption">Relation between four displayed boxes in the
rendered document (on the right) and the three corresponding elements
in the source document on the (left). </p>
   </div>
   <div class="example" id="example-a6f82987">
    <a class="self-link" href="#example-a6f82987"></a> 
    <p>For example, a fragment of HTML such as </p>
<pre>&lt;ul> &lt;li>The first item in the list.
 &lt;li>The second item.
&lt;/ul></pre>
    <p>may result in <span class="issue" id="issue-8d8c38c4"><a class="self-link" href="#issue-8d8c38c4"></a>[rewrite the following
sentence?]</span> one block-level box for the <code>ul</code> element,
containing two block-level boxes for the two <code>li</code> elements,
each of which has one line box (i.e., one line of text). Both line
boxes contain two inline-level boxes: one that contains the list
bullet and one that contains the text. </p>
    <p>Note how the <code>li</code> is transformed into multiple boxes, including
one that contains “generated content,” viz., the list bullet,
which is not present in the source document. </p>
    <p>If the document is rendered in a narrow window, it may be that the <code>li</code> elements get transformed into even more boxes, because the
text requires multiple lines. And if the document is rendered on paper
or in multiple columns, it
may be that a page break falls in the middle of the <code>ul</code> element,
so that it is not transformed into a single block-level box, but into two
smaller ones, each on a different page or column. </p>
   </div>
   <p>Each box belongs to exactly one element. It is either <a data-link-type="dfn" title="generated box">generated</a> directly by the element, or it
is an <a data-link-type="dfn" href="#anonymous-box" id="ref-for-anonymous-box-1">anonymous box,</a> which has been inserted to ensure that
every box and its parent are of mutually compatible types as defined
by the layout rules of CSS. An anonymous box is defined to belong to
whichever element generates the box’s closest element-generated
ancestor box. When we need to be precise, we say that the anonymous
box is <dfn data-dfn-type="dfn" data-noexport="" id="induced" title="induce">induced,<a class="self-link" href="#induced"></a></dfn> rather than generated, by
the element it belongs to. </p>
   <p class="note" role="note">For example, an anonymous table wrapper box that is
created around a table cell because the table cell element doesn’t
have a table element as parent, belongs to the parent element of the
table cell, not to the table cell itself. </p>
   <p class="note" role="note">An anonymous box is never a <em>principal</em> box. Except for that, an anonymous box cannot be distinguished by its
property values and characteristics from a box generated by some
hypothetical document element. <span class="issue" id="issue-d94120a2"><a class="self-link" href="#issue-d94120a2"></a>Remove this note? Do
we actually use the concept of “principal box” anywhere?</span> </p>
   <div class="issue" id="issue-1396385e">
    <a class="self-link" href="#issue-1396385e"></a> 
    <p>Do boxes have properties? Or do they just have margins, borders,
padding, a size and some content (which may be text in a certain font
and a certain color, but without the box itself having a font or a
color property)? </p>
   </div>
   <div class="figure" id="various">
    <p><img alt="Diagram of a typical box, showing the
  content, padding, border and margin areas" src="box.png"> </p>
    <p class="caption">The various areas and edges of a typical box </p>
   </div>
   <p>Boxes have padding, a border and margins (see
the <a href="#various">figure</a>). Different properties determine the
thickness of each of these (which may be zero). The margins of
adjacent boxes are also subject
to <em title="collapse">collapsing</em> (i.e., the actual margin
between adjacent boxes may be less than the sum of the boxes'
individual margins). </p>
   <p>Each box has a <dfn data-dfn-type="dfn" data-noexport="" id="content-area">content area<a class="self-link" href="#content-area"></a></dfn> (a.k.a. <dfn data-dfn-type="dfn" data-lt="content box" data-noexport="" id="content-box">content
box<a class="self-link" href="#content-box"></a></dfn>). The rectangle that bounds this area is the <dfn data-dfn-type="dfn" data-lt="content edge." data-noexport="" id="content-edge">content
edge.<a class="self-link" href="#content-edge"></a></dfn> Around the content area is the <dfn data-dfn-type="dfn" data-noexport="" id="padding-area">padding area<a class="self-link" href="#padding-area"></a></dfn> and
its outside bounds are called the <dfn data-dfn-type="dfn" data-noexport="" id="padding-edge">padding edge<a class="self-link" href="#padding-edge"></a></dfn>. The padding
area and content area together form the <dfn data-dfn-type="dfn" data-noexport="" id="padding-box">padding box<a class="self-link" href="#padding-box"></a></dfn>.
Outside the padding is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="border-area">border area</dfn> and the outside
boundary of that area is the <dfn data-dfn-type="dfn" data-noexport="" id="border-edge">border edge<a class="self-link" href="#border-edge"></a></dfn>/ The border area,
padding area and content area together form the <dfn data-dfn-type="dfn" data-noexport="" id="border-box">border box<a class="self-link" href="#border-box"></a></dfn>.
Finally, outside the border is the <dfn data-dfn-type="dfn" data-noexport="" id="margin-area">margin area<a class="self-link" href="#margin-area"></a></dfn> and its
outer edge is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="margin-edge">margin edge</dfn>. </p>
   <p>When the specification says that the padding or border is <dfn data-dfn-type="dfn" data-noexport="" id="absent" title="absent|padding!!absent|border!!absent">“absent”<a class="self-link" href="#absent"></a></dfn> on some side of the box, that means that
its thickness is zero. </p>
   <p><em title="line box">Line boxes</em> cannot have any padding,
border or margin, and therefore their margin edge, border edge,
padding edge and content edge all coincide. </p>
   <p class="note" role="note">Note that the margin, unlike the border and padding, may have
a negative thickness. That is one way to make adjacent boxes overlap each
other. </p>
   <p class="note" role="note">Note that the edges always form rectangles, even if
there is a <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a> <a data-link-type="biblio" href="#biblio-css3bg">[CSS3BG]</a> or a shape <a data-link-type="biblio" href="#biblio-css3-exclusions">[CSS3-EXCLUSIONS]</a>. </p>
   <p>We say that a box or element is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="horizontal">horizontal</dfn> if its <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> property is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-horizontal-tb">horizontal-tb</a>, otherwise it is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="vertical">vertical</dfn> (see <a data-link-type="biblio" href="#biblio-css3-writing-modes">[CSS3-WRITING-MODES]</a>). </p>
   <p class="mtb">Calculations of the size and position of boxes are
usually very similar for horizontal and vertical boxes, except that
the horizontal and vertical directions are interchanged. To avoid many
almost identical definitions, this specification therefore often uses
abstract terms instead of top, right, bottom, left, width and height:
four terms (block-start, block-end, inline-start and inline-end) for
the four edges of a box, four terms (A edge, B edge, C edge and D
edge) for the edges of the children of a box and two terms (measure
and extent) for the width and height of a box. </p>
   <p class="note" role="note">XSL-FO <a data-link-type="biblio" href="#biblio-xsl11">[XSL11]</a> uses “inline-progression dimension” for
“measure” and “block-progression dimension” for “extent.” </p>
   <div class="note" role="note">
    <p>The following terms are defined in <a data-link-type="biblio" href="#biblio-css3-writing-modes">[CSS3-WRITING-MODES]</a>. For
convenience, here is a short summary. </p>
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="block-start">block-start</dfn>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="block-end">block-end</dfn>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="inline-start">inline-start</dfn> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="inline-end">inline-end</dfn> edge of a box refer to the top, right, bottom
and left edges, depending on the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> properties of that box, as follows: </p>
    <table class="equiv-table">
     <thead>
      <tr>
       <th><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> 
       <th><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> 
       <th>“block-start” 
       <th>“inline-end” 
       <th>“block-end” 
       <th>“inline-start” 
       <th>Diagram 
     <tbody>
      <tr>
       <th rowspan="2"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-horizontal-tb">horizontal-tb</a> 
       <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> 
       <td>top 
       <td>right 
       <td>bottom 
       <td>left 
       <td><img alt="" class="minidiagram" src="box-tb-ltr.svg"> 
      <tr>
       <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a> 
       <td>top 
       <td>left 
       <td>bottom 
       <td>right 
       <td><img alt="" class="minidiagram" src="box-tb-rtl.svg"> 
      <tr>
       <th rowspan="2"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-rl">vertical-rl</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-rl">sideways-rl</a> 
       <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> 
       <td>right 
       <td>bottom 
       <td>left 
       <td>top 
       <td><img alt="" class="minidiagram" src="box-rl-ltr.svg"> 
      <tr>
       <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a> 
       <td>right 
       <td>top 
       <td>left 
       <td>bottom 
       <td><img alt="" class="minidiagram" src="box-rl-rtl.svg"> 
      <tr>
       <th rowspan="2"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-lr">vertical-lr</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-lr">sideways-lr</a> 
       <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> 
       <td>left 
       <td>bottom 
       <td>right 
       <td>top 
       <td><img alt="" class="minidiagram" src="box-lr-ltr.svg"> 
      <tr>
       <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a> 
       <td>left 
       <td>top 
       <td>right 
       <td>bottom 
       <td><img alt="" class="minidiagram" src="box-lr-rtl.svg"> 
    </table>
    <p>For example, the “block-start padding” by default refers
to the <a class="property" data-link-type="propdesc" href="#propdef-padding-top" id="ref-for-propdef-padding-top-1">padding-top</a> and the “inline-end border” is by default the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-right">border-right</a>. </p>
    <p>Similarly, the specification sometimes refers to the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="measure">measure</dfn> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="extent">extent</dfn> of a box, instead of width
and height, as follows: </p>
    <table class="equiv-table">
     <tbody>
      <tr>
       <th><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">Writing-mode</a> 
       <th>“measure” 
       <th>“extent” 
      <tr>
       <td><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-horizontal-tb">horizontal-tb</a> 
       <td>width 
       <td>height 
      <tr>
       <td><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-rl">vertical-rl</a> 
       <td>height 
       <td>width 
      <tr>
       <td><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-rl">sideways-rl</a> 
       <td>height 
       <td>width 
      <tr>
       <td><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-lr">vertical-lr</a> 
       <td>height 
       <td>width 
      <tr>
       <td><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-lr">sideways-lr</a> 
       <td>height 
       <td>width 
    </table>
    <p>These correspond to the dimensions in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#inline-base-direction">inline base
direction</a> and the <a data-link-type="dfn">block flow direction,</a> respectively. </p>
    <p>An alternative term for the measure is <dfn data-dfn-type="dfn" data-noexport="" id="logical-width" title="logical
width|width!!logical">logical width<a class="self-link" href="#logical-width"></a></dfn> and an alternative term for
extent is <dfn data-dfn-type="dfn" data-noexport="" id="logical-height" title="logical height|height!!logical">logical height.<a class="self-link" href="#logical-height"></a></dfn> These terms occasionally occur in other CSS
modules. </p>
    <p>The extent of a box is thus the distance between the
block-start and block-end edges, while the measure of the box is the
distance between the inline-start and inline-end edges. </p>
   </div>
   <p>When boxes are laid out to form a <a class="index" data-link-type="dfn" href="#flow" id="ref-for-flow-1">flow</a> (see
below), their edges play different roles in the alignment of the boxes
within that flow. The orientation of the flow determines which edge of
a box is aligned to which edge of another box. These roles are
independent of the orientation of the box itself. We distinguish four
roles for the edges of a box, called <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="A|A edge" data-noexport="" id="a">A
edge</dfn>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="B|B edge" data-noexport="" id="b">B edge</dfn>, <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="C|C edge" data-noexport="" id="c">C
edge</dfn> and <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="D|D edge" data-noexport="" id="d">D edge</dfn>. They depend on the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> properties of the box’s <em class="index">containing block</em> (defined below), and map to the four sides as
follows: </p>
   <table class="equiv-table">
    <thead>
     <tr>
      <th><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> of<br><a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-1">containing block</a> 
      <th><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> of<br><a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-2">containing block</a> 
      <th>“A edge” 
      <th>“B edge” 
      <th>“C edge” 
      <th>“D edge” 
    <tbody>
     <tr>
      <th rowspan="2"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-horizontal-tb">horizontal-tb</a> 
      <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> 
      <td>top 
      <td>right 
      <td>bottom 
      <td>left 
     <tr>
      <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a> 
      <td>top 
      <td>left 
      <td>bottom 
      <td>right 
     <tr>
      <th rowspan="2"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-rl">vertical-rl</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-rl">sideways-rl</a> 
      <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> 
      <td>right 
      <td>bottom 
      <td>left 
      <td>top 
     <tr>
      <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a> 
      <td>right 
      <td>top 
      <td>left 
      <td>bottom 
     <tr>
      <th rowspan="2"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-lr">vertical-lr</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-lr">sideways-lr</a> 
      <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a> 
      <td>left 
      <td>bottom 
      <td>right 
      <td>top 
     <tr>
      <th><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> 
      <td>left 
      <td>top 
      <td>right 
      <td>bottom 
   </table>
   <div class="figure">
    <p><img alt="Image: A box with edges labeled
clockwise from top as A, B, C and D." src="abcd-edges"> </p>
    <p class="caption">The edges of a box whose containing block is
horizontal. </p>
   </div>
   <p class="note" role="note">For example, block-level boxes in a flow are laid out
such that the A edge of the first box is against the block-start edge
of the containing block and then the A edge of each subsequent box is
put against the C edge of its predecessor. For typical English text
(i.e., <a data-link-type="dfn" href="#horizontal" id="ref-for-horizontal-1">horizontal</a> text), this means the top edge (= A edge)
of the first paragraph is at the top edge (= block-start) of the
document, the top (A edge) of the second paragraph is against the
bottom (C edge) of the first paragraph, and so on, until the bottom (C
edge) of the last paragraph becomes the bottom (block-end) of the
document. </p>
   <p>An element is called <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="orthogonal">orthogonal</dfn> if it is either a <a data-link-type="dfn" href="#vertical" id="ref-for-vertical-1">vertical</a> element with a <a data-link-type="dfn" href="#horizontal" id="ref-for-horizontal-2">horizontal</a> <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-3">containing
block</a> or a <a data-link-type="dfn" href="#horizontal" id="ref-for-horizontal-3">horizontal</a> element with a <a data-link-type="dfn" href="#vertical" id="ref-for-vertical-2">vertical</a> <a data-link-type="dfn">containing block.</a> An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="orthogonal-flow">orthogonal flow</dfn> is a <a data-link-type="dfn" href="#flow" id="ref-for-flow-2">flow</a> whose <a data-link-type="dfn" href="#flow-root" id="ref-for-flow-root-1">flow root</a> is an orthogonal element. </p>
   <h2 class="heading settled" data-level="3" id="viewport"><span class="secno">3. </span><span class="content">The viewport and the canvas</span><a class="self-link" href="#viewport"></a></h2>
   <p>User agents for continuous media generally offer users a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="viewport0">viewport</dfn> (a window or other viewing area on the screen)
through which users consult a document. User agents may change the
document’s layout when the viewport is resized (see the <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#initial-containing-block">initial
containing block</a>). </p>
   <p>When the viewport is smaller than the area of the <a data-link-type="dfn" href="#canvas" id="ref-for-canvas-2">canvas</a> (see below) on which the document is rendered, the user agent usually
offers a scrolling mechanism. There is at most one viewport per canvas,
but user agents may render to more than one canvas (i.e., provide
different views of the same document). </p>
   <p>For all media, the term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="canvas">canvas</dfn> describes the space where
the formatting structure is rendered. The canvas is infinite for each
dimension of the space. </p>
   <h2 class="heading settled" data-level="4" id="cb"><span class="secno">4. </span><span class="content">Containing blocks</span><a class="self-link" href="#cb"></a></h2>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="containing-block">containing block</dfn> of a box is a rectangle that
is associated with the box and that is used in various definitions in this
specification. Apart from a size and a position, the rectangle also has <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> properties. The containing block of a box
is defined as follows: </p>
   <ul>
    <li>The containing block of the <a data-link-type="dfn" title="root element">root
    element’s</a> top-level boxes is a rectangle with the dimensions of
    the <a data-link-type="dfn" href="#viewport0" id="ref-for-viewport0-1">viewport</a>, anchored at the <a data-link-type="dfn" href="#canvas" id="ref-for-canvas-3">canvas’s</a> origin for continuous media and the page area for paged media. (See <a data-link-type="biblio" href="#biblio-mediaq">[MEDIAQ]</a> and <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a> for definitions of continuous and paged
    media.) This containing block is called the <dfn data-dfn-type="dfn" data-lt="initial containing block." data-noexport="" id="initial-containing-block">initial containing
    block.<a class="self-link" href="#initial-containing-block"></a></dfn> The <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> of the initial
    containing block are the same as those of the root element. 
    <li>
     For other elements, the containing block is one of the
    following: 
     <ol>
      <li>If the element is a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-run-in">run-in</a> that is rendered
	      inline in a sibling element, then its containing block
	      is the <a data-link-type="dfn">content edge</a> of the <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-1">principal
	      box</a> of that sibling. 
      <li>Otherwise, if the parent has a <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-2">principal
	      box</a> that is a <a data-link-type="dfn" href="#block-container-box" id="ref-for-block-container-box-1">block container box</a> (e.g., if the parent is a <a class="property" data-link-type="propdesc">table-cell</a> or a <a class="property" data-link-type="propdesc">block</a>),
	      then the containing block is the content edge of the
	      parent’s <a data-link-type="dfn">principal box.</a> 
      <li>Otherwise the containing block is the same as that
	      of the parent. 
     </ol>
   </ul>
   <p class="issue" id="issue-6ca12392"><a class="self-link" href="#issue-6ca12392"></a>Other modules may introduce other types of boxes with
other rules for how to find their containing block. E.g., the
containing block of an absolutely positioned element. </p>
   <p>In the above, a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="block-container-box">block container box</dfn> is, informally, a
box that can contain block boxes. More precisely: any box generated by
a (pseudo-)element with a computed value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-table-caption">table-caption</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-table-cell">table-cell</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-list-item">list-item</a>. <span class="note" role="note">Note that most floating and absolutely
positioned elements have a computed <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>. Also, a <a data-link-type="dfn" href="#flow-root" id="ref-for-flow-root-2">flow root</a> has a computed <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>.</span> <span class="issue" id="issue-a1b431d2"><a class="self-link" href="#issue-a1b431d2"></a>Or insert the definition of block container box from
CSS 2.1 here?</span> </p>
   <p class="issue" id="issue-267711dd"><a class="self-link" href="#issue-267711dd"></a>Also define <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="principal-box">principal box</dfn> somewhere. </p>
   <p class="note" role="note">Note that the above is modified by the Absolute Positioning
module <a data-link-type="biblio" href="#biblio-css3pos">[CSS3POS]</a>: in particular, if a box’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a> property is neither <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-static">static</a> nor <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-relative">relative</a>, its containing block is established
differently. </p>
   <p>If an element <span class="issue" id="issue-a91659d4"><a class="self-link" href="#issue-a91659d4"></a>[or a viewport?]</span> has
scrollbars (see <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-1">overflow</a>), then any space taken up by the scrollbars
should be excluded from (subtracted from the dimensions of) any
containing block formed by that element. </p>
   <h2 class="heading settled" data-level="5" id="flows"><span class="secno">5. </span><span class="content">Flows</span><a class="self-link" href="#flows"></a></h2>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="flow">flow</dfn> (sometimes called <dfn data-dfn-type="dfn" data-noexport="" id="normal-flow">normal flow<a class="self-link" href="#normal-flow"></a></dfn>) is
one of the two basic kinds of layout in CSS, together with line layout <a data-link-type="biblio" href="#biblio-css3line">[CSS3LINE]</a>. It can be used, e.g., to layout a sequence of
paragraphs, headings, lists and floated elements in a single
column. Other CSS modules, such as tables <a data-link-type="biblio" href="#biblio-css3tbl">[CSS3TBL]</a>, positioning <a data-link-type="biblio" href="#biblio-css3pos">[CSS3POS]</a>, flex boxes <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a> and grid templates <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a>, build on the flow model by defining ways to split a
document into more than one flow and positioning and aligning those
flows in various ways on the canvas. </p>
   <p>A flow is constructed starting from a <span class="index" title="flow
root!!box">box</span> called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="flow-root">flow root</dfn> by the <a href="#construct-flow">rules below.</a> We say the flow is <dfn data-dfn-type="dfn" data-noexport="" id="channeled">channeled<a class="self-link" href="#channeled"></a></dfn> by the flow root. </p>
   <p class="issue" id="issue-28c5cd9d"><a class="self-link" href="#issue-28c5cd9d"></a>Are there more intuitive names than flow root? </p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="initial-flow" title="initial flow|flow!!initial">initial flow<a class="self-link" href="#initial-flow"></a></dfn> is
the flow that contains the root of the box tree. </p>
   <p>Despite not being a box, the <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#initial-containing-block">initial containing block</a> is
said to be the flow root of the initial flow. </p>
   <p class="issue" id="pagination-issue"><a class="self-link" href="#pagination-issue"></a>How do we model pagination? If a
flow is broken over two pages or columns, do we call it a single flow
or two flows? I.e., is the page box the flow root of the flow, or is
the page box something else, more like the viewport, which influences
the layout of a flow but isn’t part of it? See <a data-link-type="biblio" href="#biblio-css3-break">[CSS3-BREAK]</a>. </p>
   <p>Only <a data-link-type="dfn" href="#block-container-box" id="ref-for-block-container-box-2">block container boxes</a> (defined below) can be flow
roots. (Which implies that the children of a flow root are laid out in
a <a data-link-type="dfn">block formatting context.</a>) </p>
   <p>Several (combinations of) properties cause an element to generate
boxes that are flow roots. This module defines a few. Other modules
may define more. </p>
   <div class="note" role="note">
    <p>For example, this module defines that any of the following make a
box into a flow root: </p>
    <ul>
     <li>The value of <a class="property" data-link-type="propdesc" href="#propdef-float" id="ref-for-propdef-float-1">float</a> is not <a class="property" data-link-type="propdesc">none</a>. 
     <li>The used value of <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-2">overflow</a> is not <a class="property" data-link-type="propdesc">visible</a>. 
     <li>The box is <a data-link-type="dfn" href="#vertical" id="ref-for-vertical-3">vertical</a> and its parent is <a data-link-type="dfn">horizontal.</a> <span class="issue" id="issue-893788bf"><a class="self-link" href="#issue-893788bf"></a>[Add link to the relevant
  section.]</span> 
     <li>The box is <a data-link-type="dfn" href="#horizontal" id="ref-for-horizontal-4">horizontal</a> and its parent is <a data-link-type="dfn">vertical.</a> 
    </ul>
    <p>Other examples: The table layout module <a data-link-type="biblio" href="#biblio-css3tbl">[CSS3TBL]</a> defines that a
table cell generates a box that is a flow root; the positioning module <a data-link-type="biblio" href="#biblio-css3pos">[CSS3POS]</a> defines that an absolutely positioned element generates a
flow root; the grid template module <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a> defines that a
template element generate several flow roots; and the transforms
module <a data-link-type="biblio" href="#biblio-css3-transforms">[CSS3-TRANSFORMS]</a> defines that an element with a transform
generates a flow root. </p>
   </div>
   <p class="mtb" id="construct-flow">The flow of a given <a data-link-type="dfn" href="#flow-root" id="ref-for-flow-root-3">flow root</a> is a set of boxes. A box belongs to the flow if all of the following
are true: </p>
   <ol>
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-list-item">list-item</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-table">table</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-flexbox-1/#valdef-display-flex">flex</a>. 
    <li>The used value of <a class="property" data-link-type="propdesc" href="#propdef-float" id="ref-for-propdef-float-2">float</a> is <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-1">none</a>. 
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-static">static</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-relative">relative</a>. 
    <li>The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-regions-1/#propdef-flow-into">flow-into</a> <a data-link-type="biblio" href="#biblio-css3-regions">[CSS3-REGIONS]</a> <span class="issue" id="issue-6aa88308"><a class="self-link" href="#issue-6aa88308"></a>a.k.a. <a class="property" data-link-type="propdesc">flow</a> <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a></span> is <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-2">none</a>. 
    <li>It is not a <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-item">flex item</a> <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a>. 
    <li>It is either a child of the flow root or a child of a box that
  belongs to the flow. 
   </ol>
   <p class="note" role="note">Note that the flow root is itself not part of the flow
it channels and that each flow root channels at most one flow. </p>
   <p class="note" role="note">Note that the last rule above implies that a flow with
its flow root together are always a connected subset of the box
tree. In other words; together, they form a subtree of the box tree
with possibly some branches removed. </p>
   <p class="note" role="note">Note that the element tree and the box tree are not
necessarily parallel: the element a box belongs to need not be the
child of the element that generated the box’s parent. E.g., run-in
elements may generate boxes that become children of boxes from sibling
elements; and the <a class="property" data-link-type="propdesc">flow</a> property <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a> and the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a> property <a data-link-type="biblio" href="#biblio-css3pos">[CSS3POS]</a> may cause an element to generate a box that
becomes the child of a box from a grandparent or other ancestor
element. E.g., 'DIV {flow: b}' (see <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a>) makes the DIV
generate boxes that become children of the box generated by slot b in
some ancestor. And 'DIV {position: absolute}' causes the DIV to
generate a box that becomes a child of the box generated by the
ancestor that established the DIV’s <a data-link-type="dfn">containing block.</a> </p>
   <div class="example" id="example-df500c98">
    <a class="self-link" href="#example-df500c98"></a> 
    <p>For example, the fragment </p>
<pre>&lt;div class=sidebar>
 &lt;p>Text in a sidebar.
 &lt;p>Here is quote:
 &lt;blockquote lang=ja>
  &lt;p>...
 &lt;/blockquote>
 &lt;p>Etc. etc.
&lt;/div>
</pre>
    <p>with the style </p>
<pre>div.sidebar { writing-mode: horizontal-tb; float: left }
blockquote[lang|=ja] { writing-mode: vertical-rl; height: 10em }
</pre>
    <p>defines two flows: </p>
    <ol>
     <li>The <code>div</code> is a flow root, because it floats. Its flow
  consist of the 1st, 2nd and 4th <code>p</code> and the <code>blockquote</code>. 
     <li>The <code>blockquote</code> is an <a data-link-type="dfn" href="#orthogonal" id="ref-for-orthogonal-1">orthogonal</a> element
  (in this case a <a data-link-type="dfn" href="#vertical" id="ref-for-vertical-4">vertical</a> box inside a <a data-link-type="dfn" href="#horizontal" id="ref-for-horizontal-5">horizontal</a> parent) and it is thus a flow root. Its flow is formed by the 3rd <code>p</code>. 
    </ol>
    <p>(The <code>div</code> itself belongs to a third flow, but its flow
root is not shown in the fragment.) </p>
   </div>
   <p class="note" role="note">Note that a flow root is not necessarily block-level, it may
be an <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a>, e.g. </p>
   <p class="note" role="note">Note that a box belongs to at most one flow. (Some boxes
do not belong to any flow, because they are part of a different kind of
layout, such as table layout.) </p>
   <p>An element that generates a flow root box is itself also called a <span class="index" title="flow root!!element">flow root.</span> </p>
   <p class="note" role="note">Note: The terminology in the CSS level 2 specification
is different. A flow root is called “an element that establishes a <span class="index" title="formatting context|new formatting
context">new formatting context.</span>” </p>
   <p class="note" role="note">A consequence of this terminology is that an <em>element,</em> unlike a box, can be the flow root of several
flows. E.g., template elements <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a> generate several flow
root boxes. Depending on what properties are set on a list item and on
its marker pseudo-element, a list item can also generate zero, one or
two flow roots. </p>
   <h2 class="heading settled" data-level="6" id="boxes"><span class="secno">6. </span><span class="content">Types of boxes</span><a class="self-link" href="#boxes"></a></h2>
   <p>The layout of boxes in the flow is in large part determined by the
interplay of the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> properties of an element and its parent,
and then fine-tuned with margins and padding. </p>
   <h3 class="heading settled" data-level="6.1" id="block-level-cb-flows"><span class="secno">6.1. </span><span class="content">Block-level boxes, containing blocks
and anonymous boxes</span><a class="self-link" href="#block-level-cb-flows"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="block-level">block-level</dfn> box is a box that has a <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed
value</a> for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-list-item">list-item</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-table">table</a>, <span class="css">table-*</span> (i.e., all table boxes, see <a data-link-type="biblio" href="#biblio-css3tbl">[CSS3TBL]</a>), <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-run-in">run-in</a> (under
certain circumstances), or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-display-compact">compact</a> (under certain circumstances). </p>
   <p>An <dfn data-dfn-type="dfn" data-noexport="" id="inline-level">inline-level<a class="self-link" href="#inline-level"></a></dfn> box is a box that has a <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed
value</a> for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-scroll-snap-1/#valdef-scroll-snap-type-inline">inline</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-table">inline-table</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby">ruby</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-run-in">run-in</a> (under certain circumstances),
or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-display-compact">compact</a> (under certain circumstances). </p>
   <p class="issue" id="issue-aedfb759"><a class="self-link" href="#issue-aedfb759"></a>[What about the other ruby values?] </p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="anonymous-box">anonymous box,</dfn> informally, is a box that cannot be addressed
with CSS selectors. All its properties, except for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>, have their
default values (either the initial value or inherited). Anonymous boxes are
created when the CSS box model requires a child box with a certain value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>, but the child actually has a different value. In that case an
anonymous box of the right kind is created and wraps the child (or children). </p>
   <p>This module defines one kind of anonymous box: </p>
   <p>A <a data-link-type="dfn">block-level box</a> may contain either <a data-link-type="dfn">line boxes</a> or <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-1">block-level</a> boxes, but not both. If necessary, any line boxes
that belong to this box’s element are wrapped in one or more (as few
as possible) anonymous boxes with a <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>. </p>
   <p>Other modules (e.g., <a data-link-type="biblio" href="#biblio-css3tbl">[CSS3TBL]</a>, <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>) may also define
anonymous boxes. </p>
   <div class="example" id="example-0bff9050">
    <a class="self-link" href="#example-0bff9050"></a> 
    <p>An example of anonymous boxes is this document fragment: </p>
<pre>&lt;p>Somebody whose name I haveforgotten, said, long ago: &lt;q>a box is
a box,&lt;/q> and he probably meant it.&lt;/p></pre>
    <p>with these style rules: </p>
<pre>p { display: block }q { display: block; margin: 1em }</pre>
    <p>The <code>p</code> element has both line boxes and a child box for the <code>q</code> element, which is a block-level element. The line boxes before
the <code>q</code> are wrapped in an anonymous block-level box and so are the
line boxes after the <code>q</code>. The resulting tree of boxes might be as
follows (refer to the <a href="#When">figure</a>): </p>
    <ul>
     <li>
      block-level box [p] 
      <ul>
       <li>
        block-level box [anonymous] 
        <ul>
         <li>line box: “Somebody…” 
         <li>line box: “forgotten…” 
        </ul>
       <li>
        block-level box [q] 
        <ul>
         <li>line box: “a box…” 
        </ul>
       <li>
        block-level box [anonymous] 
        <ul>
         <li>line box: “and he…” 
        </ul>
      </ul>
    </ul>
    <div class="figure" id="When">
     <p><img alt="The P element has two line boxes before the q and one
  after. The first two are wrapped in an anonymous box, the last one
  is wrapped in another anonymous box." src="anonymous.png"> </p>
     <p class="caption">When the fragment is rendered, the text before
  the q is wrapped in an anonymous block and the text after the q in
  another. </p>
    </div>
   </div>
   <p class="note" role="note">Note that the anonymous boxes defined in this module are <a data-link-type="dfn">block-level,</a> but anonymous boxes defined in other
modules may be different. </p>
   <h3 class="heading settled" data-level="6.2" id="compact-boxes"><span class="secno">6.2. </span><span class="content">Compact boxes</span><a class="self-link" href="#compact-boxes"></a></h3>
   <p>A compact box is a box that is either put in the margin of the next
box or becomes a block of its own, depending on whether it is small
enough to fit in the margin or not. The typical use case is for lists
where most labels are small enough to fit in the margin, except for a
few. </p>
   <div class="example" id="example-a9ff0ac4">
    <a class="self-link" href="#example-a9ff0ac4"></a> 
    <p>An example is the DL list in HTML. Its COMPACT attribute indicates
to the formatter that the labels of the list are good candidates for
display as compact boxes: </p>
<pre>&lt;h3>Farm animals&lt;/h3>
&lt;dl compact>
 &lt;dt>cat
 &lt;dd>Lorem ipsum dolor sit amet, consectetaur adipisicing elit…
 &lt;dt>dog
 &lt;dd>Ut enim ad minim veniam, quis nostrud exercitation…
 &lt;dt>hippopotamus
 &lt;dd>Duis aute irure dolor in reprehenderit in voluptate velit…
 &lt;dt>fly
 &lt;dd>Excepteur sint occaecat cupidatat non proident, sunt in…
&lt;/dl>
</pre>
    <p>With a style rule like </p>
<pre>dl[compact] dt {display: compact}</pre>
    <p>this might be rendered as in the figure below. </p>
    <div class="figure">
     <p><img alt="[sample rendering]" src="compact" style="max-width: 24em"> </p>
     <p class="caption">Three of the four labels are narrow enough to fit
  in the left margin. The one that is too wide is converted into a
  block. </p>
    </div>
   </div>
   <p class="issue" id="issue-ba55329d"><a class="self-link" href="#issue-ba55329d"></a>Add definition. </p>
   <h3 class="heading settled" data-level="6.3" id="mixing"><span class="secno">6.3. </span><span class="content">Mixing the box model with other formatting models</span><a class="self-link" href="#mixing"></a></h3>
   <p>There may be documents that combine different layout models, such
as documents that combine HTML (typically rendered with the CSS box
model) and <span class="index">SVG</span> (rendered with its own
graphics model). </p>
   <p class="issue" id="issue-071a6a0b"><a class="self-link" href="#issue-071a6a0b"></a>Do we need one or more <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> values to signal that
an element is not to be formatted with CSS? </p>
   <p>An element that is not rendered according to the CSS box model is
treated as a <em>replaced element</em> for the purposes of determining
its size, position, margins, padding and border. </p>
   <p class="issue" id="issue-b462db98"><a class="self-link" href="#issue-b462db98"></a>Should we allow a more complex model, where such a
child may negotiate with the CSS environment to have several boxes and
several baselines, so that it can take part in line breaking and page
breaking? </p>
   <h2 class="heading settled" data-level="7" id="block-level0"><span class="secno">7. </span><span class="content">Block-level formatting</span><a class="self-link" href="#block-level0"></a></h2>
   <p>The boxes that belong to a fow are laid out according to the rules
of <dfn data-dfn-type="dfn" data-noexport="" id="block-level-formatting">block-level formatting<a class="self-link" href="#block-level-formatting"></a></dfn>: </p>
   <p class="issue" id="issue-d8b773ff"><a class="self-link" href="#issue-d8b773ff"></a>Define how boxes in a flow are positioned. (Basically,
each <a data-link-type="dfn" href="#c" id="ref-for-c-1">C edge</a> against the <a data-link-type="dfn" href="#a" id="ref-for-a-1">A edge</a> of the next
box and their <a data-link-type="dfn" href="#b" id="ref-for-b-1">B edge</a> and <a data-link-type="dfn" href="#d" id="ref-for-d-1">D edge</a> against,
respectively the <a data-link-type="dfn">inline-end edge</a> and <a data-link-type="dfn">inline-start
edge</a> of the <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-4">containing block</a>.) </p>
   <h2 class="heading settled" data-level="8" id="padding-props"><span class="secno">8. </span><span class="content">The padding properties</span><a class="self-link" href="#padding-props"></a></h2>
   <table class="def propdef" data-link-for-hint="padding">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-padding">padding</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod"><var>&lt;length></var><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num-range">{1,4}</a>
     <tr>
      <th>Initial:
      <td>(see individual properties)
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>width* of containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>all elements
     <tr>
      <th>Animatable:
      <td>yes
     <tr>
      <th>Computed value:
      <td>see individual properties
   </table>
   <p class="footnote">*) if the <em>containing
block</em> is <em>horizontal,</em> otherwise the height </p>
   <table class="def propdef" data-link-for-hint="padding-top">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-padding-top">padding-top</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-padding-right">padding-right</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-padding-bottom">padding-bottom</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-padding-left">padding-left</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod"><var>&lt;length></var>
     <tr>
      <th>Initial:
      <td>0
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>width* of containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>all elements
     <tr>
      <th>Animatable:
      <td>yes
     <tr>
      <th>Computed value:
      <td>&lt;length>
   </table>
   <p class="footnote">*) if the <em>containing
    block</em> is <span><em>horizontal,</em></span> otherwise the height </p>
   <p>Sets the thickness of the <em>padding area.</em> The value may not
be negative. </p>
   <p class="issue" id="issue-ccaf2185"><a class="self-link" href="#issue-ccaf2185"></a>Allow negative padding? </p>
   <p class="issue" id="issue-9b612819"><a class="self-link" href="#issue-9b612819"></a>Allow percentages? </p>
   <p class="issue" id="issue-bfe467ae"><a class="self-link" href="#issue-bfe467ae"></a>Allow “auto”? </p>
   <p><a class="property" data-link-type="propdesc" href="#propdef-padding" id="ref-for-propdef-padding-1">Padding</a> is a shorthand for the other four properties. If <a class="property" data-link-type="propdesc" href="#propdef-padding" id="ref-for-propdef-padding-2">padding</a> has
four values, they are for top, right, bottom and left in that order. If left
is omitted, it is the same as right. If bottom is omitted it is the same as
top, if right is omitted it is the same as top. </p>
   <div class="example" id="example-4bdeb4e6">
    <a class="self-link" href="#example-4bdeb4e6"></a> 
    <p>For example, the following two ways to set the padding of <code>h1</code> are equivalent: </p>
<pre>h1 { padding: 0.5em }h1 { padding-top: 0.5em;
     padding-right: 0.5em;
     padding-bottom: 0.5em;
     padding-left: 0.5em }</pre>
   </div>
   <h2 class="heading settled" data-level="9" id="margin-props"><span class="secno">9. </span><span class="content">The margin properties</span><a class="self-link" href="#margin-props"></a></h2>
   <p>Margins in CSS serve to add both horizontal and vertical space
between boxes. </p>
   <table class="def propdef" data-link-for-hint="margin-top">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-margin-top">margin-top</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-margin-right">margin-right</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-margin-bottom">margin-bottom</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-margin-left">margin-left</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod"><var>&lt;length></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;percentage></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> auto
     <tr>
      <th>Initial:
      <td>0
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>width* of containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>see text
     <tr>
      <th>Animatable:
      <td>yes
     <tr>
      <th>Computed value:
      <td>the percentage as specified or the
absolute length or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>
   </table>
   <p class="footnote">*) if the <em>containing
block</em> is <em>horizontal,</em> otherwise the height </p>
   <table class="def propdef" data-link-for-hint="margin">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-margin">margin</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">[ <var>&lt;length></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;percentage></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> auto]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num-range">{1,4}</a>
     <tr>
      <th>Initial:
      <td>(see individual properties)
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>width* of containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>see text
     <tr>
      <th>Animatable:
      <td>yes
     <tr>
      <th>Computed value:
      <td>see individual properties
   </table>
   <p class="footnote">*) if the <em>containing
block</em> is <em>horizontal,</em> otherwise the height </p>
   <p>These properties set the thickness of the <em>margin area</em>. The
value may be negative. </p>
   <p><a class="property" data-link-type="propdesc" href="#propdef-margin" id="ref-for-propdef-margin-1">Margin</a> is a shorthand for the other four. If <a class="property" data-link-type="propdesc" href="#propdef-margin" id="ref-for-propdef-margin-2">margin</a> has four
values, they set top, right, bottom and left in that order. If left is
omitted, it is the same as right. If bottom is omitted, it is the same
as top. If right is omitted it is the same as top. </p>
   <div class="example" id="example-64ad17ca">
    <a class="self-link" href="#example-64ad17ca"></a> 
    <p>For example, the following two ways of setting the margins of <code>p</code> are equivalent: </p>
<pre>p { margin: 1em 2em }p { margin-top: 1em;
    margin-right: 2em;
    margin-bottom: 1em;
    margin-left: 2em }</pre>
   </div>
   <p>The values are as follows: </p>
   <dl>
    <dt><var>&lt;length></var> 
    <dd>Sets the margin to the given
length. Note that the actual distance to the next element may be
different, due to <a data-link-type="dfn" title="collapse">margin collapsing.</a> 
    <dt><var>&lt;percentage></var> 
    <dd>Sets the margin to the given
percentage of the <a data-link-type="dfn" href="#extent" id="ref-for-extent-1">extent</a> of the <a data-link-type="dfn">containing
block.</a> If that dimension depends on the value of this
percentage, then the percentage is taken relative to <span class="css">100vw</span> or <span class="css">100vh</span> instead, depending on whether the containing block is <a data-link-type="dfn">horizontal,</a> respectively <a data-link-type="dfn">vertical.</a> 
    <dt>auto 
    <dd>On the <em>A edge</em> and <em>C edge</em>, the used
value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> is 0. On the <em>B edge</em> and <em>D edge</em>,
the used value depends on the available space, as defined in <a href="#Calculating">“Calculating widths, heights and margins.”</a> 
   </dl>
   <div class="example" id="example-26677ab9">
    <a class="self-link" href="#example-26677ab9"></a> 
    <p>The case of the containing block’s extent depending on this
element’s margin can occur with floating elements. E.g.: </p>
<pre>&lt;div style="float: left">
 &lt;p style="margin: 5%">...
&lt;/div>
</pre>
    <p>In this case the 5% computes to 5vw. </p>
   </div>
   <p class="note" role="note">Note that the case of a containing block’s extent
depending on the percentages was undefined in CSS level 2. </p>
   <div class="issue" id="issue-c57a5cfc">
    <a class="self-link" href="#issue-c57a5cfc"></a> 
    <p>Some UAs implementing CSS level 2 try to solve the set of linear
equations when <var>containing-block</var> is unkown: </p>
    <blockquote>
     <p><var>margin</var> + <var>width</var> = <var>containing-block</var><br> <var>margin</var> = <var>percentage</var> × <var>containing-block</var> </p>
    </blockquote>
    <p>If different elements
in a flow yield different values they may take the biggest. </p>
   </div>
   <p class="note" role="note">Note that inside flexboxes <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a>, the meaning
of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> is different, because there it also has an effect on the <em>A edge</em> and <em>C edge.</em> </p>
   <p class="issue" id="issue-e4302a24"><a class="self-link" href="#issue-e4302a24"></a>One idea to distribute boxes better than with <a class="property" data-link-type="propdesc">auto</a> (which only works in the inline direction and fails to distribute
negative space) is to add a “fill” keyword, possibly combined with a
minimum margin: <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fill">fill</a> or <span class="css">1.2em + fill</span> or ''calc(1.2em +
fill)''). “Fill” could also be a unit, so that some fills can get more
space than others: <a class="css" data-link-type="propdesc" href="#propdef-margin" id="ref-for-propdef-margin-3">margin: 0.5fill</a> or <a class="css" data-link-type="propdesc" href="#propdef-margin" id="ref-for-propdef-margin-4">margin: 2fill</a>. </p>
   <p class="issue" id="issue-e1642848"><a class="self-link" href="#issue-e1642848"></a>Andrew Fedoniouk proposed the '%%' unit. '50%%' is 50%
of the remaining space. This allows fills to sum up to more or less
than 100%. More than 100% is probably not useful, it guarantees
overflow. But less than 100% might be. </p>
   <p class="issue" id="issue-7211dd27"><a class="self-link" href="#issue-7211dd27"></a>The keywords <a class="property" data-link-type="propdesc">min-content</a>, <a class="property" data-link-type="propdesc">max-content</a> and <a class="property" data-link-type="propdesc">available</a> could also be useful, at least for the inline-start and inline-end
margin of a box. Then you can make a box that takes up no space by
setting 'width: available; margin-right: calc(0 - available)' </p>
   <p>The properties apply to all boxes except certain table-* boxes (see <a data-link-type="biblio" href="#biblio-css3tbl">[CSS3TBL]</a>) and certain inline-level boxes (see <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>). </p>
   <p class="note" role="note">Note that in a <a data-link-type="dfn">horizontal flow,</a> percentages on <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-1">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-1">margin-bottom</a> are relative to the <em>width</em> of the
containing block, not the height (and in vertical flow, <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-1">margin-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-1">margin-right</a> are relative to the height, not the width). </p>
   <h2 class="heading settled" data-level="10" id="width-and-height"><span class="secno">10. </span><span class="content">The width and height properties</span><a class="self-link" href="#width-and-height"></a></h2>
   <table class="def propdef" data-link-for-hint="width">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-width">width</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">[<var>&lt;length></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;percentage></var>] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> available <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> min-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> max-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> fit-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> auto
     <tr>
      <th>Initial:
      <td>auto
     <tr>
      <th>Applies to:
      <td>all elements but non-replaced inline
elements, table rows, and row groups
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>refer to width of containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>the specified keyword; or the specified
percentage (with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a> if present); or
the absolute length (with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a> if
present); or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> if the property does not apply; (also see
prose under &lt;percentage>)
     <tr>
      <th>Canonical order:
      <td>the length or percentage before the
keyword, if both are present
     <tr>
      <th>Animatable:
      <td>yes
   </table>
   <table class="def propdef" data-link-for-hint="height">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-height">height</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">[<var>&lt;length></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;percentage></var>] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> available <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> min-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> max-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> fit-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> complex <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> auto
     <tr>
      <th>Initial:
      <td>auto
     <tr>
      <th>Applies to:
      <td>all elements but non-replaced inline
elements, table columns, and column groups
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>see prose
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>the specified keywords, the specified
percentage (see prose under &lt;percentage>) or the absolute
length; <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> if the property does not apply
     <tr>
      <th>Canonical order:
      <td>the length or percentage before the
keyword, if both are present
     <tr>
      <th>Animatable:
      <td>yes
   </table>
   <p>These properties specify the width and height of the <em>content
area</em> or <em>border area</em> (depending on <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a>) of certain boxes. </p>
   <p>Values have the following meanings: </p>
   <dl>
    <dt><var>&lt;length></var> 
    <dd>Specifies the size using a length
  unit. Negative values are illegal. 
    <dt><var>&lt;percentage></var> 
    <dd>Specifies a percentage width or
  height. The percentage is calculated with respect to the width (in
  the case of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-1">width</a>) or height (for <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-1">height</a>) of the generated box’s <a data-link-type="dfn">containing block.</a> Negative percentages are illegal. If
  the containing block’s width, resp. height depends on this element, <span class="issue" id="issue-50abea28"><a class="self-link" href="#issue-50abea28"></a>then the percentage is relative to <a class="property" data-link-type="propdesc">100vw</a>, resp. <a class="property" data-link-type="propdesc">100vh</a>.</span> 
    <dt>available 
    <dd>Equal to the <em>containing block</em> width or
  height minus the current element’s margin, border, and padding. <span class="issue" id="issue-f7ee2b31"><a class="self-link" href="#issue-f7ee2b31"></a>If the required width, resp. height of the
  containing block is unknown (depends on this element), then <span class="css">available</span> is equal to <a class="property" data-link-type="propdesc">100vw</a>, resp. <a class="property" data-link-type="propdesc">100vh</a>.</span> 
    <dt>max-content 
    <dd>The <em>max-content</em> width or
  height. 
    <dt>min-content 
    <dd>The <em>min-content</em> width or height. 
    <dt>fit-content 
    <dd>Equal to max(<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a>,
  min(<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a>, <span class="css">available</span>)). 
    <dt>auto 
    <dd>The width or height depends on the values of other
  properties. See <a href="#Calculating">Calculating widths, heights
  and margins</a> below. 
    <dt>complex 
    <dd>(Only on <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-2">height</a>.) The same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, except
  that elements with a <a data-link-type="dfn" href="#complex-aspect-ratio" id="ref-for-complex-aspect-ratio-1">complex aspect ratio</a> (defined below) are
  considered to
  have an <a data-link-type="dfn">intrinsic ratio</a>. More precisely: for the purposes
  of the section on <a href="#Calculating">“Calculating widths,
  heights and margins,”</a> the element is treated as if its height
  was <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and it had an <a data-link-type="dfn">intrinsic ratio</a>. 
   </dl>
   <p class="issue" id="issue-587bb6b6"><a class="self-link" href="#issue-587bb6b6"></a>Another possible value is <var>&lt;non-negative-number></var>, which would mean <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a> times that number. </p>
   <p class="issue" id="issue-c8a421a7"><a class="self-link" href="#issue-c8a421a7"></a>Another idea is to allow optional keywords border-box
and content-box before or after a length or percentage. This would
mean the same as (and overrides) setting the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property to
that property, but allows width and height to be treated differently
and avoids that width and box-sizing getout of sync. </p>
   <p class="issue" id="issue-d92091ac"><a class="self-link" href="#issue-d92091ac"></a>The width property of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-device-adapt-1/#at-ruledef-viewport">@viewport</a> <a data-link-type="biblio" href="#biblio-css-device-adapt">[CSS-DEVICE-ADAPT]</a> is a shorthand for min-width and max-width and
can have either one or two values. Anything we can do to alleviate
risk of the confusion? </p>
   <p class="note" role="note">Note that <span class="css">available</span>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a> and <span class="css">complex</span> do not exist in level 2. </p>
   <p>The keyword values (in contrast to length and percentage values)
are not influenced by the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property, they always set the
size of the content box. </p>
   <p><span class="css">Available</span>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a> only have effect in the inline progression direction: they are
equivalent to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> when set on the <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-3">height</a> of <em>horizontal</em> elements or on the <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-2">width</a> of <em>vertical</em> elements. </p>
   <p class="note" role="note">Note that 'width: fit-content' is the same as 'width:
auto' for floats and tables, and 'width: available' is the same as
'width: auto' for blocks in the normal flow. </p>
   <div class="example" id="example-c6f7fcd0">
    <a class="self-link" href="#example-c6f7fcd0"></a> 
    <p>For example, the following rule fixes the content width of
paragraphs at 100 px: </p>
<pre>p { width: 100px }</pre>
   </div>
   <div class="example" id="example-7a9de554">
    <a class="self-link" href="#example-7a9de554"></a> 
    <p>This example shows the use of the keyword values. Assume these
style rules: </p>
<pre>div {width: 20em}
p.available {width: available}
p.min-content {width: min-content}
p.max-content {width: max-content}
p.fit-content {width: fit-content}
p.float {float: left; width: auto}
p.auto {width: auto}
* {outline: thin solid red}
</pre>
    <p>Then a document like this might be rendered as in the figure below: </p>
<pre><b>&lt;div></b>
  <b>&lt;p class=available></b>available: as wide as parent.
  <b>&lt;p class=min-content></b>min-content: as narrow as possible.
  <b>&lt;p class=max-content></b>max-content: As wide as needed, even
    if that means wider than the parent.
  <b>&lt;p class=fit-content></b>fit-content: As wide as needed.
  <b>&lt;p class=fit-content></b>fit-content: As wide as needed, but
    no wider than the parent.
  <b>&lt;p class=float></b>auto: depends on flow (=float).
  <b>&lt;p class=auto></b>auto: depends on flow (=normal).
<b>&lt;/div></b>
</pre>
   </div>
   <div class="figure">
    <p><img alt="Image: paragraphs of different
  widths" src="width-keywords"> </p>
    <p class="caption">Rendering of the example: <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a> depend only on the content; <span class="css">available</span> depends only on the containing block; <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a> depends on both; and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> acts either like <span class="css">available</span> or like <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>, depending on the type of box. </p>
   </div>
   <h2 class="heading settled" data-level="11" id="min-max"><span class="secno">11. </span><span class="content">The min-width, max-width, min-height and
max-height properties</span><a class="self-link" href="#min-max"></a></h2>
   <table class="def propdef" data-link-for-hint="min-width">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-min-width">min-width</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-min-height">min-height</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">[ [<var>&lt;length></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;percentage></var>] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a> [border-box <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> content-box]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a> ] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> available <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> min-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> max-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> fit-content
     <tr>
      <th>Initial:
      <td>0
     <tr>
      <th>Applies to:
      <td>all elements but non-replaced
inline elements, table rows, and row groups
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>refer to width, resp. height of
containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>the percentage as specified (with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a>, if present), the keyword as
specified, or the absolute length (with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a>, if present)
     <tr>
      <th>Canonical order:
      <td>the length or percentage before the
keyword, if both are present
     <tr>
      <th>Animatable:
      <td>yes
   </table>
   <table class="def propdef" data-link-for-hint="max-width">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-max-width">max-width</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-max-height">max-height</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">[ [<var>&lt;length></var> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;percentage></var>] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a> [border-box <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> content-box]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a> ] <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> available <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> min-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> max-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> fit-content <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> none
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td>all elements but non-replaced inline
elements, table rows, and row groups
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>refer to width, resp. height of
containing block
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>the percentage as specified (with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a>, if present); the keyword as
specified; the absolute length (with <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a>, if present); or none
     <tr>
      <th>Canonical order:
      <td>the length or percentage before the
keyword, if both are present
     <tr>
      <th>Animatable:
      <td>yes
   </table>
   <p>These properties allow authors to constrain content widths and
heights to a certain range. Values have the following meanings:</p>
   <dl>
    <dt><var>&lt;length></var> 
    <dd>Specifies a fixed minimum or
  maximum for <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-3">width</a> or <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-4">height</a>. Negative values are illegal. 
    <dt><var>&lt;percentage></var> 
    <dd>Specifies a minimum or maximum
  for <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-4">width</a> or <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-5">height</a> as a percentage of the corresponding
  dimension of the <em>containing block.</em> Negative percentages are
  illegal. If the containing block’s dimension is negative, the used
  value is zero. If that containing block’s dimension depends on this
  element’s dimension, then the resulting layout is undefined. <span class="issue" id="issue-b0d9dafb"><a class="self-link" href="#issue-b0d9dafb"></a>Or: use the initial value?</span> 
    <dt>max-content 
    <dd>The <em>max-content</em> width or height. 
    <dt>min-content 
    <dd>The <em>min-content</em> width or height. 
    <dt>available 
    <dd>The containing block width or height minus margin,
  border, and padding. 
    <dt>fit-content 
    <dd>For <a class="property" data-link-type="propdesc" href="#propdef-max-width" id="ref-for-propdef-max-width-1">max-width</a>/<a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-1">max-height</a>, same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a>. For <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-1">min-width</a>/<a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-1">min-height</a>, same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a>. 
    <dt><a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-3">none</a> 
    <dd>No limit on the width or height of the box. 
   </dl>
   <p>The keyword values (in contrast to length and percentage values)
are not influenced by the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property, they always set the
size of the content box. </p>
   <p><span class="css">Available</span>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a> only have effect in the inline progression direction: they are
equivalent to 0 when set on the <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-2">min-height</a> of <em>horizontal</em> elements or on the <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-2">min-width</a> of <em>vertical</em> elements; they are
equivalent to <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-4">none</a> when set on the <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-2">max-height</a> of <em>horizontal</em> elements or on the <a class="property" data-link-type="propdesc" href="#propdef-max-width" id="ref-for-propdef-max-width-2">max-width</a> of <em>vertical</em> elements. </p>
   <h2 class="heading settled" data-level="12" id="aspect"><span class="secno">12. </span><span class="content"><span class="index">Aspect ratios</span> of replaced elements</span><a class="self-link" href="#aspect"></a></h2>
   <p>For the purposes of the width and height calculations below, CSS
distinguishes four kinds of <a data-link-type="dfn">replaced elements</a>: </p>
   <dl>
    <dt>Type 1: replaced elements with both <em class="index">intrinsic
width</em> and <em class="index">intrinsic height.</em> 
    <dd>These are
replaced elements that are meant to be displayed with a certain fixed
factor (the <em class="index">intrinsic ratio</em>) between their width
and height and also have a default size. Different formats may have
different ways of specifying the size, e.g., a width and a ratio, or a
raster and a resolution in dots per inch. Raster images fall in this
category. 
    <dt>Type 2: replaced elements with only an <em class="index">intrinsic
ratio</em> 
    <dd>These are replaced elements that are meant to be
displayed with a certain fixed factor between their width and height,
but without a default size. <span class="index">SVG</span> images often
fall in the this category. 
    <dt>Type 3: replaced elements with a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="complex-aspect-ratio">complex aspect ratio</dfn> 
    <dd>These are replaced elements that do not have a <em>fixed</em> ratio between their width and height, but that do have a functional
relation between them in the sense that to every width corresponds a
certain height. HTML documents are examples of this:
the width can be chosen freely, but at every width there is a definite
intrinsic height. 
    <dt>Type 4: replaced elements without an intrinsic ratio 
    <dd>These are
replaced elements that have no relation between their width and
height. Certain <span class="index">SVG</span> images are examples of
this. 
   </dl>
   <p class="note" role="note"><span class="index">Raster images</span> are always of
type 1. See the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-images-3/#propdef-image-resolution">image-resolution</a> property for how their size in <a class="property" data-link-type="propdesc">px</a> is determined. </p>
   <div class="example" id="example-f5ee4563">
    <a class="self-link" href="#example-f5ee4563"></a> 
    <p>E.g., according to the section on <a href="#inline-replaced">inline
replaced elements</a> below, if the replaced element is an HTML
document and the height is specified as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, e.g.: </p>
<pre>... &lt;object data="example.html"
      style="width: 30em; height: auto">&lt;/object>...
</pre>
    <p>then the used height will be 150px, which is unlikely to be the
real height of the example.html document. But if the height is
specified as <span class="css">complex</span>, e.g.: </p>
<pre>... &lt;object data="example.html"
      style="width: 30em; height: complex">&lt;/object>...
</pre>
    <p>then the height will be the height the example.html document
normally has when displayed on its own with the given width. This
enables almost seamless integration of external text in a document,
without a scrollbar or other scrolling mechanism. (The external text
is still displayed with its own style sheet.) </p>
   </div>
   <div class="example" id="example-2de9379e">
    <a class="self-link" href="#example-2de9379e"></a> 
    <p>An external mathematical formula in MathML is an example of
replaced content with an intrinsic width and height. Assume the file
m.mml contains a formula, then the HTML fragment </p>
<pre>... derive &lt;img src="m.mml"
alt="that the sum of p(i) for i greater than 0 equals N">
for the case...
</pre>
    <p>renders the formula at its intrinsic size. </p>
    <p>(Note, however, that it is often better to specify the formula
directly in the HTML file, rather than as an external reference. That
way it shares the style of the surrounding text and can be broken over
several lines if it is too long.) </p>
   </div>
   <h2 class="heading settled" data-level="13" id="collapsing-margins"><span class="secno">13. </span><span class="content">Collapsing margins</span><a class="self-link" href="#collapsing-margins"></a></h2>
   <p>Certain adjoining margins, as defined in this section, combine to
form a single margin. Those margins are said to <dfn data-dfn-type="dfn" data-noexport="" id="collapse">collapse.<a class="self-link" href="#collapse"></a></dfn> Margins are <dfn data-dfn-type="dfn" data-noexport="" id="adjoining">adjoining<a class="self-link" href="#adjoining"></a></dfn> if there are no nonempty content, <a data-link-type="dfn" title="padding area">padding</a> or <a data-link-type="dfn" href="#border-area" id="ref-for-border-area-1" title="border
area">border areas</a> or <em>clearance</em> to separate them. </p>
   <div class="example" id="example-5697adb2">
    <a class="self-link" href="#example-5697adb2"></a> 
    <p>For example, in the following fragment with the given style rules: </p>
<pre>p { display: block; margin-bottom: 2em 0 1em 0 }div { display: block; margin: 2.5em 0 }
...
&lt;p>First paragraph&lt;/p>
&lt;div>
  &lt;p>Second paragraph&lt;/p>
&lt;/div></pre>
    <p>the bottom margin of the first <code>p</code> (=1em), the top margin of
the <code>div</code> (=2.5em) and the top margin of the second <code>p</code> (=2em) collapse. The result is a single margin of 2.5em (the maximum of the
three) between the bottom of the first <code>p</code> and the top of the
second. </p>
   </div>
   <div class="figure">
    <p><img alt="Three margins collapse: 1em + 2.5em + 2em" src="collapse1.png"> </p>
    <p class="caption">Schematic representation of the previous example. </p>
   </div>
   <div class="example" id="example-c6de7784">
    <a class="self-link" href="#example-c6de7784"></a> 
    <p>In the following fragment, </p>
<pre>p { display: block; margin: 2em 0 1em 0 }div { display: block; margin: 2.5em 0;
      border: thin solid }
...
&lt;p>First paragraph&lt;/p>
&lt;div>
  &lt;p>Second paragraph&lt;/p>
&lt;/div></pre>
    <p>the bottom margin of the first <code>p</code> and the top margin of
the <code>div</code> collapse, but the top margin of the second <code>p</code> does not collapse with them, because it is not <em>adjoining;</em> the border of the <code>div</code> separates them. </p>
   </div>
   <div class="figure">
    <p><img alt="Only two margins collapse: 1em + 2.5em" src="collapse2.png"> </p>
    <p class="caption">Schematic representation of the previous example. </p>
   </div>
   <p>If a set of adjoining margins collapses, then the width of the resulting
margin is <var>M</var> - <var>N</var>, where <var>M</var> is the maximum of
the adjoining margins that are positive, or zero if there are none; and <var>N</var> is the minimum of the adjoining margins that are negative, or
zero if there are none. But if any of the margins is <a data-link-type="dfn"><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fill">fill</a></a>, then the resulting margin is also <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fill">fill</a>. </p>
   <p>We call an element or box <dfn data-dfn-type="dfn" data-noexport="" id="collapsed-through">collapsed through<a class="self-link" href="#collapsed-through"></a></dfn> if two of
its margins collapse with each other. </p>
   <div class="example" id="example-6f671e29">
    <a class="self-link" href="#example-6f671e29"></a> 
    <p>The most common use of collapsing through elements is that empty
paragraphs don’t cause extra white space: </p>
<pre>&lt;p>First paragraph&lt;p>Second paragraph
&lt;p>
&lt;p>Last paragraph</pre>
    <p>There is equal space between the first and the second paragraphs as
between the second and the last. </p>
   </div>
   <p>The following two sets of rules determine which margins collapse. </p>
   <ul>
    <li>Only margins of <em>block-level</em> boxes can collapse. 
    <li>Margins of a floated box do not collapse with any other margins. 
    <li>Margins of a <em>flow root</em> do not collapse with its
  children’s margins. 
    <li>Margins of an absolutely positioned box (see <a data-link-type="biblio" href="#biblio-css3pos">[CSS3POS]</a>) do not
  collapse with any other margins. 
    <li>Margins of the root element’s box do not collapse with any other
  margins. 
    <li>If a box is <em>collapsed through</em> and it has <em>clearance</em> applied to one of its two collapsed margins, then
  those two margins do not collapse with certain of the parent’s
  margins, as follows: If clearance is applied to, respectively, the
  top, right, bottom or left margin, then the two margins do not
  collapse with the parent’s bottom, left, top or right margin,
  respectively. 
    <li>If the top margin of a box with non-zero computed <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-3">min-height</a> and <a class="property" data-link-type="propdesc">auto</a> computed <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-6">height</a> collapses with the
  bottom margin of its last in-flow child, then the child’s bottom
  margin does not collapse with the parent’s bottom margin. 
    <li>If the right margin of a box with non-zero computed <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-3">min-width</a> and <a class="property" data-link-type="propdesc">auto</a> computed <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-5">width</a> collapses with the
  left margin of its last in-flow child, then the child’s left
  margin does not collapse with the parent’s left margin. 
    <li>If the left margin of a box with non-zero computed <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-4">min-width</a> and <a class="property" data-link-type="propdesc">auto</a> computed <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-6">width</a> collapses with the
  right margin of its last in-flow child, then the child’s right
  margin does not collapse with the parent’s right margin. 
   </ul>
   <p>Except when forbidden by the list above, the following margins
collapse: </p>
   <ul>
    <li>
     <p>If a margin P collapses with a margin Q and margin Q with a
    margin R, then P, Q and R collapse together. (“Collapsing is
    transitive”) </p>
    <li>
     <p>A margin of a box collapses with the <em>block-start</em> margin of
    its parent box if those two margins are <em>adjoining.</em> </p>
    <li>
     <p>A margin of a box collapses with the <em>block-end</em> margin of
    its parent box if those two margins are <em>adjoining.</em> </p>
    <li>
     <p>The <em title="C edge">C</em> margin of a box collapses with
    the <em title="A edge">A</em> margin of a sibling box if the two
    margins are <em>adjoining.</em> </p>
    <li>
     <p>The <em title="A edge">A</em> and <em title="C edge">C</em> margins of a box collapse with each other if the two margins are <em>adjoining.</em> (The box is <em>“collapsed through.”</em>) </p>
   </ul>
   <p>If a box X is <em>collapsed through</em> then the position of its <em title="A edge">A</em> border edge is defined as follows. </p>
   <ul>
    <li>If X’s margins are collapsed with its parent’s <em>block-start</em> margin, the A border edge of X is defined to be the same as the
  parent’s block-start border edge. 
    <li>Otherwise, either the parent is not taking part in the margin
  collapsing, or only the parent’s <em>block-end</em> margin is involved.
  The position of X’s A border edge is defined to be the same as it
  would have been if X had a nonzero <em title="C edge">C</em> border. 
   </ul>
   <p class="note" role="note">Note that box X itself is invisible and its position has
no effect on the positions of the other elements with whose margins it
is being collapsed; the border edge position is only required for
laying out descendants of X. </p>
   <div class="example" id="example-04505ddd">
    <a class="self-link" href="#example-04505ddd"></a> 
    <p>In a horizontal flow, the bottom margin of an in-flow <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-2">block-level</a> element is adjoining to the top margin
of its next in-flow block-level sibling, unless that sibling has
clearance: </p>
<pre>&lt;p style="margin-bottom: 2em">The bottom margin of this
box…&lt;/p>

&lt;p style="margin-top: 3em">… collapses with the top margin
of this box, to yield max(2em, 3em) = 3em margin.&lt;/p>
</pre>
    <p>The top margin of an in-flow block-level element is adjoining to
its first in-flow block-level child’s top margin if the element has no
top border, no top padding, and the child has no clearance: </p>
<pre>&lt;div style="margin-top: 2em; padding: 0; border: 0">
  &lt;p style="margin-top: 3em">
    The top margin of the DIV and the P
    collapse, to yield max(2em, 3em) = 3em margin.
  &lt;/p>
&lt;/div>
</pre>
    <p>The bottom margin of an in-flow block-level element with a <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-7">height</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-4">min-height</a> less than the element’s used height and <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-3">max-height</a> greater than the element’s used height is adjoining to
its last in-flow block-level child’s bottom margin if the element has
no bottom padding or border: </p>
<pre>&lt;div style="margin-bottom: 2em; padding: 0; border: 0;
    height: auto; min-height: 0; max-height: 100em">
  &lt;p style="margin-bottom: 3em">
    The bottom margin of the DIV and the P collapse, to yield max(2em,
    3em) = 3em margin.
  &lt;/p>
&lt;/div>
</pre>
    <p>An element’s own margins are adjoining if the <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-5">min-height</a> property is
zero, and it has neither vertical borders nor vertical padding, and it has a <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-8">height</a> of either 0 or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, and it does not contain a line box, and all
of its in-flow children’s margins (if any) are adjoining: </p>
<pre>&lt;div style="margin-top: 2em; margin-bottom: 3em">
  &lt;p style="position: absolute">
    The DIV is empty and its top and bottom margins collapse.
  &lt;/p>
&lt;/div>
</pre>
    <p>When an element’s own margins collapse, and that element has had
clearance applied to it, its top margin collapses with the adjoining
margins of subsequent siblings but that resulting margin does not
collapse with the bottom margin of the parent block: </p>
<pre>&lt;div style="margin-bottom: 2em">
  &lt;p style="float: left">
    The margins of the next two Ps collapse
  &lt;p style="clear: left; margin-top: 4em; margin-bottom: 3em">
  &lt;/p>
  &lt;p style="margin-top: 1em; margin-bottom: 1em">
  &lt;/p>
&lt;/div>
</pre>
    <p>The top and bottom margins of the two empty Ps collapse all
together. But they can’t collapse with the bottom of the DIV, because
one of the two empty P’s has clearance. </p>
    <p class="issue" id="issue-7d9bfdc8"><a class="self-link" href="#issue-7d9bfdc8"></a>Check this. This is probably the only possible
interpretation of the rules, but it is certainly not obvious that the
clearance of one element may stop later elements from
collapsing… </p>
   </div>
   <p>Collapsing is based on the used value of <a class="property" data-link-type="propdesc" href="#propdef-padding" id="ref-for-propdef-padding-3">padding</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin" id="ref-for-propdef-margin-5">margin</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border">border</a> (i.e., after resolving any percentages). The collapsed margin is calculated
over the used value of the various margins. </p>
   <h2 class="heading settled" data-level="14" id="inline-level0"><span class="secno">14. </span><span class="content">Inline-level formatting</span><a class="self-link" href="#inline-level0"></a></h2>
   <p>In an inline formatting context, inline-level boxes are laid out in
the manner of a run of words and sentences. Inline-level formatting,
and the behavior of inline-level boxes, is specified in the Text
module <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>. </p>
   <h2 class="heading settled" data-level="15" id="Calculating"><span class="secno">15. </span><span class="content">Calculating widths, heights and margins</span><a class="self-link" href="#Calculating"></a></h2>
   <p>The following two algorithms define the <em>used value</em> of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-7">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-9">height</a> respectively and also the used values of the <a class="property" data-link-type="propdesc" href="#propdef-margin" id="ref-for-propdef-margin-6">margin</a> properties and of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>. </p>
   <p class="note" role="note">Note that they do not affect the computed values of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-8">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-10">height</a>. Also note that in some cases the used width has
to be known in order to calculate the used height, or vice versa, </p>
   <p>For <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-9">width</a>: </p>
   <ol>
    <li>The tentative used width is calculated following the rules in
  the subsections below. If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform">transform</a> is not <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-5">none</a>, it is assumed
  to be 'rotate(0)' (i.e., the identity transform) for the purposes of
  this calcutlation. 
    <li>If the tentative used width is greater than <a class="property" data-link-type="propdesc" href="#propdef-max-width" id="ref-for-propdef-max-width-3">max-width</a>, the same
  rules are applied again, but this time using the computed value of <a class="property" data-link-type="propdesc" href="#propdef-max-width" id="ref-for-propdef-max-width-4">max-width</a> as the computed value for <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-10">width</a>. 
    <li>If the resulting width is smaller than <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-5">min-width</a>, the same rules
  are applied again, but this time using the computed value of <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-6">min-width</a> as the computed value for <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-11">width</a>. 
   </ol>
   <p>For <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-11">height</a>: </p>
   <ol>
    <li>The tentative used height is calculated following the rules in
  the sections below. If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform">transform</a> is not <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-6">none</a>, it is assumed to
  be 'rotate(0)' (i.e., the identity transform) for the purposes of
  this calcutlation. 
    <li>If the tentative used height is greater than <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-4">max-height</a>, the
  same rules are applied again, but this time using the computed value
  of <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-5">max-height</a> as the computed value for <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-12">height</a>. 
    <li>If the resulting height is smaller than <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-6">min-height</a>, the same
  rules are applied again, but this time using the computed value of <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-7">min-height</a> as the computed value for <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-13">height</a>. 
   </ol>
   <p>If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-transforms-1/#propdef-transform">transform</a> is not <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-7">none</a>, the used width or height is further
modified as follows: </p>
   <ul>
    <li>If the element is <em>horizontal</em> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-14">height</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>,
  then the used height is the height of the content box after the
  transformation is applied. 
    <li>If the element is <em>vertical</em> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-12">width</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>,
  then the used width is the width of the content box after the
  transformation is applied. 
   </ul>
   <p class="note" role="note">Note that translations <a data-link-type="biblio" href="#biblio-css3-transforms">[CSS3-TRANSFORMS]</a> do not
affect the width or height and also do not affect the placement of
boxes in the normal flow (see <a href="#block-level" id="ref-for-block-level-3">“Block-level
formatting”</a>). </p>
   <p>However, for <em>replaced elements</em> with an <em>intrinsic
ratio</em> and both <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-13">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-15">height</a> specified as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the
algorithm is as follows: </p>
   <p>Select from the table the resolved height and width values for the
appropriate constraint violation. Take the <var>max-width</var> and <var>max-height</var> as max(<var>min</var>, <var>max</var>) so that <var>min</var> ≤ <var>max</var> holds true. In this table <var>w</var> and <var>h</var> stand for the results of the width and height computations ignoring
the <a class="property" data-link-type="propdesc" href="#propdef-min-width" id="ref-for-propdef-min-width-7">min-width</a>, <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-8">min-height</a>, <a class="property" data-link-type="propdesc" href="#propdef-max-width" id="ref-for-propdef-max-width-5">max-width</a> and <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-6">max-height</a> properties. Normally these are the intrinsic width and height, but
they may not be in the case of replaced elements with intrinsic
ratios. </p>
   <table class="equiv-table">
    <thead>
     <tr>
      <th>Constraint violation 
      <th>Resolved width 
      <th>Resolved height 
    <tbody>
     <tr>
      <td>none 
      <td><var>w</var> 
      <td><var>h</var> 
     <tr>
      <td><var>w</var> > <var>max-width</var> 
      <td><var>max-width</var> 
      <td>max(<var>max-width</var> * <var>h</var>/<var>w</var>, <var>min-height</var>) 
     <tr>
      <td><var>w</var> &lt; <var>min-width</var> 
      <td><var>min-width</var> 
      <td>min(<var>min-width</var> * <var>h</var>/<var>w</var>, <var>max-height</var>) 
     <tr>
      <td><var>h</var> > <var>max-height</var> 
      <td>max(<var>max-height</var> * <var>w</var>/<var>h</var>, <var>min-width</var>) 
      <td><var>max-height</var> 
     <tr>
      <td><var>h</var> &lt; <var>min-height</var> 
      <td>min(<var>min-height</var> * <var>w</var>/<var>h</var>, <var>max-width</var>) 
      <td><var>min-height</var> 
     <tr>
      <td>(<var>w</var> > <var>max-width</var>) and (<var>h</var> > <var>max-height</var>), where (<var>max-width</var>/<var>w</var> ≤ <var>max-height</var>/<var>h</var>) 
      <td><var>max-width</var> 
      <td>max(<var>min-height</var>, <var>max-width</var> * <var>h</var>/<var>w</var>) 
     <tr>
      <td>(<var>w > max-width</var>) and (<var>h > max-height</var>), where (<var>max-width/w > max-height/h</var>) 
      <td>max(<var>min-width</var>, <var>max-height</var> * <var>w</var>/<var>h</var>) 
      <td><var>max-height</var> 
     <tr>
      <td>(<var>w &lt; min-width</var>) and (<var>h &lt; min-height</var>), where (<var>min-width</var>/<var>w</var> ≤ <var>min-height</var>/<var>h</var>) 
      <td>min(<var>max-width</var>, <var>min-height</var> * <var>w</var>/<var>h</var>) 
      <td><var>min-height</var> 
     <tr>
      <td>(<var>w</var> &lt; <var>min-width</var>) and (<var>h</var> &lt; <var>min-height</var>), where (<var>min-width</var>/<var>w</var> > <var>min-height</var>/<var>h</var>) 
      <td><var>min-width</var> 
      <td>min(<var>max-height</var>, <var>min-width</var> * <var>h</var>/<var>w</var>) 
     <tr>
      <td>(<var>w</var> &lt; <var>min-width</var>) and (<var>h</var> > <var>max-height</var>) 
      <td><var>min-width</var> 
      <td><var>max-height</var> 
     <tr>
      <td>(<var>w</var> > <var>max-width</var>) and (<var>h</var> &lt; <var>min-height</var>) 
      <td><var>max-width</var> 
      <td><var>min-height</var> 
   </table>
   <p>Then apply the appropriate rules in the subsections below, as if <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-14">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-16">height</a> were computed as these values. </p>
   <p>The following subsections apply if the element’s <em>containing
block</em> is <em>horizontal.</em> If it is <em>vertical,</em> the
same rules apply, but with every occurrence of “left” replaced by
“top,” “right” by “bottom,” “top” by “right,” “bottom” by “left”,
“height” by “width” and “width” by “height.” </p>
   <p>For the purposes of evaluating percentages in the
following subsections, if the width of the containing block is
unknown, then assume the width is <a class="property" data-link-type="propdesc">100vw</a>. Likewise, if the height of
the containing block is unknown, then assume it is <a class="property" data-link-type="propdesc">100vh</a>. </p>
   <h3 class="heading settled" data-level="15.1" id="inline-non-replaced"><span class="secno">15.1. </span><span class="content">Inline, non-replaced
elements</span><a class="self-link" href="#inline-non-replaced"></a></h3>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-15">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-17">height</a> properties do not apply. For each of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-2">margin-left</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-2">margin-right</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-2">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-2">margin-bottom</a>, the used value is calculated from
the computed value by evaluating percentages and replacing <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fill">fill</a> by 0. </p>
   <p class="note" role="note">Note that this section applies equally when
the <em>containing block</em> is <em>horizontal</em> as when it
is <em>vertical.</em> </p>
   <h3 class="heading settled" data-level="15.2" id="inline-replaced"><span class="secno">15.2. </span><span class="content">Inline or floating, replaced
elements</span><a class="self-link" href="#inline-replaced"></a></h3>
   <p>The used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-3">margin-left</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-3">margin-right</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-3">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-3">margin-bottom</a> derive from the computed value, except that a computed
value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> becomes a used value of <a class="property" data-link-type="propdesc">0</a>. </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-18">height</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-16">width</a> both have computed values of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and
the element also has an intrinsic width, then that intrinsic width is
the used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-17">width</a>. </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-19">height</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-18">width</a> both have computed values of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and
the element also has an intrinsic height, then that intrinsic height
is the used value of <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-20">height</a>. </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-21">height</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-19">width</a> both have computed values of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and
the element has no intrinsic width, but does have an intrinsic height
and intrinsic ratio; or if <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-20">width</a> has a computed value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-22">height</a> has some other computed value, and the element has an
intrinsic ratio; then the used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-21">width</a> is: </p>
   <blockquote>
    <p>(used height) * (intrinsic ratio)</p>
   </blockquote>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-23">height</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-22">width</a> both have computed values of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and
the element has no intrinsic height, but does have an intrinsic width
and intrinsic ratio; or if <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-24">height</a> has a computed value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-23">width</a> has some other computed value, and the element has an
intrinsic ratio; then the used value
of <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-25">height</a> is: </p>
   <blockquote>
    <p>(used width) / (intrinsic ratio)</p>
   </blockquote>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-26">height</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-24">width</a> both have computed values of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and
the element has an intrinsic ratio but no intrinsic height or width
and the containing block’s width doesn’t itself depend on the replaced
element’s width, then the used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-25">width</a> is calculated from the <a href="#width-constraints">constraint equation</a> used for
block-level, non-replaced elements in normal flow. The used value for <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-27">height</a> is: (used width) / (intrinsic ratio). </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-26">width</a> has a computed value of <a class="property" data-link-type="propdesc">auto</a>, and the element has an
intrinsic width but no intrinsic ratio, then that intrinsic width is
the used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-27">width</a>. </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-28">height</a> has a computed value of <a class="property" data-link-type="propdesc">auto</a>, and the element has an
intrinsic height but no intrinsic ratio, then that intrinsic width is
the used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-28">width</a>. </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-29">width</a> has a computed value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, but none of the
conditions above are met, then the used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-30">width</a> becomes
300px. If 300px is too wide to fit the device, UAs should use the
width of the largest rectangle that has a 2:1 ratio and fits the
device instead. </p>
   <p>If <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-29">height</a> has a computed value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and none of the rules
above define its used value, then the used value of <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-30">height</a> must be
set to the height of the largest rectangle that has a 2:1 ratio, has a
height not greater than 150px, and has a width not greater than the
device width. </p>
   <p class="issue" id="issue-53394426"><a class="self-link" href="#issue-53394426"></a>Theoretically, a device may be wider than than 300px
  but not tall enough for 150px. In that case the resulting replaced
  element will be too tall. But this is the formulation in CSS 2.1 and
  it seems not worth improving such an edge case. </p>
   <p>Percentage intrinsic widths are first evaluated with respect to the
containing block’s width, if that width doesn’t itself depend on the
replaced element’s width. If it does, then a percentage intrinsic
width on that element can’t be resolved and the element is assumed to
have no intrinsic width. </p>
   <p class="note" role="note">Note that this section applies equally when the <em>containing block</em> is <em>horizontal</em> as when it is <em>vertical.</em> </p>
   <h3 class="heading settled" data-level="15.3" id="blockwidth"><span class="secno">15.3. </span><span class="content">Block-level, non-replaced elements
in normal flow
when <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-3">overflow</a> computes to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a></span><a class="self-link" href="#blockwidth"></a></h3>
   <p>This section also applies to <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-4">block-level</a> non-replaced
elements in normal flow when <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-4">overflow</a> does not compute to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a> but has been propagated to the viewport. </p>
   <p>The used values of the <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-1">block-start</a> padding, <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-1">block-end</a> padding, <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-2">block-start</a> margin and <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-2">block-end</a> margin are
calculated from their computed values, with any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> values
replaced by 0. </p>
   <div class="note" role="note">
    <p>The complexity of this section comes from the fact that <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> values on <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-31">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-31">height</a> are resolved differently for <em>horizontal</em> and for <em>vertical</em> elements, and
  differently for parallel flows then for <a data-link-type="dfn" href="#orthogonal-flow" id="ref-for-orthogonal-flow-1">orthogonal
  flows</a> (i.e., when the <em>containing block</em> is horizontal
  and the element itself vertical, or vice-versa). In paginated
  contexts, the element may further be split into boxes of unequal
  sizes. </p>
    <p>There are three principles. The first is: If the element’s size in
  the direction of the <em title="containing block">containing
  block’s</em> <em>measure</em> (i.e., between the <em>B
  edge</em> and the <em>D edge</em>) is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then that size is
  the same as the containing block (minus the element’s own margins,
  padding and borders, if applicable). </p>
    <p>The second principle applies to orthogonal flows only, and only
  if they are not in a paginated environment: If an element is
  orthogonal and its measure (i.e., the distance between its <em>A edge</em> and <em>C edge</em>) is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then it is treated
  as a <a href="https://www.w3.org/TR/css3-multicol/#multi-column-element">multi-column element</a> <a data-link-type="biblio" href="#biblio-css3col">[CSS3COL]</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-1/#propdef-column-width">column-width</a>, if not
  already set, is set to a value derived from the containing block’s
  size and the <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#initial-containing-block">initial containing block</a> </p>
    <p>The last principle applies to orthogonal flows in a paginated
  environment, e.g., in paged media or inside a multi-column element:
  Just like in a non-paginated environment, if an element is
  orthogonal and its measure is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then it is treated
  as a <a href="https://www.w3.org/TR/css3-multicol/#multi-column-element">multi-column element</a> <a data-link-type="biblio" href="#biblio-css3col">[CSS3COL]</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-multicol-1/#propdef-column-width">column-width</a>, if not
  already set, is set to a certain value. But, in addition, if that
  means that the first column would be so wide as stick out of the
  page or column (the <a href="https://www.w3.org/TR/css3-break/Overview.html#fragmentainer">“fragmentainer,”</a> see <a data-link-type="biblio" href="#biblio-css3-break">[CSS3-BREAK]</a>), then that first column is
  made narrower until it fits. But not narrower than <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a>. (If at that size it still doesn’t fit, it may
  instead be moved to the next page/column or, if that is not
  possible, overflow.) </p>
   </div>
   <p>If the computed value of the <a data-link-type="dfn" href="#extent" id="ref-for-extent-2">extent</a> is
not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then the used value is calculated by evaluating the
computed value. Otherwise, the <a data-link-type="dfn" href="#extent" id="ref-for-extent-3">extent</a> is
the distance between two edges that are defined as follows: </p>
   <ul>
    <li>For the first edge: If the element is the <a data-link-type="dfn">root
element</a> or if it has a non-zero <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-3">block-start</a> padding or a
non-zero <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-4">block-start</a> border, then the first edge is the <a data-link-type="dfn">headside</a> <em>margin
edge</em> of the first <a data-link-type="dfn">line box</a> or <a data-link-type="dfn">block-level
box</a> (whichever comes first); otherwise the first edge is the <a data-link-type="dfn">headside</a> <em>border edge</em> of the first <a data-link-type="dfn">line
box</a> or <a data-link-type="dfn">block-level box</a> (whichever comes first)
that doesn’t have its margins <a data-link-type="dfn">collapsed through.</a> 
    <li>For the second edge: If the element is the <a data-link-type="dfn">root
element</a> or if it has a non-zero <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-3">block-end</a> padding or a
non-zero <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-4">block-end</a> border, then the second edge is the <a data-link-type="dfn">footside</a> <em>margin
edge</em> of the last <a data-link-type="dfn">line box</a> or <a data-link-type="dfn">block-level
box</a> (whichever comes last); otherwise the second edge is the <a data-link-type="dfn">footside</a> <em>border edge</em> of the last <a data-link-type="dfn">line
box</a> or <a data-link-type="dfn">block-level box</a> (whichever comes last) that
doesn’t have its margins <a data-link-type="dfn">collapsed through.</a> 
   </ul>
   <p class="note" role="note">The above reflects the fact that the margins of the
element may collapse with the margins of its first and last children
(unless the element has a border or padding). In that case the
children’s margins fall outside the block flow dimension. </p>
   <p>The position of the edges is calculated without applying relative
positioning, if any, to the children. And only children in the normal
flow are taken into account, i.e., floating boxes and absolutely
positioned boxes are ignored. </p>
   <div class="example" id="example-f76c0b6b">
    <a class="self-link" href="#example-f76c0b6b"></a> 
    <p>For example, the DIV in this fragment has a bottom border but no
padding or border at the top. The height is thus calculated from the <em>border</em> edge of the first child (img1) to the <em>margin</em> edge of the last child (img2). The result is 8em. </p>
<pre>div {border-bottom: 0.2em dashed}
img {height: 3em; display: block; margin: 1em}
...
&lt;div>
  &lt;img src="img1" alt=...>
  &lt;img src="img2" alt=...>
&lt;/div>
</pre>
    <div class="figure">
     <p><img alt="The top margin of the first IMG does
    not contribute to the height of the DIV." src="height.png"> </p>
     <p class="caption">The height is measured from the top border edge
    of the first IMG to the bottom margin edge of the last. </p>
    </div>
   </div>
   <p>With respect to the <a data-link-type="dfn">measure,</a> one of the
following constraints must hold among the used values of the given
properties. </p>
   <ul id="width-constraints">
    <li>
     If the element has the same orientation as its containing block
(i.e., both are <em>horizontal</em> or both are <em>vertical</em>): 
     <blockquote>
      <p>inline-start margin + inline-start border + inline-start padding +
measure + inline-end padding + inline-end border + inline-end margin =
measure of containing block </p>
     </blockquote>
    <li>
     Otherwise the constraint is relative to the height or width of
the <em>initial containing block,</em> depending on whether the
element is <a data-link-type="dfn" href="#horizontal" id="ref-for-horizontal-6">horizontal</a> or <a data-link-type="dfn">vertical,</a> respectively: 
     <blockquote>
      <p>inline-start margin + inline-start border + inline-start padding +
measure + inline-end padding + inline-end border + inline-end margin =
width or height of <em>initial containing block</em> </p>
     </blockquote>
   </ul>
   <p>The used values of the above properties, except for any values that
are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, are calculated from the computed values, evaluating
percentages. If this makes the measure negative, then set
its used value to 0. Ditto for inline-start padding and inline-end
padding. <span class="note" role="note">Note that such negative values can only
happen when the specified value includes 'calc()'.</span> Then apply
one of the following cases: </p>
   <ol>
    <li id="case1"><a class="self-link" href="#case1"></a>If none of the values is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then the used value
  of the inline-end margin is set to the value that satisfies the
  constraint. 
    <li>If the <a data-link-type="dfn" href="#measure" id="ref-for-measure-1">measure</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then set the
  used value of all other properties in the constraint that are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> to 0 and set the used value of the measure so
  that the constraint is satisfied. If that makes the used value
  negative, then set it to 0 instead and apply <a href="#case1">case 1
  above.</a> 
    <li>If both the <a data-link-type="dfn" href="#inline-start" id="ref-for-inline-start-1">inline-start</a> and <a data-link-type="dfn" href="#inline-end" id="ref-for-inline-end-1">inline-end</a> margins
  are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then solve the constraint under the extra condition
  that the inline-start and inline-end margins are equal. But if that
  makes them negative, then set both to 0 and apply <a href="#case1">case 1 above.</a> 
    <li>If only the <a data-link-type="dfn" href="#inline-start" id="ref-for-inline-start-2">inline-start</a> margin is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> , then set
  the inline-start margin to the value that satisfies the constraint. 
    <li>If only the <a data-link-type="dfn" href="#inline-end" id="ref-for-inline-end-2">inline-end</a> margin is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then set the
  inline-end margin to the value that satisfies the constraint. 
   </ol>
   <h3 class="heading settled" data-level="15.4" id="other-block-level"><span class="secno">15.4. </span><span class="content">Other block-level, non-replaced elements in normal flow</span><a class="self-link" href="#other-block-level"></a></h3>
   <p>This section applies to <a data-link-type="dfn">block-level,</a> non-replaced
elements when <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-5">overflow</a> does not compute to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a> (except if
the <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-6">overflow</a> property’s value has been propagated to the viewport). </p>
   <p>The used values of <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-5">block-start</a> padding, <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-5">block-end</a> padding, <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-6">block-start</a> margin and <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-6">block-end</a> margin are
calculated from the computed values, with any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> values replaced
by 0. </p>
   <p>If the <a data-link-type="dfn">block flow dimension</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the used value
is defined by <a href="#root-height">“<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">Auto</a> heights for flow
roots.”</a> Otherwise, the used value is evaluated from the computed
value. </p>
   <p>Apply the rules for <a data-link-type="dfn" href="#inline-start" id="ref-for-inline-start-3">inline-start</a> margin, <a data-link-type="dfn" href="#inline-start" id="ref-for-inline-start-4">inline-start</a> padding, <a data-link-type="dfn">measure,</a> <a data-link-type="dfn" href="#inline-end" id="ref-for-inline-end-3">inline-end</a> padding and <a data-link-type="dfn" href="#inline-end" id="ref-for-inline-end-4">inline-end</a> margin as given above in <a href="#blockwidth"> “Block-level, non-replaced elements in normal flow when <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-7">overflow</a> computes to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>.”</a> </p>
   <h3 class="heading settled" data-level="15.5" id="inline-block-or-floating"><span class="secno">15.5. </span><span class="content"><a class="property" data-link-type="propdesc">Inline-block</a> or floating, non-replaced
elements</span><a class="self-link" href="#inline-block-or-floating"></a></h3>
   <p class="issue" id="issue-955feaa6"><a class="self-link" href="#issue-955feaa6"></a>Not yet generalized with block-start, block-end, etc. </p>
   <p>The used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-4">margin-left</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-4">margin-right</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-4">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-4">margin-bottom</a> are derived from their computed values, except that a
computed value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. </p>
   <p>If the computed value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-32">width</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the used value is the
same as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>. Otherwise the computed value is evaluated
to give the used value. </p>
   <p>If the computed value of <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-32">height</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the used value is
defined by <a href="#root-height">“<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">Auto</a> heights for flow roots.” </a> If it contains a percentage and the height of the containing
block is not known (depends on this element), then the used value is
also defined by <a href="#root-height">“<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">Auto</a> heights for flow
roots.”</a> Otherwise it is calculated by evaluating the computed
value. </p>
   <p>For inline-block boxes, the margin box is used when calculating the
height of the line box. <span class="issue" id="issue-de8d62b3"><a class="self-link" href="#issue-de8d62b3"></a>Does this belong
here?</span> </p>
   <h3 class="heading settled" data-level="15.6" id="abs-non-replaced-width"><span class="secno">15.6. </span><span class="content">Absolutely positioned, non-replaced
elements</span><a class="self-link" href="#abs-non-replaced-width"></a></h3>
   <p>For the purposes of this section and the next, the term <dfn data-dfn-type="dfn" data-lt="static position" data-noexport="" id="static-position">static
position<a class="self-link" href="#static-position"></a></dfn> (of an element) refers, roughly, to the position an
element would have had in the normal flow. More precisely: </p>
   <ul>
    <li>The static position for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> is the distance from the left
  edge of the containing block to the left margin edge of a
  hypothetical box that would have been the first box of the element
  if its <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a> property had been <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-static">static</a> and <a class="property" data-link-type="propdesc" href="#propdef-float" id="ref-for-propdef-float-3">float</a> had been <a class="property" data-link-type="propdesc">none</a>. The value is negative if the box’s margin is to the left
  of the containing block’s edge. 
    <li>The static position for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> is the distance from the right
  edge of the containing block to the right margin edge of the same
  hypothetical box as above. The value is positive if the box’s margin
  is to the left of the containing block’s edge. 
    <li>The static position for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> is the distance from the top edge
  of the containing block to the top margin edge of the same
  hypothetical box as above. The value is negative if the box’s margin
  is above the containing block’s edge. 
    <li>The static position for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> is the distance from the bottom
  edge of the containing block to the bottom margin edge of the same
  hypothetical box as above. The value is positive if the box’s margin
  is above the containing block’s edge. 
   </ul>
   <p>But rather than actually calculating the dimensions of that
hypothetical box, user agents are free to make a guess at its probable
position. </p>
   <p>For the purposes of calculating the static position, the containing
block of fixed positioned elements is the initial containing block
instead of the viewport, and all scrollable boxes should be assumed to
be scrolled to their origin. </p>
   <p>This constraint must hold among the used values: </p>
   <blockquote>
    <p><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-5">margin-left</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-left-width">border-left-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-left" id="ref-for-propdef-padding-left-1">padding-left</a> + <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-33">width</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-right" id="ref-for-propdef-padding-right-1">padding-right</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-right-width">border-right-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-5">margin-right</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> = width of containing block </p>
   </blockquote>
   <p>If all three of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>, <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-34">width</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>: First
set any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> values for <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-6">margin-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-6">margin-right</a> to 0. Then,
if the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> property of the containing block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> set <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> to the <em>static position</em> and apply rule number three
below; otherwise, set <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> to the <em>static position</em> and
apply rule number one below. </p>
   <p>If none of the three is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>: If both <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-7">margin-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-7">margin-right</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, solve the equation under the extra
constraint that the two margins get equal values, unless this would
make them negative, in which case when direction of the containing
block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> (<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>), set <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-8">margin-left</a> (<a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-8">margin-right</a>) to zero
and solve for <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-9">margin-right</a> (<a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-9">margin-left</a>). <span class="issue" id="issue-560a7b9a"><a class="self-link" href="#issue-560a7b9a"></a>Should
we remove the phrase starting with “unless”?</span> If one of <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-10">margin-left</a> or <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-10">margin-right</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, solve the equation for that
value. If the values are over-constrained, ignore the value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> (in case the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> property of the containing block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>)
or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> (in case <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>) and solve for that value. </p>
   <p>Otherwise, set <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> values for <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-11">margin-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-11">margin-right</a> to 0, and pick the one of the following six rules that applies. </p>
   <ol>
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-35">width</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>,
  then the width is as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>. Then solve for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>. 
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-36">width</a> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then
  if the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> property of the containing block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> set <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> to the <em>static position</em>, otherwise set <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> to
  the <em>static position</em>. Then solve for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> (if <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>) or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> (if <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>). 
    <li><a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-37">width</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>,
  then the width is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>. Then solve for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>. 
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-38">width</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> are not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then
  solve for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>. 
    <li><a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-39">width</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> are not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then
  solve for <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-40">width</a>. 
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> and <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-41">width</a> are not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then
  solve for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>. 
   </ol>
   <p>This constraint must also hold among the used values: </p>
   <blockquote>
    <p><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-5">margin-top</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-top-width">border-top-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-top" id="ref-for-propdef-padding-top-2">padding-top</a> + <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-33">height</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-bottom" id="ref-for-propdef-padding-bottom-1">padding-bottom</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-bottom-width">border-bottom-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-5">margin-bottom</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> = height of containing block </p>
   </blockquote>
   <p>If all three of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>, <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-34">height</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, set <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> to the static position and apply rule number three below. </p>
   <p>If none of the three are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>: If both <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-6">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-6">margin-bottom</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, solve the equation under the extra
constraint that the two margins get equal values. If one of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-7">margin-top</a> or <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-7">margin-bottom</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, solve the equation for
that value. If the values are over-constrained, ignore the value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> and solve for that value. </p>
   <p>Otherwise, pick the one of the following six rules that applies. </p>
   <ol>
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-35">height</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>:
  The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> is its computed value. The used height is
  defined by <a href="#root-height">“<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">Auto</a> heights for flow roots.” </a> The used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-8">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-8">margin-bottom</a> are their
  computed values, except that any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. 
  Finally, the constraint gives the used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>. 
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-36">height</a> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>:
  The used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> is its <a data-link-type="dfn">static position.</a> The used
  values of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-9">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-9">margin-bottom</a> are their computed
  values, except that any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. Finally,
  the constraint gives the used value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>. 
    <li><a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-37">height</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>:
  The used height is defined by <a href="#root-height">“<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">Auto</a> heights for flow roots.”</a> The used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-10">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-10">margin-bottom</a> are their computed values, except that any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. Finally, the constraint gives the used
  value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>. 
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-38">height</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> are not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>: The
  used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-11">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-11">margin-bottom</a> are their computed
  values, except that any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. The
  constraint gives the used value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>. 
    <li><a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-39">height</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> are not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>: The
  used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-12">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-12">margin-bottom</a> are their computed
  values, except that any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. The
  constraint gives the used value for <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-40">height</a>. 
    <li><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-41">height</a> are not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>: The
  used values of <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-13">margin-top</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-13">margin-bottom</a> are their computed
  values, except that any <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> gives a used value of 0. The
  constraint gives the used value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>. 
   </ol>
   <h3 class="heading settled" data-level="15.7" id="abs-replaced"><span class="secno">15.7. </span><span class="content">Absolutely positioned, replaced
elements</span><a class="self-link" href="#abs-replaced"></a></h3>
   <p>This situation is similar to the previous one, except that the
element may have an intrinsic size or ratio. The sequence of
substitutions is now: </p>
   <ol>
    <li>The used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-42">width</a> and <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-42">height</a> is determined as
  for <a href="#inline-replaced">inline replaced elements</a>. 
    <li>For each of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-14">margin-top</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-12">margin-right</a>, <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-14">margin-bottom</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-12">margin-left</a>, if the computed
  value is not <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the used value is equal to the computed
  value. 
    <li>If both <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> have the value <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then if <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> of the containing block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>, the used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> is its <a data-link-type="dfn">static position;</a> else if <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>, the used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> is its <a data-link-type="dfn">static position.</a> 
    <li>If both <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> have the value <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then the
  used value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> is its <a data-link-type="dfn">static position.</a> 
    <li>If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> (or both) are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, and <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-13">margin-left</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then the used value of <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-14">margin-left</a> is 0. 
    <li>If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> (or both) are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-13">margin-right</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then the used value of <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-14">margin-right</a> is 0. 
    <li>If neither <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> nor <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> and both <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-15">margin-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-15">margin-right</a> are <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, then the used values  satisfy the extra constraint that <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-16">margin-right</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-16">margin-left</a> are equal, unless this would make them negative, in which case when  the direction of the containing block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a> (<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>), the used  value of <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-17">margin-left</a> (<a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-17">margin-right</a>) is  0. <span class="issue" id="issue-8144d9f2"><a class="self-link" href="#issue-8144d9f2"></a>Remove the part starting with “unless”? It  looks better to center the image.</span> 
   </ol>
   <p>The remaining used values, if any, follows from these two
constraints: </p>
   <blockquote>
    <p><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-18">margin-left</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-left-width">border-left-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-left" id="ref-for-propdef-padding-left-2">padding-left</a> + <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-43">width</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-right" id="ref-for-propdef-padding-right-2">padding-right</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-right-width">border-right-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-18">margin-right</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> = width of containing block </p>
    <p><a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-top" id="ref-for-propdef-margin-top-15">margin-top</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-top-width">border-top-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-top" id="ref-for-propdef-padding-top-3">padding-top</a> + <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-43">height</a> + <a class="property" data-link-type="propdesc" href="#propdef-padding-bottom" id="ref-for-propdef-padding-bottom-2">padding-bottom</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-bottom-width">border-bottom-width</a> + <a class="property" data-link-type="propdesc" href="#propdef-margin-bottom" id="ref-for-propdef-margin-bottom-15">margin-bottom</a> + <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> = height of containing block </p>
   </blockquote>
   <p>If the first equation is over-constrained, ignore the value for
either <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a> (in case the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> property of the containing
block is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>) or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a> (in case <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>) and solve
for that value. </p>
   <p>If the second equation is over-constrained, ignore the value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a> and solve for that value. </p>
   <h3 class="heading settled" data-level="15.8" id="block-level-replaced"><span class="secno">15.8. </span><span class="content">Block-level, replaced elements in normal flow</span><a class="self-link" href="#block-level-replaced"></a></h3>
   <p>Apply the rules for <a href="#inline-replaced">inline replaced
elements</a>, but ignore the resulting values for <a class="property" data-link-type="propdesc" href="#propdef-margin-left" id="ref-for-propdef-margin-left-19">margin-left</a> and <a class="property" data-link-type="propdesc" href="#propdef-margin-right" id="ref-for-propdef-margin-right-19">margin-right</a>. To compute the used value of those, apply the rules
for <a href="#blockwidth">block-level, non-replaced elements</a> using
the used values just found for <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-44">width</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border">border</a> and <a class="property" data-link-type="propdesc" href="#propdef-padding" id="ref-for-propdef-padding-4">padding</a> as if
they were the computed values. </p>
   <h3 class="heading settled" data-level="15.9" id="floating"><span class="secno">15.9. </span><span class="content">Floating, non-replaced elements</span><a class="self-link" href="#floating"></a></h3>
   <p>The used values of the margins are derived from the computed
values, except that the used values of any margins computed as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> are <a class="property" data-link-type="propdesc">0</a>. </p>
   <p>The used value of <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-45">width</a> is derived from the computed value,
except that if <a class="property" data-link-type="propdesc" href="#propdef-width" id="ref-for-propdef-width-46">width</a> is computed as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the used value is the
same as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>. </p>
   <p>If the computed value of <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-44">height</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the used value is
given by <a href="#root-height">“<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">Auto</a> heights for flow roots.” </a> If the computed value includes a percentage and the height of the
containing block is not known (depends on this element), then the used
value is computed as if the computed value were <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>. Otherwise
the computed value is evaluated to give the used value. </p>
   <h3 class="heading settled" data-level="15.10" id="root-height"><span class="secno">15.10. </span><span class="content">Auto heights for flow roots</span><a class="self-link" href="#root-height"></a></h3>
   <p>In certain cases (see the preceding sections), the height of an
element is computed as follows: </p>
   <p>If it only has inline-level children, the height is the distance
between the top of the topmost line box and the bottom of the
bottommost line box. </p>
   <p>If it has <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-5">block-level</a> children, the height is the
distance between the top margin-edge of the topmost block-level child
box and the bottom margin-edge of the bottommost block-level child
box. </p>
   <p>Absolutely positioned children are ignored, and relatively
positioned boxes are considered without their offset. Note that the
child box may be an <em>anonymous block box.</em> </p>
   <p>In addition, if the element has any floating descendants whose
bottom margin edge is below the bottom, then the height is increased
to include those edges. Only floats that are children of the element
itself or of descendants in the normal flow are taken into account,
e.g., floats inside absolutely positioned descendants or other floats
are not. </p>
   <h2 class="heading settled" data-level="16" id="float-prop"><span class="secno">16. </span><span class="content">The float property</span><a class="self-link" href="#float-prop"></a></h2>
   <table class="def propdef" data-link-for-hint="float">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-float">float</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">left <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> right <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> top <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> bottom <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> start <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> end <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <var>&lt;page-floats></var>
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td>all, but see text
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>order of grammar
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p>This property specifies whether a box should float to the left,
right, or not at all. It only applies if the element has a <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> other than <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-8">none</a> and a <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-static">static</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-relative">relative</a>. </p>
   <p class="note" role="note">The <a class="property" data-link-type="propdesc" href="#propdef-float" id="ref-for-propdef-float-4">float</a> property in turn influences the computed
value of <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>. </p>
   <p>The values of this property have the following meanings: </p>
   <dl>
    <dt><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-transforms-1/#valdef-transform-origin-top">top</a> 
    <dd>Same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a> 
    <dt><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a> 
    <dd>If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> is <span class="css">tb</span>, the element generates
  a box that is floated to the left and content flows on the right
  side of the box (subject to the <a class="property" data-link-type="propdesc" href="#propdef-clear" id="ref-for-propdef-clear-1">clear</a> property). If <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> has a different value, the element generates a
  box that is floated to the top and content flows on the bottom side
  of the box (subject to the <a class="property" data-link-type="propdesc" href="#propdef-clear" id="ref-for-propdef-clear-2">clear</a> property). 
    <dt><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-transforms-1/#valdef-transform-origin-bottom">bottom</a> 
    <dd>same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-right">right</a> 
    <dt><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-right">right</a> 
    <dd>Similar to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a>, except the box is floated to
  the right (if <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a> is <span class="css">tb</span>) or to the bottom
  (otherwise), and content flows on the left or top side of the
  box. 
    <dt><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-scroll-snap-1/#valdef-scroll-snap-align-start">start</a> 
    <dd>If the containing block’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>, then
  the same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a>; otherwise the same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-right">right</a>. 
    <dt><a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-scroll-snap-1/#valdef-scroll-snap-align-end">end</a> 
    <dd>If the containing block’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>, then
  the same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-right">right</a>; otherwise the same as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a>. 
    <dt><a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-9">none</a> 
    <dd>The box is not floated. 
    <dt><var>&lt;page-floats></var> 
    <dd>See Generated Content for
  Paged Media <a data-link-type="biblio" href="#biblio-css3gcpm">[CSS3GCPM]</a>. <span class="issue" id="issue-04ce26a4"><a class="self-link" href="#issue-04ce26a4"></a>Check that the names
  page-top, page-bottom, next-top, or otherwise do not clash with top
  and bottom</span> 
   </dl>
   <p>User agents may treat float as <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-10">none</a> on the root element. </p>
   <h3 class="heading settled" data-level="16.1" id="intro-to-floats"><span class="secno">16.1. </span><span class="content">Introduction to floats</span><a class="self-link" href="#intro-to-floats"></a></h3>
   <p>(This section is not normative.) </p>
   <p>A float is a box that is shifted to the left or right on the
current line. The most interesting characteristic of a float (or
“floating” box) is that content may flow along its side (or be
prohibited from doing so by the <a class="property" data-link-type="propdesc" href="#propdef-clear" id="ref-for-propdef-clear-3">clear</a> property). Content flows down
the right side of a left-floated box and down the left side of a
right-floated box. The following is a (non-normative) introduction to
float positioning and content flow; the exact rules governing float
positioning are given in the next section. </p>
   <p>A floated box is shifted to the left or right until its margin edge
touches the containing block edge or the margin edge of another float. 
If there is a line box, the top of the floated box is aligned with the
top of the current line box. </p>
   <p>If there isn’t enough horizontal room for the float, it is shifted
downward until either it fits or there are no more floats present. </p>
   <p>Since a float is not in the flow, non-positioned block boxes
created before and after the float box flow vertically as if the float
didn’t exist. However, <em>line boxes</em> created next to the float
are shortened to make room for the margin box of the float. If a
shortened line box is too small to contain any further content, then
it is shifted downward until either it fits or there are no more
floats present. Any content in the current line before a floated box
is re-flowed in the first available line on the other side of the
float. In other words, if inline boxes are placed on the line before a
left float is encountered that fits in the remaining line box space,
the left float is placed on that line, aligned with the top of the
line box, and then the inline boxes already on the line are moved
accordingly to the right of the float (the right being the other side
of the left float) and vice versa for rtl and right floats. </p>
   <div class="example" id="example-92f178e4">
    <a class="self-link" href="#example-92f178e4"></a> 
    <p>In the following document fragment, the containing block is too
narrow to contain the content next to the float, so the content gets
moved to below the floats where it is aligned in the line box
according to the text-align property. </p>
<pre>p { width: 10em; border: solid aqua; }
span { float: left; width: 5em; height: 5em; border: solid blue; }

...

&lt;p>
  &lt;span> &lt;/span>
  Supercalifragilisticexpialidocious
&lt;/p>
</pre>
    <p>This fragment might look like this: </p>
    <div class="figure">
     <p><img alt="Image illustrating the effect of an
  unbreakable piece of content being reflowed to just after a float
  which left insufficient room next to it for the content to fit." src="supercal.png"> </p>
     <p class="caption">The text is too long to fit in a shortened line box
  next to the float (dark blue box) and so it is pushed down until it
  is passed the float. </p>
    </div>
   </div>
   <p>Several floats may be adjacent, and this model also applies to
adjacent floats in the same line. </p>
   <div class="example" id="example-12cb15a5">
    <a class="self-link" href="#example-12cb15a5"></a> 
    <p>The following rule floats all IMG boxes with <code>class="icon"</code> to the left (and sets the left margin to <a class="property" data-link-type="propdesc">0</a>): </p>
<pre>img.icon { 
  float: left;
  margin-left: 0;
}
</pre>
   </div>
   <div class="example" id="example-6ace46e8">
    <a class="self-link" href="#example-6ace46e8"></a> 
    <p>Consider the following HTML source and style sheet: </p>
<pre>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
&lt;HTML>
  &lt;HEAD>
    &lt;TITLE>Float example&lt;/TITLE>
    &lt;STYLE type="text/css">
      IMG { float: left }
      BODY, P, IMG { margin: 2em }
    &lt;/STYLE>
  &lt;/HEAD>
  &lt;BODY>
    &lt;P>&lt;IMG src=img.png alt="This image will illustrate floats">
       Some sample text that has no other...
  &lt;/BODY>
&lt;/HTML>
</pre>
    <p>The IMG box is floated to the left. The content that follows is
formatted to the right of the float, starting on the same line as the
float. The line boxes to the right of the float are shortened due to
the float’s presence, but resume their “normal” width (that of the
containing block established by the P element) after the float. This
document might be formatted as: </p>
    <div class="figure">
     <p><img alt="Image illustrating how floating boxes interact with margins." src="floateg.png"> </p>
     <p class="caption">An image showing the various margins of the BODY, P
  and IMG element. Not that the top margin of the floating IMG does
  not collapse with the top margins of the P and BODY elements. </p>
    </div>
    <p>Formatting would have been exactly the same if the document had
been: </p>
<pre>&lt;BODY>
  &lt;P>Some sample text 
  &lt;IMG src=img.png alt="This image will illustrate floats">
           that has no other...
&lt;/BODY>
</pre>
    <p>because the content to the left of the float is displaced by
the float and re-flowed down its right side. </p>
   </div>
   <p>As stated in <a href="#collapsing-margins">“Collapsing margins,” </a> the margins of floating boxes never <em>collapse</em> with
margins of adjacent boxes. Thus, in the previous example, vertical
margins do not collapse between the P box and the floated IMG box. </p>
   <p>The contents of floats are stacked as if floats generated new
stacking contexts, except that any elements that actually create new
stacking contexts take part in the float’s parent’s stacking context. 
A float can overlap other boxes in the normal flow (e.g., when a
normal flow box next to a float has negative margins). When this
happens, floats are rendered in front of non-positioned in-flow
blocks, but behind in-flow inlines. </p>
   <div class="example" id="example-d0cd2b37">
    <a class="self-link" href="#example-d0cd2b37"></a> 
    <p>Here is another illustration, showing what happens when a float
overlaps borders of elements in the normal flow. </p>
    <div class="figure">
     <p><img alt="Image showing a floating image
  that overlaps the borders of two paragraphs: the borders are
  interrupted by the image." src="float2p.png"> </p>
     <p class="caption">A floating image obscures borders of block boxes it
  overlaps. </p>
    </div>
   </div>
   <p>The following example illustrates the use of the <a class="property" data-link-type="propdesc" href="#propdef-clear" id="ref-for-propdef-clear-4">clear</a> property
to prevent content from flowing next to a float. </p>
   <div class="example" id="example-b773c1b2">
    <a class="self-link" href="#example-b773c1b2"></a> 
    <p>Assuming a rule such as this: </p>
<pre>p { clear: left }
</pre>
    <p>formatting might look like this: </p>
    <div class="figure">
     <p><img alt="Image showing a floating
  image and the effect of &apos;clear: left&apos; on the two paragraphs." src="floatclear.png"> </p>
     <p class="caption">Both paragraphs have set 'clear: left', which
  causes the second paragraph to be “pushed down” to a position
  below the float – <em>clearance</em> is added above its top margin
  to accomplish this (see the <a class="property" data-link-type="propdesc" href="#propdef-clear" id="ref-for-propdef-clear-5">clear</a> property). </p>
    </div>
   </div>
   <h3 class="heading settled" data-level="16.2" id="float-rules"><span class="secno">16.2. </span><span class="content">Rules for positioning floats</span><a class="self-link" href="#float-rules"></a></h3>
   <p>Here are the precise rules that govern the positions of floats with
a <em>horizontal</em> containing block. References to other elements
in these rules refer only to other elements in the same <em>flow</em> as the float’s parent. </p>
   <ol>
    <li>The left <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-1">margin edge</a> of a left-floating box may not
be to the left of the left edge of its <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-5">containing block</a>. 
An analogous rule holds for right-floating elements. 
    <li>If the current box is left-floating, and there are any
left-floating boxes generated by elements earlier in the source
document, then for each such earlier box, either the left <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-2">margin
edge</a> of the current box must be to the right of the right <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-3">margin edge</a> of the earlier box, or its top must be lower
than the bottom of the earlier box. Analogous rules hold for
right-floating boxes. 
    <li>The right <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-4">margin edge</a> of a left-floating box may not
be to the right of the left <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-5">margin edge</a> of any
right-floating box that is to the right of it. Analogous rules hold
for right-floating elements. 
    <li>A floating box’s top <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-6">margin edge</a> may not be higher
than the top of its <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-6">containing block</a>. When the float
occurs between two collapsing margins, the float is positioned as if
it had an otherwise empty <a data-link-type="dfn" title="anonymous box">anonymous block
parent</a> taking part in the flow. The position of such a parent
is defined by <a data-link-type="dfn" title="collapsed through">the rules</a> in the
section on margin collapsing. 
    <li>The top <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-7">margin edge</a> of a floating box may not be
higher than the margin top of any <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-6">block-level</a> or <a data-link-type="dfn" href="https://drafts.csswg.org/css-page-floats-3/#float">floated</a> box generated by an element earlier in the source
document. 
    <li>The top <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-8">margin edge</a> of an element’s floating box may
not be higher than the top of any <a data-link-type="dfn">line-box</a> containing a
box generated by an element earlier in the source document. 
    <li>A left-floating box that has another left-floating box to its left
may not have its right margin edge to the right of its containing
block’s right edge. (Loosely: a left float may not stick out at the
right edge, unless it is already as far to the left as possible.) An
analogous rule holds for right-floating elements. 
    <li>A floating box must be placed as high as possible. 
    <li>A left-floating box must be put as far to the left as possible, a
right-floating box as far to the right as possible. A higher position
is preferred over one that is further to the left/right. 
   </ol>
   <div class="example" id="example-272b68aa">
    <a class="self-link" href="#example-272b68aa"></a> 
    <p>This HTML fragment results in the b floating to the right. </p>
<pre>&lt;P>a&lt;SPAN style="float: right">b&lt;/SPAN>&lt;/P></pre>
    <p>If the P element’s width is enough, the a and the b will be side by
side. It might look like this: </p>
    <div class="figure">
     <p><img alt="An a at the left side of a box and a b at the right side" src="float-right.png"> </p>
    </div>
   </div>
   <p>The rules for a float with a containing block with
'writing-mode: rl' are exactly the same after replacing left with
top, right with bottom, top with right, bottom with left and adjusting
the text accordingly. Here they are: </p>
   <p class="issue" id="issue-fb837995"><a class="self-link" href="#issue-fb837995"></a>[Still some words like lower and higher to replace...] </p>
   <ol>
    <li>The top <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-9">margin edge</a> of a top-floating box may not be
above the top edge of its <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-7">containing block</a>. An analogous
rule holds for bottom-floating elements. 
    <li>If the current box is top-floating, and there are any top-floating
boxes generated by elements earlier in the source document, then for
each such earlier box, either the top <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-10">margin edge</a> of the
current box must be below the bottom <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-11">margin edge</a> of the
earlier box, or its right must be to the left of the left margin edge
of the earlier box. Analogous rules hold for bottom-floating boxes. 
    <li>The bottom <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-12">margin edge</a> of a top-floating box may not
be below the top <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-13">margin edge</a> of any
bottom-floating box that is below it. Analogous rules hold
for bottom-floating elements. 
    <li>A floating box’s right <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-14">margin edge</a> may not be to the
right of the right edge of its <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-8">containing block</a>. When the
float occurs between two collapsing margins, the float is positioned
as if it had an otherwise empty <a data-link-type="dfn" title="anonymous box">anonymous
block parent</a> taking part in the flow. The position of such a
parent is defined by <a data-link-type="dfn" title="collapsed through">the rules</a> in the section on margin collapsing. 
    <li>The right <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-15">margin edge</a> of a floating box may not be to
the right of the right margin edge of any <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-7">block-level</a> or <a data-link-type="dfn" href="https://drafts.csswg.org/css-page-floats-3/#float">floated</a> box generated by an element earlier in the source
document. 
    <li>The right <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-16">margin edge</a> of an element’s floating box
may not be to the right of the right edge of any <a data-link-type="dfn">line-box</a> containing a box generated by an element earlier in the source
document. 
    <li>A top-floating box that has another top-floating box above it
may not have its bottom margin edge below its containing
block’s bottom edge. (Loosely: a top float may not stick out at the
bottom edge, unless it is already as far to the top as possible.) An
analogous rule holds for bottom-floating elements. 
    <li>A floating box must be placed as far to the right as possible. 
    <li>A top-floating box must be put as far to the top as possible, a
bottom-floating box as far to the bottom as possible. A position
further to the right is preferred over one that is further to the
top/bottom. 
   </ol>
   <p>The rules for a float with a containing block with
'writing-mode: lr' are exactly the same after replacing left with
top, right with bottom, top with left and bottom with right. They are
given here for completeness: </p>
   <p class="issue" id="issue-36d597b1"><a class="self-link" href="#issue-36d597b1"></a>[...] </p>
   <p class="note" role="note">Note that a box with a value of <a class="property" data-link-type="propdesc" href="#propdef-float" id="ref-for-propdef-float-5">float</a> other than <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-11">none</a> is a <em>flow root.</em> </p>
   <p>The border box of a table, a <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-8">block-level</a> replaced
element, or an element in the normal flow that is a <em>flow root</em> (such as an element with <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-8">overflow</a> other than <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>) must not
overlap any floats in the same flow as the element itself. If
necessary, implementations should clear the said element by placing it
below any preceding floats, but may place it adjacent to such floats
if there is sufficient space, <span class="issue" id="issue-7d0916f5"><a class="self-link" href="#issue-7d0916f5"></a>by increasing one
margin and decreasing the opposite margin. (“Sufficient space” means
that the opposite margin does not become negative.)</span> </p>
   <h2 class="heading settled" data-level="17" id="clear-prop"><span class="secno">17. </span><span class="content">The clear property</span><a class="self-link" href="#clear-prop"></a></h2>
   <table class="def propdef" data-link-for-hint="clear">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-clear">clear</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> left <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> right <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> both
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td><a data-link-type="dfn" href="#block-level" id="ref-for-block-level-9">block-level</a> elements
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p class="issue" id="issue-e181ba15"><a class="self-link" href="#issue-e181ba15"></a>[To do: copy from CSS2 <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> and generalize to
vertical text, define <dfn data-dfn-type="dfn" data-noexport="" id="clearance">clearance.<a class="self-link" href="#clearance"></a></dfn>] </p>
   <h2 class="heading settled" data-level="18" id="clear-after-prop"><span class="secno">18. </span><span class="content">The clear-after property</span><a class="self-link" href="#clear-after-prop"></a></h2>
   <table class="def propdef" data-link-for-hint="clear-after">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-clear-after">clear-after</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> left <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> right <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> top <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> bottom <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> inside <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> outside <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> start <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> end <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> both <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> descendants
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td>block-level elements
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Computed value:
      <td>specified value
   </table>
   <p>It is sometimes useful to make sure that the bottom border of a
block-level element goes below floating elements. The <a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-1">clear-after</a> property increases the element’s padding as needed. More precisely: If
the element has a <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-7">block-end</a> padding or <a data-link-type="dfn" href="#block-end" id="ref-for-block-end-8">block-end</a> border, and there are any floats on the indicated side(s) in the
current <a data-link-type="dfn" href="#flow" id="ref-for-flow-3">flow</a> up to and including the end of this element,
then find the one whose <a data-link-type="dfn" href="#c" id="ref-for-c-2" title="C edge">C</a> <a data-link-type="dfn" href="#margin-edge" id="ref-for-margin-edge-17">margin edge</a> is furthest away from the <a data-link-type="dfn" href="#block-start" id="ref-for-block-start-7">block-start</a> <a data-link-type="dfn">content edge</a> of the <a data-link-type="dfn">containing block.</a> If that C margin edge is further from the
containing block’s block-start than the element’s block-end content edge is, then
increase the element’s block-end padding by the difference. </p>
   <div class="figure">
    <p><img alt=" " src="clear-after.png"> </p>
    <p class="caption">The effect of 'clear-after: left' on a paragraph
  next to a floating image: the bottom padding of the paragraph is
  stretched, so that the original padding and the border go below the
  float. </p>
   </div>
   <p class="note" role="note">Note: Since a floating element is a <em>flow root,</em> setting <a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-2">clear-after</a> on such an element only
takes into account any descendant floats in the flow established by the
element itself. </p>
   <div class="example" id="example-ac8baad8">
    <a class="self-link" href="#example-ac8baad8"></a> 
    <p>These four images illustrate the effect of <a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-3">clear-after</a> on
elements with and without padding or border. They show two documents,
both have two paragraphs and the top paragraph contains a floating
image. In the document on the left, the first paragraph does not have
any bottom padding or border. In the document on the right it
does. The top row shows the layout without any <a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-4">clear-after</a>, the
bottom row shows the effect of setting 'clear-after: left' on the
first paragraph. </p>
    <table class="xequiv-table">
     <thead>
      <tr>
       <th><a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-5">clear-after</a> 
       <th>Without padding or border 
       <th>With padding and border 
     <tbody>
      <tr>
       <th> <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-12">none</a> 
       <td>
        <div class="figure">
         <p><img alt="" src="clear-after1.png"></p>
         <p class="caption">The text of
    the second paragraph wraps around the floating image that started
    in the first paragraph. </p>
        </div>
       <td>
        <div class="figure">
         <p><img alt="" src="clear-after2.png"></p>
         <p class="caption">The
    floating image that starts in the first paragraph overlaps the
    bottom border of that paragraph. The text of second paragraph
    wraps around the image as well. </p>
        </div>
      <tr>
       <th> <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a> 
       <td>
        <div class="figure">
         <p><img alt="" src="clear-after1.png"></p>
         <p class="caption">As the
    first paragraph has no padding that can be stretched or border
    that can be moved, the <a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-6">clear-after</a> has no effect on it and the
    layout is exactly the same as in the first image. </p>
        </div>
       <td>
        <div class="figure">
         <p><img alt="" src="clear-after3.png"></p>
         <p class="caption">The effect
    of <a class="property" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-7">clear-after</a> on the first paragraph is to increase the bottom
    padding so that the bottom border is now below the floating
    image. The second paragraph thus starts lower as well and doesn’t
    have to wrap around the image. </p>
        </div>
    </table>
   </div>
   <p>The value of the property determines which kinds of floats are taken into
account: </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="clear-after" data-dfn-type="value" data-export="" id="valdef-clear-after-none" title="none!!value of &apos;clear-after&apos;"><a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-13">none</a></dfn> 
    <dd>No effect. 
    <dt>left, top 
    <dd>Only left and top floating elements are considered. 
    <dt>right, bottom 
    <dd>Only right and bottom floating elements are considered, 
    <dt>inside 
    <dd>If the bottom of the element occurs on a right-hand page, only left
      floating elements are considered. On a left-hand page, only right
      floating elements. On media that are not paged, <a class="property" data-link-type="propdesc">inside</a> means the same
      as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>. 
    <dt>outside 
    <dd>Analogous 
    <dt>start 
    <dd>If the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> of the element is <a class="property" data-link-type="propdesc">ltr</a>, same as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>, otherwise same as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>. 
    <dt>end 
    <dd>If the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> of the element is <a class="property" data-link-type="propdesc">ltr</a>, same as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>, otherwise same as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>. 
    <dt><dfn data-dfn-for="clear-after" data-dfn-type="dfn" data-noexport="" id="clear-after-both" title="both!!value of &apos;clear-after&apos;">both<a class="self-link" href="#clear-after-both"></a></dfn> 
    <dd>Both left/top and right/bottom floats are considered. 
    <dt>descendants 
    <dd>All floats in the element’s flow that are descendants of the
    element are considered, but not any other floats. 
   </dl>
   <div class="example" id="example-45ded860">
    <a class="self-link" href="#example-45ded860"></a> 
    <p>In simple cases, the effect of 'overflow: hidden' can be quite
similar to 'clear-after: both', e.g., this documents looks the same whether it contains <a class="css" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-9">overflow: hidden</a> or <a class="css" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-8">clear-after: both</a>: </p>
<pre><b>&lt;html></b>
<b>&lt;style></b>
 div {overflow: hidden; border: solid}
 .float {float: left; width: 20%;
   margin: 1em; border: solid}
<b>&lt;/style></b>
<b>&lt;div></b>
 <b>&lt;p class=float></b>This paragraph floats and is quite long.
 <b>&lt;p></b>short text
<b>&lt;/div></b>
</pre>
    <div class="figure">
     <p><img alt="[screendump]" src="clear-after4.png"> </p>
     <p class="caption">The DIV’s border goes around the floating box. </p>
    </div>
    <p>But in more complex cases, the fact that 'overflow: hidden' affects
overflow and creates a <a data-link-type="dfn" href="#flow-root" id="ref-for-flow-root-4">flow root</a> can be visible. This is the
same document, but now there is a floating box <em>before</em> the
DIV: </p>
<pre><b>&lt;html></b>
<b>&lt;style></b>
 div {overflow: hidden; border: solid}
 .float {float: left; width: 20%;
   margin: 1em; border: solid}
<b>&lt;/style></b>
<b>&lt;p class=float></b>This paragraph floats and is quite long.
<b>&lt;div></b>
 <b>&lt;p></b>short text
<b>&lt;/div></b>
</pre>
    <div class="figure">
     <p><img alt="[screendump]" src="clear-after5.png"> </p>
     <p class="caption">With <a class="css" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-10">overflow: hidden</a>, the floating box before the
DIV causes the DIV as a whole to become narrower </p>
    </div>
    <div class="figure">
     <p><img alt="[screendump]" src="clear-after6.png"> </p>
     <p class="caption">With <a class="css" data-link-type="propdesc" href="#propdef-clear-after" id="ref-for-propdef-clear-after-9">clear-after: both</a> instead of ''overflow:
hidden'', the floating box before the DIV doesn’t change the width of
the DIV, but it <em>does</em> change the height. </p>
    </div>
   </div>
   <p class="issue" id="issue-0e6bbc54"><a class="self-link" href="#issue-0e6bbc54"></a>Use only two values: height-includes-floats and
height-does-not-include floats? [DavidB 2004-02-29] </p>
   <p class="issue" id="issue-b0e716ea"><a class="self-link" href="#issue-b0e716ea"></a>Daniel Beardsmore <a href="http://lists.w3.org/Archives/Public/www-style/2007Feb/0120.html"> proposed</a> a property 'underhang-limit: &lt;count of full lines>' to
protect against the case that the last line of a paragraph (or the
last few lines) is shown under a float. In that case it looks better
to indent that line like the other lines of the paragraph. The default
is <a class="property" data-link-type="propdesc">1</a>, i.e., no protection. </p>
   <div class="issue" id="contain-floats">
    <a class="self-link" href="#contain-floats"></a> 
    <p>Alternative ideas to clear-after are new values on <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-11">overflow</a>, <a class="property" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-45">height</a>, <a class="property" data-link-type="propdesc" href="#propdef-min-height" id="ref-for-propdef-min-height-9">min-height</a> or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>, e.g.: <a class="css" data-link-type="propdesc" href="#propdef-height" id="ref-for-propdef-height-46">height: contain</a>. </p>
   </div>
   <h2 class="heading settled" data-level="19" id="overflow-intro"><span class="secno">19. </span><span class="content">Overflow</span><a class="self-link" href="#overflow-intro"></a></h2>
   <p>When some content of an element is placed outside the element’s
content box, the element is said to overflow. This module allows
overflow to be clipped, other modules may add other treatments, e.g.,
scale it down or to scroll it (“marquee,” see <a data-link-type="biblio" href="#biblio-css3-marquee">[CSS3-MARQUEE]</a>). </p>
   <h3 class="heading settled" data-level="19.1" id="overflow-props"><span class="secno">19.1. </span><span class="content">The overflow, overflow-x and overflow-y properties</span><a class="self-link" href="#overflow-props"></a></h3>
   <p class="issue" id="issue-8a164fa2"><a class="self-link" href="#issue-8a164fa2"></a>In the preceding sections, several things (such as flow
roots) depend on the value of <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-12">overflow</a>. We probably need to rewrite
them in terms of “overflow-x and/or -y” or similar. </p>
   <table class="def propdef" data-link-for-hint="overflow-x">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-overflow-x">overflow-x</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-overflow-y">overflow-y</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">visible <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> hidden <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> scroll <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> no-display <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> no-content
     <tr>
      <th>Initial:
      <td>visible
     <tr>
      <th>Applies to:
      <td>non-replaced <em>block-level</em> elements
and non-replaced <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a> elements
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Computed value:
      <td>as specified, except <a class="property" data-link-type="propdesc">visible</a>, see text
   </table>
   <table class="def propdef" data-link-for-hint="overflow">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-overflow">overflow</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">[ visible <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> hidden <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> scroll <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> no-display <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> no-content ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-num-range">{1,2}</a>
     <tr>
      <th>Initial:
      <td>see individual properties
     <tr>
      <th>Applies to:
      <td>non-replaced <em>block-level</em> elements
and non-replaced <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a> elements
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Computed value:
      <td>as specified, except <a class="property" data-link-type="propdesc">visible</a>, see text
   </table>
   <p>These properties specify whether content is clipped when it
overflows the element’s <em>content area.</em> It affects the clipping
of all of the element’s content except any descendant elements (and
their respective content and descendants) whose containing block is
the viewport or an ancestor of the element. <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-1">Overflow-x</a> determines
clipping at the left and right edges, <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-1">overflow-y</a> at the top and
bottom edges. </p>
   <p><a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-13">Overflow</a> is a shorthand. If it has one keyword, it sets both <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-2">overflow-x</a> and <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-2">overflow-y</a> to that keyword; if it has two, it sets <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-3">overflow-x</a> to the first and <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-3">overflow-y</a> to the second. Keywords
have the following meanings: </p>
   <dl>
    <dt>visible 
    <dd>This value indicates that content is not clipped, i.e., it may
    be rendered outside the content box. 
    <dt>hidden 
    <dd>This value indicates that the content is clipped and that no <em>scrolling mechanism</em> should be provided to view the
    content outside the clipping region. 
    <dt>scroll 
    <dd>This value indicates that the content is clipped and that if
    the user agent uses a <em>scrolling mechanism</em> that is visible
    on the screen (such as a scroll bar or a panner), that mechanism
    should be displayed for a box whether or not any of its content is
    clipped. This avoids any problem with scrollbars appearing and
    disappearing in a dynamic environment. When this value is
    specified and the target medium is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/mediaqueries-4/#valdef-media-print">print</a>, overflowing content
    may be printed. 
    <dt>auto 
    <dd>The behavior of the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a> value is UA-dependent, but should
    cause a <em>scrolling mechanism</em> to be provided for
    overflowing boxes. 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="no-display">no-display<a class="self-link" href="#no-display"></a></dfn> 
    <dd class="issue" id="issue-9e88a7e6"><a class="self-link" href="#issue-9e88a7e6"></a>When the content doesn’t fit in the content box,
    the whole box is removed, as if 'display: none' were specified. 
    [This idea is due to Till Halbach &lt;tillh@opera.com>, July
    21, 2005] 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="no-content">no-content<a class="self-link" href="#no-content"></a></dfn> 
    <dd class="issue" id="issue-8023eb32"><a class="self-link" href="#issue-8023eb32"></a>When the content doesn’t fit in the content box,
    the whole content is hidden, as if 'visibility: hidden' were
    specified. [This idea is due to Till Halbach
    &lt;tillh@opera.com>, July 21, 2005] 
   </dl>
   <p>Even if <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-14">overflow</a> is set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>, content may be clipped to
a UA’s document window by the native operating environment. </p>
   <p>UAs must apply the <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-15">overflow</a> property set on the root element to
the viewport. HTML UAs must instead apply the <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-16">overflow</a> property from
the BODY element to the viewport, if the value on the HTML element is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>. The <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a> value when used for the viewport must be
interpreted as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>. The element from which the value is
propagated must have a used value for <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-17">overflow</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>. </p>
   <p class="issue" id="issue-06d8ecd9"><a class="self-link" href="#issue-06d8ecd9"></a>The para above is from CSS 2.1. Need to check if the
introduction of overflow-x/y changes anything. </p>
   <p>In the case of a scrollbar being placed on an edge of the element’s
box, it should be inserted between the inner border edge and the outer
padding edge. The space taken up by the scrollbars affects the
computation of the dimensions in the rendering model. </p>
   <p>A UA may use multiple scrolling mechanisms at the same time. E.g.,
if content overflows both to the right and to the bottom, it may use a
marquee effect for the overflow to the right and a scrollbar for the
overflow to the bottom. </p>
   <p class="note" role="note">Note that a box with <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-18">overflow</a> other than <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a> is a <em>flow root.</em> </p>
   <div class="example" id="example-b2ef5fa8">
    <a class="self-link" href="#example-b2ef5fa8"></a> 
    <p>Consider the following example of a block quotation
(&lt;blockquote>) that is too big for its containing block
(established by a &lt;div>). Here is the source: </p>
<pre>&lt;div>
&lt;blockquote>
&lt;p>I didn’t like the play, but then I saw
it under adverse conditions - the curtain was up.&lt;/p>
&lt;cite>- Groucho Marx&lt;/cite>
&lt;/blockquote>
&lt;/div>
</pre>
    <p>Here is the style sheet controlling the sizes and style of the
generated boxes: </p>
<pre>div { width : 100px; height: 100px;
      border: thin solid red;
      }

blockquote   { width : 125px; height : 100px;
      margin-top: 50px; margin-left: 50px; 
      border: thin dashed black
      }

cite { display: block;
       text-align : right; 
       border: none
       }
</pre>
    <p>The initial value of <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-19">overflow</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>, so the
&lt;blockquote> would be formatted without clipping, something like
this: </p>
    <div class="figure">
     <p><img alt="[image: Rendered overflow]" src="overflow1"> </p>
     <p class="caption">Possible rendering with 'overflow: visible' </p>
    </div>
    <p>Setting <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-20">overflow</a> to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-hidden">hidden</a> for the &lt;div>, on the other
hand, causes the &lt;blockquote> to be clipped by the containing
block: </p>
    <div class="figure">
     <p><img alt="[image: Rendered overflow]" src="overflow2"> </p>
     <p class="caption">Possible rendering with 'overflow: hidden' </p>
    </div>
    <p>A value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-scroll">scroll</a> would tell UAs that support a visible
scrolling mechanism to display one so that users could access the
clipped content. </p>
   </div>
   <div class="example" id="example-4a4023db">
    <a class="self-link" href="#example-4a4023db"></a> 
    <p>Consider this case where an absolutely positioned element is mixed
with an overflow parent. Style sheet: </p>
<pre>container { position: relative; border: solid; }
scroller { overflow: scroll; height: 5em; margin: 5em; }
satellite { position: absolute; top: 0; }
body { height: 10em; }
</pre>
    <p>Document fragment: </p>
<pre>&lt;container>
 &lt;scroller>
  &lt;satellite/>
  &lt;body/>
 &lt;/scroller>
&lt;/container>
</pre>
    <p>In this example, the “scroller” element will not scroll the
“satellite” element, because the latter’s containing block is
outside the element whose overflow is being clipped and scrolled. </p>
   </div>
   <p id="collapse-scroll">The combination of collapsing margins, <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-7">max-height</a> and <a class="css" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-21">overflow: auto</a> can lead to subtle differences in
implementations, unless special care is taken. A UA should assume that
an element can be rendered <em>without</em> a scrolling mechanism
first, perform all the collapsing of margins, and check that the
content height is indeed less than the <a class="property" data-link-type="propdesc" href="#propdef-max-height" id="ref-for-propdef-max-height-8">max-height</a>. If it is not, the
process is repeated under the assumption that a scrolling mechanism <em>is</em> needed. </p>
   <div class="example" id="example-4d8e4054">
    <a class="self-link" href="#example-4d8e4054"></a> 
    <p>In the following document fragment, the outer DIV has ''height:
auto<span class="css">, but </span>max-height: 5em''. The inner DIV has large margins and
would normally just fit: </p>
<pre>...
    #d1 { overflow: auto; max-height: 5em }
    #d2 { margin: 2em; line-height: 1 }
...
&lt;div id=d1>
  &lt;div id=d2>
    This DIV has big margins.
  &lt;/DIV>
&lt;/DIV>
</pre>
    <p>If we assume that d1 needs scroll bars, then the height of d1,
including the single line of text and twice 2em of margins, adds
up to 5em plus a scrollbar. Since that is greater than 5em, the
maximum allowed height, it seems we made the right assumption and d1
indeed needs scrollbars. </p>
    <p>However, we should have started by assuming that no scrollbars are
needed. In that case the content height of d1 is exactly the maximum
height of 5em, proving that the assumption was correct and d1 indeed
should not have scrollbars. </p>
   </div>
   <p>The computed values of <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-4">overflow-x</a> and <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-4">overflow-y</a> are the same
as their specified values, except that some combinations with <a class="property" data-link-type="propdesc">visible</a> are not possible: if one is specified as <a class="property" data-link-type="propdesc">visible</a> and the
other is <a class="property" data-link-type="propdesc">scroll</a> or <a class="property" data-link-type="propdesc">auto</a>, then <a class="property" data-link-type="propdesc">visible</a> is set to <a class="property" data-link-type="propdesc">auto</a>. <span class="issue" id="issue-4c224dd4"><a class="self-link" href="#issue-4c224dd4"></a>The computed value of <a class="property" data-link-type="propdesc" href="#propdef-overflow" id="ref-for-propdef-overflow-22">overflow</a> is equal to the
computed value of <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-5">overflow-x</a> if <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-5">overflow-y</a> is the same; otherwise
it is the pair of computed values of <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-6">overflow-x</a> and <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-6">overflow-y</a>.</span> </p>
   <p>The <dfn data-dfn-type="dfn" data-noexport="" id="scrolling-mechanism">scrolling mechanism<a class="self-link" href="#scrolling-mechanism"></a></dfn> depends on the UA. The most
common mechanism is a scrollbar, but panners, hand cursors, page
flickers, etc. are also possible. A value of <a class="property" data-link-type="propdesc">scroll</a> would tell UAs
that support a visible scrolling mechanism to display one so that
users can access the clipped content. The <a class="property" data-link-type="propdesc">overflow-style</a> property
lets an author specify one or more preferred scrolling mechanism. </p>
   <p class="note" role="note">Note that <a class="property" data-link-type="propdesc" href="#propdef-overflow-x" id="ref-for-propdef-overflow-x-7">overflow-x</a> and <a class="property" data-link-type="propdesc" href="#propdef-overflow-y" id="ref-for-propdef-overflow-y-7">overflow-y</a> did not exist in
CSS2. </p>
   <p class="note" role="note">Note that <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-text-overflow">text-overflow</a> (see <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>) can be used to give a visual indication where text has been
clipped. </p>
   <h2 class="heading settled" data-level="20" id="visibility-prop"><span class="secno">20. </span><span class="content">The visibility property</span><a class="self-link" href="#visibility-prop"></a></h2>
   <table class="def propdef" data-link-for-hint="visibility">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-visibility">visibility<a class="self-link" href="#propdef-visibility"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">visible <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> hidden <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> collapse
     <tr>
      <th>Initial:
      <td>visible
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>all elements
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p>This property specifies whether the boxes generated by an element
are rendered. Invisible boxes still affect layout (set the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> property to <a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-14">none</a> to suppress box generation altogether). Values
have the following meanings: </p>
   <dl>
    <dt>visible 
    <dd>The generated box is visible. 
    <dt>hidden 
    <dd>The generated box is invisible (fully transparent,
  nothing is drawn), but still affects layout. Furthermore,
  descendants of the element will be visible if they have 'visibility:
  visible'. 
    <dt>collapse 
    <dd>See the Tables module <a data-link-type="biblio" href="#biblio-css3tbl">[CSS3TBL]</a>. If used on
  elements other than rows, row groups, columns, or column groups, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-ruby-1/#valdef-ruby-merge-collapse">collapse</a> has the same meaning as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-hidden">hidden</a>. 
   </dl>
   <h2 class="heading settled" data-level="21" id="stacking"><span class="secno">21. </span><span class="content">Stacking contexts</span><a class="self-link" href="#stacking"></a></h2>
   <p>This section defines the painting order in more detail than
described in the rest of the specification.</p>
   <h3 class="heading settled" data-level="21.1" id="definitions"><span class="secno">21.1. </span><span class="content">Definitions</span><a class="self-link" href="#definitions"></a></h3>
   <dl>
    <dt>Tree Order
    <dd>Preorder depth-first traversal of the <em>rendering</em> tree, in
logical (not visual) order for bidirectional content, after taking
into account properties that move boxes around.
    <dt>Element
    <dd>In this description, “element” refers to actual elements,
pseudo-elements, and anonymous boxes. Pseudo-elements and anonymous
boxes are treated as descendants in the appropriate places. For
example, an outside list marker comes before an adjoining '::before'
box in the line box, which comes before the content of the box, and so
forth.
   </dl>
   <h3 class="heading settled" data-level="21.2" id="painting"><span class="secno">21.2. </span><span class="content">Painting order</span><a class="self-link" href="#painting"></a></h3>
   <p>The bottom of the stack is the furthest from the user, the top
    of the stack is the nearest to the user: </p>
   <div class="figure">
    <p><img alt="All layers are between the canvas
      and the user" src="stack.png"> </p>
    <p class="caption">Schematic diagram of a stacking context with
      four layers. </p>
   </div>
   <p>The stacking context background and most negative positioned
    stacking contexts are at the bottom of the stack, while the most
    positive positioned stacking contexts are at the top of the stack. </p>
   <p>The canvas is transparent if contained within another, and
    given a UA-defined color if it is not. It is infinite in extent
    and contains the root element. Initially, the viewport is anchored
    with its top left corner at the canvas origin. </p>
   <p>The painting order for the descendants of an element generating
    a stacking context (see the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-z-index">z-index</a> property) is: </p>
   <ol class="stack">
    <li>
     <p>If the element is a root element: </p>
     <ol>
      <li>background color of element over the entire canvas. 
      <li>background image of element, over the entire canvas,
	  anchored at the origin that would be used if it was painted
	  for the root element. 
     </ol>
    <li>
     <p>If the element is a block, list-item, or other block
	equivalent: </p>
     <ol>
      <li>background color of element unless it is the root
	  element. 
      <li>background image of element unless it is the root
	  element. 
      <li>border of element. 
     </ol>
     <p>Otherwise, if the element is a block level table: </p>
     <ol>
      <li>table backgrounds (color then image) unless it is the
	  root element. 
      <li>column group backgrounds (color then image). 
      <li>column backgrounds (color then image). 
      <li>row group backgrounds (color then image). 
      <li>row backgrounds (color then image). 
      <li>cell backgrounds (color then image). 
      <li>all table borders (in tree order for separated borders). 
     </ol>
    <li>
     <p>Stacking contexts formed by positioned descendants with
	negative z-indices (excluding 0) in z-index order (most
	negative first) then tree order. </p>
    <li>
     <p>For all its in-flow, non-positioned, <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-10">block-level</a> descendants in tree order: If the element is a block,
	list-item, or other block equivalent: </p>
     <ol>
      <li>background color of element. 
      <li>background image of element. 
      <li>border of element. 
     </ol>
     <p>Otherwise, the element is a table: </p>
     <ol>
      <li>table backgrounds (color then image). 
      <li>column group backgrounds (color then image). 
      <li>column backgrounds (color then image). 
      <li>row group backgrounds (color then image). 
      <li>row backgrounds (color then image). 
      <li>cell backgrounds (color then image). 
      <li>all table borders (in tree order for separated borders). 
     </ol>
    <li>
     <p>All non-positioned floating descendants, in tree order. For
	each one of these, treat the element as if it created a new
	stacking context, but any positioned descendants and
	descendants which actually create a new stacking context
	should be considered part of the parent stacking context, not
	this new one. </p>
    <li>
     <p>If the element is an inline element that generates a
	stacking context, then: </p>
     <ol>
      <li>
       <p>For each line box that the element is in: </p>
       <ol>
        <li>Jump to <a href="#each-box">7.2.1</a> for the
	      box(es) of the element in that line box (in tree order). 
       </ol>
     </ol>
    <li>
     <p>Otherwise: first for the element, then for all its in-flow,
	non-positioned, <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-11">block-level</a> descendants in tree order: </p>
     <ol>
      <li>
       <p>If the element is a <a data-link-type="dfn" href="#block-level" id="ref-for-block-level-12">block-level</a> replaced element, then:
	    the replaced content, atomically. </p>
      <li>
       <p>Otherwise, for each line box of that element: </p>
       <ol>
        <li id="each-box">
         <a class="self-link" href="#each-box"></a> 
         <p>For each box that is a child of that element, in
		that line box, in tree order: </p>
         <ol>
          <li>
           <p>background color of element. </p>
          <li>
           <p>background image of element. </p>
          <li>
           <p>border of element. </p>
          <li>
           <p>For inline elements: </p>
           <ol>
            <li>
             <p>For all the element’s in-flow,
			non-positioned, inline-level children that are
			in this line box, and all runs of text inside
			the element that is on this line box, in tree
			order: </p>
             <ol>
              <li>
               <p>If this is a run of text, then: </p>
               <ol>
                <li>any underlining affecting the text
			      of the element, in tree order of the
			      elements applying the underlining (such
			      that the deepest element’s underlining,
			      if any, is painted topmost and the root
			      element’s underlining, if any, is drawn
			      bottommost). 
                <li>any overlining affecting the text of
			      the element, in tree order of the
			      elements applying the overlining (such
			      that the deepest element’s overlining,
			      if any, is painted topmost and the root
			      element’s overlining, if any, is drawn
			      bottommost). 
                <li>the text. 
                <li>any line-through affecting the text
			      of the element, in tree order of the
			      elements applying the line-through (such
			      that the deepest element’s line-through,
			      if any, is painted topmost and the root
			      element’s line-through, if any, is drawn
			      bottommost). 
               </ol>
              <li>
               <p>Otherwise, jump to <a href="#each-box">7.2.1</a> for that
			    element. </p>
             </ol>
           </ol>
           <p>For inline-block and inline-table elements: </p>
           <ol>
            <li>For each one of these, treat the element as
		      if it created a new stacking context, but any
		      positioned descendants and descendants which
		      actually create a new stacking context should be
		      considered part of the parent stacking context,
		      not this new one. 
           </ol>
           <p>For inline-level replaced elements: </p>
           <ol>
            <li>the replaced content, atomically. 
           </ol>
         </ol>
         <p class="note" role="note">Some of the boxes may have been
		generated by line splitting or the Unicode
		bidirectional algorithm. </p>
        <li>
         <p>Optionally, the outline of the element (see <a href="#outlines">10 below</a>). </p>
       </ol>
      <li>
       <p>Optionally, if the element is <a data-link-type="dfn">block-level,</a> the outline
	    of the element (see <a href="#outlines">10 below</a>). </p>
     </ol>
    <li>
     <p>All positioned descendants with 'z-index: auto' or
	'z-index: 0', in tree order. For those with 'z-index: auto',
	treat the element as if it created a new stacking context, but
	any positioned descendants and descendants which actually
	create a new stacking context should be considered part of the
	parent stacking context, not this new one. For those with
	'z-index: 0', treat the stacking context generated atomically. </p>
    <li>
     <p>Stacking contexts formed by positioned descendants with
	z-indices greater than or equal to 1 in z-index order
	(smallest first) then tree order. </p>
    <li id="outlines">
     <a class="self-link" href="#outlines"></a> 
     <p>Finally, implementations that do not draw outlines in steps
	above must draw outlines from this stacking context at this
	stage. (It is recommended to draw outlines in this step and
	not in the steps above.) </p>
   </ol>
   <h3 class="heading settled" data-level="21.3" id="notes"><span class="secno">21.3. </span><span class="content">Notes</span><a class="self-link" href="#notes"></a></h3>
   <p>The background of the root element is only painted once, over
    the whole canvas. </p>
   <p>While the backgrounds of bidirectional inlines are painted in
    tree order, they are positioned in visual order. Since the
    positioning of inline backgrounds is unspecified
, the exact result of these two requirements is
    UA-defined. CSS may in the future
    define this in more detail. </p>
   <h2 class="heading settled" data-level="22" id="float-displace-1"><span class="secno">22. </span><span class="content">The <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-1">float-displace</a> and <a class="property" data-link-type="propdesc" href="#propdef-indent-edge-reset" id="ref-for-propdef-indent-edge-reset-1">indent-edge-reset</a> properties [alternative 1]</span><a class="self-link" href="#float-displace-1"></a></h2>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-2">float-displace</a> property defines different ways in which text
can wrap around a float. </p>
   <p class="issue" id="issue-ec3e4b5e"><a class="self-link" href="#issue-ec3e4b5e"></a>Could this property be merged with <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-exclusions-1/#propdef-wrap-flow">wrap-flow</a> in <a data-link-type="biblio" href="#biblio-css3-exclusions">[CSS3-EXCLUSIONS]</a>? </p>
   <h3 class="heading settled" data-level="22.1" id="float-displace-prop"><span class="secno">22.1. </span><span class="content">The <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-3">float-displace</a> property</span><a class="self-link" href="#float-displace-prop"></a></h3>
   <table class="def propdef" data-link-for-hint="float-displace">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-float-displace">float-displace</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">line <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> indent <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block-within-page
     <tr>
      <th>Initial:
      <td>line
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>all block-level elements
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Computed value:
      <td>Same as specified value
   </table>
   <p>This property determines the line wrapping policy in the presence of
floats. Values have the following meanings: </p>
   <dl>
    <dt>line 
    <dd>Line boxes should be shortened and moved so as to avoid floats. The
      margin, border, padding and background of the element are not affected
      by floats. (This is the behavior as described in CSS2.) <span class="issue" id="issue-43091330"><a class="self-link" href="#issue-43091330"></a>[add description or image?]</span> 
    <dt>indent 
    <dd>
     The distance between the margin edge of the floats and the start of
      the line box is set to the distance between the active <em>reference
      indent edge</em> (see the <a class="property" data-link-type="propdesc" href="#propdef-indent-edge-reset" id="ref-for-propdef-indent-edge-reset-2">indent-edge-reset</a> property) and the content
      edge of the block box. This ensures that relative indents are preserved
      in the presence of floats. 
     <div class="figure">
      <p><img alt="Example of lines wrapping around a float individually." src="float-displace-indent.png"> </p>
      <p class="caption">Example of 'float-displace: indent'. Note that the
      “bar” paragraph has the same indent (green arrow) next to the float as
      below it . </p>
     </div>
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="block" title="block!!value of &apos;float-displace&apos;">block<a class="self-link" href="#block"></a></dfn> 
    <dd>
     <p>The containing block’s width as used by the horizontal formatting
      model is reduced by the width of the floats intruding upon its content
      area (not taking into account floating descendants or floating elements
      that appear later in the document tree). The block is then flowed in
      this reduced containing block width. </p>
     <p>If the effective containing block width is, by the algorithm given
      above, reduced to a value smaller than the sum of the margin-left,
      border-width-left, padding-left, width, padding-right,
      border-width-right, and margin-right values (treating any <a class="property" data-link-type="propdesc">auto</a> values
      as zero) then the margin-top of the block is increased until the
      effective containing block width is no longer so constrained or until
      all floats have been cleared, whichever occurs first. </p>
     <div class="figure">
      <p><img alt="Example of blocks being made narrower because of floats" src="float-displace-block.png"> </p>
      <p class="caption">Example of 'float-displace: block' </p>
     </div>
    <dt>block-within-page 
    <dd>As for the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a> value, but the determination of intrusions that
      adjust the width of the block is done separately on each page on which
      the block appears. Thus, the block may be narrowed on the first page
      due to one or more intrusions, but may expand (or contract) its width
      on subsequent pages with different intrusions. 
   </dl>
   <div class="example" id="example-8b11427b">
    <a class="self-link" href="#example-8b11427b"></a> 
    <p>A set of rules for HTML might look like this: </p>
<pre>OL, UL, LI {float-displace: indent}TABLE {float-displace: block}</pre>
    <p>Lines in a list will get extra indentation when they are next to a float,
so you can still see that they are part of the list, and tables will be made
narrower as a whole. </p>
   </div>
   <h3 class="heading settled" data-level="22.2" id="indent-edge-reset-prop"><span class="secno">22.2. </span><span class="content">The <a class="property" data-link-type="propdesc" href="#propdef-indent-edge-reset" id="ref-for-propdef-indent-edge-reset-3">indent-edge-reset</a> property</span><a class="self-link" href="#indent-edge-reset-prop"></a></h3>
   <table class="def propdef" data-link-for-hint="indent-edge-reset">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-indent-edge-reset">indent-edge-reset</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> margin-edge <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> border-edge <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> padding-edge <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> content-edge
     <tr>
      <th>Initial:
      <td>none
     <tr>
      <th>Applies to:
      <td>all elements with a block-level inner formatting context.
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>specified value
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Animatable:
      <td>yes
   </table>
   <p>This property determines which edge to use as the <dfn data-dfn-type="dfn" data-lt="reference indent edge" data-noexport="" id="reference-indent-edge">reference indent
edge<a class="self-link" href="#reference-indent-edge"></a></dfn> when calculating the amount of indent to preserve when the value
of <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-4">float-displace</a> is set to <span class="css">indent</span>. </p>
   <dl>
    <dt><dfn class="css" data-dfn-for="indent-edge-reset" data-dfn-type="value" data-export="" id="valdef-indent-edge-reset-none" title="none!!value of &apos;indent-edge-reset&apos;"><a class="css" data-link-type="maybe" href="#valdef-clear-after-none" id="ref-for-valdef-clear-after-none-15">none</a><a class="self-link" href="#valdef-indent-edge-reset-none"></a></dfn> 
    <dd>This block does not introduce a new reference edge. 
    <dt>margin-edge 
    <dt>border-edge 
    <dt>padding-edge 
    <dt>content-edge 
    <dd>A new reference indent edge is introduced by this block. Which edge
      is used as the reference indent edge is determined by which value is
      given. 
   </dl>
   <p>The reference indent edge is the nearest ancestor in the same formatting
context which has a non-none value for <a class="property" data-link-type="propdesc" href="#propdef-indent-edge-reset" id="ref-for-propdef-indent-edge-reset-4">indent-edge-reset</a>. If no ancestor in the formatting
context has a value specified for this property, then the content edge of the
root of the formatting context is used. </p>
   <h2 class="no-num heading settled" id="float-displace-2"><span class="content">The ‘float-displace’ property [alternative 2]</span><a class="self-link" href="#float-displace-2"></a></h2>
   <p class="issue" id="issue-b65b6450"><a class="self-link" href="#issue-b65b6450"></a>Alternative definition, that (1) avoids the need for <a class="property" data-link-type="propdesc" href="#propdef-indent-edge-reset" id="ref-for-propdef-indent-edge-reset-5">indent-edge-reset</a> and (2) changes not just the line boxes, but also
the content edge, so that list markers stay close to the content: </p>
   <table class="def propdef" data-link-for-hint="float-displace--alternative-2">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-float-displace--alternative-2">float-displace--alternative-2<a class="self-link" href="#propdef-float-displace--alternative-2"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">line <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> indent <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block-within-page
     <tr>
      <th>Initial:
      <td>line
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>yes
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>all block-level elements
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Computed value:
      <td>Same as specified value
   </table>
   <dl>
    <dt>line 
    <dd>
     <p>Line boxes are shortened so they don’t overlap floats. 
      See <a href="#contour">below</a> for the details. The element’s
      margin, border or padding are not influenced by the presence of
      floats. (This is the only behavior in CSS level 2.) </p>
    <dt>indent 
    <dd>
     <p>Line boxes are first shortened as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-policy-line">line</a>. If the
      distance between the inline-start edge of the content box and the inline-start
      edge of the line box is then not zero, then that distance is
      further increased by the element’s <a data-link-type="dfn" href="#relative-indent" id="ref-for-relative-indent-1">relative indent</a> (defined below). Ditto for the inline-end edge. The element’s margin,
      border or padding are not influenced by the presence of floats. </p>
    <dt>block 
    <dd>
     <p>The margins of the element are increased (and the width thus
      reduced) by the amount necessary so that the border box of the
      element doesn’t overlap any floats in the same flow that are
      created by elements earlier in the document; and then the
      margins are increased even more by the amount of the <a data-link-type="dfn" href="#relative-indent" id="ref-for-relative-indent-2">relative indent</a> on the relevant side of the element. If
      that causes the element to have more overflow than it would have
      had with a value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-policy-line">line</a>, the element is moved down instead
      (by adding clearance) just enough that it doesn’t have more
      overflow, or that its top border edge is just below the bottom
      margin edge of all floats. </p>
     <p>Line boxes inside the element are shortened and/or moved as
      needed the same way as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-policy-line">line</a>. </p>
     <p>Note that floats that are descendants of the element do not
      influence the element’s margins, but they may influence the line
      boxes. </p>
    <dt>block-within-page 
    <dd>
     <p>Like block, except that the parts of the element on different
      pages are treated as separate blocks for the purpose of this
      property and are only indented as necessary to avoid floats on
      the same page. </p>
   </dl>
   <p class="note" role="note">Note that centered text (<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-text-3/#propdef-text-align">text-align</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-flexbox-1/#valdef-justify-content-center">center</a>) is
centered relative to the content edges, not relative to the edges of
the line box. </p>
   <p class="note" role="note">Note also that <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a> and <span class="css">block-within-page</span> influence the position of the element’s list marker (if any), because
list markers are positioned relative to the content edge. Indeed, this
may be the main reason for using <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-5">float-displace</a>: to move the list
markers from one side of the float (or on top of the float) to the
other side. </p>
   <p>A <a data-link-type="dfn">line box</a> normally stretches from an
element’s <a data-link-type="dfn">content edge</a> to the opposite content edge,
unless it overflows (see <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>), but if the element’s <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-6">float-displace</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-policy-line">line</a> or <span class="css">indent</span> it may fall short of either
or both content edges. The following defines how line boxes are
shortened in the case of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-gcpm-3/#footnote-policy-line">line</a>: </p>
   <p id="contour">For all elements <var>E</var>, and all floats <var>F</var> whose
parent is in the same <a data-link-type="dfn" href="#flow" id="ref-for-flow-4">flow</a> as <var>E</var>, and all <a data-link-type="dfn">line boxes</a> <var>L</var> of <var>E</var>: if <var>L</var> contains any inline boxes that are generated by elements
that come after <var>F</var> in the document, then <var>L</var> may not overlap the <em>exclusion zone</em> of <var>F</var>. </p>
   <p class="note" role="note">Note that a line box next to a float cannot overflow: if
an inline box is too wide for a shortened line box, the line box is
left empty and the inline box is put in the next line box in which it
fits, or the next one that is not shortened by floats. <span class="issue" id="issue-5ad9c24a"><a class="self-link" href="#issue-5ad9c24a"></a>[Is this indeed correctly defined in <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>?]</span> </p>
   <p class="note" role="note">Implementation note: Note that the height of a line box
depends on its content. It may be, e.g., that a line box next to a
float has enough room horizontally for three words, but adding the
third word would increase the height of the line box and make it
overlap the next float further down. In that case the third word
cannot be added to that line box and must be put in the next line box
(or even further down). </p>
   <p class="mtb">The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="relative-indent">relative indent</dfn> on side <var>S</var> of an
element <var>E</var> is defined recursively as follows: </p>
   <ul>
    <li>If <var>E</var> has no parent, or the parent is not in the same
      flow, or the parent’s <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-7">float-displace</a> has a different value
      than <var>E</var>’s, then the value is 0. 
    <li>Otherwise, the value is the relative indent on side <var>S</var> of the parent, plus the computed values of the parent’s margin,
      padding and border-width on side <var>S</var>. 
   </ul>
   <p>How <a data-link-type="dfn">line boxes</a> are constructed is
explained in the CSS Text Module <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>. The presence of a
float modifies that construction in two ways: the length of the line
box can become shorter (i.e., shorter than the distance between the
element’s content edges) and, unlike a normal line box, such a shorter
line box may be empty. The following describes these effects in
detail. </p>
   <h2 class="no-num heading settled" id="float-displace-3"><span class="content">The ‘float-displace’ property [alternative 3]</span><a class="self-link" href="#float-displace-3"></a></h2>
   <p class="issue" id="issue-1847da7a"><a class="self-link" href="#issue-1847da7a"></a>Yet another alternative. This one adds a fixed indent
rather than one that depends on the context: </p>
   <table class="def propdef" data-link-for-hint="float-displace--alternative-3">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="css" data-dfn-type="property" data-export="" id="propdef-float-displace--alternative-3">float-displace--alternative-3<a class="self-link" href="#propdef-float-displace--alternative-3"></a></dfn>
     <tr class="value">
      <th>Value:
      <td class="prod">auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> &lt;length> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a> [ block <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block-within-page ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a>
     <tr>
      <th>Initial:
      <td>auto
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>N/A
     <tr>
      <th>Media:
      <td>visual
     <tr>
      <th>Computed value:
      <td>as specified
     <tr>
      <th>Canonical order:
      <td>N/A
     <tr>
      <th>Applies to:
      <td>all block-level elements
     <tr>
      <th>Animatable:
      <td>no
     <tr>
      <th>Computed value:
      <td>Same as specified value
   </table>
   <dl>
    <dt>auto 
    <dd>
     <p>Line boxes are shortened and/or moved so they don’t overlap
      floats. (This is the only behavior in CSS level 2.) </p>
    <dt>&lt;length> 
    <dd>
     <p>Line boxes are shortened and/or moved as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, except
      that the amount they are shortened by, if possible, is equal to
      the amount necessary to not overlap any float plus the given
      &lt;length>. </p>
    <dt>block 
    <dd>
     <p>If the keyword <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a> is present in addition to a
      &lt;length>, the margins of the element are increased (and the
      width thus reduced) by the amount necessary so that the border
      box of the element doesn’t overlap any floats in the same flow
      that are created by elements earlier in the document; and then
      the margins are increased even more by the given &lt;length>. If
      that causes the element to have more overflow than it would have
      had with a value of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, the element is moved down instead
      (by adding clearance) just enough that it doesn’t have more
      overflow, or that its top border edge is just below the bottom
      margin edge of all earlier floats in the same flow. </p>
     <p>Line boxes inside the element are shortened and/or moved as
      needed the same was as for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>. </p>
     <p class="note" role="note">Note that floats that are descendants of the
      element do not influence the element’s margins, but they may
      influence the line boxes. </p>
    <dt>block-within-page 
    <dd>
     <p>Like block, except that the parts of the element on
      different pages are treated as separate blocks for the purpose
      of this property and are only indented as necessary to avoid
      floats on the same page. </p>
   </dl>
   <p class="note" role="note">Note that all values, except <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>, also cause
centered lines to no longer be centered if they are next to a float. </p>
   <p class="note" role="note">Note also that <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a> and <span class="css">block-within-page</span> influence the position of the element’s list marker (if any), because
list markers are positioned relative to the content edge. Indeed, this
may be the main reasons for using <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-8">float-displace</a>: to move the list
markers from one side of the float (or on top of the float) to the
other side. </p>
   <div class="example" id="example-5ca12cdd">
    <a class="self-link" href="#example-5ca12cdd"></a> 
    <p>Example: Assume that the floating image is tall than the paragraph
it is part of. </p>
<pre>img {float: left}ul {float-displace: 2em block}
li {margin-left: 2em}</pre>
    <p>with document fragment </p>
<pre>&lt;p>
  &lt;img src=... alt=... style="float: left">
  Paragraph before the list.

&lt;ul>
  &lt;li>First item
  &lt;li>Second item
&lt;/ul>
</pre>
    <p>Without the image, the rendering might look like this: </p>
<pre>Paragraph before the list.

  * First item
  * Second item
</pre>
    <p>With the image, but without the rule for <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-9">float-displace</a>, the
output might look like this: </p>
<pre>+----+Paragraph before the list.
|\  /|
| */ |First item
| *\ |Second item
|/  \|
+----+
</pre>
    <p>With the <a class="property" data-link-type="propdesc" href="#propdef-float-displace" id="ref-for-propdef-float-displace-10">float-displace</a> rule, the UL is indented extra to
avoid the image, plus 2em more: </p>
<pre>+----+Paragraph before the list.
|\  /|
| \/ |  * First item
| /\ |  * Second item
|/  \|
+----+
</pre>
   </div>
   <h2 class="heading settled" data-level="23" id="acknowledgments"><span class="secno">23. </span><span class="content">Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p class="issue" id="issue-5b645b7b0"><a class="self-link" href="#issue-5b645b7b0"></a>To do… </p>
  </main>
  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
  <h3 class="heading settled" id="document-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#document-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
  <p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this: </p>
  <div class="example" id="example-52448c84">
   <a class="self-link" href="#example-52448c84"></a> 
   <p>This is an example of an informative example. </p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note. </p>
  <p>Advisements are normative sections styled to evoke special attention and are
	set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
	this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong> </p>
  <h3 class="heading settled" id="conform-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#conform-classes"></a></h3>
  <p>Conformance to this specification
	is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#style-sheet">CSS
			style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
			documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
	if all of its statements that use syntax defined in this module are valid
	according to the generic CSS grammar and the individual grammars of each
	feature defined in this module. </p>
  <p>A renderer is conformant to this specification
	if, in addition to interpreting the style sheet as defined by the
	appropriate specifications, it supports all the features defined
	by this specification by parsing them correctly
	and rendering the document accordingly. However, the inability of a
	UA to correctly render a document due to limitations of the device
	does not make the UA non-conformant. (For example, a UA is not
	required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
	if it writes style sheets that are syntactically correct according to the
	generic CSS grammar and the individual grammars of each feature in
	this module, and meet all other conformance requirements of style sheets
	as described in this module. </p>
  <h3 class="heading settled" id="conform-responsible"><span class="content"> Requirements for Responsible Implementation of CSS</span><a class="self-link" href="#conform-responsible"></a></h3>
  <p>The following sections define several conformance requirements
		for implementing CSS responsibly,
		in a way that promotes interoperability in the present and future. </p>
  <h4 class="heading settled" id="conform-partial"><span class="content"> Partial Implementations</span><a class="self-link" href="#conform-partial"></a></h4>
  <p>So that authors can exploit the forward-compatible parsing rules to assign fallback values, <strong>CSS renderers <em>must</em> treat as invalid
		(and <a href="http://www.w3.org/TR/CSS2/conform.html#ignore">ignore as appropriate</a>)
		any at-rules, properties, property values, keywords, and other syntactic constructs
		for which they have no usable level of support</strong>.
		In particular, user agents <em>must not</em> selectively ignore
		unsupported property values and honor supported values in a single multi-value property declaration:
		if any value is considered invalid (as unsupported values must be),
		CSS requires that the entire declaration be ignored. </p>
  <h4 class="heading settled" id="conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
		the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h4 class="heading settled" id="conform-testing"><span class="content"> Implementations of CR-level Features</span><a class="self-link" href="#conform-testing"></a></h4>
  <p>Once a specification reaches the Candidate Recommendation stage,
		implementers should release an <a data-link-type="dfn" href="http://www.w3.org/TR/CSS/#vendor-prefix">unprefixed</a> implementation
		of any CR-level feature they can demonstrate
		to be correctly implemented according to spec,
		and should avoid exposing a prefixed variant of that feature. </p>
  <p>To establish and maintain the interoperability of CSS across
		implementations, the CSS Working Group requests that non-experimental
		CSS renderers submit an implementation report (and, if necessary, the
		testcases used for that implementation report) to the W3C before
		releasing an unprefixed implementation of any CSS features. Testcases
		submitted to W3C are subject to review and correction by the CSS
		Working Group. </p>
  <p>
   Further information on submitting testcases and implementation reports
		can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
		Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list. 
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  </p>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#a">A</a><span>, in §2</span>
   <li><a href="#absent">“absent”</a><span>, in §2</span>
   <li><a href="#adjoining">adjoining</a><span>, in §13</span>
   <li><a href="#a">A edge</a><span>, in §2</span>
   <li><a href="#anonymous-box">anonymous box,</a><span>, in §6.1</span>
   <li><a href="#b">B</a><span>, in §2</span>
   <li><a href="#b">B edge</a><span>, in §2</span>
   <li><a href="#block">block</a><span>, in §22.1</span>
   <li><a href="#block-container-box">block container box</a><span>, in §4</span>
   <li><a href="#block-end">block-end</a><span>, in §2</span>
   <li><a href="#block-level">block-level</a><span>, in §6.1</span>
   <li><a href="#block-level-formatting">block-level formatting</a><span>, in §7</span>
   <li><a href="#block-start">block-start</a><span>, in §2</span>
   <li><a href="#border-area">border area</a><span>, in §2</span>
   <li><a href="#border-box">border box</a><span>, in §2</span>
   <li><a href="#border-edge">border edge</a><span>, in §2</span>
   <li><a href="#clear-after-both">both</a><span>, in §18</span>
   <li><a href="#c">C</a><span>, in §2</span>
   <li><a href="#canvas">canvas</a><span>, in §3</span>
   <li><a href="#c">C edge</a><span>, in §2</span>
   <li><a href="#channeled">channeled</a><span>, in §5</span>
   <li><a href="#propdef-clear">clear</a><span>, in §17</span>
   <li><a href="#propdef-clear-after">clear-after</a><span>, in §18</span>
   <li><a href="#clearance">clearance.</a><span>, in §17</span>
   <li><a href="#collapse">collapse.</a><span>, in §13</span>
   <li><a href="#collapsed-through">collapsed through</a><span>, in §13</span>
   <li><a href="#complex-aspect-ratio">complex aspect ratio</a><span>, in §12</span>
   <li><a href="#containing-block">containing block</a><span>, in §4</span>
   <li><a href="#content-area">content area</a><span>, in §2</span>
   <li><a href="#content-box">content box</a><span>, in §2</span>
   <li><a href="#content-edge">content edge.</a><span>, in §2</span>
   <li><a href="#d">D</a><span>, in §2</span>
   <li><a href="#d">D edge</a><span>, in §2</span>
   <li><a href="#elements">elements.</a><span>, in §2</span>
   <li><a href="#extent">extent</a><span>, in §2</span>
   <li><a href="#propdef-float">float</a><span>, in §16</span>
   <li><a href="#propdef-float-displace">float-displace</a><span>, in §22.1</span>
   <li><a href="#propdef-float-displace--alternative-2">float-displace--alternative-2</a><span>, in §Unnumbered section</span>
   <li><a href="#propdef-float-displace--alternative-3">float-displace--alternative-3</a><span>, in §Unnumbered section</span>
   <li><a href="#flow">flow</a><span>, in §5</span>
   <li><a href="#flow-root">flow root</a><span>, in §5</span>
   <li><a href="#generates">generates</a><span>, in §2</span>
   <li><a href="#propdef-height">height</a><span>, in §10</span>
   <li><a href="#horizontal">horizontal</a><span>, in §2</span>
   <li><a href="#propdef-indent-edge-reset">indent-edge-reset</a><span>, in §22.2</span>
   <li><a href="#induced">induced,</a><span>, in §2</span>
   <li><a href="#initial-containing-block">initial containing block.</a><span>, in §4</span>
   <li><a href="#initial-flow">initial flow</a><span>, in §5</span>
   <li><a href="#inline-end">inline-end</a><span>, in §2</span>
   <li><a href="#inline-level">inline-level</a><span>, in §6.1</span>
   <li><a href="#inline-start">inline-start</a><span>, in §2</span>
   <li><a href="#logical-height">logical height.</a><span>, in §2</span>
   <li><a href="#logical-width">logical width</a><span>, in §2</span>
   <li><a href="#propdef-margin">margin</a><span>, in §9</span>
   <li><a href="#margin-area">margin area</a><span>, in §2</span>
   <li><a href="#propdef-margin-bottom">margin-bottom</a><span>, in §9</span>
   <li><a href="#margin-edge">margin edge</a><span>, in §2</span>
   <li><a href="#propdef-margin-left">margin-left</a><span>, in §9</span>
   <li><a href="#propdef-margin-right">margin-right</a><span>, in §9</span>
   <li><a href="#propdef-margin-top">margin-top</a><span>, in §9</span>
   <li><a href="#propdef-max-height">max-height</a><span>, in §11</span>
   <li><a href="#propdef-max-width">max-width</a><span>, in §11</span>
   <li><a href="#measure">measure</a><span>, in §2</span>
   <li><a href="#propdef-min-height">min-height</a><span>, in §11</span>
   <li><a href="#propdef-min-width">min-width</a><span>, in §11</span>
   <li><a href="#no-content">no-content</a><span>, in §19.1</span>
   <li><a href="#no-display">no-display</a><span>, in §19.1</span>
   <li>
    none
    <ul>
     <li><a href="#valdef-clear-after-none">value for clear-after</a><span>, in §18</span>
     <li><a href="#valdef-indent-edge-reset-none">value for indent-edge-reset</a><span>, in §22.2</span>
    </ul>
   <li><a href="#normal-flow">normal flow</a><span>, in §5</span>
   <li><a href="#orthogonal">orthogonal</a><span>, in §2</span>
   <li><a href="#orthogonal-flow">orthogonal flow</a><span>, in §2</span>
   <li><a href="#propdef-overflow">overflow</a><span>, in §19.1</span>
   <li><a href="#propdef-overflow-x">overflow-x</a><span>, in §19.1</span>
   <li><a href="#propdef-overflow-y">overflow-y</a><span>, in §19.1</span>
   <li><a href="#propdef-padding">padding</a><span>, in §8</span>
   <li><a href="#padding-area">padding area</a><span>, in §2</span>
   <li><a href="#propdef-padding-bottom">padding-bottom</a><span>, in §8</span>
   <li><a href="#padding-box">padding box</a><span>, in §2</span>
   <li><a href="#padding-edge">padding edge</a><span>, in §2</span>
   <li><a href="#propdef-padding-left">padding-left</a><span>, in §8</span>
   <li><a href="#propdef-padding-right">padding-right</a><span>, in §8</span>
   <li><a href="#propdef-padding-top">padding-top</a><span>, in §8</span>
   <li><a href="#principal-box">principal box</a><span>, in §4</span>
   <li><a href="#reference-indent-edge">reference indent edge</a><span>, in §22.2</span>
   <li><a href="#relative-indent">relative indent</a><span>, in §Unnumbered section</span>
   <li><a href="#root-element">root element.</a><span>, in §2</span>
   <li><a href="#scrolling-mechanism">scrolling mechanism</a><span>, in §19.1</span>
   <li><a href="#static-position">static position</a><span>, in §15.6</span>
   <li><a href="#vertical">vertical</a><span>, in §2</span>
   <li><a href="#viewport0">viewport</a><span>, in §3</span>
   <li><a href="#propdef-visibility">visibility</a><span>, in §20</span>
   <li><a href="#propdef-width">width</a><span>, in §10</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-align-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-align-3/#valdef-self-position-left">left</a>
     <li><a href="https://drafts.csswg.org/css-align-3/#valdef-self-position-right">right</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-backgrounds-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border">border</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-bottom-width">border-bottom-width</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-left-width">border-left-width</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-right">border-right</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-right-width">border-right-width</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-top-width">border-top-width</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-cascade-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed value</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DEVICE-ADAPT]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-device-adapt-1/#at-ruledef-viewport">@viewport</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-display-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-block">block</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#initial-containing-block">initial containing block</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-table">inline-table</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-list-item">list-item</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-run-in">run-in</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-table">table</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-table-caption">table-caption</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-table-cell">table-cell</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-exclusions-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-exclusions-1/#propdef-wrap-flow">wrap-flow</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-FLEXBOX]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#valdef-justify-content-center">center</a>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#valdef-display-flex">flex</a>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#flex-item">flex item</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3GCPM]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-gcpm-3/#footnote-display-compact">compact</a>
     <li><a href="https://drafts.csswg.org/css-gcpm-3/#footnote-policy-line">line</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-grid-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-max-content">max-content</a>
     <li><a href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-images-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-images-3/#propdef-image-resolution">image-resolution</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-multicol-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-multicol-1/#propdef-column-width">column-width</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-overflow-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-hidden">hidden</a>
     <li><a href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-scroll">scroll</a>
     <li><a href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-visible">visible</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-page-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-page-3/#valdef-page-size-auto">auto</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-page-floats-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-page-floats-3/#float">float</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-position-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-bottom">bottom</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-left">left</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#valdef-position-relative">relative</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-right">right</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#valdef-position-static">static</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-z-index">z-index</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-REGIONS]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-regions-1/#propdef-flow-into">flow-into</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-ruby-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#valdef-ruby-merge-collapse">collapse</a>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#valdef-display-ruby">ruby</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-scroll-snap-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-scroll-snap-1/#valdef-scroll-snap-align-end">end</a>
     <li><a href="https://drafts.csswg.org/css-scroll-snap-1/#valdef-scroll-snap-type-inline">inline</a>
     <li><a href="https://drafts.csswg.org/css-scroll-snap-1/#valdef-scroll-snap-align-start">start</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-shapes-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-border-box">border-box</a>
     <li><a href="https://drafts.csswg.org/css-shapes-1/#valdef-shape-box-content-box">content-box</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-sizing-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fill">fill</a>
     <li><a href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fit-content">fit-content</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3TEXT]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-text-3/#propdef-text-align">text-align</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-TRANSFORMS]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-transforms-1/#valdef-transform-origin-bottom">bottom</a>
     <li><a href="https://drafts.csswg.org/css-transforms-1/#valdef-transform-origin-top">top</a>
     <li><a href="https://drafts.csswg.org/css-transforms-1/#propdef-transform">transform</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-ui-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a>
     <li><a href="https://drafts.csswg.org/css-ui-3/#propdef-text-overflow">text-overflow</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-values]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#mult-num-range">{a,b}</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-WRITING-MODES]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-horizontal-tb">horizontal-tb</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#inline-base-direction">inline base direction</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-rtl">rtl</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-lr">sideways-lr</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-sideways-rl">sideways-rl</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-lr">vertical-lr</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-writing-mode-vertical-rl">vertical-rl</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#propdef-writing-mode">writing-mode</a>
    </ul>
   <li>
    <a data-link-type="biblio">[mediaqueries-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/mediaqueries-4/#valdef-media-print">print</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-align/">CSS Box Alignment Module Level 3</a>. 14 June 2016. WD. URL: <a href="https://drafts.csswg.org/css-align/">https://drafts.csswg.org/css-align/</a>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>CSS Backgrounds and Borders Module Level 3 URL: <a href="https://drafts.csswg.org/css-backgrounds-3/">https://drafts.csswg.org/css-backgrounds-3/</a>
   <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="http://dev.w3.org/csswg/css-cascade/">CSS Cascading and Inheritance Level 4</a>. 14 January 2016. CR. URL: <a href="http://dev.w3.org/csswg/css-cascade/">http://dev.w3.org/csswg/css-cascade/</a>
   <dt id="biblio-css-device-adapt">[CSS-DEVICE-ADAPT]
   <dd>Rune Lillesveen; Florian Rivoal; Matt Rakow. <a href="https://drafts.csswg.org/css-device-adapt/">CSS Device Adaptation Module Level 1</a>. 29 March 2016. WD. URL: <a href="https://drafts.csswg.org/css-device-adapt/">https://drafts.csswg.org/css-device-adapt/</a>
   <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="http://dev.w3.org/csswg/css-display/">CSS Display Module Level 3</a>. 15 October 2015. WD. URL: <a href="http://dev.w3.org/csswg/css-display/">http://dev.w3.org/csswg/css-display/</a>
   <dt id="biblio-css-exclusions-1">[CSS-EXCLUSIONS-1]
   <dd>CSS Exclusions Module Level 1 URL: <a href="https://drafts.csswg.org/css-exclusions-1/">https://drafts.csswg.org/css-exclusions-1/</a>
   <dt id="biblio-css-grid-1">[CSS-GRID-1]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://drafts.csswg.org/css-grid/">CSS Grid Layout Module Level 1</a>. 19 May 2016. WD. URL: <a href="https://drafts.csswg.org/css-grid/">https://drafts.csswg.org/css-grid/</a>
   <dt id="biblio-css-overflow-4">[CSS-OVERFLOW-4]
   <dd>CSS Overflow Module Level 4 URL: <a href="https://drafts.csswg.org/css-overflow-4/">https://drafts.csswg.org/css-overflow-4/</a>
   <dt id="biblio-css-page-3">[CSS-PAGE-3]
   <dd>CSS Paged Media Module Level 3 URL: <a href="https://drafts.csswg.org/css-page-3/">https://drafts.csswg.org/css-page-3/</a>
   <dt id="biblio-css-page-floats-3">[CSS-PAGE-FLOATS-3]
   <dd>Johannes Wilm. <a href="http://dev.w3.org/csswg/css-page-floats/">CSS Page Floats</a>. 15 September 2015. WD. URL: <a href="http://dev.w3.org/csswg/css-page-floats/">http://dev.w3.org/csswg/css-page-floats/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Rossen Atanassov; Arron Eicholz. <a href="https://drafts.csswg.org/css-position/">CSS Positioned Layout Module Level 3</a>. 17 May 2016. WD. URL: <a href="https://drafts.csswg.org/css-position/">https://drafts.csswg.org/css-position/</a>
   <dt id="biblio-css-ruby-1">[CSS-RUBY-1]
   <dd>Elika Etemad; Koji Ishii. <a href="http://dev.w3.org/csswg/css-ruby-1/">CSS Ruby Layout Module Level 1</a>. 5 August 2014. WD. URL: <a href="http://dev.w3.org/csswg/css-ruby-1/">http://dev.w3.org/csswg/css-ruby-1/</a>
   <dt id="biblio-css-scroll-snap-1">[CSS-SCROLL-SNAP-1]
   <dd>Matt Rakow; et al. <a href="https://drafts.csswg.org/css-scroll-snap-1/">CSS Scroll Snap Module Level 1</a>. 23 June 2016. WD. URL: <a href="https://drafts.csswg.org/css-scroll-snap-1/">https://drafts.csswg.org/css-scroll-snap-1/</a>
   <dt id="biblio-css-shapes-1">[CSS-SHAPES-1]
   <dd>Vincent Hardy; Rossen Atanassov; Alan Stearns. <a href="http://dev.w3.org/csswg/css-shapes/">CSS Shapes Module Level 1</a>. 20 March 2014. CR. URL: <a href="http://dev.w3.org/csswg/css-shapes/">http://dev.w3.org/csswg/css-shapes/</a>
   <dt id="biblio-css-sizing-4">[CSS-SIZING-4]
   <dd>CSS Intrinsic &amp; Extrinsic Sizing Module Level 4 URL: <a href="https://drafts.csswg.org/css-sizing-4/">https://drafts.csswg.org/css-sizing-4/</a>
   <dt id="biblio-css-ui-3">[CSS-UI-3]
   <dd>Tantek Çelik; Florian Rivoal. <a href="http://dev.w3.org/csswg/css-ui/">CSS Basic User Interface Module Level 3 (CSS3 UI)</a>. 7 July 2015. CR. URL: <a href="http://dev.w3.org/csswg/css-ui/">http://dev.w3.org/csswg/css-ui/</a>
   <dt id="biblio-css-values">[CSS-VALUES]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="http://dev.w3.org/csswg/css-values/">CSS Values and Units Module Level 3</a>. 11 June 2015. CR. URL: <a href="http://dev.w3.org/csswg/css-values/">http://dev.w3.org/csswg/css-values/</a>
   <dt id="biblio-css21">[CSS21]
   <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS2">Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS2">https://www.w3.org/TR/CSS2</a>
   <dt id="biblio-css3-flexbox">[CSS3-FLEXBOX]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://drafts.csswg.org/css-flexbox/">CSS Flexible Box Layout Module Level 1</a>. 26 May 2016. CR. URL: <a href="https://drafts.csswg.org/css-flexbox/">https://drafts.csswg.org/css-flexbox/</a>
   <dt id="biblio-css3-regions">[CSS3-REGIONS]
   <dd>Rossen Atanassov; Alan Stearns. <a href="http://dev.w3.org/csswg/css-regions/">CSS Regions Module Level 1</a>. 9 October 2014. WD. URL: <a href="http://dev.w3.org/csswg/css-regions/">http://dev.w3.org/csswg/css-regions/</a>
   <dt id="biblio-css3-transforms">[CSS3-TRANSFORMS]
   <dd>Simon Fraser; et al. <a href="http://dev.w3.org/csswg/css-transforms/">CSS Transforms Module Level 1</a>. 26 November 2013. WD. URL: <a href="http://dev.w3.org/csswg/css-transforms/">http://dev.w3.org/csswg/css-transforms/</a>
   <dt id="biblio-css3-writing-modes">[CSS3-WRITING-MODES]
   <dd>Elika Etemad; Koji Ishii. <a href="http://dev.w3.org/csswg/css-writing-modes-3/">CSS Writing Modes Level 3</a>. 15 December 2015. CR. URL: <a href="http://dev.w3.org/csswg/css-writing-modes-3/">http://dev.w3.org/csswg/css-writing-modes-3/</a>
   <dt id="biblio-css3col">[CSS3COL]
   <dd>Håkon Wium Lie. <a href="https://www.w3.org/TR/css3-multicol">CSS Multi-column Layout Module</a>. 12 April 2011. CR. URL: <a href="https://www.w3.org/TR/css3-multicol">https://www.w3.org/TR/css3-multicol</a>
   <dt id="biblio-css3gcpm">[CSS3GCPM]
   <dd>Dave Cramer. <a href="http://dev.w3.org/csswg/css-gcpm/">CSS Generated Content for Paged Media Module</a>. 13 May 2014. WD. URL: <a href="http://dev.w3.org/csswg/css-gcpm/">http://dev.w3.org/csswg/css-gcpm/</a>
   <dt id="biblio-css3text">[CSS3TEXT]
   <dd>Elika Etemad; Koji Ishii. <a href="http://dev.w3.org/csswg/css-text-3/">CSS Text Module Level 3</a>. 10 October 2013. LCWD. URL: <a href="http://dev.w3.org/csswg/css-text-3/">http://dev.w3.org/csswg/css-text-3/</a>
   <dt id="biblio-mediaqueries-4">[MEDIAQUERIES-4]
   <dd>Florian Rivoal; Tab Atkins Jr.. <a href="https://drafts.csswg.org/mediaqueries-4/">Media Queries Level 4</a>. 6 July 2016. WD. URL: <a href="https://drafts.csswg.org/mediaqueries-4/">https://drafts.csswg.org/mediaqueries-4/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-images-3">[CSS-IMAGES-3]
   <dd>CSS Image Values and Replaced Content Module Level 3 URL: <a href="https://drafts.csswg.org/css-images-3/">https://drafts.csswg.org/css-images-3/</a>
   <dt id="biblio-css-multicol-1">[CSS-MULTICOL-1]
   <dd>CSS Multi-column Layout Module Level 1 URL: <a href="https://drafts.csswg.org/css-multicol-1/">https://drafts.csswg.org/css-multicol-1/</a>
   <dt id="biblio-css-template-3">[CSS-TEMPLATE-3]
   <dd>Bert Bos; César Acebal. <a href="http://dev.w3.org/csswg/css-template/">CSS Template Layout Module</a>. 26 March 2015. NOTE. URL: <a href="http://dev.w3.org/csswg/css-template/">http://dev.w3.org/csswg/css-template/</a>
   <dt id="biblio-css3-break">[CSS3-BREAK]
   <dd>Rossen Atanassov; Elika Etemad. <a href="http://dev.w3.org/csswg/css-break/">CSS Fragmentation Module Level 3</a>. 14 January 2016. CR. URL: <a href="http://dev.w3.org/csswg/css-break/">http://dev.w3.org/csswg/css-break/</a>
   <dt id="biblio-css3-exclusions">[CSS3-EXCLUSIONS]
   <dd>Rossen Atanassov; Vincent Hardy; Alan Stearns. <a href="http://dev.w3.org/csswg/css-exclusions/">CSS Exclusions Module Level 1</a>. 15 January 2015. WD. URL: <a href="http://dev.w3.org/csswg/css-exclusions/">http://dev.w3.org/csswg/css-exclusions/</a>
   <dt id="biblio-css3-marquee">[CSS3-MARQUEE]
   <dd>Bert Bos. <a href="https://www.w3.org/TR/css3-marquee">CSS Marquee Module Level 3</a>. 14 October 2014. NOTE. URL: <a href="https://www.w3.org/TR/css3-marquee">https://www.w3.org/TR/css3-marquee</a>
   <dt id="biblio-css3bg">[CSS3BG]
   <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="http://dev.w3.org/csswg/css3-background/">CSS Backgrounds and Borders Module Level 3</a>. 9 September 2014. CR. URL: <a href="http://dev.w3.org/csswg/css3-background/">http://dev.w3.org/csswg/css3-background/</a>
   <dt id="biblio-css3line">[CSS3LINE]
   <dd>Michel Suignard; Eric Meyer. <a href="https://www.w3.org/TR/css3-linebox">CSS3 module: line</a>. 15 May 2002. WD. URL: <a href="https://www.w3.org/TR/css3-linebox">https://www.w3.org/TR/css3-linebox</a>
   <dt id="biblio-css3page">[CSS3PAGE]
   <dd>Melinda Grant; et al. <a href="https://www.w3.org/TR/css3-page/">CSS Paged Media Module Level 3</a>. 14 March 2013. WD. URL: <a href="https://www.w3.org/TR/css3-page/">https://www.w3.org/TR/css3-page/</a>
   <dt id="biblio-css3pos">[CSS3POS]
   <dd>Bert Bos. <a href="https://www.w3.org/Style/Group/css3-src/css3-positioning/Overview.html">CSS3 Positioning Module</a>. WD. URL: <a href="https://www.w3.org/Style/Group/css3-src/css3-positioning/Overview.html">https://www.w3.org/Style/Group/css3-src/css3-positioning/Overview.html</a>
   <dt id="biblio-css3tbl">[CSS3TBL]
   <dd>Bert Bos; David Hyatt. <a href="http://dev.w3.org/csswg/css3-tables/">CSS3 Tables Module</a>. 13 November 2012. ED. URL: <a href="http://dev.w3.org/csswg/css3-tables/">http://dev.w3.org/csswg/css3-tables/</a>
   <dt id="biblio-mediaq">[MEDIAQ]
   <dd>Florian Rivoal; et al. <a href="https://www.w3.org/TR/css3-mediaqueries/">Media Queries</a>. 19 June 2012. REC. URL: <a href="https://www.w3.org/TR/css3-mediaqueries/">https://www.w3.org/TR/css3-mediaqueries/</a>
   <dt id="biblio-xsl11">[XSL11]
   <dd>Anders Berglund. <a href="https://www.w3.org/TR/xsl11/">Extensible Stylesheet Language (XSL) Version 1.1</a>. 5 December 2006. REC. URL: <a href="https://www.w3.org/TR/xsl11/">https://www.w3.org/TR/xsl11/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Media
      <th scope="col">Ani­mat­able
      <th scope="col">Applies to
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
      <th scope="col">Computed value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-padding">padding</a>
      <td>&lt;length>{1,4}
      <td>(see individual properties)
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>all elements
      <td>N/A
      <td>as specified
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-padding-top">padding-top</a>
      <td>&lt;length>
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>all elements
      <td>N/A
      <td>as specified
      <td>&lt;length>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-padding-right">padding-right</a>
      <td>&lt;length>
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>all elements
      <td>N/A
      <td>as specified
      <td>&lt;length>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-padding-bottom">padding-bottom</a>
      <td>&lt;length>
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>all elements
      <td>N/A
      <td>as specified
      <td>&lt;length>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-padding-left">padding-left</a>
      <td>&lt;length>
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>all elements
      <td>N/A
      <td>as specified
      <td>&lt;length>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-margin-top">margin-top</a>
      <td>&lt;length> | &lt;percentage> | auto
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>see text
      <td>N/A
      <td>as specified
      <td>the percentage as specified or the
absolute length or auto
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-margin-right">margin-right</a>
      <td>&lt;length> | &lt;percentage> | auto
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>see text
      <td>N/A
      <td>as specified
      <td>the percentage as specified or the
absolute length or auto
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-margin-bottom">margin-bottom</a>
      <td>&lt;length> | &lt;percentage> | auto
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>see text
      <td>N/A
      <td>as specified
      <td>the percentage as specified or the
absolute length or auto
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-margin-left">margin-left</a>
      <td>&lt;length> | &lt;percentage> | auto
      <td>0
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>see text
      <td>N/A
      <td>as specified
      <td>the percentage as specified or the
absolute length or auto
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-margin">margin</a>
      <td>[ &lt;length> | &lt;percentage> | auto]{1,4}
      <td>(see individual properties)
      <td>all elements
      <td>no
      <td>width* of containing block
      <td>visual
      <td>yes
      <td>see text
      <td>N/A
      <td>as specified
      <td>see individual properties
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-width">width</a>
      <td>[&lt;length> | &lt;percentage>] |
available | min-content | max-content | fit-content | auto
      <td>auto
      <td>all elements but non-replaced inline
elements, table rows, and row groups
      <td>no
      <td>refer to width of containing block
      <td>visual
      <td>yes
      <td>
      <td>the length or percentage before the
keyword, if both are present
      <td>the specified keyword; or the specified
percentage (with border-box or content-box if present); or
the absolute length (with border-box or content-box if
present); or auto if the property does not apply; (also see
prose under &lt;percentage>)
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-height">height</a>
      <td>[&lt;length> | &lt;percentage>] |
available | min-content | max-content | fit-content | complex | auto
      <td>auto
      <td>all elements but non-replaced inline
elements, table columns, and column groups
      <td>no
      <td>see prose
      <td>visual
      <td>yes
      <td>
      <td>the length or percentage before the
keyword, if both are present
      <td>the specified keywords, the specified
percentage (see prose under &lt;percentage>) or the absolute
length; auto if the property does not apply
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-min-width">min-width</a>
      <td>[ [&lt;length> |
&lt;percentage>] &amp;&amp; [border-box | content-box]? ] |
available | min-content | max-content | fit-content
      <td>0
      <td>all elements but non-replaced
inline elements, table rows, and row groups
      <td>no
      <td>refer to width, resp. height of
containing block
      <td>visual
      <td>yes
      <td>
      <td>the length or percentage before the
keyword, if both are present
      <td>the percentage as specified (with
border-box or content-box, if present), the keyword as
specified, or the absolute length (with border-box or
content-box, if present)
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-min-height">min-height</a>
      <td>[ [&lt;length> |
&lt;percentage>] &amp;&amp; [border-box | content-box]? ] |
available | min-content | max-content | fit-content
      <td>0
      <td>all elements but non-replaced
inline elements, table rows, and row groups
      <td>no
      <td>refer to width, resp. height of
containing block
      <td>visual
      <td>yes
      <td>
      <td>the length or percentage before the
keyword, if both are present
      <td>the percentage as specified (with
border-box or content-box, if present), the keyword as
specified, or the absolute length (with border-box or
content-box, if present)
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-max-width">max-width</a>
      <td>[ [&lt;length> |
&lt;percentage>] &amp;&amp; [border-box | content-box]? ] |
available | min-content | max-content | fit-content | none
      <td>none
      <td>all elements but non-replaced inline
elements, table rows, and row groups
      <td>no
      <td>refer to width, resp. height of
containing block
      <td>visual
      <td>yes
      <td>
      <td>the length or percentage before the
keyword, if both are present
      <td>the percentage as specified (with
border-box or content-box, if present); the keyword as
specified; the absolute length (with border-box or
content-box, if present); or none
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-max-height">max-height</a>
      <td>[ [&lt;length> |
&lt;percentage>] &amp;&amp; [border-box | content-box]? ] |
available | min-content | max-content | fit-content | none
      <td>none
      <td>all elements but non-replaced inline
elements, table rows, and row groups
      <td>no
      <td>refer to width, resp. height of
containing block
      <td>visual
      <td>yes
      <td>
      <td>the length or percentage before the
keyword, if both are present
      <td>the percentage as specified (with
border-box or content-box, if present); the keyword as
specified; the absolute length (with border-box or
content-box, if present); or none
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-float">float</a>
      <td>left | right | top | bottom | start | end | none |
&lt;page-floats>
      <td>none
      <td>all, but see text
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>
      <td>order of grammar
      <td>as specified
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-clear">clear</a>
      <td>none | left | right | both
      <td>none
      <td>block-level elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>
      <td>N/A
      <td>as specified
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-clear-after">clear-after</a>
      <td>none | left | right | top | bottom | inside | outside | start | end
| both | descendants
      <td>none
      <td>block-level elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>
      <td>N/A
      <td>as specified
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-overflow-x">overflow-x</a>
      <td>visible | hidden | scroll | auto | no-display | no-content
      <td>visible
      <td>non-replaced block-level elements
and non-replaced inline-block elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>
      <td>N/A
      <td>as specified
      <td>as specified, except visible, see text
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-overflow-y">overflow-y</a>
      <td>visible | hidden | scroll | auto | no-display | no-content
      <td>visible
      <td>non-replaced block-level elements
and non-replaced inline-block elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>
      <td>N/A
      <td>as specified
      <td>as specified, except visible, see text
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-overflow">overflow</a>
      <td>[ visible | hidden | scroll | auto | no-display |
no-content ]{1,2}
      <td>see individual properties
      <td>non-replaced block-level elements
and non-replaced inline-block elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>
      <td>N/A
      <td>as specified
      <td>as specified, except visible, see text
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-visibility">visibility</a>
      <td>visible | hidden | collapse
      <td>visible
      <td>all elements
      <td>yes
      <td>N/A
      <td>visual
      <td>no
      <td>all elements
      <td>N/A
      <td>as specified
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-float-displace">float-displace</a>
      <td>line | indent | block | block-within-page
      <td>line
      <td>all elements
      <td>yes
      <td>N/A
      <td>visual
      <td>no
      <td>all block-level elements
      <td>N/A
      <td>as specified
      <td>Same as specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-indent-edge-reset">indent-edge-reset</a>
      <td>none | margin-edge | border-edge | padding-edge | content-edge
      <td>none
      <td>all elements with a block-level inner formatting context.
      <td>no
      <td>n/a
      <td>visual
      <td>yes
      <td>
      <td>N/A
      <td>specified value
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-float-displace--alternative-2">float-displace--alternative-2</a>
      <td>line | indent | block | block-within-page
      <td>line
      <td>all elements
      <td>yes
      <td>N/A
      <td>visual
      <td>no
      <td>all block-level elements
      <td>N/A
      <td>as specified
      <td>Same as specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-float-displace--alternative-3">float-displace--alternative-3</a>
      <td>auto | &lt;length> &amp;&amp; [ block | block-within-page ]?
      <td>auto
      <td>all elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>all block-level elements
      <td>N/A
      <td>as specified
      <td>Same as specified value
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue">To do… <a href="#issue-5b645b7b"> ↵ </a></div>
   <div class="issue">
    <p>How to center the text of a block element horizontally (more
precisely: in the inline direction) even if (part of) the block is
next to a float? </p>
    <a href="#center-text"> ↵ </a>
   </div>
   <div class="issue">
    <p>How to center a block horizontally in its CB if the block is wider
than the CB? (I.e., when 'margin: auto' doesn’t work and the document
structure doesn’t allow transforms or flexbox.) </p>
    <a href="#center-block"> ↵ </a>
   </div>
   <div class="issue">
    <p>How to center or distribute blocks vertically when flexbox doesn’t
apply (e.g., because the blocks aren’t siblings)? </p>
    <a href="#distribute"> ↵ </a>
   </div>
   <div class="issue">
    <p>Investigate if it is possible to make a pseudo-element to select
anonymous boxes ('::paragraph'). See minutes of 10 Aug 2011. </p>
    <a href="#anonymous-box-pseudo"> ↵ </a>
   </div>
   <div class="issue">
    <p>Define the box tree </p>
    <a href="#box-tree"> ↵ </a>
   </div>
   <div class="issue">[rewrite the following
sentence?]<a href="#issue-8d8c38c4"> ↵ </a></div>
   <div class="issue">Remove this note? Do
we actually use the concept of “principal box” anywhere?<a href="#issue-d94120a2"> ↵ </a></div>
   <div class="issue">
    <p>Do boxes have properties? Or do they just have margins, borders,
padding, a size and some content (which may be text in a certain font
and a certain color, but without the box itself having a font or a
color property)? </p>
    <a href="#issue-1396385e"> ↵ </a>
   </div>
   <div class="issue">Other modules may introduce other types of boxes with
other rules for how to find their containing block. E.g., the
containing block of an absolutely positioned element. <a href="#issue-6ca12392"> ↵ </a></div>
   <div class="issue">Or insert the definition of block container box from
CSS 2.1 here?<a href="#issue-a1b431d2"> ↵ </a></div>
   <div class="issue">Also define <span>principal box</span> somewhere. <a href="#issue-267711dd"> ↵ </a></div>
   <div class="issue">[or a viewport?]<a href="#issue-a91659d4"> ↵ </a></div>
   <div class="issue">Are there more intuitive names than flow root? <a href="#issue-28c5cd9d"> ↵ </a></div>
   <div class="issue">How do we model pagination? If a
flow is broken over two pages or columns, do we call it a single flow
or two flows? I.e., is the page box the flow root of the flow, or is
the page box something else, more like the viewport, which influences
the layout of a flow but isn’t part of it? See <a data-link-type="biblio" href="#biblio-css3-break">[CSS3-BREAK]</a>. <a href="#pagination-issue"> ↵ </a></div>
   <div class="issue">[Add link to the relevant
  section.]<a href="#issue-893788bf"> ↵ </a></div>
   <div class="issue">a.k.a. <a class="property" data-link-type="propdesc">flow</a> <a data-link-type="biblio" href="#biblio-css-template-3">[CSS-TEMPLATE-3]</a><a href="#issue-6aa88308"> ↵ </a></div>
   <div class="issue">[What about the other ruby values?] <a href="#issue-aedfb759"> ↵ </a></div>
   <div class="issue">Add definition. <a href="#issue-ba55329d"> ↵ </a></div>
   <div class="issue">Do we need one or more <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a> values to signal that
an element is not to be formatted with CSS? <a href="#issue-071a6a0b"> ↵ </a></div>
   <div class="issue">Should we allow a more complex model, where such a
child may negotiate with the CSS environment to have several boxes and
several baselines, so that it can take part in line breaking and page
breaking? <a href="#issue-b462db98"> ↵ </a></div>
   <div class="issue">Define how boxes in a flow are positioned. (Basically,
each <a data-link-type="dfn" href="#c">C edge</a> against the <a data-link-type="dfn" href="#a">A edge</a> of the next
box and their <a data-link-type="dfn" href="#b">B edge</a> and <a data-link-type="dfn" href="#d">D edge</a> against,
respectively the <a data-link-type="dfn">inline-end edge</a> and <a data-link-type="dfn">inline-start
edge</a> of the <a data-link-type="dfn" href="#containing-block">containing block</a>.) <a href="#issue-d8b773ff"> ↵ </a></div>
   <div class="issue">Allow negative padding? <a href="#issue-ccaf2185"> ↵ </a></div>
   <div class="issue">Allow percentages? <a href="#issue-9b612819"> ↵ </a></div>
   <div class="issue">Allow “auto”? <a href="#issue-bfe467ae"> ↵ </a></div>
   <div class="issue">
    <p>Some UAs implementing CSS level 2 try to solve the set of linear
equations when <var>containing-block</var> is unkown: </p>
    <blockquote>
     <p><var>margin</var> + <var>width</var> = <var>containing-block</var><br> <var>margin</var> = <var>percentage</var> × <var>containing-block</var> </p>
    </blockquote>
    <p>If different elements
in a flow yield different values they may take the biggest. </p>
    <a href="#issue-c57a5cfc"> ↵ </a>
   </div>
   <div class="issue">One idea to distribute boxes better than with <a class="property" data-link-type="propdesc">auto</a> (which only works in the inline direction and fails to distribute
negative space) is to add a “fill” keyword, possibly combined with a
minimum margin: <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-sizing-4/#valdef-width-fill">fill</a> or <span class="css">1.2em + fill</span> or ''calc(1.2em +
fill)''). “Fill” could also be a unit, so that some fills can get more
space than others: <a class="css" data-link-type="propdesc" href="#propdef-margin">margin: 0.5fill</a> or <a class="css" data-link-type="propdesc" href="#propdef-margin">margin: 2fill</a>. <a href="#issue-e4302a24"> ↵ </a></div>
   <div class="issue">Andrew Fedoniouk proposed the '%%' unit. '50%%' is 50%
of the remaining space. This allows fills to sum up to more or less
than 100%. More than 100% is probably not useful, it guarantees
overflow. But less than 100% might be. <a href="#issue-e1642848"> ↵ </a></div>
   <div class="issue">The keywords <a class="property" data-link-type="propdesc">min-content</a>, <a class="property" data-link-type="propdesc">max-content</a> and <a class="property" data-link-type="propdesc">available</a> could also be useful, at least for the inline-start and inline-end
margin of a box. Then you can make a box that takes up no space by
setting 'width: available; margin-right: calc(0 - available)' <a href="#issue-7211dd27"> ↵ </a></div>
   <div class="issue">then the percentage is relative to <a class="property" data-link-type="propdesc">100vw</a>, resp. <a class="property" data-link-type="propdesc">100vh</a>.<a href="#issue-50abea28"> ↵ </a></div>
   <div class="issue">If the required width, resp. height of the
  containing block is unknown (depends on this element), then <span class="css">available</span> is equal to <a class="property" data-link-type="propdesc">100vw</a>, resp. <a class="property" data-link-type="propdesc">100vh</a>.<a href="#issue-f7ee2b31"> ↵ </a></div>
   <div class="issue">Another possible value is <var>&lt;non-negative-number></var>, which would mean <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-grid-1/#valdef-grid-template-columns-min-content">min-content</a> times that number. <a href="#issue-587bb6b6"> ↵ </a></div>
   <div class="issue">Another idea is to allow optional keywords border-box
and content-box before or after a length or percentage. This would
mean the same as (and overrides) setting the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-ui-3/#propdef-box-sizing">box-sizing</a> property to
that property, but allows width and height to be treated differently
and avoids that width and box-sizing getout of sync. <a href="#issue-c8a421a7"> ↵ </a></div>
   <div class="issue">The width property of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-device-adapt-1/#at-ruledef-viewport">@viewport</a> <a data-link-type="biblio" href="#biblio-css-device-adapt">[CSS-DEVICE-ADAPT]</a> is a shorthand for min-width and max-width and
can have either one or two values. Anything we can do to alleviate
risk of the confusion? <a href="#issue-d92091ac"> ↵ </a></div>
   <div class="issue">Or: use the initial value?<a href="#issue-b0d9dafb"> ↵ </a></div>
   <div class="issue">Check this. This is probably the only possible
interpretation of the rules, but it is certainly not obvious that the
clearance of one element may stop later elements from
collapsing… <a href="#issue-7d9bfdc8"> ↵ </a></div>
   <div class="issue">Theoretically, a device may be wider than than 300px
  but not tall enough for 150px. In that case the resulting replaced
  element will be too tall. But this is the formulation in CSS 2.1 and
  it seems not worth improving such an edge case. <a href="#issue-53394426"> ↵ </a></div>
   <div class="issue">Not yet generalized with block-start, block-end, etc. <a href="#issue-955feaa6"> ↵ </a></div>
   <div class="issue">Does this belong
here?<a href="#issue-de8d62b3"> ↵ </a></div>
   <div class="issue">Should
we remove the phrase starting with “unless”?<a href="#issue-560a7b9a"> ↵ </a></div>
   <div class="issue">Remove the part starting with “unless”? It  looks better to center the image.<a href="#issue-8144d9f2"> ↵ </a></div>
   <div class="issue">Check that the names
  page-top, page-bottom, next-top, or otherwise do not clash with top
  and bottom<a href="#issue-04ce26a4"> ↵ </a></div>
   <div class="issue">[Still some words like lower and higher to replace...] <a href="#issue-fb837995"> ↵ </a></div>
   <div class="issue">[...] <a href="#issue-36d597b1"> ↵ </a></div>
   <div class="issue">by increasing one
margin and decreasing the opposite margin. (“Sufficient space” means
that the opposite margin does not become negative.)<a href="#issue-7d0916f5"> ↵ </a></div>
   <div class="issue">[To do: copy from CSS2 <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> and generalize to
vertical text, define <span>clearance.</span>] <a href="#issue-e181ba15"> ↵ </a></div>
   <div class="issue">Use only two values: height-includes-floats and
height-does-not-include floats? [DavidB 2004-02-29] <a href="#issue-0e6bbc54"> ↵ </a></div>
   <div class="issue">Daniel Beardsmore <a href="http://lists.w3.org/Archives/Public/www-style/2007Feb/0120.html"> proposed</a> a property 'underhang-limit: &lt;count of full lines>' to
protect against the case that the last line of a paragraph (or the
last few lines) is shown under a float. In that case it looks better
to indent that line like the other lines of the paragraph. The default
is <a class="property" data-link-type="propdesc">1</a>, i.e., no protection. <a href="#issue-b0e716ea"> ↵ </a></div>
   <div class="issue">
    <p>Alternative ideas to clear-after are new values on <a class="property" data-link-type="propdesc" href="#propdef-overflow">overflow</a>, <a class="property" data-link-type="propdesc" href="#propdef-height">height</a>, <a class="property" data-link-type="propdesc" href="#propdef-min-height">min-height</a> or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-display-3/#propdef-display">display</a>, e.g.: <a class="css" data-link-type="propdesc" href="#propdef-height">height: contain</a>. </p>
    <a href="#contain-floats"> ↵ </a>
   </div>
   <div class="issue">In the preceding sections, several things (such as flow
roots) depend on the value of <a class="property" data-link-type="propdesc" href="#propdef-overflow">overflow</a>. We probably need to rewrite
them in terms of “overflow-x and/or -y” or similar. <a href="#issue-8a164fa2"> ↵ </a></div>
   <div class="issue">When the content doesn’t fit in the content box,
    the whole box is removed, as if 'display: none' were specified. 
    [This idea is due to Till Halbach &lt;tillh@opera.com>, July
    21, 2005] <a href="#issue-9e88a7e6"> ↵ </a></div>
   <div class="issue">When the content doesn’t fit in the content box,
    the whole content is hidden, as if 'visibility: hidden' were
    specified. [This idea is due to Till Halbach
    &lt;tillh@opera.com>, July 21, 2005] <a href="#issue-8023eb32"> ↵ </a></div>
   <div class="issue">The para above is from CSS 2.1. Need to check if the
introduction of overflow-x/y changes anything. <a href="#issue-06d8ecd9"> ↵ </a></div>
   <div class="issue">The computed value of <a class="property" data-link-type="propdesc" href="#propdef-overflow">overflow</a> is equal to the
computed value of <a class="property" data-link-type="propdesc" href="#propdef-overflow-x">overflow-x</a> if <a class="property" data-link-type="propdesc" href="#propdef-overflow-y">overflow-y</a> is the same; otherwise
it is the pair of computed values of <a class="property" data-link-type="propdesc" href="#propdef-overflow-x">overflow-x</a> and <a class="property" data-link-type="propdesc" href="#propdef-overflow-y">overflow-y</a>.<a href="#issue-4c224dd4"> ↵ </a></div>
   <div class="issue">Could this property be merged with <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-exclusions-1/#propdef-wrap-flow">wrap-flow</a> in <a data-link-type="biblio" href="#biblio-css3-exclusions">[CSS3-EXCLUSIONS]</a>? <a href="#issue-ec3e4b5e"> ↵ </a></div>
   <div class="issue">[add description or image?]<a href="#issue-43091330"> ↵ </a></div>
   <div class="issue">Alternative definition, that (1) avoids the need for <a class="property" data-link-type="propdesc" href="#propdef-indent-edge-reset">indent-edge-reset</a> and (2) changes not just the line boxes, but also
the content edge, so that list markers stay close to the content: <a href="#issue-b65b6450"> ↵ </a></div>
   <div class="issue">[Is this indeed correctly defined in <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>?]<a href="#issue-5ad9c24a"> ↵ </a></div>
   <div class="issue">Yet another alternative. This one adds a fixed indent
rather than one that depends on the context: <a href="#issue-1847da7a"> ↵ </a></div>
   <div class="issue">To do… <a href="#issue-5b645b7b0"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="border-area">
   <b><a href="#border-area">#border-area</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-border-area-1">13. Collapsing margins</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="margin-edge">
   <b><a href="#margin-edge">#margin-edge</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-margin-edge-1">16.2. Rules for positioning floats</a> <a href="#ref-for-margin-edge-2">(2)</a> <a href="#ref-for-margin-edge-3">(3)</a> <a href="#ref-for-margin-edge-4">(4)</a> <a href="#ref-for-margin-edge-5">(5)</a> <a href="#ref-for-margin-edge-6">(6)</a> <a href="#ref-for-margin-edge-7">(7)</a> <a href="#ref-for-margin-edge-8">(8)</a> <a href="#ref-for-margin-edge-9">(9)</a> <a href="#ref-for-margin-edge-10">(10)</a> <a href="#ref-for-margin-edge-11">(11)</a> <a href="#ref-for-margin-edge-12">(12)</a> <a href="#ref-for-margin-edge-13">(13)</a> <a href="#ref-for-margin-edge-14">(14)</a> <a href="#ref-for-margin-edge-15">(15)</a> <a href="#ref-for-margin-edge-16">(16)</a>
    <li><a href="#ref-for-margin-edge-17">18. The clear-after property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="horizontal">
   <b><a href="#horizontal">#horizontal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-horizontal-1">2. Introduction &amp; definitions</a> <a href="#ref-for-horizontal-2">(2)</a> <a href="#ref-for-horizontal-3">(3)</a>
    <li><a href="#ref-for-horizontal-4">5. Flows</a> <a href="#ref-for-horizontal-5">(2)</a>
    <li><a href="#ref-for-horizontal-6">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="vertical">
   <b><a href="#vertical">#vertical</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-vertical-1">2. Introduction &amp; definitions</a> <a href="#ref-for-vertical-2">(2)</a>
    <li><a href="#ref-for-vertical-3">5. Flows</a> <a href="#ref-for-vertical-4">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-start">
   <b><a href="#block-start">#block-start</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-start-1">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a> <a href="#ref-for-block-start-2">(2)</a> <a href="#ref-for-block-start-3">(3)</a> <a href="#ref-for-block-start-4">(4)</a>
    <li><a href="#ref-for-block-start-5">15.4. Other block-level, non-replaced elements in normal flow</a> <a href="#ref-for-block-start-6">(2)</a>
    <li><a href="#ref-for-block-start-7">18. The clear-after property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-end">
   <b><a href="#block-end">#block-end</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-end-1">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a> <a href="#ref-for-block-end-2">(2)</a> <a href="#ref-for-block-end-3">(3)</a> <a href="#ref-for-block-end-4">(4)</a>
    <li><a href="#ref-for-block-end-5">15.4. Other block-level, non-replaced elements in normal flow</a> <a href="#ref-for-block-end-6">(2)</a>
    <li><a href="#ref-for-block-end-7">18. The clear-after property</a> <a href="#ref-for-block-end-8">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inline-start">
   <b><a href="#inline-start">#inline-start</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-start-1">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a> <a href="#ref-for-inline-start-2">(2)</a>
    <li><a href="#ref-for-inline-start-3">15.4. Other block-level, non-replaced elements in normal flow</a> <a href="#ref-for-inline-start-4">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inline-end">
   <b><a href="#inline-end">#inline-end</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-end-1">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a> <a href="#ref-for-inline-end-2">(2)</a>
    <li><a href="#ref-for-inline-end-3">15.4. Other block-level, non-replaced elements in normal flow</a> <a href="#ref-for-inline-end-4">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="measure">
   <b><a href="#measure">#measure</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-measure-1">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="extent">
   <b><a href="#extent">#extent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-extent-1">9. The margin properties</a>
    <li><a href="#ref-for-extent-2">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a> <a href="#ref-for-extent-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="a">
   <b><a href="#a">#a</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-1">7. Block-level formatting</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="b">
   <b><a href="#b">#b</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-b-1">7. Block-level formatting</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="c">
   <b><a href="#c">#c</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-c-1">7. Block-level formatting</a>
    <li><a href="#ref-for-c-2">18. The clear-after property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="d">
   <b><a href="#d">#d</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-d-1">7. Block-level formatting</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="orthogonal">
   <b><a href="#orthogonal">#orthogonal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-orthogonal-1">5. Flows</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="orthogonal-flow">
   <b><a href="#orthogonal-flow">#orthogonal-flow</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-orthogonal-flow-1">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="viewport0">
   <b><a href="#viewport0">#viewport0</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-viewport0-1">4. Containing blocks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="canvas">
   <b><a href="#canvas">#canvas</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-canvas-1">2. Introduction &amp; definitions</a>
    <li><a href="#ref-for-canvas-2">3. The viewport and the canvas</a>
    <li><a href="#ref-for-canvas-3">4. Containing blocks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="containing-block">
   <b><a href="#containing-block">#containing-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-containing-block-1">2. Introduction &amp; definitions</a> <a href="#ref-for-containing-block-2">(2)</a> <a href="#ref-for-containing-block-3">(3)</a>
    <li><a href="#ref-for-containing-block-4">7. Block-level formatting</a>
    <li><a href="#ref-for-containing-block-5">16.2. Rules for positioning floats</a> <a href="#ref-for-containing-block-6">(2)</a> <a href="#ref-for-containing-block-7">(3)</a> <a href="#ref-for-containing-block-8">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-container-box">
   <b><a href="#block-container-box">#block-container-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-container-box-1">4. Containing blocks</a>
    <li><a href="#ref-for-block-container-box-2">5. Flows</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="principal-box">
   <b><a href="#principal-box">#principal-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-principal-box-1">4. Containing blocks</a> <a href="#ref-for-principal-box-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="flow">
   <b><a href="#flow">#flow</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-flow-1">2. Introduction &amp; definitions</a> <a href="#ref-for-flow-2">(2)</a>
    <li><a href="#ref-for-flow-3">18. The clear-after property</a>
    <li><a href="#ref-for-flow-4">The ‘float-displace’ property [alternative 2]</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="flow-root">
   <b><a href="#flow-root">#flow-root</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-flow-root-1">2. Introduction &amp; definitions</a>
    <li><a href="#ref-for-flow-root-2">4. Containing blocks</a>
    <li><a href="#ref-for-flow-root-3">5. Flows</a>
    <li><a href="#ref-for-flow-root-4">18. The clear-after property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-level">
   <b><a href="#block-level">#block-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-level-1">6.1. Block-level boxes, containing blocks
and anonymous boxes</a>
    <li><a href="#ref-for-block-level-2">13. Collapsing margins</a>
    <li><a href="#ref-for-block-level-3">15. Calculating widths, heights and margins</a>
    <li><a href="#ref-for-block-level-4">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a>
    <li><a href="#ref-for-block-level-5">15.10. Auto heights for flow roots</a>
    <li><a href="#ref-for-block-level-6">16.2. Rules for positioning floats</a> <a href="#ref-for-block-level-7">(2)</a> <a href="#ref-for-block-level-8">(3)</a>
    <li><a href="#ref-for-block-level-9">17. The clear property</a>
    <li><a href="#ref-for-block-level-10">21.2. Painting order</a> <a href="#ref-for-block-level-11">(2)</a> <a href="#ref-for-block-level-12">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="anonymous-box">
   <b><a href="#anonymous-box">#anonymous-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-anonymous-box-1">2. Introduction &amp; definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-padding">
   <b><a href="#propdef-padding">#propdef-padding</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-padding-1">8. The padding properties</a> <a href="#ref-for-propdef-padding-2">(2)</a>
    <li><a href="#ref-for-propdef-padding-3">13. Collapsing margins</a>
    <li><a href="#ref-for-propdef-padding-4">15.8. Block-level, replaced elements in normal flow</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-padding-top">
   <b><a href="#propdef-padding-top">#propdef-padding-top</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-padding-top-1">2. Introduction &amp; definitions</a>
    <li><a href="#ref-for-propdef-padding-top-2">15.6. Absolutely positioned, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-padding-top-3">15.7. Absolutely positioned, replaced
elements</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-padding-right">
   <b><a href="#propdef-padding-right">#propdef-padding-right</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-padding-right-1">15.6. Absolutely positioned, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-padding-right-2">15.7. Absolutely positioned, replaced
elements</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-padding-bottom">
   <b><a href="#propdef-padding-bottom">#propdef-padding-bottom</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-padding-bottom-1">15.6. Absolutely positioned, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-padding-bottom-2">15.7. Absolutely positioned, replaced
elements</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-padding-left">
   <b><a href="#propdef-padding-left">#propdef-padding-left</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-padding-left-1">15.6. Absolutely positioned, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-padding-left-2">15.7. Absolutely positioned, replaced
elements</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-margin-top">
   <b><a href="#propdef-margin-top">#propdef-margin-top</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-margin-top-1">9. The margin properties</a>
    <li><a href="#ref-for-propdef-margin-top-2">15.1. Inline, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-top-3">15.2. Inline or floating, replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-top-4">15.5. Inline-block or floating, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-top-5">15.6. Absolutely positioned, non-replaced
elements</a> <a href="#ref-for-propdef-margin-top-6">(2)</a> <a href="#ref-for-propdef-margin-top-7">(3)</a> <a href="#ref-for-propdef-margin-top-8">(4)</a> <a href="#ref-for-propdef-margin-top-9">(5)</a> <a href="#ref-for-propdef-margin-top-10">(6)</a> <a href="#ref-for-propdef-margin-top-11">(7)</a> <a href="#ref-for-propdef-margin-top-12">(8)</a> <a href="#ref-for-propdef-margin-top-13">(9)</a>
    <li><a href="#ref-for-propdef-margin-top-14">15.7. Absolutely positioned, replaced
elements</a> <a href="#ref-for-propdef-margin-top-15">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-margin-right">
   <b><a href="#propdef-margin-right">#propdef-margin-right</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-margin-right-1">9. The margin properties</a>
    <li><a href="#ref-for-propdef-margin-right-2">15.1. Inline, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-right-3">15.2. Inline or floating, replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-right-4">15.5. Inline-block or floating, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-right-5">15.6. Absolutely positioned, non-replaced
elements</a> <a href="#ref-for-propdef-margin-right-6">(2)</a> <a href="#ref-for-propdef-margin-right-7">(3)</a> <a href="#ref-for-propdef-margin-right-8">(4)</a> <a href="#ref-for-propdef-margin-right-9">(5)</a> <a href="#ref-for-propdef-margin-right-10">(6)</a> <a href="#ref-for-propdef-margin-right-11">(7)</a>
    <li><a href="#ref-for-propdef-margin-right-12">15.7. Absolutely positioned, replaced
elements</a> <a href="#ref-for-propdef-margin-right-13">(2)</a> <a href="#ref-for-propdef-margin-right-14">(3)</a> <a href="#ref-for-propdef-margin-right-15">(4)</a> <a href="#ref-for-propdef-margin-right-16">(5)</a> <a href="#ref-for-propdef-margin-right-17">(6)</a> <a href="#ref-for-propdef-margin-right-18">(7)</a>
    <li><a href="#ref-for-propdef-margin-right-19">15.8. Block-level, replaced elements in normal flow</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-margin-bottom">
   <b><a href="#propdef-margin-bottom">#propdef-margin-bottom</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-margin-bottom-1">9. The margin properties</a>
    <li><a href="#ref-for-propdef-margin-bottom-2">15.1. Inline, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-bottom-3">15.2. Inline or floating, replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-bottom-4">15.5. Inline-block or floating, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-bottom-5">15.6. Absolutely positioned, non-replaced
elements</a> <a href="#ref-for-propdef-margin-bottom-6">(2)</a> <a href="#ref-for-propdef-margin-bottom-7">(3)</a> <a href="#ref-for-propdef-margin-bottom-8">(4)</a> <a href="#ref-for-propdef-margin-bottom-9">(5)</a> <a href="#ref-for-propdef-margin-bottom-10">(6)</a> <a href="#ref-for-propdef-margin-bottom-11">(7)</a> <a href="#ref-for-propdef-margin-bottom-12">(8)</a> <a href="#ref-for-propdef-margin-bottom-13">(9)</a>
    <li><a href="#ref-for-propdef-margin-bottom-14">15.7. Absolutely positioned, replaced
elements</a> <a href="#ref-for-propdef-margin-bottom-15">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-margin-left">
   <b><a href="#propdef-margin-left">#propdef-margin-left</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-margin-left-1">9. The margin properties</a>
    <li><a href="#ref-for-propdef-margin-left-2">15.1. Inline, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-left-3">15.2. Inline or floating, replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-left-4">15.5. Inline-block or floating, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-margin-left-5">15.6. Absolutely positioned, non-replaced
elements</a> <a href="#ref-for-propdef-margin-left-6">(2)</a> <a href="#ref-for-propdef-margin-left-7">(3)</a> <a href="#ref-for-propdef-margin-left-8">(4)</a> <a href="#ref-for-propdef-margin-left-9">(5)</a> <a href="#ref-for-propdef-margin-left-10">(6)</a> <a href="#ref-for-propdef-margin-left-11">(7)</a>
    <li><a href="#ref-for-propdef-margin-left-12">15.7. Absolutely positioned, replaced
elements</a> <a href="#ref-for-propdef-margin-left-13">(2)</a> <a href="#ref-for-propdef-margin-left-14">(3)</a> <a href="#ref-for-propdef-margin-left-15">(4)</a> <a href="#ref-for-propdef-margin-left-16">(5)</a> <a href="#ref-for-propdef-margin-left-17">(6)</a> <a href="#ref-for-propdef-margin-left-18">(7)</a>
    <li><a href="#ref-for-propdef-margin-left-19">15.8. Block-level, replaced elements in normal flow</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-margin">
   <b><a href="#propdef-margin">#propdef-margin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-margin-1">9. The margin properties</a> <a href="#ref-for-propdef-margin-2">(2)</a> <a href="#ref-for-propdef-margin-3">(3)</a> <a href="#ref-for-propdef-margin-4">(4)</a>
    <li><a href="#ref-for-propdef-margin-5">13. Collapsing margins</a>
    <li><a href="#ref-for-propdef-margin-6">15. Calculating widths, heights and margins</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-width">
   <b><a href="#propdef-width">#propdef-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-width-1">10. The width and height properties</a> <a href="#ref-for-propdef-width-2">(2)</a>
    <li><a href="#ref-for-propdef-width-3">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-propdef-width-4">(2)</a>
    <li><a href="#ref-for-propdef-width-5">13. Collapsing margins</a> <a href="#ref-for-propdef-width-6">(2)</a>
    <li><a href="#ref-for-propdef-width-7">15. Calculating widths, heights and margins</a> <a href="#ref-for-propdef-width-8">(2)</a> <a href="#ref-for-propdef-width-9">(3)</a> <a href="#ref-for-propdef-width-10">(4)</a> <a href="#ref-for-propdef-width-11">(5)</a> <a href="#ref-for-propdef-width-12">(6)</a> <a href="#ref-for-propdef-width-13">(7)</a> <a href="#ref-for-propdef-width-14">(8)</a>
    <li><a href="#ref-for-propdef-width-15">15.1. Inline, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-width-16">15.2. Inline or floating, replaced
elements</a> <a href="#ref-for-propdef-width-17">(2)</a> <a href="#ref-for-propdef-width-18">(3)</a> <a href="#ref-for-propdef-width-19">(4)</a> <a href="#ref-for-propdef-width-20">(5)</a> <a href="#ref-for-propdef-width-21">(6)</a> <a href="#ref-for-propdef-width-22">(7)</a> <a href="#ref-for-propdef-width-23">(8)</a> <a href="#ref-for-propdef-width-24">(9)</a> <a href="#ref-for-propdef-width-25">(10)</a> <a href="#ref-for-propdef-width-26">(11)</a> <a href="#ref-for-propdef-width-27">(12)</a> <a href="#ref-for-propdef-width-28">(13)</a> <a href="#ref-for-propdef-width-29">(14)</a> <a href="#ref-for-propdef-width-30">(15)</a>
    <li><a href="#ref-for-propdef-width-31">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a>
    <li><a href="#ref-for-propdef-width-32">15.5. Inline-block or floating, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-width-33">15.6. Absolutely positioned, non-replaced
elements</a> <a href="#ref-for-propdef-width-34">(2)</a> <a href="#ref-for-propdef-width-35">(3)</a> <a href="#ref-for-propdef-width-36">(4)</a> <a href="#ref-for-propdef-width-37">(5)</a> <a href="#ref-for-propdef-width-38">(6)</a> <a href="#ref-for-propdef-width-39">(7)</a> <a href="#ref-for-propdef-width-40">(8)</a> <a href="#ref-for-propdef-width-41">(9)</a>
    <li><a href="#ref-for-propdef-width-42">15.7. Absolutely positioned, replaced
elements</a> <a href="#ref-for-propdef-width-43">(2)</a>
    <li><a href="#ref-for-propdef-width-44">15.8. Block-level, replaced elements in normal flow</a>
    <li><a href="#ref-for-propdef-width-45">15.9. Floating, non-replaced elements</a> <a href="#ref-for-propdef-width-46">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-height">
   <b><a href="#propdef-height">#propdef-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-height-1">10. The width and height properties</a> <a href="#ref-for-propdef-height-2">(2)</a> <a href="#ref-for-propdef-height-3">(3)</a>
    <li><a href="#ref-for-propdef-height-4">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-propdef-height-5">(2)</a>
    <li><a href="#ref-for-propdef-height-6">13. Collapsing margins</a> <a href="#ref-for-propdef-height-7">(2)</a> <a href="#ref-for-propdef-height-8">(3)</a>
    <li><a href="#ref-for-propdef-height-9">15. Calculating widths, heights and margins</a> <a href="#ref-for-propdef-height-10">(2)</a> <a href="#ref-for-propdef-height-11">(3)</a> <a href="#ref-for-propdef-height-12">(4)</a> <a href="#ref-for-propdef-height-13">(5)</a> <a href="#ref-for-propdef-height-14">(6)</a> <a href="#ref-for-propdef-height-15">(7)</a> <a href="#ref-for-propdef-height-16">(8)</a>
    <li><a href="#ref-for-propdef-height-17">15.1. Inline, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-height-18">15.2. Inline or floating, replaced
elements</a> <a href="#ref-for-propdef-height-19">(2)</a> <a href="#ref-for-propdef-height-20">(3)</a> <a href="#ref-for-propdef-height-21">(4)</a> <a href="#ref-for-propdef-height-22">(5)</a> <a href="#ref-for-propdef-height-23">(6)</a> <a href="#ref-for-propdef-height-24">(7)</a> <a href="#ref-for-propdef-height-25">(8)</a> <a href="#ref-for-propdef-height-26">(9)</a> <a href="#ref-for-propdef-height-27">(10)</a> <a href="#ref-for-propdef-height-28">(11)</a> <a href="#ref-for-propdef-height-29">(12)</a> <a href="#ref-for-propdef-height-30">(13)</a>
    <li><a href="#ref-for-propdef-height-31">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a>
    <li><a href="#ref-for-propdef-height-32">15.5. Inline-block or floating, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-height-33">15.6. Absolutely positioned, non-replaced
elements</a> <a href="#ref-for-propdef-height-34">(2)</a> <a href="#ref-for-propdef-height-35">(3)</a> <a href="#ref-for-propdef-height-36">(4)</a> <a href="#ref-for-propdef-height-37">(5)</a> <a href="#ref-for-propdef-height-38">(6)</a> <a href="#ref-for-propdef-height-39">(7)</a> <a href="#ref-for-propdef-height-40">(8)</a> <a href="#ref-for-propdef-height-41">(9)</a>
    <li><a href="#ref-for-propdef-height-42">15.7. Absolutely positioned, replaced
elements</a> <a href="#ref-for-propdef-height-43">(2)</a>
    <li><a href="#ref-for-propdef-height-44">15.9. Floating, non-replaced elements</a>
    <li><a href="#ref-for-propdef-height-45">18. The clear-after property</a> <a href="#ref-for-propdef-height-46">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-min-width">
   <b><a href="#propdef-min-width">#propdef-min-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-min-width-1">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-propdef-min-width-2">(2)</a>
    <li><a href="#ref-for-propdef-min-width-3">13. Collapsing margins</a> <a href="#ref-for-propdef-min-width-4">(2)</a>
    <li><a href="#ref-for-propdef-min-width-5">15. Calculating widths, heights and margins</a> <a href="#ref-for-propdef-min-width-6">(2)</a> <a href="#ref-for-propdef-min-width-7">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-min-height">
   <b><a href="#propdef-min-height">#propdef-min-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-min-height-1">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-propdef-min-height-2">(2)</a>
    <li><a href="#ref-for-propdef-min-height-3">13. Collapsing margins</a> <a href="#ref-for-propdef-min-height-4">(2)</a> <a href="#ref-for-propdef-min-height-5">(3)</a>
    <li><a href="#ref-for-propdef-min-height-6">15. Calculating widths, heights and margins</a> <a href="#ref-for-propdef-min-height-7">(2)</a> <a href="#ref-for-propdef-min-height-8">(3)</a>
    <li><a href="#ref-for-propdef-min-height-9">18. The clear-after property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-max-width">
   <b><a href="#propdef-max-width">#propdef-max-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-max-width-1">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-propdef-max-width-2">(2)</a>
    <li><a href="#ref-for-propdef-max-width-3">15. Calculating widths, heights and margins</a> <a href="#ref-for-propdef-max-width-4">(2)</a> <a href="#ref-for-propdef-max-width-5">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-max-height">
   <b><a href="#propdef-max-height">#propdef-max-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-max-height-1">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-propdef-max-height-2">(2)</a>
    <li><a href="#ref-for-propdef-max-height-3">13. Collapsing margins</a>
    <li><a href="#ref-for-propdef-max-height-4">15. Calculating widths, heights and margins</a> <a href="#ref-for-propdef-max-height-5">(2)</a> <a href="#ref-for-propdef-max-height-6">(3)</a>
    <li><a href="#ref-for-propdef-max-height-7">19.1. The overflow, overflow-x and overflow-y properties</a> <a href="#ref-for-propdef-max-height-8">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="complex-aspect-ratio">
   <b><a href="#complex-aspect-ratio">#complex-aspect-ratio</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-complex-aspect-ratio-1">10. The width and height properties</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-float">
   <b><a href="#propdef-float">#propdef-float</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-float-1">5. Flows</a> <a href="#ref-for-propdef-float-2">(2)</a>
    <li><a href="#ref-for-propdef-float-3">15.6. Absolutely positioned, non-replaced
elements</a>
    <li><a href="#ref-for-propdef-float-4">16. The float property</a>
    <li><a href="#ref-for-propdef-float-5">16.2. Rules for positioning floats</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-clear">
   <b><a href="#propdef-clear">#propdef-clear</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-clear-1">16. The float property</a> <a href="#ref-for-propdef-clear-2">(2)</a>
    <li><a href="#ref-for-propdef-clear-3">16.1. Introduction to floats</a> <a href="#ref-for-propdef-clear-4">(2)</a> <a href="#ref-for-propdef-clear-5">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-clear-after">
   <b><a href="#propdef-clear-after">#propdef-clear-after</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-clear-after-1">18. The clear-after property</a> <a href="#ref-for-propdef-clear-after-2">(2)</a> <a href="#ref-for-propdef-clear-after-3">(3)</a> <a href="#ref-for-propdef-clear-after-4">(4)</a> <a href="#ref-for-propdef-clear-after-5">(5)</a> <a href="#ref-for-propdef-clear-after-6">(6)</a> <a href="#ref-for-propdef-clear-after-7">(7)</a> <a href="#ref-for-propdef-clear-after-8">(8)</a> <a href="#ref-for-propdef-clear-after-9">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-clear-after-none">
   <b><a href="#valdef-clear-after-none">#valdef-clear-after-none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-clear-after-none-1">5. Flows</a> <a href="#ref-for-valdef-clear-after-none-2">(2)</a>
    <li><a href="#ref-for-valdef-clear-after-none-3">11. The min-width, max-width, min-height and
max-height properties</a> <a href="#ref-for-valdef-clear-after-none-4">(2)</a>
    <li><a href="#ref-for-valdef-clear-after-none-5">15. Calculating widths, heights and margins</a> <a href="#ref-for-valdef-clear-after-none-6">(2)</a> <a href="#ref-for-valdef-clear-after-none-7">(3)</a>
    <li><a href="#ref-for-valdef-clear-after-none-8">16. The float property</a> <a href="#ref-for-valdef-clear-after-none-9">(2)</a> <a href="#ref-for-valdef-clear-after-none-10">(3)</a>
    <li><a href="#ref-for-valdef-clear-after-none-11">16.2. Rules for positioning floats</a>
    <li><a href="#ref-for-valdef-clear-after-none-12">18. The clear-after property</a> <a href="#ref-for-valdef-clear-after-none-13">(2)</a>
    <li><a href="#ref-for-valdef-clear-after-none-14">20. The visibility property</a>
    <li><a href="#ref-for-valdef-clear-after-none-15">22.2. The indent-edge-reset property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-overflow-x">
   <b><a href="#propdef-overflow-x">#propdef-overflow-x</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-overflow-x-1">19.1. The overflow, overflow-x and overflow-y properties</a> <a href="#ref-for-propdef-overflow-x-2">(2)</a> <a href="#ref-for-propdef-overflow-x-3">(3)</a> <a href="#ref-for-propdef-overflow-x-4">(4)</a> <a href="#ref-for-propdef-overflow-x-5">(5)</a> <a href="#ref-for-propdef-overflow-x-6">(6)</a> <a href="#ref-for-propdef-overflow-x-7">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-overflow-y">
   <b><a href="#propdef-overflow-y">#propdef-overflow-y</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-overflow-y-1">19.1. The overflow, overflow-x and overflow-y properties</a> <a href="#ref-for-propdef-overflow-y-2">(2)</a> <a href="#ref-for-propdef-overflow-y-3">(3)</a> <a href="#ref-for-propdef-overflow-y-4">(4)</a> <a href="#ref-for-propdef-overflow-y-5">(5)</a> <a href="#ref-for-propdef-overflow-y-6">(6)</a> <a href="#ref-for-propdef-overflow-y-7">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-overflow">
   <b><a href="#propdef-overflow">#propdef-overflow</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-overflow-1">4. Containing blocks</a>
    <li><a href="#ref-for-propdef-overflow-2">5. Flows</a>
    <li><a href="#ref-for-propdef-overflow-3">15.3. Block-level, non-replaced elements
in normal flow
when overflow computes to visible</a> <a href="#ref-for-propdef-overflow-4">(2)</a>
    <li><a href="#ref-for-propdef-overflow-5">15.4. Other block-level, non-replaced elements in normal flow</a> <a href="#ref-for-propdef-overflow-6">(2)</a> <a href="#ref-for-propdef-overflow-7">(3)</a>
    <li><a href="#ref-for-propdef-overflow-8">16.2. Rules for positioning floats</a>
    <li><a href="#ref-for-propdef-overflow-9">18. The clear-after property</a> <a href="#ref-for-propdef-overflow-10">(2)</a> <a href="#ref-for-propdef-overflow-11">(3)</a>
    <li><a href="#ref-for-propdef-overflow-12">19.1. The overflow, overflow-x and overflow-y properties</a> <a href="#ref-for-propdef-overflow-13">(2)</a> <a href="#ref-for-propdef-overflow-14">(3)</a> <a href="#ref-for-propdef-overflow-15">(4)</a> <a href="#ref-for-propdef-overflow-16">(5)</a> <a href="#ref-for-propdef-overflow-17">(6)</a> <a href="#ref-for-propdef-overflow-18">(7)</a> <a href="#ref-for-propdef-overflow-19">(8)</a> <a href="#ref-for-propdef-overflow-20">(9)</a> <a href="#ref-for-propdef-overflow-21">(10)</a> <a href="#ref-for-propdef-overflow-22">(11)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-float-displace">
   <b><a href="#propdef-float-displace">#propdef-float-displace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-float-displace-1">22. The float-displace and indent-edge-reset properties [alternative 1]</a> <a href="#ref-for-propdef-float-displace-2">(2)</a>
    <li><a href="#ref-for-propdef-float-displace-3">22.1. The float-displace property</a>
    <li><a href="#ref-for-propdef-float-displace-4">22.2. The indent-edge-reset property</a>
    <li><a href="#ref-for-propdef-float-displace-5">The ‘float-displace’ property [alternative 2]</a> <a href="#ref-for-propdef-float-displace-6">(2)</a> <a href="#ref-for-propdef-float-displace-7">(3)</a>
    <li><a href="#ref-for-propdef-float-displace-8">The ‘float-displace’ property [alternative 3]</a> <a href="#ref-for-propdef-float-displace-9">(2)</a> <a href="#ref-for-propdef-float-displace-10">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-indent-edge-reset">
   <b><a href="#propdef-indent-edge-reset">#propdef-indent-edge-reset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-indent-edge-reset-1">22. The float-displace and indent-edge-reset properties [alternative 1]</a>
    <li><a href="#ref-for-propdef-indent-edge-reset-2">22.1. The float-displace property</a>
    <li><a href="#ref-for-propdef-indent-edge-reset-3">22.2. The indent-edge-reset property</a> <a href="#ref-for-propdef-indent-edge-reset-4">(2)</a>
    <li><a href="#ref-for-propdef-indent-edge-reset-5">The ‘float-displace’ property [alternative 2]</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="relative-indent">
   <b><a href="#relative-indent">#relative-indent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relative-indent-1">The ‘float-displace’ property [alternative 2]</a> <a href="#ref-for-relative-indent-2">(2)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>