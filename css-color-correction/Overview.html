<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head profile="http://www.w3.org/2006/03/hcard"><meta
  content="text/html; charset=utf-8" http-equiv=Content-Type>
  <meta content="text/css" http-equiv=Content-Style-Type>
  <meta content=en http-equiv=Content-Language>

  <title>CSS Color Correction Module</title>
  <!--
      FIXME when publishing: copy the current default.css and link to
      "default.css" rather than "../default.css"
   -->
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED" rel=stylesheet
  type="text/css">

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1>CSS Color Correction Module</h1>

   <h2 class="no-num no-toc" id='longstatus-date'>Editor's Draft 30 July 2012</h2>

   <dl>
    <dt>This version:</dt>
    <!-- <dd><a href="http://www.w3.org/TR/2012/ED-css-color-correction-20120730/">http://www.w3.org/TR/2012/ED-css-color-correction-20120730/</a></dd> -->

    <dd><a
     href="http://dev.w3.org/csswg/css-color-correction/">http://dev.w3.org/csswg/css-color-correction/</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css-color-correction/">http://www.w3.org/TR/css-color-correction/</a>

    <dt>Previous version:

    <dd><a
     href="http://lists.w3.org/Archives/Public/www-style/2009Nov/0226.html">http://lists.w3.org/Archives/Public/www-style/2009Nov/0226.html</a></dd>
    <!--
    <dd><a href="http://www.w3.org/TR/2008/WD-css-color-correction-20080721">http://www.w3.org/TR/2008/WD-css-color-correction-20080721</a></dd>
    -->
  <dt>Feedback:</dt>
    <dd><a href="mailto:www-style@w3.org?subject=%5Bcss-color-correction%5D%20feedback"
         >www-style@w3.org</a> 
         with subject line &ldquo;<kbd>[css-color-correction] 
         <var>&hellip; message topic &hellip;</var></kbd>&rdquo;
         (<a rel="discussion" href="http://lists.w3.org/Archives/Public/www-style/"
           >archives</a>)

    <dt>Editors:

    <dd class=vcard><a class="fn n" href="http://dbaron.org/"><abbr
     class=given-name>L.</abbr> <span class=additional-name>David</span>
     <span class=family-name>Baron</span></a> (<span
     class="org company vcard"><a class="fn org url"
     href="http://www.mozilla.org/">Mozilla</a></span>)
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> © 2012 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>CSS (Cascading Style Sheets) is a language for describing the rendering
   of HTML and XML documents. While existing specifications define the color
   space of colors specified in style sheets and in other resources, the
   rules on color space have generally not been followed, leading to
   avoidable differences in color between devices or implementations. This
   document defines a new CSS property that will help migration towards the
   correct handling of colors that is already defined by allowing authors to
   specify a preference for the correct or the traditional (device-dependent)
   color handling.

  <h2 class="no-num no-toc" id=status>Status of This Document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss-color-correction%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   “css-color-correction” in the subject, preferably like this:
   “[<!---->css-color-correction<!---->] <em>…summary of
   comment…</em>”

  <p>This document was produced by the <a href="/Style/CSS/members">CSS
   Working Group</a> (part of the <a href="/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent
   Policy</a>. W3C maintains a <a href="/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the
   W3C Patent Policy</a>.</p>
  <!--end-status-->

  <h2 class="no-num no-toc" id=contents>Table of Contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#introduction"><span class=secno>1. </span>Introduction</a>

   <li><a href="#conformance"><span class=secno>2. </span>Conformance</a>

   <li><a href="#definitions"><span class=secno>3. </span>Definitions</a>

   <li><a href="#color"><span class=secno>4. </span>Opting in or out of color
    management</a>

   <li><a href="#acknowledgments"><span class=secno>5.
    </span>Acknowledgments</a>

   <li><a href="#references"><span class=secno>6. </span>References</a>
    <ul class=toc>
     <li><a href="#normative"><span class=secno>6.1. </span>Normative</a>

     <li><a href="#informative"><span class=secno>6.2. </span>Informative</a>
      
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property">Property index</a>
  </ul>
  <!--end-toc-->

  <hr>

  <h2 id=introduction><span class=secno>1. </span>Introduction</h2>

  <p><em>This section is non-normative.</em>

  <p>CSS Level 1 (<a href="#CSS1" rel=biblioentry>[CSS1]<!--{{CSS1}}--></a>),
   CSS Level 2 (<a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>), and the CSS Color Module,
   Level 3 (<a href="#CSS3COLOR"
   rel=biblioentry>[CSS3COLOR]<!--{{CSS3COLOR}}--></a>) define colors
   specified in CSS to be in the sRGB color space (<a href="#SRGB"
   rel=biblioentry>[SRGB]<!--{{!SRGB}}--></a>). However, most or all existing
   Web browser implementations do not correct colors specified in HTML, CSS,
   or untagged images even when the proper correction is known.

  <p>If browsers did so, it would make the colors displayed in Web pages more
   consistent between different displays and operating systems. However, a
   more important type of consistency is the consistency of colors in
   different parts of a page on the same display, such as between colors
   specified in style sheets and colors in images, or between those colors
   and colors drawn by plugins. Improving the consistency of colors between
   different displays, therefore, requires care not to cause the worse
   problem of inconsistency of colors on the same display.

  <p>In the long run, we hope that it might be possible for implementations
   to switch to treating CSS colors and colors in untagged images as being in
   sRGB by default. (This may depend on additions for color management being
   made to the plugin API and popular plugins using those additions.)
   Therefore, this specification provides a way to clearly opt in to that
   correct behavior, but provides an default behavior (initial value) that
   may be equivalent to this opt-in.

  <h2 id=conformance><span class=secno>2. </span>Conformance</h2>

  <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 (see <a
   href="#RFC2119" rel=biblioentry>[RFC2119]<!--{{!RFC2119}}--></a>). This
   specification uses these words to describe either conformance requirements
   for style sheets or those for implementations.

  <p>Definitions of CSS properties given in this specification MUST be used
   by style sheets in a manner conformant to CSS 2.1 and its template for
   property definitions and MUST be interpreted by implementations in a
   manner conformant to the same (see <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>, particularly section 1.4.2
   and chapters 4, 6, and 3).

  <p class=index-def id=conformance-implementation
   title="conformance::implementation">An implementation of this
   specification (such as a Web browser or other CSS-based renderer) conforms
   to it if it meets all conformance requirements described as requirements
   on implementations.

  <p class=index-def id=conformance-style-sheet
   title="conformance::style sheet">A style sheet conforms to this
   specification if it meets all the requirements on style sheets.

  <p class=index-def id=conformance-authoring-tool
   title="conformance::authoring tool">An authoring tool that generates style
   sheets (such as an editor or style sheet generator) conforms to this
   specification if it generates only conforming style sheets.

  <h2 id=definitions><span class=secno>3. </span>Definitions</h2>

  <dl>
   <dt><dfn id=untagged-image>untagged image</dfn>

   <dd class=issue>... include images and canvases ... exclude SVG

   <dt><dfn id=untagged-video>untagged video</dfn>

   <dd class=issue>...
  </dl>

  <h2 id=color><span class=secno>4. </span>Opting in or out of color
   management</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <td>Name:

     <td><dfn id=color-correction>color-correction</dfn>

    <tr>
     <td>Value:

     <td>default | sRGB

    <tr>
     <td>Initial:

     <td>default

    <tr>
     <td>Applies to:

     <td>all elements

    <tr>
     <td>Inherited:

     <td>yes

    <tr>
     <td>Percentages:

     <td>N/A

    <tr>
     <td>Media:

     <td>visual

    <tr>
     <td>Computed value:

     <td>as specified
  </table>

  <p>The color-correction property specifies the color space that colors
   specified in CSS and colors in images whose color space is undefined
   according to the rules for the relevant image format (<dfn
   id=untagged-images title="untagged image">untagged images</dfn>) are in.
   It does not apply to videos, since untagged video should be presumed to be
   in CCIR 601. <span class=issue>Really? Shouldn't video be consistent with
   images? Or do implementations really do this differently?</span>

  <dl>
   <dt><dfn class=prop-value id=color-correction-value-sRGB>sRGB</dfn>

   <dd>Colors specified in CSS and colors in untagged images are in the sRGB
    color space, and implementations MUST display them accordingly.

   <dt><dfn class=prop-value id=color-correction-value-default>default</dfn>

   <dd>The color space for colors specified in CSS and colors in untagged
    images is not defined. However, implementations MUST use a single color
    space for such colors so that they match each other. When doing so would
    not cause color mismatches with content such as plugins, implementations
    SHOULD treat ‘<code class=property>auto</code>’ the same as ‘<a
    href="#color-correction-value-sRGB"><code
    class=property>sRGB</code></a>’.
  </dl>

  <p class=note>The initial value of this property may change in a future
   level of this specification.

  <h2 id=acknowledgments><span class=secno>5. </span>Acknowledgments</h2>

  <p> Bert Bos, Tantek Çelik, Beth Dakin, Simon Fraser, Chris Lilley, David
   Singer, and Henri Sivonen have given input useful to the making of this
   specification.

  <h2 id=references><span class=secno>6. </span>References</h2>

  <h3 id=normative><span class=secno>6.1. </span>Normative</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
    </dd>
   <!---->

   <dt id=RFC2119>[RFC2119]

   <dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
    words for use in RFCs to Indicate Requirement Levels.</cite></a> Internet
    RFC 2119. URL: <a
    href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
    </dd>
   <!---->

   <dt id=SRGB>[SRGB]

   <dd><a href="http://www.iec.ch/nr1899.htm"><cite>Multimedia systems and
    equipment - Colour measurement and management - Part 2-1: Colour
    management - Default RGB colour space - sRGB.</cite></a> IEC 61966-2-1
    (1999-10) ISBN: 2-8318-4989-6 - ICS codes: 33.160.60, 37.080 - TC 100 -
    51 pp. as amended by Amendment A1:2003. URL: <a
    href="http://www.iec.ch/nr1899.htm">http://www.iec.ch/nr1899.htm</a></dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 id=informative><span class=secno>6.2. </span>Informative</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS1>[CSS1]

   <dd>Håkon Wium Lie; Bert Bos. <a
    href="http://www.w3.org/TR/2008/REC-CSS1-20080411"><cite>Cascading Style
    Sheets (CSS1) Level 1 Specification.</cite></a> 11 April 2008. W3C
    Recommendation. URL: <a
    href="http://www.w3.org/TR/2008/REC-CSS1-20080411">http://www.w3.org/TR/2008/REC-CSS1-20080411</a>
    </dd>
   <!---->

   <dt id=CSS3COLOR>[CSS3COLOR]

   <dd>Tantek Çelik; Chris Lilley; L. David Baron. <a
    href="http://www.w3.org/TR/2011/REC-css3-color-20110607"><cite>CSS Color
    Module Level 3.</cite></a> 7 June 2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-css3-color-20110607">http://www.w3.org/TR/2011/REC-css3-color-20110607</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>color-correction, <a href="#color-correction"
    title=color-correction><strong>4.</strong></a>

   <li>conformance
    <ul>
     <li>authoring tool, <a href="#conformance-authoring-tool"
      title="conformance, authoring tool"><strong>2.</strong></a>

     <li>implementation, <a href="#conformance-implementation"
      title="conformance, implementation"><strong>2.</strong></a>

     <li>style sheet, <a href="#conformance-style-sheet"
      title="conformance, style sheet"><strong>2.</strong></a>
    </ul>

   <li>default, <a href="#color-correction-value-default"
    title=default><strong>4.</strong></a>

   <li>sRGB, <a href="#color-correction-value-sRGB"
    title=sRGB><strong>4.</strong></a>

   <li>untagged image, <a href="#untagged-image"
    title="untagged image"><strong>3.</strong></a>, <a
    href="#untagged-images" title="untagged image"><strong>4.</strong></a>

   <li>untagged video, <a href="#untagged-video"
    title="untagged video"><strong>3.</strong></a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property href="#color-correction">color-correction</a>

     <td>default | sRGB

     <td>default

     <td>all elements

     <td>yes

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
End:
-->
