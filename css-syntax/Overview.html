<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Syntax Module Level 3</title>
  <link href=../default.css rel=stylesheet type=text/css>
  <link href=../csslogo.ico rel="shortcut icon" type=image/x-icon>
  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>
<style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>svg.railroad-diagram{background-color:hsl(30,20%,95%);}svg.railroad-diagram path{stroke-width:3;stroke:black;fill:rgba(0,0,0,0);}svg.railroad-diagram text{font:bold 14px monospace;text-anchor:middle;}svg.railroad-diagram text.label{text-anchor:start;}svg.railroad-diagram text.comment{font:italic 12px monospace;}svg.railroad-diagram rect{stroke-width:3;stroke:black;fill:hsl(120,100%,90%);}</style><style>
			#serialization-tables th { font-size: 80%; line-height: normal }
		</style>

		</head>
<body class=h-entry>
<div class=head>
  <p data-fill-with=logo><a class=logo href=http://www.w3.org/>
    <img alt=W3C height=48 src=https://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Syntax Module Level 3</h1>
  <h2 class="no-num no-toc no-ref heading settled" id=subtitle><span class=content>Editor’s Draft,
    <span class=dt-updated><span class=value-title title=20141014>14 October 2014</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl><dt>This version:<dd><a class=u-url href=http://dev.w3.org/csswg/css-syntax/>http://dev.w3.org/csswg/css-syntax/</a><dt>Latest version:<dd><a href=http://www.w3.org/TR/css-syntax-3/>http://www.w3.org/TR/css-syntax-3/</a><dt>Previous Versions:<dd><a href=http://www.w3.org/TR/2014/CR-css-syntax-3-20140220/ rel=previous>http://www.w3.org/TR/2014/CR-css-syntax-3-20140220/</a><dd><a href=http://www.w3.org/TR/2013/WD-css-syntax-3-20131105/ rel=previous>http://www.w3.org/TR/2013/WD-css-syntax-3-20131105/</a><dd><a href=http://www.w3.org/TR/2013/WD-css-syntax-3-20130919/ rel=previous>http://www.w3.org/TR/2013/WD-css-syntax-3-20130919/</a><dt>Feedback:<dd><span><a href="mailto:www-style@w3.org?subject=[css-syntax] feedback">www-style@w3.org</a> with subject line “<kbd>[css-syntax] <var>… message topic …</var></kbd>” (<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)</span><dt>Editors:<dd><div class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://xanthir.com/contact/>Tab Atkins Jr.</a> (<span class="p-org org">Google</span>)</div><dd><div class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://exyr.org/about/>Simon Sapin</a> (<span class="p-org org">Mozilla</span>)</div></dl></div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled" id=abstract><span class=content>Abstract</span></h2>
<div class=p-summary data-fill-with=abstract><p>This module describes, in general terms, the basic structure and syntax of CSS stylesheets. It defines, in detail, the syntax and parsing of CSS - how to turn a stream of bytes into a meaningful stylesheet.</p>

<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</div>

<h2 class="no-num no-toc no-ref heading settled" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p>
	This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress.

<p>
	The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-syntax%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a>
	(see <a href=http://www.w3.org/Mail/Request>instructions</a>)
	is preferred for discussion of this specification.
	When sending e-mail,
	please put the text “css-syntax” in the subject,
	preferably like this:
	“[css-syntax] <em>…summary of comment…</em>”

<p>
	This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a>
	(part of the <a href=http://www.w3.org/Style/>Style Activity</a>).

<p>
	This document was produced by a group operating under
	the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a>
	made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential Claim(s)</a>
	must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section 6 of the W3C Patent Policy</a>.

<p>
	This document is governed by the <a href=http://www.w3.org/2014/Process-20140801/>1 August 2014 W3C Process Document</a>.
</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref heading settled" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc><li><a href=#intro><span class=secno>1</span> <span class=content>
Introduction</span></a><ul class=toc><li><a href=#placement><span class=secno>1.1</span> <span class=content>
Module interactions</span></a></ul><li><a href=#syntax-description><span class=secno>2</span> <span class=content>
Description of CSS’s Syntax</span></a><ul class=toc><li><a href=#escaping><span class=secno>2.1</span> <span class=content>
Escaping</span></a><li><a href=#error-handling><span class=secno>2.2</span> <span class=content>
Error Handling</span></a></ul><li><a href=#tokenizing-and-parsing><span class=secno>3</span> <span class=content>
Tokenizing and Parsing CSS</span></a><ul class=toc><li><a href=#parsing-overview><span class=secno>3.1</span> <span class=content>
Overview of the Parsing Model</span></a><li><a href=#input-byte-stream><span class=secno>3.2</span> <span class=content>
The input byte stream</span></a><li><a href=#input-preprocessing><span class=secno>3.3</span> <span class=content>
Preprocessing the input stream</span></a></ul><li><a href=#tokenization><span class=secno>4</span> <span class=content>
Tokenization</span></a><ul class=toc><li><a href=#token-diagrams><span class=secno>4.1</span> <span class=content>
Token Railroad Diagrams</span></a><li><a href=#tokenizer-definitions><span class=secno>4.2</span> <span class=content>
Definitions</span></a><li><a href=#tokenizer-algorithms><span class=secno>4.3</span> <span class=content>
Tokenizer Algorithms</span></a><ul class=toc><li><a href=#consume-a-token><span class=secno>4.3.1</span> <span class=content>
Consume a token</span></a><li><a href=#consume-comments><span class=secno>4.3.2</span> <span class=content>
Consume comments</span></a><li><a href=#consume-a-numeric-token><span class=secno>4.3.3</span> <span class=content>
Consume a numeric token</span></a><li><a href=#consume-an-ident-like-token><span class=secno>4.3.4</span> <span class=content>
Consume an ident-like token</span></a><li><a href=#consume-a-string-token><span class=secno>4.3.5</span> <span class=content>
Consume a string token</span></a><li><a href=#consume-a-url-token><span class=secno>4.3.6</span> <span class=content>
Consume a url token</span></a><li><a href=#consume-a-unicode-range-token><span class=secno>4.3.7</span> <span class=content>
Consume a unicode-range token</span></a><li><a href=#consume-an-escaped-code-point><span class=secno>4.3.8</span> <span class=content>
Consume an escaped code point</span></a><li><a href=#starts-with-a-valid-escape><span class=secno>4.3.9</span> <span class=content>
Check if two code points are a valid escape</span></a><li><a href=#would-start-an-identifier><span class=secno>4.3.10</span> <span class=content>
Check if three code points would start an identifier</span></a><li><a href=#starts-with-a-number><span class=secno>4.3.11</span> <span class=content>
Check if three code points would start a number</span></a><li><a href=#consume-a-name><span class=secno>4.3.12</span> <span class=content>
Consume a name</span></a><li><a href=#consume-a-number><span class=secno>4.3.13</span> <span class=content>
Consume a number</span></a><li><a href=#convert-a-string-to-a-number><span class=secno>4.3.14</span> <span class=content>
Convert a string to a number</span></a><li><a href=#consume-the-remnants-of-a-bad-url><span class=secno>4.3.15</span> <span class=content>
Consume the remnants of a bad url</span></a></ul></ul><li><a href=#parsing><span class=secno>5</span> <span class=content>
Parsing</span></a><ul class=toc><li><a href=#parser-diagrams><span class=secno>5.1</span> <span class=content>
Parser Railroad Diagrams</span></a><li><a href=#parser-definitions><span class=secno>5.2</span> <span class=content>
Definitions</span></a><li><a href=#parser-entry-points><span class=secno>5.3</span> <span class=content>
Parser Entry Points</span></a><ul class=toc><li><a href=#parse-grammar><span class=secno>5.3.1</span> <span class=content>
Parse something according to a CSS grammar</span></a><li><a href=#parse-a-stylesheet><span class=secno>5.3.2</span> <span class=content>
Parse a stylesheet</span></a><li><a href=#parse-a-list-of-rules><span class=secno>5.3.3</span> <span class=content>
Parse a list of rules</span></a><li><a href=#parse-a-rule><span class=secno>5.3.4</span> <span class=content>
Parse a rule</span></a><li><a href=#parse-a-declaration><span class=secno>5.3.5</span> <span class=content>
Parse a declaration</span></a><li><a href=#parse-a-list-of-declarations><span class=secno>5.3.6</span> <span class=content>
Parse a list of declarations</span></a><li><a href=#parse-a-component-value><span class=secno>5.3.7</span> <span class=content>
Parse a component value</span></a><li><a href=#parse-a-list-of-component-values><span class=secno>5.3.8</span> <span class=content>
Parse a list of component values</span></a><li><a href=#parse-a-comma-separated-list-of-component-values><span class=secno>5.3.9</span> <span class=content>
Parse a comma-separated list of component values</span></a></ul><li><a href=#parser-algorithms><span class=secno>5.4</span> <span class=content>
Parser Algorithms</span></a><ul class=toc><li><a href=#consume-a-list-of-rules><span class=secno>5.4.1</span> <span class=content>
Consume a list of rules</span></a><li><a href=#consume-an-at-rule><span class=secno>5.4.2</span> <span class=content>
Consume an at-rule</span></a><li><a href=#consume-a-qualified-rule><span class=secno>5.4.3</span> <span class=content>
Consume a qualified rule</span></a><li><a href=#consume-a-list-of-declarations><span class=secno>5.4.4</span> <span class=content>
Consume a list of declarations</span></a><li><a href=#consume-a-declaration><span class=secno>5.4.5</span> <span class=content>
Consume a declaration</span></a><li><a href=#consume-a-component-value><span class=secno>5.4.6</span> <span class=content>
Consume a component value</span></a><li><a href=#consume-a-simple-block><span class=secno>5.4.7</span> <span class=content>
Consume a simple block</span></a><li><a href=#consume-a-function><span class=secno>5.4.8</span> <span class=content>
Consume a function</span></a></ul></ul><li><a href=#anb><span class=secno>6</span> <span class=content>
The <var>An+B</var> microsyntax</span></a><ul class=toc><li><a href=#anb-syntax><span class=secno>6.1</span> <span class=content>
Informal Syntax Description</span></a><li><a href=#the-anb-type><span class=secno>6.2</span> <span class=content>
The <code>&lt;an+b&gt;</code> type</span></a></ul><li><a href=#rule-defs><span class=secno>7</span> <span class=content>
Defining Grammars for Rules and Other Values</span></a><ul class=toc><li><a href=#declaration-rule-list><span class=secno>7.1</span> <span class=content>
Defining Block Contents: the <span class=production data-link-type=type title="<declaration-list>">&lt;declaration-list&gt;</span>, <span class=production data-link-type=type title="<rule-list>">&lt;rule-list&gt;</span>, and <span class=production data-link-type=type title="<stylesheet>">&lt;stylesheet&gt;</span> productions</span></a></ul><li><a href=#css-stylesheets><span class=secno>8</span> <span class=content>
CSS stylesheets</span></a><ul class=toc><li><a href=#style-rules><span class=secno>8.1</span> <span class=content>
Style rules</span></a><li><a href=#charset-rule><span class=secno>8.2</span> <span class=content>
The <span class=css data-link-type=maybe title=@charset>@charset</span> Rule</span></a></ul><li><a href=#serialization><span class=secno>9</span> <span class=content>
Serialization</span></a><ul class=toc><li><a href=#serializing-anb><span class=secno>9.1</span> <span class=content>
Serializing <var>&lt;an+b&gt;</var></span></a></ul><li><a href=#changes><span class=secno>10</span> <span class=content>
Changes</span></a><ul class=toc><li><a href=#changes-CR-20140220><span class=secno>10.1</span> <span class=content>
Changes from the 20 February 2014 Candidate Recommendation</span></a><li><a href=#changes-WD-20131105><span class=secno>10.2</span> <span class=content>
Changes from the 5 November 2013 Last Call Working Draft</span></a><li><a href=#changes-WD-20130919><span class=secno>10.3</span> <span class=content>
Changes from the 19 September 2013 Working Draft</span></a><li><a href=#changes-css21><span class=secno>10.4</span> <span class=content>
Changes from CSS 2.1 and Selectors Level 3</span></a></ul><li><a href=#acknowledgments><span class=secno></span> <span class=content>
Acknowledgments</span></a><li><a href=#conformance><span class=secno></span> <span class=content>
Conformance</span></a><ul class=toc><li><a href=#conventions><span class=secno></span> <span class=content>
Document conventions</span></a><li><a href=#conformance-classes><span class=secno></span> <span class=content>
Conformance classes</span></a><li><a href=#partial><span class=secno></span> <span class=content>
Partial implementations</span></a><li><a href=#experimental><span class=secno></span> <span class=content>
Experimental implementations</span></a><li><a href=#testing><span class=secno></span> <span class=content>
Non-experimental implementations</span></a></ul><li><a href=#references><span class=secno></span> <span class=content>References</span></a><ul class=toc><li><a href=#normative><span class=secno></span> <span class=content>Normative References</span></a><li><a href=#informative><span class=secno></span> <span class=content>Informative References</span></a></ul><li><a href=#index><span class=secno></span> <span class=content>Index</span></a></ul></div>




<h2 class="heading settled" data-level=1 id=intro><span class=secno>1. </span><span class=content>
Introduction</span><a class=self-link href=#intro></a></h2>

<p><em>This section is not normative.</em></p>

<p>This module defines the abstract syntax and parsing of CSS stylesheets
	and other things which use CSS syntax
	(such as the HTML <code>style</code> attribute).</p>

<p>It defines algorithms for converting a stream of Unicode <a data-link-type=dfn href=#code-point title="code points">code points</a>
	(in other words, text)
	into a stream of CSS tokens,
	and then further into CSS objects
	such as stylesheets, rules, and declarations.</p>

<h3 class="heading settled" data-level=1.1 id=placement><span class=secno>1.1. </span><span class=content>
Module interactions</span><a class=self-link href=#placement></a></h3>

<p>This module defines the syntax and parsing of CSS stylesheets.
	It supersedes the lexical scanner and grammar defined in CSS 2.1.</p>

<h2 class="heading settled" data-level=2 id=syntax-description><span class=secno>2. </span><span class=content>
Description of CSS’s Syntax</span><a class=self-link href=#syntax-description></a></h2>

<p><em>This section is not normative.</em></p>

<p>A CSS document is a series of <a data-link-type=dfn href=#qualified-rule title="qualified rules">qualified rules</a>,
	which are usually style rules that apply CSS properties to elements,
	and <a data-link-type=dfn href=#at-rule title=at-rules>at-rules</a>,
	which define special processing rules or values for the CSS document.</p>

<p>A qualified rule starts with a prelude
	then has a {}-wrapped block containing a sequence of declarations.
	The meaning of the prelude varies based on the context that the rule appears in -
	for style rules, it’s a selector which specifies what elements the declarations will apply to.
	Each declaration has a name,
	followed by a colon and the declaration value.
	Declarations are separated by semicolons.</p>

	<div class=example>

<p>A typical rule might look something like this:</p>

		<pre>p &gt; a {
  color: blue;
  text-decoration: underline;
}
</pre>

<p>In the above rule, "<code>p &gt; a</code>" is the selector,
		which, if the source document is HTML,
		selects any <code>&lt;a&gt;</code> elements that are children of a <code>&lt;p&gt;</code> element.</p>

<p>"<code>color: blue</code>" is a declaration specifying that,
		for the elements that match the selector,
		their <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-color-3/#color0 title=color>color</a> property should have the value <span class=css>blue</span>.
		Similarly, their <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-text-decor-3/#propdef-text-decoration title=text-decoration>text-decoration</a> property should have the value <span class=css>underline</span>.</p>
	</div>

<p>At-rules are all different, but they have a basic structure in common.
	They start with an "@" <a data-link-type=dfn href=#code-point title="code point">code point</a> followed by their name.
	Some <a data-link-type=dfn href=#at-rule title=at-rules>at-rules</a> are simple statements,
	with their name followed by more CSS values to specify their behavior,
	and finally ended by a semicolon.
	Others are blocks;
	they can have CSS values following their name,
	but they end with a {}-wrapped block,
	similar to a <a data-link-type=dfn href=#qualified-rule title="qualified rule">qualified rule</a>.
	Even the contents of these blocks are specific to the given <a data-link-type=dfn href=#at-rule title=at-rule>at-rule</a>:
	sometimes they contain a sequence of declarations, like a <a data-link-type=dfn href=#qualified-rule title="qualified rule">qualified rule</a>;
	other times, they may contain additional blocks, or at-rules, or other structures altogether.</p>

	<div class=example>

<p>Here are several examples of <a data-link-type=dfn href=#at-rule title=at-rules>at-rules</a> that illustrate the varied syntax they may contain.</p>

<pre>@import "my-styles.css";</pre>

<p>The <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-cascade-3/#at-ruledef-import title=@import>@import</a> <a data-link-type=dfn href=#at-rule title=at-rule>at-rule</a> is a simple statement.
		After its name, it takes a single string or <span class=css>url()</span> function to indicate the stylesheet that it should import.</p>

		<pre>@page :left {
  margin-left: 4cm;
  margin-right: 3cm;
}
</pre>

<p>The <span class=css>@page</span> <a data-link-type=dfn href=#at-rule title=at-rule>at-rule</a> consists of an optional page selector (the <span class=css>:left</span> pseudoclass),
		followed by a block of properties that apply to the page when printed.
		In this way, it’s very similar to a normal style rule,
		except that its properties don’t apply to any "element",
		but rather the page itself.</p>

		<pre>@media print {
  body { font-size: 10pt }
}
</pre>

<p>The <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a> <a data-link-type=dfn href=#at-rule title=at-rule>at-rule</a> begins with a media type
		and a list of optional media queries.
		Its block contains entire rules,
		which are only applied when the <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a>s conditions are fulfilled.</p>
	</div>

<p>Property names and <a data-link-type=dfn href=#at-rule title=at-rule>at-rule</a> names are always <a data-link-type=dfn href=#identifier title=identifiers>identifiers</a>,
	which have to start with a letter or a hyphen followed by a letter,
	and then can contain letters, numbers, hyphens, or underscores.
	You can include any <a data-link-type=dfn href=#code-point title="code point">code point</a> at all,
	even ones that CSS uses in its syntax,
	by <a data-link-type=dfn href=#escaping0 title=escaping>escaping</a> it.</p>

<p>The syntax of selectors is defined in the <a href=http://www.w3.org/TR/selectors/>Selectors spec</a>.
	Similarly, the syntax of the wide variety of CSS values is defined in the <a href=http://www.w3.org/TR/css3-values/>Values &amp; Units spec</a>.
	The special syntaxes of individual <a data-link-type=dfn href=#at-rule title=at-rules>at-rules</a> can be found in the specs that define them.</p>

<h3 class="heading settled" data-level=2.1 id=escaping><span class=secno>2.1. </span><span class=content>
Escaping</span><a class=self-link href=#escaping></a></h3>

<p><em>This section is not normative.</em></p>

<p>Any Unicode <a data-link-type=dfn href=#code-point title="code point">code point</a> can be included in an <a data-link-type=dfn href=#identifier title=identifier>identifier</a> or quoted string
	by <dfn data-dfn-type=dfn data-noexport="" id=escaping0>escaping<a class=self-link href=#escaping0></a></dfn> it.
	CSS escape sequences start with a backslash (\), and continue with:</p>

	<ul>
		<li>
			Any Unicode <a data-link-type=dfn href=#code-point title="code point">code point</a> that is not a <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> or a <a data-link-type=dfn href=#newline title=newline>newline</a>.
			The escape sequence is replaced by that <a data-link-type=dfn href=#code-point title="code point">code point</a>.
		<li>
			Or one to six <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a>, followed by an optional <a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a>.
			The escape sequence is replaced by the Unicode <a data-link-type=dfn href=#code-point title="code point">code point</a>
			whose value is given by the hexadecimal digits.
			This optional whitespace allow hexadecimal escape sequences
			to be followed by "real" hex digits.

			<p class=example>
				An <a data-link-type=dfn href=#identifier title=identifier>identifier</a> with the value "&amp;B"
				could be written as <span class=css>\26 B</span> or <span class=css>\000026B</span>.

			<p class=note>
				A "real" space after the escape sequence must be doubled.
	</ul>

<h3 class="heading settled" data-level=2.2 id=error-handling><span class=secno>2.2. </span><span class=content>
Error Handling</span><a class=self-link href=#error-handling></a></h3>

<p><em>This section is not normative.</em></p>

<p>When errors occur in CSS,
	the parser attempts to recover gracefully,
	throwing away only the minimum amount of content
	before returning to parsing as normal.
	This is because errors aren’t always mistakes -
	new syntax looks like an error to an old parser,
	and it’s useful to be able to add new syntax to the language
	without worrying about stylesheets that include it being completely broken in older UAs.</p>

<p>The precise error-recovery behavior is detailed in the parser itself,
	but it’s simple enough that a short description is fairly accurate:</p>

	<ul>
		<li>
			At the "top level" of a stylesheet,
			an <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a> starts an at-rule.
			Anything else starts a qualified rule,
			and is included in the rule’s prelude.
			This may produce an invalid selector,
			but that’s not the concern of the CSS parser —
			at worst, it means the selector will match nothing.

		<li>
			Once an at-rule starts,
			nothing is invalid from the parser’s standpoint;
			it’s all part of the at-rule’s prelude.
			Encountering a <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a> ends the at-rule immediately,
			while encountering an opening curly-brace <a href=#tokendef-open-curly>&lt;{-token&gt;</a> starts the at-rule’s body.
			The at-rule seeks forward, matching blocks (content surrounded by (), {}, or [])
			until it finds a closing curly-brace <a href=#tokendef-close-curly>&lt;}-token&gt;</a> that isn’t matched by anything else
			or inside of another block.
			The contents of the at-rule are then interpreted according to the at-rule’s own grammar.

		<li>
			Qualified rules work similarly,
			except that semicolons don’t end them;
			instead, they are just taken in as part of the rule’s prelude.
			When the first {} block is found,
			the contents are always interpreted as a list of declarations.

		<li>
			When interpreting a list of declarations,
			unknown syntax at any point causes the parser to throw away whatever declaration it’s currently building,
			and seek forward until it finds a semicolon (or the end of the block).
			It then starts fresh, trying to parse a declaration again.

		<li>
			If the stylesheet ends while any rule, declaration, function, string, etc. are still open,
			everything is automatically closed.
			This doesn’t make them invalid,
			though they may be incomplete
			and thus thrown away when they are verified against their grammar.
	</ul>

<h2 class="heading settled" data-level=3 id=tokenizing-and-parsing><span class=secno>3. </span><span class=content>
Tokenizing and Parsing CSS</span><a class=self-link href=#tokenizing-and-parsing></a></h2>

<p>User agents must use the parsing rules described in this specification
	to generate the CSSOM trees from text/css resources.
	Together, these rules define what is referred to as the CSS parser.</p>

<p>This specification defines the parsing rules for CSS documents,
	whether they are syntactically correct or not.
	Certain points in the parsing algorithm are said to be a <dfn data-dfn-type=dfn data-noexport="" id=parse-error title="parse error">parse errors<a class=self-link href=#parse-error></a></dfn>.
	The error handling for parse errors is well-defined:
	user agents must either act as described below when encountering such problems,
	or must abort processing at the first error that they encounter for which they do not wish to apply the rules described below.</p>

<p>Conformance checkers must report at least one parse error condition to the user
	if one or more parse error conditions exist in the document
	and must not report parse error conditions
	if none exist in the document.
	Conformance checkers may report more than one parse error condition if more than one parse error condition exists in the document.
	Conformance checkers are not required to recover from parse errors,
	but if they do,
	they must recover in the same way as user agents.</p>

<h3 class="heading settled" data-level=3.1 id=parsing-overview><span class=secno>3.1. </span><span class=content>
Overview of the Parsing Model</span><a class=self-link href=#parsing-overview></a></h3>

<p>The input to the CSS parsing process consists of a stream of Unicode <a data-link-type=dfn href=#code-point title="code points">code points</a>,
	which is passed through a tokenization stage followed by a tree construction stage.
	The output is a CSSStyleSheet object.</p>

<p class=note>Note: Implementations that do not support scripting do not have to actually create a CSSOM CSSStyleSheet object,
	but the CSSOM tree in such cases is still used as the model for the rest of the specification.</p>

<h3 class="heading settled" data-level=3.2 id=input-byte-stream><span class=secno>3.2. </span><span class=content>
The input byte stream</span><a class=self-link href=#input-byte-stream></a></h3>

<p>When parsing a stylesheet,
	the stream of Unicode <a data-link-type=dfn href=#code-point title="code points">code points</a> that comprises the input to the tokenization stage
	might be initially seen by the user agent as a stream of bytes
	(typically coming over the network or from the local file system).
	If so, the user agent must decode these bytes into <a data-link-type=dfn href=#code-point title="code points">code points</a> according to a particular character encoding.</p>

<p>To decode the stream of bytes into a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>,
	UAs must use the <dfn data-dfn-type=dfn data-noexport="" id=decode><a href=http://encoding.spec.whatwg.org/#decode>decode</a><a class=self-link href=#decode></a></dfn> algorithm
	defined in <a data-biblio-type=normative data-link-type=biblio href=#biblio-encoding title=ENCODING>[ENCODING]</a>,
	with the fallback encoding determined as follows.</p>

<p class=note>Note: The <a data-link-type=dfn href=#decode title=decode>decode</a> algorithm
	gives precedence to a byte order mark (BOM),
	and only uses the fallback when none is found.</p>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=determine-the-fallback-encoding>determine the fallback encoding<a class=self-link href=#determine-the-fallback-encoding></a></dfn>:</p>

	<ol>
		<li>
			If HTTP or equivalent protocol defines an encoding (e.g. via the charset parameter of the Content-Type header),
			<dfn data-dfn-type=dfn data-export="" id=get-an-encoding><a href=http://encoding.spec.whatwg.org/#concept-encoding-get>get an encoding</a><a class=self-link href=#get-an-encoding></a></dfn> <a data-biblio-type=normative data-link-type=biblio href=#biblio-encoding title=ENCODING>[ENCODING]</a>
			for the specified value.
			If that does not return failure,
			use the return value as the fallback encoding.

		<li>
			Otherwise, check the byte stream.
			If the first 1024 bytes of the stream begin with the hex sequence

<pre>40 63 68 61 72 73 65 74 20 22 XX* 22 3B</pre>

<p>where each <code>XX</code> byte is a value between 0<sub>16</sub> and 21<sub>16</sub> inclusive
			or a value between 23<sub>16</sub> and 7F<sub>16</sub> inclusive,
			then <a data-link-type=dfn href=#get-an-encoding title="get an encoding">get an encoding</a>
			for the sequence of <code>XX</code> bytes,
			interpreted as <code>ASCII</code>.</p>

			<details class=why>
				<summary>What does that byte sequence mean?</summary>

<p>The byte sequence above,
				when decoded as ASCII,
				is the string "<code>@charset "…";</code>",
				where the "…" is the sequence of bytes corresponding to the encoding’s label.</p>
			</details>

<p>If the return value was <code>utf-16be</code> or <code>utf-16le</code>,
			use <code>utf-8</code> as the fallback encoding;
			if it was anything else except failure,
			use the return value as the fallback encoding.</p>

			<details class=why>
				<summary>Why use utf-8 when the declaration says utf-16?</summary>

<p>The bytes of the encoding declaration spell out “<code>@charset "…";</code>” in ASCII,
				but UTF-16 is not ASCII-compatible.
				Either you’ve typed in complete gibberish (like <code>䁣桡牳整•utf-16be∻</code>) to get the right bytes in the document,
				which we don’t want to encourage,
				or your document is actually in an ASCII-compatible encoding
				and your encoding declaration is lying.</p>

<p>Either way, defaulting to UTF-8 is a decent answer.</p>

<p>As well, this mimics the behavior of HTML’s <code>&lt;meta charset&gt;</code> attribute.</p>
			</details>

<p class=note>Note: Note that the syntax of an encoding declaration <em>looks like</em> the syntax of an <a class=css data-link-type=at-rule href=#at-ruledef-charset title=@charset>@charset</a> rule,
			but it’s actually much more restrictive.
			A number of things you can do in CSS that would produce a valid <a class=css data-link-type=at-rule href=#at-ruledef-charset title=@charset>@charset</a> rule,
			such as using multiple spaces, comments, or single quotes,
			will cause the encoding declaration to not be recognized.
			This behavior keeps the encoding declaration as simple as possible,
			and thus maximizes the likelihood of it being implemented correctly.</p>

		<li>
			Otherwise, if an <a data-link-type=dfn href=#environment-encoding title="environment encoding">environment encoding</a> is provided by the referring document,
			use that as the fallback encoding.

		<li>
			Otherwise, use <code>utf-8</code> as the fallback encoding.
	</ol>

	<div class=note>

<p>Though UTF-8 is the default encoding for the web,
		and many newer web-based file formats assume or require UTF-8 encoding,
		CSS was created before it was clear which encoding would win,
		and thus can’t automatically assume the stylesheet is UTF-8.</p>

<p>Stylesheet authors <em>should</em> author their stylesheets in UTF-8,
		and ensure that either an HTTP header (or equivalent method) declares the encoding of the stylesheet to be UTF-8,
		or that the referring document declares its encoding to be UTF-8.
		(In HTML, this is done by adding a <code>&lt;meta charset=utf-8&gt;</code> element to the head of the document.)</p>

<p>If neither of these options are available,
		authors should begin the stylesheet with a UTF-8 BOM
		or the exact characters</p>

<pre>@charset "utf-8";</pre>
	</div>

<p>Document languages that refer to CSS stylesheets that are decoded from bytes
	may define an <dfn data-dfn-type=dfn data-export="" id=environment-encoding>environment encoding<a class=self-link href=#environment-encoding></a></dfn> for each such stylesheet,
	which is used as a fallback when other encoding hints are not available or can not be used.</p>

<p>The concept of <a data-link-type=dfn href=#environment-encoding title="environment encoding">environment encoding</a> only exists for compatibility with legacy content.
	New formats and new linking mechanisms <b>should not</b> provide an <a data-link-type=dfn href=#environment-encoding title="environment encoding">environment encoding</a>,
	so the stylesheet defaults to UTF-8 instead in the absence of more explicit information.</p>

<p class=note>Note: <a data-biblio-type=informative data-link-type=biblio href=#biblio-html title=HTML>[HTML]</a> defines <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-stylesheet>the environment encoding for <code>&lt;link rel=stylesheet&gt;</code></a>.</p>

<p class=note>Note: <a data-biblio-type=informative data-link-type=biblio href=#biblio-cssom title=CSSOM>[CSSOM]</a> defines <a href=http://dev.w3.org/csswg/cssom/#requirements-on-user-agents-implementing-the-xml-stylesheet-processing-instruction>the environment encoding for <code>&lt;xml-stylesheet?&gt;</code></a>.</p>

<p class=note>Note: <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3cascade title=CSS3CASCADE>[CSS3CASCADE]</a> defines <a href=http://dev.w3.org/csswg/css-cascade/#at-ruledef-import>the environment encoding for <code>@import</code></a>.</p>


<h3 class="heading settled" data-level=3.3 id=input-preprocessing><span class=secno>3.3. </span><span class=content>
Preprocessing the input stream</span><a class=self-link href=#input-preprocessing></a></h3>

<p>The input stream consists of the <a data-link-type=dfn href=#code-point title="code points">code points</a>
	pushed into it as the input byte stream is decoded.</p>

<p>Before sending the input stream to the tokenizer,
	implementations must make the following <a data-link-type=dfn href=#code-point title="code point">code point</a> substitutions:</p>

	<ul>
		<li>
			Replace any U+000D CARRIAGE RETURN (CR) <a data-link-type=dfn href=#code-point title="code points">code points</a>,
			U+000C FORM FEED (FF) <a data-link-type=dfn href=#code-point title="code points">code points</a>,
			or pairs of U+000D CARRIAGE RETURN (CR) followed by U+000A LINE FEED (LF),
			by a single U+000A LINE FEED (LF) <a data-link-type=dfn href=#code-point title="code point">code point</a>.

		<li>
			Replace any U+0000 NULL <a data-link-type=dfn href=#code-point title="code point">code point</a> with U+FFFD REPLACEMENT CHARACTER (�).
	</ul>


<h2 class="heading settled" data-level=4 id=tokenization><span class=secno>4. </span><span class=content>
Tokenization</span><a class=self-link href=#tokenization></a></h2>

<p>Implementations must act as if they used the following algorithms to tokenize CSS.
	To transform a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a> into a stream of tokens,
	repeatedly <a data-link-type=dfn href=#consume-a-token0 title="consume a token">consume a token</a>
	until an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a> is reached,
	collecting the returned tokens into a stream.
	Each call to the <a data-link-type=dfn href=#consume-a-token0 title="consume a token">consume a token</a> algorithm
	returns a single token,
	so it can also be used "on-demand" to tokenize a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a> <em>during</em> parsing,
	if so desired.</p>

<p>The output of the tokenization step is a stream of zero or more of the following tokens:
	<dfn class=css data-dfn-type=type data-export="" id=typedef-ident-token>&lt;ident-token&gt;<a class=self-link href=#typedef-ident-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-function-token>&lt;function-token&gt;<a class=self-link href=#typedef-function-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-at-keyword-token>&lt;at-keyword-token&gt;<a class=self-link href=#typedef-at-keyword-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-hash-token>&lt;hash-token&gt;<a class=self-link href=#typedef-hash-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-string-token>&lt;string-token&gt;<a class=self-link href=#typedef-string-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-bad-string-token>&lt;bad-string-token&gt;<a class=self-link href=#typedef-bad-string-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-url-token>&lt;url-token&gt;<a class=self-link href=#typedef-url-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-bad-url-token>&lt;bad-url-token&gt;<a class=self-link href=#typedef-bad-url-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-delim-token>&lt;delim-token&gt;<a class=self-link href=#typedef-delim-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-number-token>&lt;number-token&gt;<a class=self-link href=#typedef-number-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-percentage-token>&lt;percentage-token&gt;<a class=self-link href=#typedef-percentage-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-dimension-token>&lt;dimension-token&gt;<a class=self-link href=#typedef-dimension-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-unicode-range-token>&lt;unicode-range-token&gt;<a class=self-link href=#typedef-unicode-range-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-include-match-token>&lt;include-match-token&gt;<a class=self-link href=#typedef-include-match-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-dash-match-token>&lt;dash-match-token&gt;<a class=self-link href=#typedef-dash-match-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-prefix-match-token>&lt;prefix-match-token&gt;<a class=self-link href=#typedef-prefix-match-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-suffix-match-token>&lt;suffix-match-token&gt;<a class=self-link href=#typedef-suffix-match-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-substring-match-token>&lt;substring-match-token&gt;<a class=self-link href=#typedef-substring-match-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-column-token>&lt;column-token&gt;<a class=self-link href=#typedef-column-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-whitespace-token>&lt;whitespace-token&gt;<a class=self-link href=#typedef-whitespace-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-cdo-token>&lt;CDO-token&gt;<a class=self-link href=#typedef-cdo-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-cdc-token>&lt;CDC-token&gt;<a class=self-link href=#typedef-cdc-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-colon-token>&lt;colon-token&gt;<a class=self-link href=#typedef-colon-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-semicolon-token>&lt;semicolon-token&gt;<a class=self-link href=#typedef-semicolon-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=typedef-comma-token>&lt;comma-token&gt;<a class=self-link href=#typedef-comma-token></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=tokendef-open-square>&lt;[-token&gt;<a class=self-link href=#tokendef-open-square></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=tokendef-close-square>&lt;]-token&gt;<a class=self-link href=#tokendef-close-square></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=tokendef-open-paren>&lt;(-token&gt;<a class=self-link href=#tokendef-open-paren></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=tokendef-close-paren>&lt;)-token&gt;<a class=self-link href=#tokendef-close-paren></a></dfn>,
	<dfn class=css data-dfn-type=type data-export="" id=tokendef-open-curly>&lt;{-token&gt;<a class=self-link href=#tokendef-open-curly></a></dfn>,
	and <dfn class=css data-dfn-type=type data-export="" id=tokendef-close-curly>&lt;}-token&gt;<a class=self-link href=#tokendef-close-curly></a></dfn>.</p>

	<ul>
		<li>
			<a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a>, and <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a> have a value composed of zero or more <a data-link-type=dfn href=#code-point title="code points">code points</a>.
			Additionally, hash tokens have a type flag set to either "id" or "unrestricted".  The type flag defaults to "unrestricted" if not otherwise set.

		<li>
			<a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a> has a value composed of a single <a data-link-type=dfn href=#code-point title="code point">code point</a>.

		<li>
			<a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-percentage-token title="<percentage-token>">&lt;percentage-token&gt;</a>, and <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> have a representation composed of one or more <a data-link-type=dfn href=#code-point title="code points">code points</a>, and a numeric value.
			<a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a> and <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> additionally have a type flag set to either "integer" or "number".  The type flag defaults to "integer" if not otherwise set.
			<a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> additionally have a unit composed of one or more <a data-link-type=dfn href=#code-point title="code points">code points</a>.

		<li>
			<a class="production css" data-link-type=type href=#typedef-unicode-range-token title="<unicode-range-token>">&lt;unicode-range-token&gt;</a> has
			a <dfn data-dfn-type=dfn data-noexport="" id=unicode-range-start title="start of the range">start<a class=self-link href=#unicode-range-start></a></dfn>
			and an <dfn data-dfn-type=dfn data-noexport="" id=unicode-range-end title="end of the range">end<a class=self-link href=#unicode-range-end></a></dfn>,
			a pair of integers.

	</ul>

<p class=note>Note: The type flag of hash tokens is used in the Selectors syntax <a data-biblio-type=informative data-link-type=biblio href=#biblio-select title=SELECT>[SELECT]</a>.
	Only hash tokens with the "id" type are valid <a href=http://www.w3.org/TR/selectors/#id-selectors>ID selectors</a>.</p>

<p class=note>Note: As a technical note,
	the tokenizer defined here requires only three <a data-link-type=dfn href=#code-point title="code points">code points</a> of look-ahead.
	The tokens it produces are designed to allow Selectors to be parsed with one token of look-ahead,
	and additional tokens may be added in the future to maintain this invariant.</p>


<h3 class="heading settled" data-level=4.1 id=token-diagrams><span class=secno>4.1. </span><span class=content>
Token Railroad Diagrams</span><a class=self-link href=#token-diagrams></a></h3>

<p><em>This section is non-normative.</em></p>

<p>This section presents an informative view of the tokenizer,
	in the form of railroad diagrams.
	Railroad diagrams are more compact than an explicit parser,
	but often easier to read than an regular expression.</p>

<p>These diagrams are <em>informative</em> and <em>incomplete</em>;
	they describe the grammar of "correct" tokens,
	but do not describe error-handling at all.
	They are provided solely to make it easier to get an intuitive grasp of the syntax of each token.</p>

<p>Diagrams with names such as <em>&lt;foo-token&gt;</em> represent tokens.
	The rest are productions referred to by other diagrams.</p>

	<dl>
		<dt id=comment-diagram><a class=self-link href=#comment-diagram></a>comment
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 497 81" width=497>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M86.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=30>
</rect><text x=68.0 y=45>
/*</text></g><path d="M86 41h10">
</path><g>
<path d="M96 41h0.0">
</path><path d="M400.0 41h0.0">
</path><path d="M96.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M116.0 21h264">
</path></g><path d="M380.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M96.0 41h20">
</path><g>
<path d="M116.0 41h0.0">
</path><path d="M380.0 41h0.0">
</path><path d="M116.0 41h10">
</path><g>
<path d="M126.0 41h0.0">
</path><path d="M370.0 41h0.0">
</path><rect height=22 width=244 x=126.0 y=30>
</rect><text x=248.0 y=45>
anything but * followed by /</text></g><path d="M370.0 41h10">
</path><path d="M126.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M126.0 61h244">
</path></g><path d="M370.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M380.0 41h20">
</path></g><path d="M400 41h10">
</path><g>
<path d="M410 41h0.0">
</path><path d="M446.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=410.0 y=30>
</rect><text x=428.0 y=45>
*/</text></g><path d="M446 41h10">
</path><path d="M 456 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=newline-diagram><a class=self-link href=#newline-diagram></a>newline
		<dd>
<div class=railroad><svg class=railroad-diagram height=152 viewBox="0 0 173 152" width=173>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 31h0.0">
</path><path d="M132.0 31h0.0">
</path><path d="M40.0 31h20">
</path><g>
<path d="M60.0 31h8.0">
</path><path d="M104.0 31h8.0">
</path><rect height=22 rx=10 ry=10 width=36 x=68.0 y=20>
</rect><text x=86.0 y=35>
\n</text></g><path d="M112.0 31h20">
</path><path d="M40.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 61h0.0">
</path><path d="M112.0 61h0.0">
</path><rect height=22 rx=10 ry=10 width=52 x=60.0 y=50>
</rect><text x=86.0 y=65>
\r\n</text></g><path d="M112.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><path d="M40.0 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 91h8.0">
</path><path d="M104.0 91h8.0">
</path><rect height=22 rx=10 ry=10 width=36 x=68.0 y=80>
</rect><text x=86.0 y=95>
\r</text></g><path d="M112.0 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10">
</path><path d="M40.0 31a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 121h8.0">
</path><path d="M104.0 121h8.0">
</path><rect height=22 rx=10 ry=10 width=36 x=68.0 y=110>
</rect><text x=86.0 y=125>
\f</text></g><path d="M112.0 121a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10">
</path></g><path d="M 132 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=whitespace-diagram><a class=self-link href=#whitespace-diagram></a>whitespace
		<dd>
<div class=railroad><svg class=railroad-diagram height=122 viewBox="0 0 197 122" width=197>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 31h0.0">
</path><path d="M156.0 31h0.0">
</path><path d="M40.0 31h20">
</path><g>
<path d="M60.0 31h8.0">
</path><path d="M128.0 31h8.0">
</path><rect height=22 rx=10 ry=10 width=60 x=68.0 y=20>
</rect><text x=98.0 y=35>
space</text></g><path d="M136.0 31h20">
</path><path d="M40.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 61h20.0">
</path><path d="M116.0 61h20.0">
</path><rect height=22 rx=10 ry=10 width=36 x=80.0 y=50>
</rect><text x=98.0 y=65>
\t</text></g><path d="M136.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><path d="M40.0 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 91h0.0">
</path><path d="M136.0 91h0.0">
</path><rect height=22 width=76 x=60.0 y=80>
</rect><text x=98.0 y=95>
newline</text></g><path d="M136.0 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10">
</path></g><path d="M 156 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=hex-digit-diagram><a class=self-link href=#hex-digit-diagram></a>hex digit
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 233 62" width=233>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M182.0 31h0.0">
</path><rect height=22 width=132 x=50.0 y=20>
</rect><text x=116.0 y=35>
0-9 a-f or A-F</text></g><path d="M182 31h10">
</path><path d="M 192 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=escape-diagram><a class=self-link href=#escape-diagram></a>escape
		<dd>
<div class=railroad><svg class=railroad-diagram height=122 viewBox="0 0 441 122" width=441>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M78.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=20>
</rect><text x=64.0 y=35>
\</text></g><path d="M78 31h10">
</path><g>
<path d="M88 31h0.0">
</path><path d="M400.0 31h0.0">
</path><path d="M88.0 31h20">
</path><g>
<path d="M108.0 31h30.0">
</path><path d="M350.0 31h30.0">
</path><rect height=22 width=212 x=138.0 y=20>
</rect><text x=244.0 y=35>
not newline or hex digit</text></g><path d="M380.0 31h20">
</path><path d="M88.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M108.0 61h0.0">
</path><path d="M380.0 61h0.0">
</path><path d="M108.0 61h10">
</path><g>
<path d="M118.0 61h0.0">
</path><path d="M230.0 61h0.0">
</path><path d="M118.0 61h10">
</path><g>
<path d="M128.0 61h0.0">
</path><path d="M220.0 61h0.0">
</path><rect height=22 width=92 x=128.0 y=50>
</rect><text x=174.0 y=65>
hex digit</text></g><path d="M220.0 61h10">
</path><path d="M128.0 61a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M128.0 91h9.5">
</path><path d="M210.5 91h9.5">
</path><text class=comment x=174.0 y=96>
1-6 times</text></g><path d="M220.0 91a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10">
</path></g><path d="M230.0 61h10">
</path><g>
<path d="M240.0 61h0.0">
</path><path d="M380.0 61h0.0">
</path><path d="M240.0 61h20">
</path><g>
<path d="M260.0 61h100">
</path></g><path d="M360.0 61h20">
</path><path d="M240.0 61a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M260.0 81h0.0">
</path><path d="M360.0 81h0.0">
</path><rect height=22 width=100 x=260.0 y=70>
</rect><text x=310.0 y=85>
whitespace</text></g><path d="M360.0 81a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path></g></g><path d="M380.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M 400 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=whitespace-token-diagram><a class=self-link href=#whitespace-token-diagram></a><a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=71 viewBox="0 0 221 71" width=221>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M170.0 31h0.0">
</path><path d="M50.0 31h10">
</path><g>
<path d="M60.0 31h0.0">
</path><path d="M160.0 31h0.0">
</path><rect height=22 width=100 x=60.0 y=20>
</rect><text x=110.0 y=35>
whitespace</text></g><path d="M160.0 31h10">
</path><path d="M60.0 31a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 51h100">
</path></g><path d="M160.0 51a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M170 31h10">
</path><path d="M 180 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=ws*-diagram><a class=self-link href=#ws%2A-diagram></a>ws*
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 305 81" width=305>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 41h0.0">
</path><path d="M264.0 41h0.0">
</path><path d="M40.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M60.0 21h184">
</path></g><path d="M244.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M40.0 41h20">
</path><g>
<path d="M60.0 41h0.0">
</path><path d="M244.0 41h0.0">
</path><path d="M60.0 41h10">
</path><g>
<path d="M70.0 41h0.0">
</path><path d="M234.0 41h0.0">
</path><rect height=22 width=164 x=70.0 y=30>
</rect><text x=152.0 y=45>
&lt;whitespace-token&gt;</text></g><path d="M234.0 41h10">
</path><path d="M70.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M70.0 61h164">
</path></g><path d="M234.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M244.0 41h20">
</path></g><path d="M 264 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=ident-token-diagram><a class=self-link href=#ident-token-diagram></a><a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=130 viewBox="0 0 769 130" width=769>
<g transform="translate(.5 .5)">
<path d="M 20 51 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 61h0.0">
</path><path d="M384.0 61h0.0">
</path><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><g>
<path d="M60.0 31h134.0">
</path><path d="M230.0 31h134.0">
</path><rect height=22 rx=10 ry=10 width=36 x=194.0 y=20>
</rect><text x=212.0 y=35>
--</text></g><path d="M364.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><path d="M40.0 61h20">
</path><g>
<path d="M60.0 61h0.0">
</path><path d="M364.0 61h0.0">
</path><g>
<path d="M60.0 61h0.0">
</path><path d="M128.0 61h0.0">
</path><path d="M60.0 61h20">
</path><g>
<path d="M80.0 61h28">
</path></g><path d="M108.0 61h20">
</path><path d="M60.0 61a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M80.0 81h0.0">
</path><path d="M108.0 81h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=80.0 y=70>
</rect><text x=94.0 y=85>
-</text></g><path d="M108.0 81a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path></g><g>
<path d="M128.0 61h0.0">
</path><path d="M364.0 61h0.0">
</path><path d="M128.0 61h20">
</path><g>
<path d="M148.0 61h0.0">
</path><path d="M344.0 61h0.0">
</path><rect height=22 width=196 x=148.0 y=50>
</rect><text x=246.0 y=65>
a-z A-Z _ or non-ASCII</text></g><path d="M344.0 61h20">
</path><path d="M128.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M148.0 91h64.0">
</path><path d="M280.0 91h64.0">
</path><rect height=22 width=68 x=212.0 y=80>
</rect><text x=246.0 y=95>
escape</text></g><path d="M344.0 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g></g><path d="M364.0 61h20">
</path></g><g>
<path d="M384 61h0.0">
</path><path d="M728.0 61h0.0">
</path><path d="M384.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M404.0 41h304">
</path></g><path d="M708.0 41a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M384.0 61h20">
</path><g>
<path d="M404.0 61h0.0">
</path><path d="M708.0 61h0.0">
</path><path d="M404.0 61h10">
</path><g>
<path d="M414.0 61h0.0">
</path><path d="M698.0 61h0.0">
</path><path d="M414.0 61h20">
</path><g>
<path d="M434.0 61h0.0">
</path><path d="M678.0 61h0.0">
</path><rect height=22 width=244 x=434.0 y=50>
</rect><text x=556.0 y=65>
a-z A-Z 0-9 _ - or non-ASCII</text></g><path d="M678.0 61h20">
</path><path d="M414.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M434.0 91h88.0">
</path><path d="M590.0 91h88.0">
</path><rect height=22 width=68 x=522.0 y=80>
</rect><text x=556.0 y=95>
escape</text></g><path d="M678.0 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M698.0 61h10">
</path><path d="M414.0 61a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10">
</path><g>
<path d="M414.0 110h284">
</path></g><path d="M698.0 110a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10">
</path></g><path d="M708.0 61h20">
</path></g><path d="M 728 61 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=function-token-diagram><a class=self-link href=#function-token-diagram></a><a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 273 62" width=273>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M174.0 31h0.0">
</path><rect height=22 width=124 x=50.0 y=20>
</rect><text x=112.0 y=35>
&lt;ident-token&gt;</text></g><path d="M174 31h10">
</path><path d="M184 31h10">
</path><g>
<path d="M194 31h0.0">
</path><path d="M222.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=194.0 y=20>
</rect><text x=208.0 y=35>
(</text></g><path d="M222 31h10">
</path><path d="M 232 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=at-keyword-token-diagram><a class=self-link href=#at-keyword-token-diagram></a><a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 273 62" width=273>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M78.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=20>
</rect><text x=64.0 y=35>
@</text></g><path d="M78 31h10">
</path><path d="M88 31h10">
</path><g>
<path d="M98 31h0.0">
</path><path d="M222.0 31h0.0">
</path><rect height=22 width=124 x=98.0 y=20>
</rect><text x=160.0 y=35>
&lt;ident-token&gt;</text></g><path d="M222 31h10">
</path><path d="M 232 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=hash-token-diagram><a class=self-link href=#hash-token-diagram></a><a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=100 viewBox="0 0 453 100" width=453>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M78.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=20>
</rect><text x=64.0 y=35>
#</text></g><path d="M78 31h10">
</path><path d="M88 31h10">
</path><g>
<path d="M98 31h0.0">
</path><path d="M402.0 31h0.0">
</path><path d="M98.0 31h10">
</path><g>
<path d="M108.0 31h0.0">
</path><path d="M392.0 31h0.0">
</path><path d="M108.0 31h20">
</path><g>
<path d="M128.0 31h0.0">
</path><path d="M372.0 31h0.0">
</path><rect height=22 width=244 x=128.0 y=20>
</rect><text x=250.0 y=35>
a-z A-Z 0-9 _ - or non-ASCII</text></g><path d="M372.0 31h20">
</path><path d="M108.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M128.0 61h88.0">
</path><path d="M284.0 61h88.0">
</path><rect height=22 width=68 x=216.0 y=50>
</rect><text x=250.0 y=65>
escape</text></g><path d="M372.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M392.0 31h10">
</path><path d="M108.0 31a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10">
</path><g>
<path d="M108.0 80h284">
</path></g><path d="M392.0 80a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10">
</path></g><path d="M402 31h10">
</path><path d="M 412 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=string-token-diagram><a class=self-link href=#string-token-diagram></a><a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=248 viewBox="0 0 481 248" width=481>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 41h0.0">
</path><path d="M440.0 41h0.0">
</path><path d="M40.0 41h20">
</path><g>
<path d="M60.0 41h0.0">
</path><path d="M420.0 41h0.0">
</path><path d="M60.0 41h10">
</path><g>
<path d="M70.0 41h0.0">
</path><path d="M98.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=70.0 y=30>
</rect><text x=84.0 y=45>
"</text></g><path d="M98.0 41h10">
</path><g>
<path d="M108.0 41h0.0">
</path><path d="M372.0 41h0.0">
</path><path d="M108.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M128.0 21h224">
</path></g><path d="M352.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M108.0 41h20">
</path><g>
<path d="M128.0 41h0.0">
</path><path d="M352.0 41h0.0">
</path><path d="M128.0 41h10">
</path><g>
<path d="M138.0 41h0.0">
</path><path d="M342.0 41h0.0">
</path><path d="M138.0 41h20">
</path><g>
<path d="M158.0 41h0.0">
</path><path d="M322.0 41h0.0">
</path><rect height=22 width=164 x=158.0 y=30>
</rect><text x=240.0 y=45>
not " \ or newline</text></g><path d="M322.0 41h20">
</path><path d="M138.0 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M158.0 71h48.0">
</path><path d="M274.0 71h48.0">
</path><rect height=22 width=68 x=206.0 y=60>
</rect><text x=240.0 y=75>
escape</text></g><path d="M322.0 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><path d="M138.0 41a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10">
</path><g>
<path d="M158.0 101h10.0">
</path><path d="M312.0 101h10.0">
</path><path d="M168.0 101h10">
</path><g>
<path d="M178.0 101h0.0">
</path><path d="M206.0 101h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=178.0 y=90>
</rect><text x=192.0 y=105>
\</text></g><path d="M206.0 101h10">
</path><path d="M216.0 101h10">
</path><g>
<path d="M226.0 101h0.0">
</path><path d="M302.0 101h0.0">
</path><rect height=22 width=76 x=226.0 y=90>
</rect><text x=264.0 y=105>
newline</text></g><path d="M302.0 101h10">
</path></g><path d="M322.0 101a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10">
</path></g><path d="M342.0 41h10">
</path><path d="M138.0 41a10 10 0 0 0 -10 10v59a10 10 0 0 0 10 10">
</path><g>
<path d="M138.0 120h204">
</path></g><path d="M342.0 120a10 10 0 0 0 10 -10v-59a10 10 0 0 0 -10 -10">
</path></g><path d="M352.0 41h20">
</path></g><path d="M372.0 41h10">
</path><g>
<path d="M382.0 41h0.0">
</path><path d="M410.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=382.0 y=30>
</rect><text x=396.0 y=45>
"</text></g><path d="M410.0 41h10">
</path></g><path d="M420.0 41h20">
</path><path d="M40.0 41a10 10 0 0 1 10 10v88a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 149h0.0">
</path><path d="M420.0 149h0.0">
</path><path d="M60.0 149h10">
</path><g>
<path d="M70.0 149h0.0">
</path><path d="M98.0 149h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=70.0 y=138>
</rect><text x=84.0 y=153>
'</text></g><path d="M98.0 149h10">
</path><g>
<path d="M108.0 149h0.0">
</path><path d="M372.0 149h0.0">
</path><path d="M108.0 149a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M128.0 129h224">
</path></g><path d="M352.0 129a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M108.0 149h20">
</path><g>
<path d="M128.0 149h0.0">
</path><path d="M352.0 149h0.0">
</path><path d="M128.0 149h10">
</path><g>
<path d="M138.0 149h0.0">
</path><path d="M342.0 149h0.0">
</path><path d="M138.0 149h20">
</path><g>
<path d="M158.0 149h0.0">
</path><path d="M322.0 149h0.0">
</path><rect height=22 width=164 x=158.0 y=138>
</rect><text x=240.0 y=153>
not ' \ or newline</text></g><path d="M322.0 149h20">
</path><path d="M138.0 149a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M158.0 179h48.0">
</path><path d="M274.0 179h48.0">
</path><rect height=22 width=68 x=206.0 y=168>
</rect><text x=240.0 y=183>
escape</text></g><path d="M322.0 179a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><path d="M138.0 149a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10">
</path><g>
<path d="M158.0 209h10.0">
</path><path d="M312.0 209h10.0">
</path><path d="M168.0 209h10">
</path><g>
<path d="M178.0 209h0.0">
</path><path d="M206.0 209h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=178.0 y=198>
</rect><text x=192.0 y=213>
\</text></g><path d="M206.0 209h10">
</path><path d="M216.0 209h10">
</path><g>
<path d="M226.0 209h0.0">
</path><path d="M302.0 209h0.0">
</path><rect height=22 width=76 x=226.0 y=198>
</rect><text x=264.0 y=213>
newline</text></g><path d="M302.0 209h10">
</path></g><path d="M322.0 209a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10">
</path></g><path d="M342.0 149h10">
</path><path d="M138.0 149a10 10 0 0 0 -10 10v59a10 10 0 0 0 10 10">
</path><g>
<path d="M138.0 228h204">
</path></g><path d="M342.0 228a10 10 0 0 0 10 -10v-59a10 10 0 0 0 -10 -10">
</path></g><path d="M352.0 149h20">
</path></g><path d="M372.0 149h10">
</path><g>
<path d="M382.0 149h0.0">
</path><path d="M410.0 149h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=382.0 y=138>
</rect><text x=396.0 y=153>
'</text></g><path d="M410.0 149h10">
</path></g><path d="M420.0 149a10 10 0 0 0 10 -10v-88a10 10 0 0 1 10 -10">
</path></g><path d="M 440 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=url-token-diagram><a class=self-link href=#url-token-diagram></a><a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=110 viewBox="0 0 881 110" width=881>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M222.0 41h0.0">
</path><rect height=22 width=172 x=50.0 y=30>
</rect><text x=136.0 y=45>
&lt;ident-token "url"&gt;</text></g><path d="M222 41h10">
</path><path d="M232 41h10">
</path><g>
<path d="M242 41h0.0">
</path><path d="M270.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=242.0 y=30>
</rect><text x=256.0 y=45>
(</text></g><path d="M270 41h10">
</path><path d="M280 41h10">
</path><g>
<path d="M290 41h0.0">
</path><path d="M334.0 41h0.0">
</path><rect height=22 width=44 x=290.0 y=30>
</rect><text x=312.0 y=45>
ws*</text></g><path d="M334 41h10">
</path><g>
<path d="M344 41h0.0">
</path><path d="M728.0 41h0.0">
</path><path d="M344.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M364.0 21h344">
</path></g><path d="M708.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M344.0 41h20">
</path><g>
<path d="M364.0 41h0.0">
</path><path d="M708.0 41h0.0">
</path><path d="M364.0 41h10">
</path><g>
<path d="M374.0 41h0.0">
</path><path d="M698.0 41h0.0">
</path><path d="M374.0 41h20">
</path><g>
<path d="M394.0 41h0.0">
</path><path d="M678.0 41h0.0">
</path><rect height=22 width=284 x=394.0 y=30>
</rect><text x=536.0 y=45>
not " ' ( ) \ ws or non-printable</text></g><path d="M678.0 41h20">
</path><path d="M374.0 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M394.0 71h108.0">
</path><path d="M570.0 71h108.0">
</path><rect height=22 width=68 x=502.0 y=60>
</rect><text x=536.0 y=75>
escape</text></g><path d="M678.0 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M698.0 41h10">
</path><path d="M374.0 41a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10">
</path><g>
<path d="M374.0 90h324">
</path></g><path d="M698.0 90a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10">
</path></g><path d="M708.0 41h20">
</path></g><path d="M728 41h10">
</path><g>
<path d="M738 41h0.0">
</path><path d="M782.0 41h0.0">
</path><rect height=22 width=44 x=738.0 y=30>
</rect><text x=760.0 y=45>
ws*</text></g><path d="M782 41h10">
</path><path d="M792 41h10">
</path><g>
<path d="M802 41h0.0">
</path><path d="M830.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=802.0 y=30>
</rect><text x=816.0 y=45>
)</text></g><path d="M830 41h10">
</path><path d="M 840 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=number-token-diagram><a class=self-link href=#number-token-diagram></a><a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=179 viewBox="0 0 713 179" width=713>
<g transform="translate(.5 .5)">
<path d="M 20 50 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 60h0.0">
</path><path d="M108.0 60h0.0">
</path><path d="M40.0 60a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M60.0 40h0.0">
</path><path d="M88.0 40h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=60.0 y=29>
</rect><text x=74.0 y=44>
+</text></g><path d="M88.0 40a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M40.0 60h20">
</path><g>
<path d="M60.0 60h28">
</path></g><path d="M88.0 60h20">
</path><path d="M40.0 60a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 80h0.0">
</path><path d="M88.0 80h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=60.0 y=69>
</rect><text x=74.0 y=84>
-</text></g><path d="M88.0 80a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path></g><g>
<path d="M108 60h0.0">
</path><path d="M396.0 60h0.0">
</path><path d="M108.0 60h20">
</path><g>
<path d="M128.0 60h0.0">
</path><path d="M376.0 60h0.0">
</path><path d="M128.0 60h10">
</path><g>
<path d="M138.0 60h0.0">
</path><path d="M218.0 60h0.0">
</path><path d="M138.0 60h10">
</path><g>
<path d="M148.0 60h0.0">
</path><path d="M208.0 60h0.0">
</path><rect height=22 width=60 x=148.0 y=49>
</rect><text x=178.0 y=64>
digit</text></g><path d="M208.0 60h10">
</path><path d="M148.0 60a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M148.0 80h60">
</path></g><path d="M208.0 80a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M218.0 60h10">
</path><path d="M228.0 60h10">
</path><g>
<path d="M238.0 60h0.0">
</path><path d="M266.0 60h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=238.0 y=49>
</rect><text x=252.0 y=64>
.</text></g><path d="M266.0 60h10">
</path><path d="M276.0 60h10">
</path><g>
<path d="M286.0 60h0.0">
</path><path d="M366.0 60h0.0">
</path><path d="M286.0 60h10">
</path><g>
<path d="M296.0 60h0.0">
</path><path d="M356.0 60h0.0">
</path><rect height=22 width=60 x=296.0 y=49>
</rect><text x=326.0 y=64>
digit</text></g><path d="M356.0 60h10">
</path><path d="M296.0 60a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M296.0 80h60">
</path></g><path d="M356.0 80a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M366.0 60h10">
</path></g><path d="M376.0 60h20">
</path><path d="M108.0 60a10 10 0 0 1 10 10v19a10 10 0 0 0 10 10">
</path><g>
<path d="M128.0 99h84.0">
</path><path d="M292.0 99h84.0">
</path><path d="M212.0 99h10">
</path><g>
<path d="M222.0 99h0.0">
</path><path d="M282.0 99h0.0">
</path><rect height=22 width=60 x=222.0 y=88>
</rect><text x=252.0 y=103>
digit</text></g><path d="M282.0 99h10">
</path><path d="M222.0 99a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M222.0 119h60">
</path></g><path d="M282.0 119a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M376.0 99a10 10 0 0 0 10 -10v-19a10 10 0 0 1 10 -10">
</path><path d="M108.0 60a10 10 0 0 1 10 10v58a10 10 0 0 0 10 10">
</path><g>
<path d="M128.0 138h50.0">
</path><path d="M326.0 138h50.0">
</path><path d="M178.0 138h10">
</path><g>
<path d="M188.0 138h0.0">
</path><path d="M216.0 138h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=188.0 y=127>
</rect><text x=202.0 y=142>
.</text></g><path d="M216.0 138h10">
</path><path d="M226.0 138h10">
</path><g>
<path d="M236.0 138h0.0">
</path><path d="M316.0 138h0.0">
</path><path d="M236.0 138h10">
</path><g>
<path d="M246.0 138h0.0">
</path><path d="M306.0 138h0.0">
</path><rect height=22 width=60 x=246.0 y=127>
</rect><text x=276.0 y=142>
digit</text></g><path d="M306.0 138h10">
</path><path d="M246.0 138a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M246.0 158h60">
</path></g><path d="M306.0 158a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M316.0 138h10">
</path></g><path d="M376.0 138a10 10 0 0 0 10 -10v-58a10 10 0 0 1 10 -10">
</path></g><g>
<path d="M396 60h0.0">
</path><path d="M672.0 60h0.0">
</path><path d="M396.0 60h20">
</path><g>
<path d="M416.0 60h236">
</path></g><path d="M652.0 60h20">
</path><path d="M396.0 60a10 10 0 0 1 10 10v28a10 10 0 0 0 10 10">
</path><g>
<path d="M416.0 108h0.0">
</path><path d="M652.0 108h0.0">
</path><g>
<path d="M416.0 108h0.0">
</path><path d="M484.0 108h0.0">
</path><path d="M416.0 108h20">
</path><g>
<path d="M436.0 108h0.0">
</path><path d="M464.0 108h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=436.0 y=97>
</rect><text x=450.0 y=112>
e</text></g><path d="M464.0 108h20">
</path><path d="M416.0 108a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M436.0 138h0.0">
</path><path d="M464.0 138h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=436.0 y=127>
</rect><text x=450.0 y=142>
E</text></g><path d="M464.0 138a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><g>
<path d="M484.0 108h0.0">
</path><path d="M552.0 108h0.0">
</path><path d="M484.0 108a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M504.0 88h0.0">
</path><path d="M532.0 88h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=504.0 y=77>
</rect><text x=518.0 y=92>
+</text></g><path d="M532.0 88a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M484.0 108h20">
</path><g>
<path d="M504.0 108h28">
</path></g><path d="M532.0 108h20">
</path><path d="M484.0 108a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M504.0 128h0.0">
</path><path d="M532.0 128h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=504.0 y=117>
</rect><text x=518.0 y=132>
-</text></g><path d="M532.0 128a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path></g><path d="M552.0 108h10">
</path><g>
<path d="M562.0 108h0.0">
</path><path d="M642.0 108h0.0">
</path><path d="M562.0 108h10">
</path><g>
<path d="M572.0 108h0.0">
</path><path d="M632.0 108h0.0">
</path><rect height=22 width=60 x=572.0 y=97>
</rect><text x=602.0 y=112>
digit</text></g><path d="M632.0 108h10">
</path><path d="M572.0 108a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M572.0 128h60">
</path></g><path d="M632.0 128a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M642.0 108h10">
</path></g><path d="M652.0 108a10 10 0 0 0 10 -10v-28a10 10 0 0 1 10 -10">
</path></g><path d="M 672 60 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=dimension-token-diagram><a class=self-link href=#dimension-token-diagram></a><a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 377 62" width=377>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M182.0 31h0.0">
</path><rect height=22 width=132 x=50.0 y=20>
</rect><text x=116.0 y=35>
&lt;number-token&gt;</text></g><path d="M182 31h10">
</path><path d="M192 31h10">
</path><g>
<path d="M202 31h0.0">
</path><path d="M326.0 31h0.0">
</path><rect height=22 width=124 x=202.0 y=20>
</rect><text x=264.0 y=35>
&lt;ident-token&gt;</text></g><path d="M326 31h10">
</path><path d="M 336 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=percentage-token-diagram><a class=self-link href=#percentage-token-diagram></a><a class="production css" data-link-type=type href=#typedef-percentage-token title="<percentage-token>">&lt;percentage-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 281 62" width=281>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M182.0 31h0.0">
</path><rect height=22 width=132 x=50.0 y=20>
</rect><text x=116.0 y=35>
&lt;number-token&gt;</text></g><path d="M182 31h10">
</path><path d="M192 31h10">
</path><g>
<path d="M202 31h0.0">
</path><path d="M230.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=202.0 y=20>
</rect><text x=216.0 y=35>
%</text></g><path d="M230 31h10">
</path><path d="M 240 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=unicode-range-token-diagram><a class=self-link href=#unicode-range-token-diagram></a><a class="production css" data-link-type=type href=#typedef-unicode-range-token title="<unicode-range-token>">&lt;unicode-range-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=222 viewBox="0 0 600 222" width=600>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 31h0.0">
</path><path d="M108.0 31h0.0">
</path><path d="M40.0 31h20">
</path><g>
<path d="M60.0 31h0.0">
</path><path d="M88.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=60.0 y=20>
</rect><text x=74.0 y=35>
U</text></g><path d="M88.0 31h20">
</path><path d="M40.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 61h0.0">
</path><path d="M88.0 61h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=60.0 y=50>
</rect><text x=74.0 y=65>
u</text></g><path d="M88.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M108 31h10">
</path><g>
<path d="M118 31h0.0">
</path><path d="M146.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=118.0 y=20>
</rect><text x=132.0 y=35>
+</text></g><path d="M146 31h10">
</path><g>
<path d="M156 31h0.0">
</path><path d="M559.0 31h0.0">
</path><path d="M156.0 31h20">
</path><g>
<path d="M176.0 31h125.5">
</path><path d="M413.5 31h125.5">
</path><path d="M301.5 31h10">
</path><g>
<path d="M311.5 31h0.0">
</path><path d="M403.5 31h0.0">
</path><rect height=22 width=92 x=311.5 y=20>
</rect><text x=357.5 y=35>
hex digit</text></g><path d="M403.5 31h10">
</path><path d="M311.5 31a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M311.5 61h9.5">
</path><path d="M394.0 61h9.5">
</path><text class=comment x=357.5 y=66>
1-6 times</text></g><path d="M403.5 61a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10">
</path></g><path d="M539.0 31h20">
</path><path d="M156.0 31a10 10 0 0 1 10 10v50a10 10 0 0 0 10 10">
</path><g>
<path d="M176.0 101h0.0">
</path><path d="M539.0 101h0.0">
</path><g>
<path d="M176.0 101h0.0">
</path><path d="M328.0 101h0.0">
</path><path d="M176.0 101a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M196.0 81h112">
</path></g><path d="M308.0 81a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M176.0 101h20">
</path><g>
<path d="M196.0 101h0.0">
</path><path d="M308.0 101h0.0">
</path><path d="M196.0 101h10">
</path><g>
<path d="M206.0 101h0.0">
</path><path d="M298.0 101h0.0">
</path><rect height=22 width=92 x=206.0 y=90>
</rect><text x=252.0 y=105>
hex digit</text></g><path d="M298.0 101h10">
</path><path d="M206.0 101a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M206.0 131h9.5">
</path><path d="M288.5 131h9.5">
</path><text class=comment x=252.0 y=136>
1-5 times</text></g><path d="M298.0 131a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10">
</path></g><path d="M308.0 101h20">
</path></g><path d="M328.0 101h10">
</path><g>
<path d="M338.0 101h0.0">
</path><path d="M529.0 101h0.0">
</path><path d="M338.0 101h10">
</path><g>
<path d="M348.0 101h71.5">
</path><path d="M447.5 101h71.5">
</path><rect height=22 rx=10 ry=10 width=28 x=419.5 y=90>
</rect><text x=433.5 y=105>
?</text></g><path d="M519.0 101h10">
</path><path d="M348.0 101a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M348.0 131h0.0">
</path><path d="M519.0 131h0.0">
</path><text class=comment x=433.5 y=136>
1 to (6 - digits) times</text></g><path d="M519.0 131a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10">
</path></g><path d="M529.0 101h10">
</path></g><path d="M539.0 101a10 10 0 0 0 10 -10v-50a10 10 0 0 1 10 -10">
</path><path d="M156.0 31a10 10 0 0 1 10 10v120a10 10 0 0 0 10 10">
</path><g>
<path d="M176.0 171h25.5">
</path><path d="M513.5 171h25.5">
</path><path d="M201.5 171h10">
</path><g>
<path d="M211.5 171h0.0">
</path><path d="M323.5 171h0.0">
</path><path d="M211.5 171h10">
</path><g>
<path d="M221.5 171h0.0">
</path><path d="M313.5 171h0.0">
</path><rect height=22 width=92 x=221.5 y=160>
</rect><text x=267.5 y=175>
hex digit</text></g><path d="M313.5 171h10">
</path><path d="M221.5 171a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M221.5 201h9.5">
</path><path d="M304.0 201h9.5">
</path><text class=comment x=267.5 y=206>
1-6 times</text></g><path d="M313.5 201a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10">
</path></g><path d="M323.5 171h10">
</path><path d="M333.5 171h10">
</path><g>
<path d="M343.5 171h0.0">
</path><path d="M371.5 171h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=343.5 y=160>
</rect><text x=357.5 y=175>
-</text></g><path d="M371.5 171h10">
</path><path d="M381.5 171h10">
</path><g>
<path d="M391.5 171h0.0">
</path><path d="M503.5 171h0.0">
</path><path d="M391.5 171h10">
</path><g>
<path d="M401.5 171h0.0">
</path><path d="M493.5 171h0.0">
</path><rect height=22 width=92 x=401.5 y=160>
</rect><text x=447.5 y=175>
hex digit</text></g><path d="M493.5 171h10">
</path><path d="M401.5 171a10 10 0 0 0 -10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M401.5 201h9.5">
</path><path d="M484.0 201h9.5">
</path><text class=comment x=447.5 y=206>
1-6 times</text></g><path d="M493.5 201a10 10 0 0 0 10 -10v-10a10 10 0 0 0 -10 -10">
</path></g><path d="M503.5 171h10">
</path></g><path d="M539.0 171a10 10 0 0 0 10 -10v-120a10 10 0 0 1 10 -10">
</path></g><path d="M 559 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=include-match-token-diagram><a class=self-link href=#include-match-token-diagram></a><a class="production css" data-link-type=type href=#typedef-include-match-token title="<include-match-token>">&lt;include-match-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 137 62" width=137>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M86.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=20>
</rect><text x=68.0 y=35>
~=</text></g><path d="M86 31h10">
</path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=dash-match-token-diagram><a class=self-link href=#dash-match-token-diagram></a><a class="production css" data-link-type=type href=#typedef-dash-match-token title="<dash-match-token>">&lt;dash-match-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 137 62" width=137>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M86.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=20>
</rect><text x=68.0 y=35>
|=</text></g><path d="M86 31h10">
</path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=prefix-match-token-diagram><a class=self-link href=#prefix-match-token-diagram></a><a class="production css" data-link-type=type href=#typedef-prefix-match-token title="<prefix-match-token>">&lt;prefix-match-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 137 62" width=137>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M86.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=20>
</rect><text x=68.0 y=35>
^=</text></g><path d="M86 31h10">
</path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=suffix-match-token-diagram><a class=self-link href=#suffix-match-token-diagram></a><a class="production css" data-link-type=type href=#typedef-suffix-match-token title="<suffix-match-token>">&lt;suffix-match-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 137 62" width=137>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M86.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=20>
</rect><text x=68.0 y=35>
$=</text></g><path d="M86 31h10">
</path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=substring-match-token-diagram><a class=self-link href=#substring-match-token-diagram></a><a class="production css" data-link-type=type href=#typedef-substring-match-token title="<substring-match-token>">&lt;substring-match-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 137 62" width=137>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M86.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=20>
</rect><text x=68.0 y=35>
*=</text></g><path d="M86 31h10">
</path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=column-token-diagram><a class=self-link href=#column-token-diagram></a><a class="production css" data-link-type=type href=#typedef-column-token title="<column-token>">&lt;column-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 137 62" width=137>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M86.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=36 x=50.0 y=20>
</rect><text x=68.0 y=35>
||</text></g><path d="M86 31h10">
</path><path d="M 96 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=CDO-token-diagram><a class=self-link href=#CDO-token-diagram></a><a class="production css" data-link-type=type href=#typedef-cdo-token title="<CDO-token>">&lt;CDO-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 153 62" width=153>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M102.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=52 x=50.0 y=20>
</rect><text x=76.0 y=35>
&lt;!--</text></g><path d="M102 31h10">
</path><path d="M 112 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=CDC-token-diagram><a class=self-link href=#CDC-token-diagram></a><a class="production css" data-link-type=type href=#typedef-cdc-token title="<CDC-token>">&lt;CDC-token&gt;</a>
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 145 62" width=145>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M94.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=44 x=50.0 y=20>
</rect><text x=72.0 y=35>
--&gt;</text></g><path d="M94 31h10">
</path><path d="M 104 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>
	</dl>

<h3 class="heading settled" data-level=4.2 id=tokenizer-definitions><span class=secno>4.2. </span><span class=content>
Definitions</span><a class=self-link href=#tokenizer-definitions></a></h3>

<p>This section defines several terms used during the tokenization phase.</p>

	<dl data-export="">
		<dt><dfn data-dfn-type=dfn data-export="" id=code-point>code point<a class=self-link href=#code-point></a></dfn>
		<dd>
			A <a href=http://unicode.org/glossary/#code_point>Unicode code point</a>. <a data-biblio-type=normative data-link-type=biblio href=#biblio-unicode title=UNICODE>[UNICODE]</a>
			Any value in the Unicode codespace; that is, the range of integers from 0 to (hexadecimal) 10FFFF.

		<dt><dfn data-dfn-type=dfn data-export="" id=next-input-code-point>next input code point<a class=self-link href=#next-input-code-point></a></dfn>
		<dd>
			The first <a data-link-type=dfn href=#code-point title="code point">code point</a> in the input stream that has not yet been consumed.

		<dt><dfn data-dfn-type=dfn data-export="" id=current-input-code-point>current input code point<a class=self-link href=#current-input-code-point></a></dfn>
		<dd>
			The last <a data-link-type=dfn href=#code-point title="code point">code point</a> to have been consumed.

		<dt><dfn data-dfn-type=dfn data-export="" id=reconsume-the-current-input-code-point>reconsume the current input code point<a class=self-link href=#reconsume-the-current-input-code-point></a></dfn>
		<dd>
			Push the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a> back onto the front of the input stream,
			so that the next time you are instructed to consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>,
			it will instead reconsume the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.

		<dt><dfn data-dfn-type=dfn data-export="" id=eof-code-point>EOF code point<a class=self-link href=#eof-code-point></a></dfn>
		<dd>
			A conceptual <a data-link-type=dfn href=#code-point title="code point">code point</a> representing the end of the input stream.
			Whenever the input stream is empty,
			the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is always an EOF code point.

		<dt><dfn data-dfn-type=dfn data-export="" id=digit>digit<a class=self-link href=#digit></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).

		<dt><dfn data-dfn-type=dfn data-export="" id=hex-digit>hex digit<a class=self-link href=#hex-digit></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#digit title=digit>digit</a>,
			or a <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),
			or a <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).

		<dt><dfn data-dfn-type=dfn data-export="" id=uppercase-letter>uppercase letter<a class=self-link href=#uppercase-letter></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).

		<dt><dfn data-dfn-type=dfn data-export="" id=lowercase-letter>lowercase letter<a class=self-link href=#lowercase-letter></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).

		<dt><dfn data-dfn-type=dfn data-export="" id=letter>letter<a class=self-link href=#letter></a></dfn>
		<dd>
			An <a data-link-type=dfn href=#uppercase-letter title="uppercase letter">uppercase letter</a>
			or a <a data-link-type=dfn href=#lowercase-letter title="lowercase letter">lowercase letter</a>.

		<dt><dfn data-dfn-type=dfn data-export="" id=non-ascii-code-point>non-ASCII code point<a class=self-link href=#non-ascii-code-point></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#code-point title="code point">code point</a> with a value equal to or greater than U+0080 &lt;control&gt;.

		<dt><dfn data-dfn-type=dfn data-export="" id=name-start-code-point>name-start code point<a class=self-link href=#name-start-code-point></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#letter title=letter>letter</a>,
			a <a data-link-type=dfn href=#non-ascii-code-point title="non-ASCII code point">non-ASCII code point</a>,
			or U+005F LOW LINE (_).

		<dt><dfn data-dfn-type=dfn data-export="" id=name-code-point>name code point<a class=self-link href=#name-code-point></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#name-start-code-point title="name-start code point">name-start code point</a>,
			a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			or U+002D HYPHEN-MINUS (-).

		<dt><dfn data-dfn-type=dfn data-export="" id=non-printable-code-point>non-printable code point<a class=self-link href=#non-printable-code-point></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+0000 NULL and U+0008 BACKSPACE,
			or U+000B LINE TABULATION,
			or a <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE,
			or U+007F DELETE.

		<dt><dfn data-dfn-type=dfn data-export="" id=newline>newline<a class=self-link href=#newline></a></dfn>
		<dd>
			U+000A LINE FEED.
			<span class=note>
				Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,
				as they are converted to U+000A LINE FEED during <a href=#input-preprocessing>preprocessing</a>.
			</span>

		<dt><dfn data-dfn-type=dfn data-export="" id=whitespace>whitespace<a class=self-link href=#whitespace></a></dfn>
		<dd>A <a data-link-type=dfn href=#newline title=newline>newline</a>, U+0009 CHARACTER TABULATION, or U+0020 SPACE.

		<dt><dfn data-dfn-type=dfn data-export="" id=surrogate-code-point>surrogate code point<a class=self-link href=#surrogate-code-point></a></dfn>
		<dd>
			A <a data-link-type=dfn href=#code-point title="code point">code point</a> between U+D800 and U+DFFF inclusive.

		<dt><dfn data-dfn-type=dfn data-export="" id=maximum-allowed-code-point>maximum allowed code point<a class=self-link href=#maximum-allowed-code-point></a></dfn>
		<dd>The greatest <a data-link-type=dfn href=#code-point title="code point">code point</a> defined by Unicode: U+10FFFF.

		<dt><dfn data-dfn-type=dfn data-export="" id=identifier>identifier<a class=self-link href=#identifier></a></dfn>
		<dd>
			A portion of the CSS source that has the same syntax as an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>.
			Also appears in <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>,
			<a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>,
			<a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a> with the "id" type flag,
			and the unit of <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a>.

	</dl>

<h3 class="heading settled" data-level=4.3 id=tokenizer-algorithms><span class=secno>4.3. </span><span class=content>
Tokenizer Algorithms</span><a class=self-link href=#tokenizer-algorithms></a></h3>

<p>The algorithms defined in this section transform a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a> into a stream of tokens.</p>

<h4 class="heading settled" data-level=4.3.1 id=consume-a-token><span class=secno>4.3.1. </span><span class=content>
Consume a token</span><a class=self-link href=#consume-a-token></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-token0>consume a token<a class=self-link href=#consume-a-token0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It will return a single token of any type.</p>

<p><a data-link-type=dfn href=#consume-comments0 title="Consume comments">Consume comments</a>.</p>

<p>Consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>.</p>

	<dl>
		<dt><a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a>
		<dd>
			Consume as much <a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a> as possible.
			Return a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>.

		<dt>U+0022 QUOTATION MARK (")
		<dd>
			<a data-link-type=dfn href=#consume-a-string-token0 title="Consume a string token">Consume a string token</a>
			and return it.

		<dt>U+0023 NUMBER SIGN (#)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is a <a data-link-type=dfn href=#name-code-point title="name code point">name code point</a>
			or the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next two input code points</a>
			<a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="are a valid escape">are a valid escape</a>,
			then:

			<ol>
				<li>
					Create a <a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a>.

				<li>
					If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 3 input code points</a> <a data-link-type=dfn href=#check-if-three-code-points-would-start-an-identifier title="would start an identifier">would start an identifier</a>,
					set the <a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a>’s type flag to "id".

				<li>
					<a data-link-type=dfn href=#consume-a-name0 title="Consume a name">Consume a name</a>,
					and set the <a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a>’s value to the returned string.

				<li>
					Return the <a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a>.
			</ol>

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+0024 DOLLAR SIGN ($)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			U+003D EQUALS SIGN (=),
			consume it
			and return a <a class="production css" data-link-type=type href=#typedef-suffix-match-token title="<suffix-match-token>">&lt;suffix-match-token&gt;</a>.

<p>Otherwise,
			emit a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+0027 APOSTROPHE (')
		<dd>
			<a data-link-type=dfn href=#consume-a-string-token0 title="Consume a string token">Consume a string token</a>
			and return it.

		<dt>U+0028 LEFT PARENTHESIS (()
		<dd>
			Return a <a href=#tokendef-open-paren>&lt;(-token&gt;</a>.

		<dt>U+0029 RIGHT PARENTHESIS ())
		<dd>
			Return a <a href=#tokendef-close-paren>&lt;)-token&gt;</a>.

		<dt>U+002A ASTERISK (*)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			U+003D EQUALS SIGN (=),
			consume it
			and return a <a class="production css" data-link-type=type href=#typedef-substring-match-token title="<substring-match-token>">&lt;substring-match-token&gt;</a>.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+002B PLUS SIGN (+)
		<dd>
			If the input stream <a data-link-type=dfn href=#check-if-three-code-points-would-start-a-number title="starts with a number">starts with a number</a>,
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="reconsume the current input code point">reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-a-numeric-token0 title="consume a numeric token">consume a numeric token</a>
			and return it.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+002C COMMA (,)
		<dd>
			Return a <a class="production css" data-link-type=type href=#typedef-comma-token title="<comma-token>">&lt;comma-token&gt;</a>.

		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the input stream <a data-link-type=dfn href=#check-if-three-code-points-would-start-a-number title="starts with a number">starts with a number</a>,
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="reconsume the current input code point">reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-a-numeric-token0 title="consume a numeric token">consume a numeric token</a>,
			and return it.

<p>Otherwise,
			if the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 2 input code points</a> are
			U+002D HYPHEN-MINUS
			U+003E GREATER-THAN SIGN
			(-&gt;),
			consume them
			and return a <a class="production css" data-link-type=type href=#typedef-cdc-token title="<CDC-token>">&lt;CDC-token&gt;</a>.</p>

<p>Otherwise,
			if the input stream <a data-link-type=dfn href=#check-if-three-code-points-would-start-an-identifier title="starts with an identifier">starts with an identifier</a>,
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="reconsume the current input code point">reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-an-ident-like-token0 title="consume an ident-like token">consume an ident-like token</a>,
			and return it.</p>

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+002E FULL STOP (.)
		<dd>
			If the input stream <a data-link-type=dfn href=#check-if-three-code-points-would-start-a-number title="starts with a number">starts with a number</a>,
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="reconsume the current input code point">reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-a-numeric-token0 title="consume a numeric token">consume a numeric token</a>,
			and return it.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+003A COLON (:)
		<dd>
			Return a <a class="production css" data-link-type=type href=#typedef-colon-token title="<colon-token>">&lt;colon-token&gt;</a>.

		<dt>U+003B SEMICOLON (;)
		<dd>
			Return a <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a>.

		<dt>U+003C LESS-THAN SIGN (&lt;)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 3 input code points</a> are
			U+0021 EXCLAMATION MARK
			U+002D HYPHEN-MINUS
			U+002D HYPHEN-MINUS
			(!--),
			consume them
			and return a <a class="production css" data-link-type=type href=#typedef-cdo-token title="<CDO-token>">&lt;CDO-token&gt;</a>.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+0040 COMMERCIAL AT (@)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 3 input code points</a>
			<a data-link-type=dfn href=#check-if-three-code-points-would-start-an-identifier title="would start an identifier">would start an identifier</a>,
			<a data-link-type=dfn href=#consume-a-name0 title="consume a name">consume a name</a>,
			create an <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a> with its value set to the returned value,
			and return it.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+005B LEFT SQUARE BRACKET ([)
		<dd>
			Return a <a href=#tokendef-open-square>&lt;[-token&gt;</a>.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the input stream <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="starts with a valid escape">starts with a valid escape</a>,
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="reconsume the current input code point">reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-an-ident-like-token0 title="consume an ident-like token">consume an ident-like token</a>,
			and return it.

<p>Otherwise,
			this is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
			Return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+005D RIGHT SQUARE BRACKET (])
		<dd>
			Return a <a href=#tokendef-close-square>&lt;]-token&gt;</a>.

		<dt>U+005E CIRCUMFLEX ACCENT (^)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			U+003D EQUALS SIGN (=),
			consume it
			and return a <a class="production css" data-link-type=type href=#typedef-prefix-match-token title="<prefix-match-token>">&lt;prefix-match-token&gt;</a>.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+007B LEFT CURLY BRACKET ({)
		<dd>
			Return a <a href=#tokendef-open-curly>&lt;{-token&gt;</a>.

		<dt>U+007D RIGHT CURLY BRACKET (})
		<dd>
			Return a <a href=#tokendef-close-curly>&lt;}-token&gt;</a>.

		<dt><a data-link-type=dfn href=#digit title=digit>digit</a>
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="Reconsume the current input code point">Reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-a-numeric-token0 title="consume a numeric token">consume a numeric token</a>,
			and return it.

		<dt>U+0055 LATIN CAPITAL LETTER U (U)
		<dt>U+0075 LATIN SMALL LETTER U (u)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 2 input code points</a> are
			U+002B PLUS SIGN (+)
			followed by a <a data-link-type=dfn href=#hex-digit title="hex digit">hex digit</a>
			or U+003F QUESTION MARK (?),
			consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>.
			<span class=note>Note: don’t consume both of them.</span>
			<a data-link-type=dfn href=#consume-a-unicode-range-token0 title="Consume a unicode-range token">Consume a unicode-range token</a>
			and return it.

<p>Otherwise,
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="reconsume the current input code point">reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-an-ident-like-token0 title="consume an ident-like token">consume an ident-like token</a>,
			and return it.</p>

		<dt><a data-link-type=dfn href=#name-start-code-point title="name-start code point">name-start code point</a>
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="Reconsume the current input code point">Reconsume the current input code point</a>,
			<a data-link-type=dfn href=#consume-an-ident-like-token0 title="consume an ident-like token">consume an ident-like token</a>,
			and return it.

		<dt>U+007C VERTICAL LINE (|)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			U+003D EQUALS SIGN (=),
			consume it
			and return a <a class="production css" data-link-type=type href=#typedef-dash-match-token title="<dash-match-token>">&lt;dash-match-token&gt;</a>.

<p>Otherwise,
			if the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			U+0073 VERTICAL LINE (|),
			consume it
			and return a <a class="production css" data-link-type=type href=#typedef-column-token title="<column-token>">&lt;column-token&gt;</a>.</p>

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>U+007E TILDE (~)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			U+003D EQUALS SIGN (=),
			consume it
			and return an <a class="production css" data-link-type=type href=#typedef-include-match-token title="<include-match-token>">&lt;include-match-token&gt;</a>.

<p>Otherwise,
			return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.</p>

		<dt>EOF
		<dd>
			Return an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>.

		<dt>anything else
		<dd>
			Return a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>
			with its value set to the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.
	</dl>


<h4 class="heading settled" data-level=4.3.2 id=consume-comments><span class=secno>4.3.2. </span><span class=content>
Consume comments</span><a class=self-link href=#consume-comments></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-comments0>consume comments<a class=self-link href=#consume-comments0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns nothing.</p>

<p>If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next two input code point</a> are
	U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),
	consume them
	and all following <a data-link-type=dfn href=#code-point title="code points">code points</a> up to and including
	the first U+002A ASTERISK (*) followed by a U+002F SOLIDUS (/),
	or up to an EOF code point.
	Return to the start of this step.</p>

<p>If the preceding paragraph ended by consuming an EOF code point,
	this is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.</p>

<p>Return nothing.</p>


<h4 class="heading settled" data-level=4.3.3 id=consume-a-numeric-token><span class=secno>4.3.3. </span><span class=content>
Consume a numeric token</span><a class=self-link href=#consume-a-numeric-token></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-numeric-token0>consume a numeric token<a class=self-link href=#consume-a-numeric-token0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns either a <a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-percentage-token title="<percentage-token>">&lt;percentage-token&gt;</a>, or <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a>.</p>

<p><a data-link-type=dfn href=#consume-a-number0 title="Consume a number">Consume a number</a>.</p>

<p>If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 3 input code points</a> <a data-link-type=dfn href=#check-if-three-code-points-would-start-an-identifier title="would start an identifier">would start an identifier</a>,
	then:</p>

	<ol>
		<li>Create a <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> with the same representation, value, and type flag as the returned number,
			and a unit set initially to the empty string.

		<li><a data-link-type=dfn href=#consume-a-name0 title="Consume a name">Consume a name</a>.
			Set the <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a>’s unit to the returned value.

		<li>Return the <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a>.
	</ol>

<p>Otherwise,
	if the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is U+0025 PERCENTAGE SIGN (%),
	consume it.
	Create a <a class="production css" data-link-type=type href=#typedef-percentage-token title="<percentage-token>">&lt;percentage-token&gt;</a> with the same representation and value as the returned number,
	and return it.</p>

<p>Otherwise,
	create a <a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a> with the same representation, value, and type flag as the returned number,
	and return it.</p>


<h4 class="heading settled" data-level=4.3.4 id=consume-an-ident-like-token><span class=secno>4.3.4. </span><span class=content>
Consume an ident-like token</span><a class=self-link href=#consume-an-ident-like-token></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-an-ident-like-token0>consume an ident-like token<a class=self-link href=#consume-an-ident-like-token0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>, or <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>.</p>

<p><a data-link-type=dfn href=#consume-a-name0 title="Consume a name">Consume a name</a>.</p>

<p>If the returned string’s value is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "url",
	and the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is U+0028 LEFT PARENTHESIS ((),
	consume it.
	While the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next two input code points</a> are <a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a>,
	consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>.
	If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next one or two input code points</a> are U+0022 QUOTATION MARK ("),
	U+0027 APOSTROPHE ('),
	or <a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a> followed by U+0022 QUOTATION MARK (") orU+0027 APOSTROPHE ('),
	then create a <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>
	with its value set to the returned string
	and return it.
	Otherwise,
	<a data-link-type=dfn href=#consume-a-url-token0 title="consume a url token">consume a url token</a>,
	and return it.</p>

<p>Otherwise,
	if the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is U+0028 LEFT PARENTHESIS ((),
	consume it.
	Create a <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>
	with its value set to the returned string
	and return it.</p>

<p>Otherwise,
	create an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>
	with its value set to the returned string
	and return it.</p>


<h4 class="heading settled" data-level=4.3.5 id=consume-a-string-token><span class=secno>4.3.5. </span><span class=content>
Consume a string token</span><a class=self-link href=#consume-a-string-token></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-string-token0>consume a string token<a class=self-link href=#consume-a-string-token0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns either a <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a> or <a class="production css" data-link-type=type href=#typedef-bad-string-token title="<bad-string-token>">&lt;bad-string-token&gt;</a>.</p>

<p>This algorithm may be called with an <var>ending code point</var>,
	which denotes the <a data-link-type=dfn href=#code-point title="code point">code point</a> that ends the string.
	If an <var>ending code point</var> is not specified,
	the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a> is used.</p>

<p>Initially create a <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a> with its value set to the empty string.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> from the stream:</p>

	<dl>
		<dt><var>ending code point</var>
		<dt>EOF
		<dd>
			Return the <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a>.

		<dt><a data-link-type=dfn href=#newline title=newline>newline</a>
		<dd>
			This is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="Reconsume the current input code point">Reconsume the current input code point</a>,
			create a <a class="production css" data-link-type=type href=#typedef-bad-string-token title="<bad-string-token>">&lt;bad-string-token&gt;</a>, and return it.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is EOF,
			do nothing.

<p>Otherwise,
			if the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is a newline,
			consume it.</p>

<p>Otherwise,
			<span class=note>(the stream <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="starts with a valid escape">starts with a valid escape</a>)</span>
			<a data-link-type=dfn href=#consume-an-escaped-code-point0 title="consume an escaped code point">consume an escaped code point</a>
			and append the returned <a data-link-type=dfn href=#code-point title="code point">code point</a> to the <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a>’s value.</p>

		<dt>anything else
		<dd>
			Append the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a> to the <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a>’s value.
	</dl>


<h4 class="heading settled" data-level=4.3.6 id=consume-a-url-token><span class=secno>4.3.6. </span><span class=content>
Consume a url token</span><a class=self-link href=#consume-a-url-token></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-url-token0>consume a url token<a class=self-link href=#consume-a-url-token0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns either a <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a> or a <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>.</p>

<p class=note>Note: This algorithm assumes that the initial "url(" has already been consumed.</p>

	<ol>
		<li>
			Initially create a <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a> with its value set to the empty string.

		<li>
			Consume as much <a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a> as possible.

		<li>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is EOF,
			return the <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>.

		<li>
			Repeatedly consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> from the stream:

			<dl>
				<dt>U+0029 RIGHT PARENTHESIS ())
				<dt>EOF
				<dd>
					Return the <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>.

				<dt><a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a>
				<dd>
					Consume as much <a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a> as possible.
					If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is U+0029 RIGHT PARENTHESIS ()) or EOF,
					consume it and return the <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>;
					otherwise,
					<a data-link-type=dfn href=#consume-the-remnants-of-a-bad-url0 title="consume the remnants of a bad url">consume the remnants of a bad url</a>,
					create a <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>,
					and return it.

				<dt>U+0022 QUOTATION MARK (")
				<dt>U+0027 APOSTROPHE (')
				<dt>U+0028 LEFT PARENTHESIS (()
				<dt><a data-link-type=dfn href=#non-printable-code-point title="non-printable code point">non-printable code point</a>
				<dd>
					This is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
					<a data-link-type=dfn href=#consume-the-remnants-of-a-bad-url0 title="Consume the remnants of a bad url">Consume the remnants of a bad url</a>,
					create a <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>,
					and return it.

				<dt>U+005C REVERSE SOLIDUS
				<dd>
					If the stream <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="starts with a valid escape">starts with a valid escape</a>,
					<a data-link-type=dfn href=#consume-an-escaped-code-point0 title="consume an escaped code point">consume an escaped code point</a>
					and append the returned <a data-link-type=dfn href=#code-point title="code point">code point</a> to the <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>’s value.

<p>Otherwise,
					this is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
					<a data-link-type=dfn href=#consume-the-remnants-of-a-bad-url0 title="Consume the remnants of a bad url">Consume the remnants of a bad url</a>,
					create a <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>,
					and return it.</p>

				<dt>anything else
				<dd>
					Append the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>
					to the <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>’s value.
			</dl>
	</ol>


<h4 class="heading settled" data-level=4.3.7 id=consume-a-unicode-range-token><span class=secno>4.3.7. </span><span class=content>
Consume a unicode-range token</span><a class=self-link href=#consume-a-unicode-range-token></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-unicode-range-token0>consume a unicode-range token<a class=self-link href=#consume-a-unicode-range-token0></a></dfn>.
	It returns a <a class="production css" data-link-type=type href=#typedef-unicode-range-token title="<unicode-range-token>">&lt;unicode-range-token&gt;</a>.</p>

<p class=note>Note: This algorithm assumes that the initial "u+" has been consumed,
	and the next <a data-link-type=dfn href=#code-point title="code point">code point</a> verified to be a <a data-link-type=dfn href=#hex-digit title="hex digit">hex digit</a> or a "?".</p>

<p>Execute the following steps in order:</p>

	<ol>
		<li>
			Consume as many <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> as possible, but no more than 6.
			If less than 6 <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> were consumed,
			consume as many U+003F QUESTION MARK (?) <a data-link-type=dfn href=#code-point title="code points">code points</a> as possible,
			but no more than enough to make the total of <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> and U+003F QUESTION MARK (?) <a data-link-type=dfn href=#code-point title="code points">code points</a> equal to 6.

<p>If any U+003F QUESTION MARK (?) <a data-link-type=dfn href=#code-point title="code points">code points</a> were consumed,
			then:</p>

			<ol>
				<li>
					Interpret the consumed <a data-link-type=dfn href=#code-point title="code points">code points</a> as a hexadecimal number,
					with the U+003F QUESTION MARK (?) <a data-link-type=dfn href=#code-point title="code points">code points</a> replaced by U+0030 DIGIT ZERO (0) <a data-link-type=dfn href=#code-point title="code points">code points</a>.
					This is the <a data-link-type=dfn href=#unicode-range-start title="start of the range">start of the range</a>.

				<li>
					Interpret the consumed <a data-link-type=dfn href=#code-point title="code points">code points</a> as a hexadecimal number again,
					with the U+003F QUESTION MARK (?) <a data-link-type=dfn href=#code-point title="code point">code point</a> replaced by U+0046 LATIN CAPITAL LETTER F (F) <a data-link-type=dfn href=#code-point title="code points">code points</a>.
					This is the <a data-link-type=dfn href=#unicode-range-end title="end of the range">end of the range</a>.

				<li>
					Return a new <a class="production css" data-link-type=type href=#typedef-unicode-range-token title="<unicode-range-token>">&lt;unicode-range-token&gt;</a> with the above start and end.
			</ol>

<p>Otherwise,
			interpret the digits as a hexadecimal number.
			This is the <a data-link-type=dfn href=#unicode-range-start title="start of the range">start of the range</a>.</p>

		<li>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 2 input code point</a> are
			U+002D HYPHEN-MINUS (-) followed by a <a data-link-type=dfn href=#hex-digit title="hex digit">hex digit</a>,
			then:

			<ol>
				<li>Consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>.

				<li>
					Consume as many <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> as possible, but no more than 6.
					Interpret the digits as a hexadecimal number.
					This is the <a data-link-type=dfn href=#unicode-range-end title="end of the range">end of the range</a>.
			</ol>

		<li>
			Otherwise, the <a data-link-type=dfn href=#unicode-range-end title="end of the range">end of the range</a> is the <a data-link-type=dfn href=#unicode-range-start title="start of the range">start of the range</a>.

		<li>
			Return the <a class="production css" data-link-type=type href=#typedef-unicode-range-token title="<unicode-range-token>">&lt;unicode-range-token&gt;</a> with the above start and end.
	</ol>


<h4 class="heading settled" data-level=4.3.8 id=consume-an-escaped-code-point><span class=secno>4.3.8. </span><span class=content>
Consume an escaped code point</span><a class=self-link href=#consume-an-escaped-code-point></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-an-escaped-code-point0>consume an escaped code point<a class=self-link href=#consume-an-escaped-code-point0></a></dfn>.
	It assumes that the U+005C REVERSE SOLIDUS (\) has already been consumed
	and that the next input code point has already been verified
	to not be a <a data-link-type=dfn href=#newline title=newline>newline</a>.
	It will return a <a data-link-type=dfn href=#code-point title="code points">code points</a>.</p>

<p>Consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>.</p>

	<dl>
		<dt><a data-link-type=dfn href=#hex-digit title="hex digit">hex digit</a>
		<dd>
			Consume as many <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> as possible, but no more than 5.
			<span class=note>Note that this means 1-6 hex digits have been consumed in total.</span>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is
			<a data-link-type=dfn href=#whitespace title=whitespace>whitespace</a>,
			consume it as well.
			Interpret the <a data-link-type=dfn href=#hex-digit title="hex digits">hex digits</a> as a hexadecimal number.
			If this number is zero,
			or is for a <a data-link-type=dfn href=#surrogate-code-point title="surrogate code point">surrogate code point</a>,
			or is greater than the <a data-link-type=dfn href=#maximum-allowed-code-point title="maximum allowed code point">maximum allowed code point</a>,
			return U+FFFD REPLACEMENT CHARACTER (�).
			Otherwise, return the <a data-link-type=dfn href=#code-point title="code point">code point</a> with that value.

		<dt>EOF code point
		<dd>
			Return U+FFFD REPLACEMENT CHARACTER (�).

		<dt>anything else
		<dd>
			Return the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>.
	</dl>


<h4 class="heading settled" data-level=4.3.9 id=starts-with-a-valid-escape><span class=secno>4.3.9. </span><span class=content>
Check if two code points are a valid escape</span><a class=self-link href=#starts-with-a-valid-escape></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=check-if-two-code-points-are-a-valid-escape title="check if two code points are a valid escape|are a valid escape|starts with a valid escape">check if two code points are a valid escape<a class=self-link href=#check-if-two-code-points-are-a-valid-escape></a></dfn>.
	The algorithm described here can be called explicitly with two <a data-link-type=dfn href=#code-point title="code points">code points</a>,
	or can be called with the input stream itself.
	In the latter case, the two <a data-link-type=dfn href=#code-point title="code points">code points</a> in question are
	the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>
	and the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a>,
	in that order.</p>

<p class=note>Note: This algorithm will not consume any additional <a data-link-type=dfn href=#code-point title="code point">code point</a>.</p>

<p>If the first <a data-link-type=dfn href=#code-point title="code point">code point</a> is not U+005C REVERSE SOLIDUS (\),
	return false.</p>

<p>Otherwise,
	if the second <a data-link-type=dfn href=#code-point title="code point">code point</a> is a <a data-link-type=dfn href=#newline title=newline>newline</a>,
	return false.</p>

<p>Otherwise, return true.</p>


<h4 class="heading settled" data-level=4.3.10 id=would-start-an-identifier><span class=secno>4.3.10. </span><span class=content>
Check if three code points would start an identifier</span><a class=self-link href=#would-start-an-identifier></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=check-if-three-code-points-would-start-an-identifier title="check if three code points would start an identifier|starts with an identifier|start with an identifier|would start an identifier">check if three code points would start an <a data-link-type=dfn href=#identifier title=identifier>identifier</a><a class=self-link href=#check-if-three-code-points-would-start-an-identifier></a></dfn>.
	The algorithm described here can be called explicitly with three <a data-link-type=dfn href=#code-point title="code points">code points</a>,
	or can be called with the input stream itself.
	In the latter case, the three <a data-link-type=dfn href=#code-point title="code points">code points</a> in question are
	the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>
	and the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next two input code points</a>,
	in that order.</p>

<p class=note>Note: This algorithm will not consume any additional <a data-link-type=dfn href=#code-point title="code points">code points</a>.</p>

<p>Look at the first <a data-link-type=dfn href=#code-point title="code point">code point</a>:</p>

	<dl>
		<dt>U+002D HYPHEN-MINUS
		<dd>
			If the second <a data-link-type=dfn href=#code-point title="code point">code point</a> is a <a data-link-type=dfn href=#name-start-code-point title="name-start code point">name-start code point</a>
			or a U+002D HYPHEN-MINUS,
			or the second and third <a data-link-type=dfn href=#code-point title="code points">code points</a> <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="are a valid escape">are a valid escape</a>,
			return true.
			Otherwise, return false.

		<dt><a data-link-type=dfn href=#name-start-code-point title="name-start code point">name-start code point</a>
		<dd>
			Return true.

		<dt>U+005C REVERSE SOLIDUS (\)
		<dd>
			If the first and second <a data-link-type=dfn href=#code-point title="code points">code points</a> <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="are a valid escape">are a valid escape</a>,
			return true.
			Otherwise, return false.

		<dt>anything else
		<dd>
			Return false.
	</dl>

<h4 class="heading settled" data-level=4.3.11 id=starts-with-a-number><span class=secno>4.3.11. </span><span class=content>
Check if three code points would start a number</span><a class=self-link href=#starts-with-a-number></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=check-if-three-code-points-would-start-a-number title="check if three code points would start a number|starts with a number|start with a number|would start a number">check if three code points would start a number<a class=self-link href=#check-if-three-code-points-would-start-a-number></a></dfn>.
	The algorithm described here can be called explicitly with three <a data-link-type=dfn href=#code-point title="code points">code points</a>,
	or can be called with the input stream itself.
	In the latter case, the three <a data-link-type=dfn href=#code-point title="code points">code points</a> in question are
	the <a data-link-type=dfn href=#current-input-code-point title="current input code point">current input code point</a>
	and the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next two input code points</a>,
	in that order.</p>

<p class=note>Note: This algorithm will not consume any additional <a data-link-type=dfn href=#code-point title="code points">code points</a>.</p>

<p>Look at the first <a data-link-type=dfn href=#code-point title="code point">code point</a>:</p>

	<dl>
		<dt>U+002B PLUS SIGN (+)
		<dt>U+002D HYPHEN-MINUS (-)
		<dd>
			If the second <a data-link-type=dfn href=#code-point title="code point">code point</a>
			is a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			return true.

<p>Otherwise,
			if the second <a data-link-type=dfn href=#code-point title="code point">code point</a>
			is a U+002E FULL STOP (.)
			and the third <a data-link-type=dfn href=#code-point title="code point">code point</a>
			is a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			return true.</p>

<p>Otherwise, return false.</p>

		<dt>U+002E FULL STOP (.)
		<dd>
			If the second <a data-link-type=dfn href=#code-point title="code point">code point</a>
			is a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			return true.
			Otherwise, return false.

		<dt><a data-link-type=dfn href=#digit title=digit>digit</a>
		<dd>
			Return true.

		<dt>anything else
		<dd>
			Return false.
	</dl>


<h4 class="heading settled" data-level=4.3.12 id=consume-a-name><span class=secno>4.3.12. </span><span class=content>
Consume a name</span><a class=self-link href=#consume-a-name></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-name0>consume a name<a class=self-link href=#consume-a-name0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns a string containing
	the largest name that can be formed from adjacent <a data-link-type=dfn href=#code-point title="code points">code points</a> in the stream, starting from the first.</p>

<p class=note>Note: This algorithm does not do the verification of the first few <a data-link-type=dfn href=#code-point title="code points">code points</a>
	that are necessary to ensure the returned <a data-link-type=dfn href=#code-point title="code points">code points</a> would constitute an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>.
	If that is the intended use,
	ensure that the stream <a data-link-type=dfn href=#check-if-three-code-points-would-start-an-identifier title="starts with an identifier">starts with an identifier</a>
	before calling this algorithm.</p>

<p>Let <var>result</var> initially be an empty string.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> from the stream:</p>

	<dl>
		<dt><a data-link-type=dfn href=#name-code-point title="name code point">name code point</a>
		<dd>
			Append the <a data-link-type=dfn href=#code-point title="code point">code point</a> to <var>result</var>.

		<dt>the stream <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="starts with a valid escape">starts with a valid escape</a>
		<dd>
			<a data-link-type=dfn href=#consume-an-escaped-code-point0 title="Consume an escaped code point">Consume an escaped code point</a>.
			Append the returned <a data-link-type=dfn href=#code-point title="code point">code point</a> to <var>result</var>.

		<dt>anything else
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-code-point title="Reconsume the current input code point">Reconsume the current input code point</a>.
			Return <var>result</var>.
	</dl>


<h4 class="heading settled" data-level=4.3.13 id=consume-a-number><span class=secno>4.3.13. </span><span class=content>
Consume a number</span><a class=self-link href=#consume-a-number></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-a-number0>consume a number<a class=self-link href=#consume-a-number0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>.
	It returns a 3-tuple of
	a string representation,
	a numeric value,
	and a type flag which is either "integer" or "number".</p>

<p class=note>Note: This algorithm does not do the verification of the first few <a data-link-type=dfn href=#code-point title="code points">code points</a>
	that are necessary to ensure a number can be obtained from the stream.
	Ensure that the stream <a data-link-type=dfn href=#check-if-three-code-points-would-start-a-number title="starts with a number">starts with a number</a>
	before calling this algorithm.</p>

<p>Execute the following steps in order:</p>

	<ol>
		<li>
			Initially set <var>repr</var> to the empty string
			and <var>type</var> to "integer".

		<li>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),
			consume it and append it to <var>repr</var>.

		<li>
			While the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			consume it and append it to <var>repr</var>.

		<li>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 2 input code points</a> are
			U+002E FULL STOP (.) followed by a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			then:

			<ol>
				<li>Consume them.
				<li>Append them to <var>repr</var>.
				<li>Set <var>type</var> to "number".
				<li>While the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is a <a data-link-type=dfn href=#digit title=digit>digit</a>, consume it and append it to <var>repr</var>.
			</ol>

		<li>
			If the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next 2 or 3 input code points</a> are
			U+0045 LATIN CAPITAL LETTER E (E) or U+0065 LATIN SMALL LETTER E (e),
			optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+),
			followed by a <a data-link-type=dfn href=#digit title=digit>digit</a>,
			then:

			<ol>
				<li>Consume them.
				<li>Append them to <var>repr</var>.
				<li>Set <var>type</var> to "number".
				<li>While the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> is a <a data-link-type=dfn href=#digit title=digit>digit</a>, consume it and append it to <var>repr</var>.
			</ol>

		<li>
			<a data-link-type=dfn href=#convert-a-string-to-a-number0 title="convert a string to a number">Convert <var>repr</var> to a number</a>,
			and set the <var>value</var> to the returned value.

		<li>
			Return a 3-tuple of <var>repr</var>, <var>value</var>, and <var>type</var>.
	</ol>


<h4 class="heading settled" data-level=4.3.14 id=convert-a-string-to-a-number><span class=secno>4.3.14. </span><span class=content>
Convert a string to a number</span><a class=self-link href=#convert-a-string-to-a-number></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=convert-a-string-to-a-number0>convert a string to a number<a class=self-link href=#convert-a-string-to-a-number0></a></dfn>.
	It returns a number.</p>

<p class=note>Note: This algorithm does not do any verification to ensure that the string contains only a number.
	Ensure that the string contains only a valid CSS number
	before calling this algorithm.</p>

<p>Divide the string into seven components,
	in order from left to right:</p>

	<ol>
		<li>A <b>sign</b>:
			a single U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),
			or the empty string.
			Let <var>s</var> be the number -1 if the sign is U+002D HYPHEN-MINUS (-);
			otherwise, let <var>s</var> be the number 1.

		<li>An <b>integer part</b>:
			zero or more <a data-link-type=dfn href=#digit title=digits>digits</a>.
			If there is at least one digit,
			let <var>i</var> be the number formed by interpreting the digits as a base-10 integer;
			otherwise, let <var>i</var> be the number 0.

		<li>A <b>decimal point</b>:
			a single U+002E FULL STOP (.),
			or the empty string.

		<li>A <b>fractional part</b>:
			zero or more <a data-link-type=dfn href=#digit title=digits>digits</a>.
			If there is at least one digit,
			let <var>f</var> be the number formed by interpreting the digits as a base-10 integer
			and <var>d</var> be the number of digits;
			otherwise, let <var>f</var> and <var>d</var> be the number 0.

		<li>An <b>exponent indicator</b>:
			a single U+0045 LATIN CAPITAL LETTER E (E) or U+0065 LATIN SMALL LETTER E (e),
			or the empty string.

		<li>An <b>exponent sign</b>:
			a single U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),
			or the empty string.
			Let <var>t</var> be the number -1 if the sign is U+002D HYPHEN-MINUS (-);
			otherwise, let <var>t</var> be the number 1.

		<li>An <b>exponent</b>:
			zero or more <a data-link-type=dfn href=#digit title=digits>digits</a>.
			If there is at least one digit,
			let <var>e</var> be the number formed by interpreting the digits as a base-10 integer;
			otherwise, let <var>e</var> be the number 0.
	</ol>

<p>Return the number <code>s·(i + f·10<sup>-d</sup>)·10<sup>te</sup></code>.</p>


<h4 class="heading settled" data-level=4.3.15 id=consume-the-remnants-of-a-bad-url><span class=secno>4.3.15. </span><span class=content>
Consume the remnants of a bad url</span><a class=self-link href=#consume-the-remnants-of-a-bad-url></a></h4>

<p>This section describes how to <dfn data-dfn-type=dfn data-noexport="" id=consume-the-remnants-of-a-bad-url0>consume the remnants of a bad url<a class=self-link href=#consume-the-remnants-of-a-bad-url0></a></dfn> from a stream of <a data-link-type=dfn href=#code-point title="code points">code points</a>,
	"cleaning up" after the tokenizer realizes that it’s in the middle of a <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a> rather than a <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>.
	It returns nothing;
	its sole use is to consume enough of the input stream to reach a recovery point
	where normal tokenizing can resume.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-code-point title="next input code point">next input code point</a> from the stream:</p>

	<dl>
		<dt>U+0029 RIGHT PARENTHESIS ())
		<dt>EOF
		<dd>
			Return.

		<dt>the input stream <a data-link-type=dfn href=#check-if-two-code-points-are-a-valid-escape title="starts with a valid escape">starts with a valid escape</a>
		<dd>
			<a data-link-type=dfn href=#consume-an-escaped-code-point0 title="Consume an escaped code point">Consume an escaped code point</a>.
			<span class=note>This allows an escaped right parenthesis ("\)") to be encountered without ending the <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>.
				This is otherwise identical to the "anything else" clause.</span>

		<dt>anything else
		<dd>
			Do nothing.
	</dl>




<h2 class="heading settled" data-level=5 id=parsing><span class=secno>5. </span><span class=content>
Parsing</span><a class=self-link href=#parsing></a></h2>

<p>The input to the parsing stage is a stream or list of tokens from the tokenization stage.
	The output depends on how the parser is invoked,
	as defined by the entry points listed later in this section.
	The parser output can consist of at-rules,
	qualified rules,
	and/or declarations.</p>

<p>The parser’s output is constructed according to the fundamental syntax of CSS,
	without regards for the validity of any specific item.
	Implementations may check the validity of items as they are returned by the various parser algorithms
	and treat the algorithm as returning nothing if the item was invalid according to the implementation’s own grammar knowledge,
	or may construct a full tree as specified
	and "clean up" afterwards by removing any invalid items.</p>

<p>The items that can appear in the tree are:</p>

	<dl>
		<dt><dfn data-dfn-type=dfn data-export="" id=at-rule>at-rule<a class=self-link href=#at-rule></a></dfn>
		<dd>
			An at-rule has a name,
			a prelude consisting of a list of component values,
			and an optional block consisting of a simple {} block.

<p class=note>Note: This specification places no limits on what an at-rule’s block may contain.
			Individual at-rules must define whether they accept a block,
			and if so,
			how to parse it
			(preferably using one of the parser algorithms or entry points defined in this specification).</p>

		<dt><dfn data-dfn-type=dfn data-export="" id=qualified-rule>qualified rule<a class=self-link href=#qualified-rule></a></dfn>
		<dd>
			A qualified rule has
			a prelude consisting of a list of component values,
			and a block consisting of a simple {} block.

<p class=note>Note: Most qualified rules will be style rules,
			where the prelude is a selector <a data-biblio-type=informative data-link-type=biblio href=#biblio-select title=SELECT>[SELECT]</a>
			and the block a <a data-link-type=dfn href=#parse-a-list-of-declarations0 title="parse a list of declarations">list of declarations</a>.</p>

		<dt><dfn data-dfn-type=dfn data-export="" id=declaration>declaration<a class=self-link href=#declaration></a></dfn>
		<dd>
			A declaration has a name,
			a value consisting of a list of component values,
			and an <var>important</var> flag which is initially unset.

<p>Declarations are further categorized as "properties" or "descriptors",
			with the former typically appearing in <a data-link-type=dfn href=#qualified-rule title="qualified rules">qualified rules</a>
			and the latter appearing in <a data-link-type=dfn href=#at-rule title=at-rules>at-rules</a>.
			(This categorization does not occur at the Syntax level;
			instead, it is a product of where the declaration appears,
			and is defined by the respective specifications defining the given rule.)</p>

		<dt><dfn data-dfn-type=dfn data-export="" id=component-value>component value<a class=self-link href=#component-value></a></dfn>
		<dd>
			A component value is one of the preserved tokens,
			a function,
			or a simple block.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=preserved-tokens>preserved tokens<a class=self-link href=#preserved-tokens></a></dfn>
		<dd>
			Any token produced by the tokenizer
			except for <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>s,
			<a href=#tokendef-open-curly>&lt;{-token&gt;</a>s,
			<a href=#tokendef-open-paren>&lt;(-token&gt;</a>s,
			and <a href=#tokendef-open-square>&lt;[-token&gt;</a>s.

<p class=note>Note: The non-preserved tokens listed above are always consumed into higher-level objects,
			either functions or simple blocks,
			and so never appear in any parser output themselves.</p>

<p class=note>Note: The tokens <a href=#tokendef-close-curly>&lt;}-token&gt;</a>s, <a href=#tokendef-close-paren>&lt;)-token&gt;</a>s, <a href=#tokendef-close-square>&lt;]-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-bad-string-token title="<bad-string-token>">&lt;bad-string-token&gt;</a>, and <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a> are always parse errors,
			but they are preserved in the token stream by this specification to allow other specs,
			such as Media Queries,
			to define more fine-grainted error-handling
			than just dropping an entire declaration or block.</p>

		<dt><dfn data-dfn-type=dfn data-export="" id=function>function<a class=self-link href=#function></a></dfn>
		<dd>
			A function has a name
			and a value consisting of a list of component values.

		<dt><dfn data-dfn-type=dfn data-export="" id=simple-block>simple block<a class=self-link href=#simple-block></a></dfn>
		<dd>
			A simple block has an associated token (either a <a href=#tokendef-open-square>&lt;[-token&gt;</a>, <a href=#tokendef-open-paren>&lt;(-token&gt;</a>, or <a href=#tokendef-open-curly>&lt;{-token&gt;</a>)
			and a value consisting of a list of component values.
	</dl>

<h3 class="heading settled" data-level=5.1 id=parser-diagrams><span class=secno>5.1. </span><span class=content>
Parser Railroad Diagrams</span><a class=self-link href=#parser-diagrams></a></h3>

<p><em>This section is non-normative.</em></p>

<p>This section presents an informative view of the parser,
	in the form of railroad diagrams.</p>

<p>These diagrams are <em>informative</em> and <em>incomplete</em>;
	they describe the grammar of "correct" stylesheets,
	but do not describe error-handling at all.
	They are provided solely to make it easier to get an intuitive grasp of the syntax.</p>

	<dl>
		<dt id=stylesheet-diagram><a class=self-link href=#stylesheet-diagram></a>Stylesheet
		<dd>
<div class=railroad><svg class=railroad-diagram height=200 viewBox="0 0 345 200" width=345>
<g transform="translate(.5 .5)">
<path d="M 20 121 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 131h0.0">
</path><path d="M304.0 131h0.0">
</path><path d="M40.0 131a10 10 0 0 0 10 -10v-89a10 10 0 0 1 10 -10">
</path><g>
<path d="M60.0 22h224">
</path></g><path d="M284.0 22a10 10 0 0 1 10 10v89a10 10 0 0 0 10 10">
</path><path d="M40.0 131h20">
</path><g>
<path d="M60.0 131h0.0">
</path><path d="M284.0 131h0.0">
</path><path d="M60.0 131h10">
</path><g>
<path d="M70.0 131h0.0">
</path><path d="M274.0 131h0.0">
</path><path d="M70.0 131a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><g>
<path d="M90.0 101h0.0">
</path><path d="M254.0 101h0.0">
</path><rect height=22 width=164 x=90.0 y=90>
</rect><text x=172.0 y=105>
&lt;whitespace-token&gt;</text></g><path d="M254.0 101a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><path d="M70.0 131a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10">
</path><g>
<path d="M90.0 71h28.0">
</path><path d="M226.0 71h28.0">
</path><rect height=22 width=108 x=118.0 y=60>
</rect><text x=172.0 y=75>
&lt;CDC-token&gt;</text></g><path d="M254.0 71a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10">
</path><path d="M70.0 131a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10">
</path><g>
<path d="M90.0 41h28.0">
</path><path d="M226.0 41h28.0">
</path><rect height=22 width=108 x=118.0 y=30>
</rect><text x=172.0 y=45>
&lt;CDO-token&gt;</text></g><path d="M254.0 41a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10">
</path><path d="M70.0 131h20">
</path><g>
<path d="M90.0 131h16.0">
</path><path d="M238.0 131h16.0">
</path><rect height=22 width=132 x=106.0 y=120>
</rect><text x=172.0 y=135>
Qualified rule</text></g><path d="M254.0 131h20">
</path><path d="M70.0 131a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M90.0 161h44.0">
</path><path d="M210.0 161h44.0">
</path><rect height=22 width=76 x=134.0 y=150>
</rect><text x=172.0 y=165>
At-rule</text></g><path d="M254.0 161a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M274.0 131h10">
</path><path d="M70.0 131a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10">
</path><g>
<path d="M70.0 180h204">
</path></g><path d="M274.0 180a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10">
</path></g><path d="M284.0 131h20">
</path></g><path d="M 304 131 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=rule-list-diagram><a class=self-link href=#rule-list-diagram></a>Rule list
		<dd>
<div class=railroad><svg class=railroad-diagram height=140 viewBox="0 0 345 140" width=345>
<g transform="translate(.5 .5)">
<path d="M 20 61 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 71h0.0">
</path><path d="M304.0 71h0.0">
</path><path d="M40.0 71a10 10 0 0 0 10 -10v-29a10 10 0 0 1 10 -10">
</path><g>
<path d="M60.0 22h224">
</path></g><path d="M284.0 22a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10">
</path><path d="M40.0 71h20">
</path><g>
<path d="M60.0 71h0.0">
</path><path d="M284.0 71h0.0">
</path><path d="M60.0 71h10">
</path><g>
<path d="M70.0 71h0.0">
</path><path d="M274.0 71h0.0">
</path><path d="M70.0 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><g>
<path d="M90.0 41h0.0">
</path><path d="M254.0 41h0.0">
</path><rect height=22 width=164 x=90.0 y=30>
</rect><text x=172.0 y=45>
&lt;whitespace-token&gt;</text></g><path d="M254.0 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><path d="M70.0 71h20">
</path><g>
<path d="M90.0 71h16.0">
</path><path d="M238.0 71h16.0">
</path><rect height=22 width=132 x=106.0 y=60>
</rect><text x=172.0 y=75>
Qualified rule</text></g><path d="M254.0 71h20">
</path><path d="M70.0 71a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M90.0 101h44.0">
</path><path d="M210.0 101h44.0">
</path><rect height=22 width=76 x=134.0 y=90>
</rect><text x=172.0 y=105>
At-rule</text></g><path d="M254.0 101a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M274.0 71h10">
</path><path d="M70.0 71a10 10 0 0 0 -10 10v29a10 10 0 0 0 10 10">
</path><g>
<path d="M70.0 120h204">
</path></g><path d="M274.0 120a10 10 0 0 0 10 -10v-29a10 10 0 0 0 -10 -10">
</path></g><path d="M284.0 71h20">
</path></g><path d="M 304 71 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=at-rule-diagram><a class=self-link href=#at-rule-diagram></a>At-rule
		<dd>
<div class=railroad><svg class=railroad-diagram height=102 viewBox="0 0 589 102" width=589>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M214.0 41h0.0">
</path><rect height=22 width=164 x=50.0 y=30>
</rect><text x=132.0 y=45>
&lt;at-keyword-token&gt;</text></g><path d="M214 41h10">
</path><g>
<path d="M224 41h0.0">
</path><path d="M424.0 41h0.0">
</path><path d="M224.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M244.0 21h160">
</path></g><path d="M404.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M224.0 41h20">
</path><g>
<path d="M244.0 41h0.0">
</path><path d="M404.0 41h0.0">
</path><path d="M244.0 41h10">
</path><g>
<path d="M254.0 41h0.0">
</path><path d="M394.0 41h0.0">
</path><rect height=22 width=140 x=254.0 y=30>
</rect><text x=324.0 y=45>
Component value</text></g><path d="M394.0 41h10">
</path><path d="M254.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M254.0 61h140">
</path></g><path d="M394.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M404.0 41h20">
</path></g><g>
<path d="M424 41h0.0">
</path><path d="M548.0 41h0.0">
</path><path d="M424.0 41h20">
</path><g>
<path d="M444.0 41h0.0">
</path><path d="M528.0 41h0.0">
</path><rect height=22 width=84 x=444.0 y=30>
</rect><text x=486.0 y=45>
{} block</text></g><path d="M528.0 41h20">
</path><path d="M424.0 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M444.0 71h28.0">
</path><path d="M500.0 71h28.0">
</path><rect height=22 rx=10 ry=10 width=28 x=472.0 y=60>
</rect><text x=486.0 y=75>
;</text></g><path d="M528.0 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M 548 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=qualified-rule-diagram><a class=self-link href=#qualified-rule-diagram></a>Qualified rule
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 385 81" width=385>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 41h0.0">
</path><path d="M240.0 41h0.0">
</path><path d="M40.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M60.0 21h160">
</path></g><path d="M220.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M40.0 41h20">
</path><g>
<path d="M60.0 41h0.0">
</path><path d="M220.0 41h0.0">
</path><path d="M60.0 41h10">
</path><g>
<path d="M70.0 41h0.0">
</path><path d="M210.0 41h0.0">
</path><rect height=22 width=140 x=70.0 y=30>
</rect><text x=140.0 y=45>
Component value</text></g><path d="M210.0 41h10">
</path><path d="M70.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M70.0 61h140">
</path></g><path d="M210.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M220.0 41h20">
</path></g><path d="M240 41h10">
</path><g>
<path d="M250 41h0.0">
</path><path d="M334.0 41h0.0">
</path><rect height=22 width=84 x=250.0 y=30>
</rect><text x=292.0 y=45>
{} block</text></g><path d="M334 41h10">
</path><path d="M 344 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=declaration-list-diagram><a class=self-link href=#declaration-list-diagram></a>Declaration list
		<dd>
<div class=railroad><svg class=railroad-diagram height=102 viewBox="0 0 589 102" width=589>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M94.0 41h0.0">
</path><rect height=22 width=44 x=50.0 y=30>
</rect><text x=72.0 y=45>
ws*</text></g><path d="M94 41h10">
</path><g>
<path d="M104 41h0.0">
</path><path d="M548.0 41h0.0">
</path><path d="M104.0 41h20">
</path><g>
<path d="M124.0 41h0.0">
</path><path d="M528.0 41h0.0">
</path><g>
<path d="M124.0 41h0.0">
</path><path d="M272.0 41h0.0">
</path><path d="M124.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M144.0 21h108">
</path></g><path d="M252.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M124.0 41h20">
</path><g>
<path d="M144.0 41h0.0">
</path><path d="M252.0 41h0.0">
</path><rect height=22 width=108 x=144.0 y=30>
</rect><text x=198.0 y=45>
Declaration</text></g><path d="M252.0 41h20">
</path></g><g>
<path d="M272.0 41h0.0">
</path><path d="M528.0 41h0.0">
</path><path d="M272.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M292.0 21h216">
</path></g><path d="M508.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M272.0 41h20">
</path><g>
<path d="M292.0 41h0.0">
</path><path d="M508.0 41h0.0">
</path><path d="M292.0 41h10">
</path><g>
<path d="M302.0 41h0.0">
</path><path d="M330.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=302.0 y=30>
</rect><text x=316.0 y=45>
;</text></g><path d="M330.0 41h10">
</path><path d="M340.0 41h10">
</path><g>
<path d="M350.0 41h0.0">
</path><path d="M498.0 41h0.0">
</path><rect height=22 width=148 x=350.0 y=30>
</rect><text x=424.0 y=45>
Declaration list</text></g><path d="M498.0 41h10">
</path></g><path d="M508.0 41h20">
</path></g></g><path d="M528.0 41h20">
</path><path d="M104.0 41a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M124.0 71h70.0">
</path><path d="M458.0 71h70.0">
</path><path d="M194.0 71h10">
</path><g>
<path d="M204.0 71h0.0">
</path><path d="M280.0 71h0.0">
</path><rect height=22 width=76 x=204.0 y=60>
</rect><text x=242.0 y=75>
At-rule</text></g><path d="M280.0 71h10">
</path><path d="M290.0 71h10">
</path><g>
<path d="M300.0 71h0.0">
</path><path d="M448.0 71h0.0">
</path><rect height=22 width=148 x=300.0 y=60>
</rect><text x=374.0 y=75>
Declaration list</text></g><path d="M448.0 71h10">
</path></g><path d="M528.0 71a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path></g><path d="M 548 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=declaration-diagram><a class=self-link href=#declaration-diagram></a>Declaration
		<dd>
<div class=railroad><svg class=railroad-diagram height=101 viewBox="0 0 677 101" width=677>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M174.0 41h0.0">
</path><rect height=22 width=124 x=50.0 y=30>
</rect><text x=112.0 y=45>
&lt;ident-token&gt;</text></g><path d="M174 41h10">
</path><path d="M184 41h10">
</path><g>
<path d="M194 41h0.0">
</path><path d="M238.0 41h0.0">
</path><rect height=22 width=44 x=194.0 y=30>
</rect><text x=216.0 y=45>
ws*</text></g><path d="M238 41h10">
</path><path d="M248 41h10">
</path><g>
<path d="M258 41h0.0">
</path><path d="M286.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=258.0 y=30>
</rect><text x=272.0 y=45>
:</text></g><path d="M286 41h10">
</path><g>
<path d="M296 41h0.0">
</path><path d="M496.0 41h0.0">
</path><path d="M296.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M316.0 21h160">
</path></g><path d="M476.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M296.0 41h20">
</path><g>
<path d="M316.0 41h0.0">
</path><path d="M476.0 41h0.0">
</path><path d="M316.0 41h10">
</path><g>
<path d="M326.0 41h0.0">
</path><path d="M466.0 41h0.0">
</path><rect height=22 width=140 x=326.0 y=30>
</rect><text x=396.0 y=45>
Component value</text></g><path d="M466.0 41h10">
</path><path d="M326.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M326.0 61h140">
</path></g><path d="M466.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M476.0 41h20">
</path></g><g>
<path d="M496 41h0.0">
</path><path d="M636.0 41h0.0">
</path><path d="M496.0 41h20">
</path><g>
<path d="M516.0 41h100">
</path></g><path d="M616.0 41h20">
</path><path d="M496.0 41a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M516.0 61h0.0">
</path><path d="M616.0 61h0.0">
</path><rect height=22 width=100 x=516.0 y=50>
</rect><text x=566.0 y=65>
!important</text></g><path d="M616.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path></g><path d="M 636 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=!important-diagram><a class=self-link href=#%21important-diagram></a>!important
		<dd>
<div class=railroad><svg class=railroad-diagram height=62 viewBox="0 0 497 62" width=497>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 31h10">
</path><g>
<path d="M50 31h0.0">
</path><path d="M78.0 31h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=20>
</rect><text x=64.0 y=35>
!</text></g><path d="M78 31h10">
</path><path d="M88 31h10">
</path><g>
<path d="M98 31h0.0">
</path><path d="M142.0 31h0.0">
</path><rect height=22 width=44 x=98.0 y=20>
</rect><text x=120.0 y=35>
ws*</text></g><path d="M142 31h10">
</path><path d="M152 31h10">
</path><g>
<path d="M162 31h0.0">
</path><path d="M382.0 31h0.0">
</path><rect height=22 width=220 x=162.0 y=20>
</rect><text x=272.0 y=35>
&lt;ident-token "important"&gt;</text></g><path d="M382 31h10">
</path><path d="M392 31h10">
</path><g>
<path d="M402 31h0.0">
</path><path d="M446.0 31h0.0">
</path><rect height=22 width=44 x=402.0 y=20>
</rect><text x=424.0 y=35>
ws*</text></g><path d="M446 31h10">
</path><path d="M 456 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=component-value-diagram><a class=self-link href=#component-value-diagram></a>Component value
		<dd>
<div class=railroad><svg class=railroad-diagram height=182 viewBox="0 0 261 182" width=261>
<g transform="translate(.5 .5)">
<path d="M 20 21 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><g>
<path d="M40 31h0.0">
</path><path d="M220.0 31h0.0">
</path><path d="M40.0 31h20">
</path><g>
<path d="M60.0 31h0.0">
</path><path d="M200.0 31h0.0">
</path><rect height=22 width=140 x=60.0 y=20>
</rect><text x=130.0 y=35>
Preserved token</text></g><path d="M200.0 31h20">
</path><path d="M40.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 61h28.0">
</path><path d="M172.0 61h28.0">
</path><rect height=22 width=84 x=88.0 y=50>
</rect><text x=130.0 y=65>
{} block</text></g><path d="M200.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10">
</path><path d="M40.0 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 91h28.0">
</path><path d="M172.0 91h28.0">
</path><rect height=22 width=84 x=88.0 y=80>
</rect><text x=130.0 y=95>
() block</text></g><path d="M200.0 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10">
</path><path d="M40.0 31a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 121h28.0">
</path><path d="M172.0 121h28.0">
</path><rect height=22 width=84 x=88.0 y=110>
</rect><text x=130.0 y=125>
[] block</text></g><path d="M200.0 121a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10">
</path><path d="M40.0 31a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10">
</path><g>
<path d="M60.0 151h4.0">
</path><path d="M196.0 151h4.0">
</path><rect height=22 width=132 x=64.0 y=140>
</rect><text x=130.0 y=155>
Function block</text></g><path d="M200.0 151a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10">
</path></g><path d="M 220 31 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>


		<dt id={}-block-diagram><a class=self-link href=#%7B%7D-block-diagram></a>{} block
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 377 81" width=377>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M78.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=30>
</rect><text x=64.0 y=45>
{</text></g><path d="M78 41h10">
</path><g>
<path d="M88 41h0.0">
</path><path d="M288.0 41h0.0">
</path><path d="M88.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M108.0 21h160">
</path></g><path d="M268.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M88.0 41h20">
</path><g>
<path d="M108.0 41h0.0">
</path><path d="M268.0 41h0.0">
</path><path d="M108.0 41h10">
</path><g>
<path d="M118.0 41h0.0">
</path><path d="M258.0 41h0.0">
</path><rect height=22 width=140 x=118.0 y=30>
</rect><text x=188.0 y=45>
Component value</text></g><path d="M258.0 41h10">
</path><path d="M118.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M118.0 61h140">
</path></g><path d="M258.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M268.0 41h20">
</path></g><path d="M288 41h10">
</path><g>
<path d="M298 41h0.0">
</path><path d="M326.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=298.0 y=30>
</rect><text x=312.0 y=45>
}</text></g><path d="M326 41h10">
</path><path d="M 336 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=()-block-diagram><a class=self-link href=#%28%29-block-diagram></a>() block
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 377 81" width=377>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M78.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=30>
</rect><text x=64.0 y=45>
(</text></g><path d="M78 41h10">
</path><g>
<path d="M88 41h0.0">
</path><path d="M288.0 41h0.0">
</path><path d="M88.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M108.0 21h160">
</path></g><path d="M268.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M88.0 41h20">
</path><g>
<path d="M108.0 41h0.0">
</path><path d="M268.0 41h0.0">
</path><path d="M108.0 41h10">
</path><g>
<path d="M118.0 41h0.0">
</path><path d="M258.0 41h0.0">
</path><rect height=22 width=140 x=118.0 y=30>
</rect><text x=188.0 y=45>
Component value</text></g><path d="M258.0 41h10">
</path><path d="M118.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M118.0 61h140">
</path></g><path d="M258.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M268.0 41h20">
</path></g><path d="M288 41h10">
</path><g>
<path d="M298 41h0.0">
</path><path d="M326.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=298.0 y=30>
</rect><text x=312.0 y=45>
)</text></g><path d="M326 41h10">
</path><path d="M 336 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=[]-block-diagram><a class=self-link href=#%5B%5D-block-diagram></a>[] block
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 377 81" width=377>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M78.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=50.0 y=30>
</rect><text x=64.0 y=45>
[</text></g><path d="M78 41h10">
</path><g>
<path d="M88 41h0.0">
</path><path d="M288.0 41h0.0">
</path><path d="M88.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M108.0 21h160">
</path></g><path d="M268.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M88.0 41h20">
</path><g>
<path d="M108.0 41h0.0">
</path><path d="M268.0 41h0.0">
</path><path d="M108.0 41h10">
</path><g>
<path d="M118.0 41h0.0">
</path><path d="M258.0 41h0.0">
</path><rect height=22 width=140 x=118.0 y=30>
</rect><text x=188.0 y=45>
Component value</text></g><path d="M258.0 41h10">
</path><path d="M118.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M118.0 61h140">
</path></g><path d="M258.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M268.0 41h20">
</path></g><path d="M288 41h10">
</path><g>
<path d="M298 41h0.0">
</path><path d="M326.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=298.0 y=30>
</rect><text x=312.0 y=45>
]</text></g><path d="M326 41h10">
</path><path d="M 336 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>

		<dt id=function-block-diagram><a class=self-link href=#function-block-diagram></a>Function block
		<dd>
<div class=railroad><svg class=railroad-diagram height=81 viewBox="0 0 497 81" width=497>
<g transform="translate(.5 .5)">
<path d="M 20 31 v 20 m 10 -20 v 20 m -10 -10 h 20.5">
</path><path d="M40 41h10">
</path><g>
<path d="M50 41h0.0">
</path><path d="M198.0 41h0.0">
</path><rect height=22 width=148 x=50.0 y=30>
</rect><text x=124.0 y=45>
&lt;function-token&gt;</text></g><path d="M198 41h10">
</path><g>
<path d="M208 41h0.0">
</path><path d="M408.0 41h0.0">
</path><path d="M208.0 41a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10">
</path><g>
<path d="M228.0 21h160">
</path></g><path d="M388.0 21a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10">
</path><path d="M208.0 41h20">
</path><g>
<path d="M228.0 41h0.0">
</path><path d="M388.0 41h0.0">
</path><path d="M228.0 41h10">
</path><g>
<path d="M238.0 41h0.0">
</path><path d="M378.0 41h0.0">
</path><rect height=22 width=140 x=238.0 y=30>
</rect><text x=308.0 y=45>
Component value</text></g><path d="M378.0 41h10">
</path><path d="M238.0 41a10 10 0 0 0 -10 10v0a10 10 0 0 0 10 10">
</path><g>
<path d="M238.0 61h140">
</path></g><path d="M378.0 61a10 10 0 0 0 10 -10v0a10 10 0 0 0 -10 -10">
</path></g><path d="M388.0 41h20">
</path></g><path d="M408 41h10">
</path><g>
<path d="M418 41h0.0">
</path><path d="M446.0 41h0.0">
</path><rect height=22 rx=10 ry=10 width=28 x=418.0 y=30>
</rect><text x=432.0 y=45>
)</text></g><path d="M446 41h10">
</path><path d="M 456 41 h 20 m -10 -10 v 20 m 10 -20 v 20">
</path></g></svg></div>
	</dl>

<h3 class="heading settled" data-level=5.2 id=parser-definitions><span class=secno>5.2. </span><span class=content>
Definitions</span><a class=self-link href=#parser-definitions></a></h3>

	<dl>
		<dt><dfn data-dfn-type=dfn data-noexport="" id=current-input-token>current input token<a class=self-link href=#current-input-token></a></dfn>
		<dd>
			The token or <a data-link-type=dfn href=#component-value title="component value">component value</a> currently being operated on, from the list of tokens produced by the tokenizer.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=next-input-token>next input token<a class=self-link href=#next-input-token></a></dfn>
		<dd>
			The token or <a data-link-type=dfn href=#component-value title="component value">component value</a> following the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a> in the list of tokens produced by the tokenizer.
			If there isn’t a token following the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>,
			the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>.

		<dt><dfn class=css data-dfn-type=type data-export="" id=typedef-eof-token><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a><a class=self-link href=#typedef-eof-token></a></dfn>
		<dd>
			A conceptual token representing the end of the list of tokens.
			Whenever the list of tokens is empty,
			the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is always an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=consume-the-next-input-token>consume the next input token<a class=self-link href=#consume-the-next-input-token></a></dfn>
		<dd>
			Let the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a> be the current <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a>,
			adjusting the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> accordingly.

		<dt><dfn data-dfn-type=dfn data-noexport="" id=reconsume-the-current-input-token>reconsume the current input token<a class=self-link href=#reconsume-the-current-input-token></a></dfn>
		<dd>
			The next time an algorithm instructs you to <a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>,
			instead do nothing
			(retain the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a> unchanged).

		<dt><dfn data-dfn-type=dfn data-export="" id=case-sensitive title=case-sensitive|case-sensitively>case-sensitive<a class=self-link href=#case-sensitive></a></dfn>
		<dd>
			When two strings are to be matched case-sensitively,
			this means they must be identical <a data-link-type=dfn href=#code-point title="code point">code point</a> for code point.

		<dt><dfn data-dfn-type=dfn data-export="" id=ascii-case-insensitive title="ASCII case-insensitive|ASCII case-insensitively">ASCII case-insensitive<a class=self-link href=#ascii-case-insensitive></a></dfn>
		<dd>
			When two strings are to be matched ASCII case-insensitively,
			temporarily convert both of them to ASCII lower-case form
			by adding 32 (0x20) to the value of each <a data-link-type=dfn href=#code-point title="code point">code point</a> between
			U+0041 LATIN CAPITAL LETTER A (A)
			and U+005A LATIN CAPITAL LETTER Z (Z),
			inclusive,
			and check if they are a <a data-link-type=dfn href=#case-sensitive title=case-sensitive>case-sensitive</a> match.
	</dl>



<h3 class="heading settled" data-level=5.3 id=parser-entry-points><span class=secno>5.3. </span><span class=content>
Parser Entry Points</span><a class=self-link href=#parser-entry-points></a></h3>

<p>The algorithms defined in this section produce high-level CSS objects
	from lower-level objects.
	They assume that they are invoked on a token stream,
	but they may also be invoked on a string;
	if so,
	first perform <a href=#input-preprocessing>input preprocessing</a>
	to produce a <a data-link-type=dfn href=#code-point title="code point">code point</a> stream,
	then perform <a href=#tokenization>tokenization</a>
	to produce a token stream.</p>

<p>"<a data-link-type=dfn href=#parse-a-stylesheet0 title="Parse a stylesheet">Parse a stylesheet</a>" can also be invoked on a byte stream,
	in which case <a href=#input-byte-stream>The input byte stream</a>
	defines how to decode it into Unicode.</p>

<p class=note>Note: This specification does not define how a byte stream is decoded for other entry points.</p>

<p class=note>Note: Other specs can define additional entry points for their own purposes.</p>

	<div class=note>
		The following notes should probably be translated into normative text in the relevant specs,
		hooking this spec’s terms:

		<ul>
			<li>
				"<a data-link-type=dfn href=#parse-a-stylesheet0 title="Parse a stylesheet">Parse a stylesheet</a>" is intended to be the normal parser entry point,
				for parsing stylesheets.

			<li>
				"<a data-link-type=dfn href=#parse-a-list-of-rules0 title="Parse a list of rules">Parse a list of rules</a>" is intended for the content of at-rules such as <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a>.
				It differs from "<a data-link-type=dfn href=#parse-a-stylesheet0 title="Parse a stylesheet">Parse a stylesheet</a>" in the handling of <a class="production css" data-link-type=type href=#typedef-cdo-token title="<CDO-token>">&lt;CDO-token&gt;</a> and <a class="production css" data-link-type=type href=#typedef-cdc-token title="<CDC-token>">&lt;CDC-token&gt;</a>.

			<li>
				"<a data-link-type=dfn href=#parse-a-rule0 title="Parse a rule">Parse a rule</a>" is intended for use by the <code>CSSStyleSheet#insertRule</code> method,
				and similar functions which might exist,
				which parse text into a single rule.

			<li>
				"<a data-link-type=dfn href=#parse-a-declaration0 title="Parse a declaration">Parse a declaration</a>" is used in <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-supports title=@supports>@supports</a> conditions. <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-conditional title=CSS3-CONDITIONAL>[CSS3-CONDITIONAL]</a>

			<li>
				"<a data-link-type=dfn href=#parse-a-list-of-declarations0 title="Parse a list of declarations">Parse a list of declarations</a>" is for the contents of a <code>style</code> attribute,
				which parses text into the contents of a single style rule.

			<li>
				"<a data-link-type=dfn href=#parse-a-component-value0 title="Parse a component value">Parse a component value</a>" is for things that need to consume a single value,
				like the parsing rules for <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-values-3/#funcdef-attr title=attr()>attr()</a>.

			<li>
				"<a data-link-type=dfn href=#parse-a-list-of-component-values0 title="Parse a list of component values">Parse a list of component values</a>" is for the contents of presentational attributes,
				which parse text into a single declaration’s value,
				or for parsing a stand-alone selector <a data-biblio-type=informative data-link-type=biblio href=#biblio-select title=SELECT>[SELECT]</a> or list of Media Queries <a data-biblio-type=informative data-link-type=biblio href=#biblio-mediaq title=MEDIAQ>[MEDIAQ]</a>,
				as in <a href=http://www.w3.org/TR/selectors-api/>Selectors API</a>
				or the <code>media</code> HTML attribute.
		</ul>
	</div>

<p>All of the algorithms defined in this spec may be called with either a list of tokens or of component values.
	Either way produces an identical result.</p>

<h4 class="heading settled" data-level=5.3.1 id=parse-grammar><span class=secno>5.3.1. </span><span class=content>
Parse something according to a CSS grammar</span><a class=self-link href=#parse-grammar></a></h4>

<p>It is often desirable to parse a string or token list
	to see if it matches some CSS grammar,
	and if it does,
	to destructure it according to the grammar.
	This section provides a generic hook for this kind of operation.
	It should be invoked like "parse <var>foo</var> as a CSS <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-color-3/#valuea-def-color title="<color>">&lt;color&gt;</a>", or similar.</p>

<p class=note>Note: As a reminder, this algorithm, along with all the others in this section,
	can be called with a string,
	a stream of CSS tokens,
	or a stream of CSS component values,
	whichever is most convenient.</p>

<p>This algorithm must be called with <b>some input to be parsed</b>,
	and <b>some CSS grammar specification or term</b>.</p>

<p>This algorithm returns either failure,
	if the input does not match the provided grammar,
	or the result of parsing the input according to the grammar,
	which is an unspecified structure corresponding to the provided grammar specification.
	The return value must only be interacted with by specification prose,
	where the representation ambiguity is not problematic
	if it is meant to be exposed outside of spec language,
	the spec using the result must explicitly translate it into a well-specified representation,
	such as, for example, by invoking a CSS serialization algorithm
	(like "serialize as a CSS <a class="production css" data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value title="<string>">&lt;string&gt;</a> value").</p>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-something-according-to-a-css-grammar>parse something according to a CSS grammar<a class=self-link href=#parse-something-according-to-a-css-grammar></a></dfn>:</p>

	<ol>
		<li>
			<a data-link-type=dfn href=#parse-a-list-of-component-values0 title="Parse a list of component values">Parse a list of component values</a> from the input,
			and let <var>result</var> be the return value.

		<li>
			Attempt to match <var>result</var> against the provided grammar.
			If this is successful,
			return the matched result;
			otherwise, return failure.
	</ol>


<h4 class="heading settled" data-level=5.3.2 id=parse-a-stylesheet><span class=secno>5.3.2. </span><span class=content>
Parse a stylesheet</span><a class=self-link href=#parse-a-stylesheet></a></h4>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-stylesheet0>parse a stylesheet<a class=self-link href=#parse-a-stylesheet0></a></dfn> from a stream of tokens:</p>

	<ol>
		<li>
			Create a new stylesheet.

		<li>
			<a data-link-type=dfn href=#consume-a-list-of-rules0 title="Consume a list of rules">Consume a list of rules</a> from the stream of tokens, with the <var>top-level flag</var> set.

		<li>
			Assign the returned value to the stylesheet’s value.

		<li>
			Return the stylesheet.
	</ol>

<h4 class="heading settled" data-level=5.3.3 id=parse-a-list-of-rules><span class=secno>5.3.3. </span><span class=content>
Parse a list of rules</span><a class=self-link href=#parse-a-list-of-rules></a></h4>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-list-of-rules0>parse a list of rules<a class=self-link href=#parse-a-list-of-rules0></a></dfn> from a stream of tokens:</p>

	<ol>
		<li>
			<a data-link-type=dfn href=#consume-a-list-of-rules0 title="Consume a list of rules">Consume a list of rules</a> from the stream of tokens, with the <var>top-level flag</var> unset.

		<li>
			Return the returned list.
	</ol>

<h4 class="heading settled" data-level=5.3.4 id=parse-a-rule><span class=secno>5.3.4. </span><span class=content>
Parse a rule</span><a class=self-link href=#parse-a-rule></a></h4>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-rule0>parse a rule<a class=self-link href=#parse-a-rule0></a></dfn> from a stream of tokens:</p>

	<ol>
		<li>
			While the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>,
			<a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.

		<li>
			If the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			return a syntax error.

<p>Otherwise,
			if the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is an <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>,
			<a data-link-type=dfn href=#consume-an-at-rule0 title="consume an at-rule">consume an at-rule</a>,
			and let <var>rule</var> be the return value.</p>

<p>Otherwise,
			<a data-link-type=dfn href=#consume-a-qualified-rule0 title="consume a qualified rule">consume a qualified rule</a>
			and let <var>rule</var> be the return value.
			If nothing was returned,
			return a syntax error.</p>

		<li>
			While the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>,
			<a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.

		<li>
			If the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			return <var>rule</var>.
			Otherwise, return a syntax error.
	</ol>

<h4 class="heading settled" data-level=5.3.5 id=parse-a-declaration><span class=secno>5.3.5. </span><span class=content>
Parse a declaration</span><a class=self-link href=#parse-a-declaration></a></h4>

<p class=note>Note: Unlike "<a data-link-type=dfn href=#parse-a-list-of-declarations0 title="Parse a list of declarations">Parse a list of declarations</a>",
	this parses only a declaration and not an at-rule.</p>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-declaration0>parse a declaration<a class=self-link href=#parse-a-declaration0></a></dfn>:</p>

	<ol>
		<li>
			While the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>,
			<a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.

		<li>
			If the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is not an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>,
			return a syntax error.

		<li>
			<a data-link-type=dfn href=#consume-a-declaration0 title="Consume a declaration">Consume a declaration</a>.
			If anything was returned, return it.
			Otherwise, return a syntax error.
	</ol>

<h4 class="heading settled" data-level=5.3.6 id=parse-a-list-of-declarations><span class=secno>5.3.6. </span><span class=content>
Parse a list of declarations</span><a class=self-link href=#parse-a-list-of-declarations></a></h4>

<p class=note>Note: Despite the name,
	this actually parses a mixed list of declarations and at-rules,
	as CSS 2.1 does for <a href=http://www.w3.org/TR/CSS21/page.html#page-box></a><span class=css>@page</span>.
	Unexpected at-rules (which could be all of them, in a given context)
	are invalid and should be ignored by the consumer.</p>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-list-of-declarations0>parse a list of declarations<a class=self-link href=#parse-a-list-of-declarations0></a></dfn>:</p>

	<ol>
		<li>
			<a data-link-type=dfn href=#consume-a-list-of-declarations0 title="Consume a list of declarations">Consume a list of declarations</a>.

		<li>
			Return the returned list.
	</ol>

<h4 class="heading settled" data-level=5.3.7 id=parse-a-component-value><span class=secno>5.3.7. </span><span class=content>
Parse a component value</span><a class=self-link href=#parse-a-component-value></a></h4>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-component-value0>parse a component value<a class=self-link href=#parse-a-component-value0></a></dfn>:</p>

	<ol>
		<li>
			While the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>,
			<a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.

		<li>
			If the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			return a syntax error.

		<li>
			<a data-link-type=dfn href=#consume-a-component-value0 title="Consume a component value">Consume a component value</a>
			and let <var>value</var> be the return value.

		<li>
			While the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>,
			<a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.

		<li>
			If the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			return <var>value</var>.
			Otherwise,
			return a syntax error.
	</ol>

<h4 class="heading settled" data-level=5.3.8 id=parse-a-list-of-component-values><span class=secno>5.3.8. </span><span class=content>
Parse a list of component values</span><a class=self-link href=#parse-a-list-of-component-values></a></h4>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-list-of-component-values0>parse a list of component values<a class=self-link href=#parse-a-list-of-component-values0></a></dfn>:</p>

	<ol>
		<li>
			Repeatedly <a data-link-type=dfn href=#consume-a-component-value0 title="consume a component value">consume a component value</a> until an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a> is returned,
			appending the returned values (except the final <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>) into a list.
			Return the list.
	</ol>

<h4 class="heading settled" data-level=5.3.9 id=parse-a-comma-separated-list-of-component-values><span class=secno>5.3.9. </span><span class=content>
Parse a comma-separated list of component values</span><a class=self-link href=#parse-a-comma-separated-list-of-component-values></a></h4>

<p>To <dfn data-dfn-type=dfn data-export="" id=parse-a-comma-separated-list-of-component-values0>parse a comma-separated list of component values<a class=self-link href=#parse-a-comma-separated-list-of-component-values0></a></dfn>:</p>

	<ol>
		<li>
			Let <var>list of cvls</var> be an initially empty list of component value lists.

		<li>
			Repeatedly <a data-link-type=dfn href=#consume-a-component-value0 title="consume a component value">consume a component value</a> until an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a> or <a class="production css" data-link-type=type href=#typedef-comma-token title="<comma-token>">&lt;comma-token&gt;</a> is returned,
			appending the returned values (except the final <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a> or <a class="production css" data-link-type=type href=#typedef-comma-token title="<comma-token>">&lt;comma-token&gt;</a>) into a list.
			Append the list to <var>list of cvls</var>.

<p>If it was a <a class="production css" data-link-type=type href=#typedef-comma-token title="<comma-token>">&lt;comma-token&gt;</a> that was returned,
			repeat this step.</p>

		<li>
			Return <var>list of cvls</var>.
	</ol>


<h3 class="heading settled" data-level=5.4 id=parser-algorithms><span class=secno>5.4. </span><span class=content>
Parser Algorithms</span><a class=self-link href=#parser-algorithms></a></h3>

<p>The following algorithms comprise the parser.
	They are called by the parser entry points above.</p>

<p>These algorithms may be called with a list of either tokens or of component values.
	(The difference being that some tokens are replaced by <a data-link-type=dfn href=#function title=functions>functions</a> and <a data-link-type=dfn href=#simple-block title="simple blocks">simple blocks</a> in a list of component values.)
	Similar to how the input stream returned EOF code points to represent when it was empty during the tokenization stage,
	the lists in this stage must return an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a> when the next token is requested but they are empty.</p>

<p>An algorithm may be invoked with a specific list,
	in which case it consumes only that list
	(and when that list is exhausted,
	it begins returning <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>s).
	Otherwise,
	it is implicitly invoked with the same list as the invoking algorithm.</p>


<h4 class="heading settled" data-level=5.4.1 id=consume-a-list-of-rules><span class=secno>5.4.1. </span><span class=content>
Consume a list of rules</span><a class=self-link href=#consume-a-list-of-rules></a></h4>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-list-of-rules0>consume a list of rules<a class=self-link href=#consume-a-list-of-rules0></a></dfn>:</p>

<p>Create an initially empty list of rules.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a>:</p>

	<dl>
		<dt><a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>
		<dd>
			Do nothing.

		<dt><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>
		<dd>
			Return the list of rules.

		<dt><a class="production css" data-link-type=type href=#typedef-cdo-token title="<CDO-token>">&lt;CDO-token&gt;</a>
		<dt><a class="production css" data-link-type=type href=#typedef-cdc-token title="<CDC-token>">&lt;CDC-token&gt;</a>
		<dd>
			If the <dfn data-dfn-type=dfn data-noexport="" id=top-level-flag><var>top-level flag</var><a class=self-link href=#top-level-flag></a></dfn> is set,
			do nothing.

<p>Otherwise,
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="reconsume the current input token">reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-a-qualified-rule0 title="Consume a qualified rule">Consume a qualified rule</a>.
			If anything is returned,
			append it to the list of rules.</p>

		<dt><a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-an-at-rule0 title="Consume an at-rule">Consume an at-rule</a>.
			If anything is returned,
			append it to the list of rules.

		<dt>anything else
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-a-qualified-rule0 title="Consume a qualified rule">Consume a qualified rule</a>.
			If anything is returned,
			append it to the list of rules.
	</dl>


<h4 class="heading settled" data-level=5.4.2 id=consume-an-at-rule><span class=secno>5.4.2. </span><span class=content>
Consume an at-rule</span><a class=self-link href=#consume-an-at-rule></a></h4>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-an-at-rule0>consume an at-rule<a class=self-link href=#consume-an-at-rule0></a></dfn>:</p>

<p><a data-link-type=dfn href=#consume-the-next-input-token title="Consume the next input token">Consume the next input token</a>.
	Create a new at-rule
	with its name set to the value of the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>,
	its prelude initially set to an empty list,
	and its value initially set to nothing.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a>:</p>

	<dl>
		<dt><a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a>
		<dt><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>
		<dd>
			Return the at-rule.

		<dt><a href=#tokendef-open-curly>&lt;{-token&gt;</a>
		<dd>
			<a data-link-type=dfn href=#consume-a-simple-block0 title="Consume a simple block">Consume a simple block</a>
			and assign it to the at-rule’s block.
			Return the at-rule.

		<dt><a data-link-type=dfn href=#simple-block title="simple block">simple block</a> with an associated token of <a href=#tokendef-open-curly>&lt;{-token&gt;</a>
		<dd>
			Assign the block to the at-rule’s block.
			Return the at-rule.

		<dt>anything else
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-a-component-value0 title="Consume a component value">Consume a component value</a>.
			Append the returned value to the at-rule’s prelude.
	</dl>


<h4 class="heading settled" data-level=5.4.3 id=consume-a-qualified-rule><span class=secno>5.4.3. </span><span class=content>
Consume a qualified rule</span><a class=self-link href=#consume-a-qualified-rule></a></h4>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-qualified-rule0>consume a qualified rule<a class=self-link href=#consume-a-qualified-rule0></a></dfn>:</p>

<p>Create a new qualified rule
	with its prelude initially set to an empty list,
	and its value initially set to nothing.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a>:</p>

	<dl>
		<dt><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>
		<dd>
			This is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
			Return nothing.

		<dt><a href=#tokendef-open-curly>&lt;{-token&gt;</a>
		<dd>
			<a data-link-type=dfn href=#consume-a-simple-block0 title="Consume a simple block">Consume a simple block</a>
			and assign it to the qualified rule’s block.
			Return the qualified rule.

		<dt><a data-link-type=dfn href=#simple-block title="simple block">simple block</a> with an associated token of <a href=#tokendef-open-curly>&lt;{-token&gt;</a>
		<dd>
			Assign the block to the qualified rule’s block.
			Return the qualified rule.

		<dt>anything else
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-a-component-value0 title="Consume a component value">Consume a component value</a>.
			Append the returned value to the qualified rule’s prelude.
	</dl>


<h4 class="heading settled" data-level=5.4.4 id=consume-a-list-of-declarations><span class=secno>5.4.4. </span><span class=content>
Consume a list of declarations</span><a class=self-link href=#consume-a-list-of-declarations></a></h4>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-list-of-declarations0>consume a list of declarations<a class=self-link href=#consume-a-list-of-declarations0></a></dfn>:</p>

<p>Create an initially empty list of declarations.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a>:</p>

	<dl>
		<dt><a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>
		<dt><a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a>
		<dd>
			Do nothing.

		<dt><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>
		<dd>
			Return the list of declarations.

		<dt><a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-an-at-rule0 title="Consume an at-rule">Consume an at-rule</a>.
			Append the returned rule to the list of declarations.

		<dt><a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>
		<dd>
			Initialize a temporary list initially filled with the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>.
			As long as the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is anything other than a <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a> or <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			<a data-link-type=dfn href=#consume-a-component-value0 title="consume a component value">consume a component value</a> and append it to the temporary list.
			<a data-link-type=dfn href=#consume-a-declaration0 title="Consume a declaration">Consume a declaration</a> from the temporary list.
			If anything was returned,
			append it to the list of declarations.

		<dt>anything else
		<dd>
			This is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			As long as the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is anything other than a <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a> or <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			<a data-link-type=dfn href=#consume-a-component-value0 title="consume a component value">consume a component value</a>
			and throw away the returned value.
	</dl>


<h4 class="heading settled" data-level=5.4.5 id=consume-a-declaration><span class=secno>5.4.5. </span><span class=content>
Consume a declaration</span><a class=self-link href=#consume-a-declaration></a></h4>

<p class=note>Note: This algorithm assumes that the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> has already been checked to be an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>.</p>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-declaration0>consume a declaration<a class=self-link href=#consume-a-declaration0></a></dfn>:</p>

<p><a data-link-type=dfn href=#consume-the-next-input-token title="Consume the next input token">Consume the next input token</a>.
	Create a new declaration
	with its name set to the value of the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>
	and its value initially set to the empty list.</p>

	<ol>
		<li>
			While the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>,
			<a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.

		<li>
			If the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is anything other than a <a class="production css" data-link-type=type href=#typedef-colon-token title="<colon-token>">&lt;colon-token&gt;</a>,
			this is a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
			Return nothing.

<p>Otherwise, <a data-link-type=dfn href=#consume-the-next-input-token title="consume the next input token">consume the next input token</a>.</p>

		<li>
			As long as the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> is anything other than an <a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>,
			<a data-link-type=dfn href=#consume-a-component-value0 title="consume a component value">consume a component value</a>
			and append it to the declaration’s value.

		<li>
			If the last two non-<a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>s in the declaration’s value are
			a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a> with the value "!"
			followed by an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a> with a value that is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "important",
			remove them from the declaration’s value
			and set the declaration’s <var>important</var> flag to true.

		<li>
			Return the declaration.
	</ol>


<h4 class="heading settled" data-level=5.4.6 id=consume-a-component-value><span class=secno>5.4.6. </span><span class=content>
Consume a component value</span><a class=self-link href=#consume-a-component-value></a></h4>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-component-value0>consume a component value<a class=self-link href=#consume-a-component-value0></a></dfn>:</p>

<p><a data-link-type=dfn href=#consume-the-next-input-token title="Consume the next input token">Consume the next input token</a>.</p>

<p>If the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>
	is a <a href=#tokendef-open-curly>&lt;{-token&gt;</a>, <a href=#tokendef-open-square>&lt;[-token&gt;</a>, or <a href=#tokendef-open-paren>&lt;(-token&gt;</a>,
	<a data-link-type=dfn href=#consume-a-simple-block0 title="consume a simple block">consume a simple block</a>
	and return it.</p>

<p>Otherwise, if the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>
	is a <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>,
	<a data-link-type=dfn href=#consume-a-function0 title="consume a function">consume a function</a>
	and return it.</p>

<p>Otherwise, return the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>.</p>


<h4 class="heading settled" data-level=5.4.7 id=consume-a-simple-block><span class=secno>5.4.7. </span><span class=content>
Consume a simple block</span><a class=self-link href=#consume-a-simple-block></a></h4>

<p class=note>Note: This algorithm assumes that the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a> has already been checked to be an <a href=#tokendef-open-curly>&lt;{-token&gt;</a>, <a href=#tokendef-open-square>&lt;[-token&gt;</a>, or <a href=#tokendef-open-paren>&lt;(-token&gt;</a>.</p>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-simple-block0>consume a simple block<a class=self-link href=#consume-a-simple-block0></a></dfn>:</p>

<p>The <dfn data-dfn-type=dfn data-noexport="" id=ending-token>ending token<a class=self-link href=#ending-token></a></dfn> is the mirror variant of the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>.
	(E.g. if it was called with <a href=#tokendef-open-square>&lt;[-token&gt;</a>, the <a data-link-type=dfn href=#ending-token title="ending token">ending token</a> is <a href=#tokendef-close-square>&lt;]-token&gt;</a>.)</p>

<p>Create a <a data-link-type=dfn href=#simple-block title="simple block">simple block</a> with its associated token set to the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>
	and with a value with is initially an empty list.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> and process it as follows:</p>

	<dl>
		<dt><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>
		<dt><a data-link-type=dfn href=#ending-token title="ending token">ending token</a>
		<dd>
			Return the block.

		<dt>anything else
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-a-component-value0 title="Consume a component value">Consume a component value</a>
			and append it to the value of the block.
	</dl>


<h4 class="heading settled" data-level=5.4.8 id=consume-a-function><span class=secno>5.4.8. </span><span class=content>
Consume a function</span><a class=self-link href=#consume-a-function></a></h4>

<p class=note>Note: This algorithm assumes that the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a> has already been checked to be a <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>.</p>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=consume-a-function0>consume a function<a class=self-link href=#consume-a-function0></a></dfn>:</p>

<p>Create a function with a name equal to the value of the <a data-link-type=dfn href=#current-input-token title="current input token">current input token</a>,
	and with a value which is initially an empty list.</p>

<p>Repeatedly consume the <a data-link-type=dfn href=#next-input-token title="next input token">next input token</a> and process it as follows:</p>

	<dl>
		<dt><a class="production css" data-link-type=type href=#typedef-eof-token title="<EOF-token>">&lt;EOF-token&gt;</a>
		<dt><a href=#tokendef-close-paren>&lt;)-token&gt;</a>
		<dd>
			Return the function.

		<dt>anything else
		<dd>
			<a data-link-type=dfn href=#reconsume-the-current-input-token title="Reconsume the current input token">Reconsume the current input token</a>.
			<a data-link-type=dfn href=#consume-a-component-value0 title="Consume a component value">Consume a component value</a>
			and append the returned value
			to the function’s value.
	</dl>



<h2 class="heading settled" data-level=6 id=anb><span class=secno>6. </span><span class=content>
The <var>An+B</var> microsyntax</span><a class=self-link href=#anb></a></h2>

<p>Several things in CSS,
	such as the <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/selectors-4/#nth-child-pseudo title=:nth-child()>:nth-child()</a> pseudoclass,
	need to indicate indexes in a list.
	The <var>An+B</var> microsyntax is useful for this,
	allowing an author to easily indicate single elements
	or all elements at regularly-spaced intervals in a list.</p>

<p>The <dfn data-dfn-type=dfn data-export="" id=anb0>An+B<a class=self-link href=#anb0></a></dfn> notation defines an integer step (<dfn data-dfn-type=dfn data-noexport="" id=a>A<a class=self-link href=#a></a></dfn>) and offset (<dfn data-dfn-type=dfn data-noexport="" id=b>B<a class=self-link href=#b></a></dfn>),
	and represents the <var>An+B</var>th elements in a list,
	for every positive integer or zero value of <var>n</var>,
	with the first element in the list having index 1 (not 0).</p>

<p>For values of <var>A</var> and <var>B</var> greater than 0,
	this effectively divides the list into groups of <var>A</var> elements
	(the last group taking the remainder),
	and selecting the <var>B</var>th element of each group.</p>

<p>The <var>An+B</var> notation also accepts the <span class=css>even</span> and <span class=css>odd</span> keywords,
	which have the same meaning as <span class=css>2n</span> and <span class=css>2n+1</span>, respectively.</p>

	<div class=example>
		<p>Examples:
		<pre>2n+0   /* represents all of the even elements in the list */
even   /* same */
4n+1   /* represents the 1st, 5th, 9th, 13th, etc. elements in the list */</pre>
	</div>

<p>The values of <var>A</var> and <var>B</var> can be negative,
	but only the positive results of <var>An+B</var>,
	for <var>n</var> ≥ 0,
	are used.</p>

	<div class=example>
		<p>Example:
		<pre>-1n+6   /* represents the first 6 elements of the list */
-4n+10  /* represents the 2nd, 6th, and 10th elements of the list */
</pre>
	</div>

<p>If both <var>A</var> and <var>B</var> are 0,
	the pseudo-class represents no element in the list.</p>

<h3 class="heading settled" data-level=6.1 id=anb-syntax><span class=secno>6.1. </span><span class=content>
Informal Syntax Description</span><a class=self-link href=#anb-syntax></a></h3>

<p><em>This section is non-normative.</em></p>

<p>When <var>A</var> is 0, the <var>An</var> part may be omitted
	(unless the <var>B</var> part is already omitted).
	When <var>An</var> is not included
	and <var>B</var> is non-negative,
	the <span class=css>+</span> sign before <var>B</var> (when allowed)
	may also be omitted.
	In this case the syntax simplifies to just <var>B</var>.</p>

	<div class=example>
		<p>Examples:
		<pre>0n+5   /* represents the 5th element in the list */
5      /* same */</pre>
	</div>

<p>When <var>A</var> is 1 or -1,
	the <code>1</code> may be omitted from the rule.</p>

	<div class=example>
		<p>Examples:
		<p>The following notations are therefore equivalent:
		<pre>1n+0   /* represents all elements in the list */
n+0    /* same */
n      /* same */</pre>
	</div>

<p>If <var>B</var> is 0, then every <var>A</var>th element is picked.
	In such a case,
	the <var>+B</var> (or <var>-B</var>) part may be omitted
	unless the <var>A</var> part is already omitted.</p>

	<div class=example>
		<p>Examples:
		<pre>2n+0   /* represents every even element in the list */
2n     /* same */</pre>
	</div>

<p>When B is negative, its minus sign replaces the <span class=css>+</span> sign.</p>

	<div class=example>
		<p>Valid example:
<pre>3n-6</pre>
		<p>Invalid example:
<pre>3n + -6</pre>
	</div>

<p>Whitespace is permitted on either side of the <span class=css>+</span> or <span class=css>-</span>
	that separates the <var>An</var> and <var>B</var> parts when both are present.</p>

	<div class=example>
		<p>Valid Examples with white space:
		<pre>3n + 1
+3n - 2
-n+ 6
+6</pre>
		<p>Invalid Examples with white space:
		<pre>3 n
+ 2n
+ 2</pre>
	</div>


<h3 class="heading settled" data-level=6.2 id=the-anb-type><span class=secno>6.2. </span><span class=content>
The <code>&lt;an+b&gt;</code> type</span><a class=self-link href=#the-anb-type></a></h3>

<p>The <var>An+B</var> notation was originally defined using a slightly different tokenizer than the rest of CSS,
	resulting in a somewhat odd definition when expressed in terms of CSS tokens.
	This section describes how to recognize the <var>An+B</var> notation in terms of CSS tokens
	(thus defining the <var>&lt;an+b&gt;</var> type for CSS grammar purposes),
	and how to interpret the CSS tokens to obtain values for <var>A</var> and <var>B</var>.</p>

<p>The <var>&lt;an+b&gt;</var> type is defined
	(using the <a href=http://www.w3.org/TR/css3-values/#value-defs>Value Definition Syntax in the Values &amp; Units spec</a>)
	as:</p>

	<pre class=prod><dfn data-dfn-type=type data-export="" id=anb-production>&lt;an<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>b&gt;<a class=self-link href=#anb-production></a></dfn> =
  odd <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> even <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  <var>&lt;integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>

  <var>&lt;n-dimension&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  '<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>'<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt title=?>?</a><sup><a href=#anb-plus>†</a></sup> n <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  -n <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>

  <var>&lt;ndashdigit-dimension&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  '<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>'<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt title=?>?</a><sup><a href=#anb-plus>†</a></sup> <var>&lt;ndashdigit-ident&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  <var>&lt;dashndashdigit-ident&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>

  <var>&lt;n-dimension&gt;</var> <var>&lt;signed-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  '<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>'<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt title=?>?</a><sup><a href=#anb-plus>†</a></sup> n <var>&lt;signed-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  -n <var>&lt;signed-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>

  <var>&lt;ndash-dimension&gt;</var> <var>&lt;signless-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  '<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>'<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt title=?>?</a><sup><a href=#anb-plus>†</a></sup> n- <var>&lt;signless-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  -n- <var>&lt;signless-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>

  <var>&lt;n-dimension&gt;</var> ['<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>' <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> '-'] <var>&lt;signless-integer&gt;</var>
  '<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>'<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-opt title=?>?</a><sup><a href=#anb-plus>†</a></sup> n ['<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>' <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> '-'] <var>&lt;signless-integer&gt;</var> <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a>
  -n ['<a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#mult-one-plus title=+>+</a>' <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> '-'] <var>&lt;signless-integer&gt;</var>
</pre>

<p>where:</p>

	<ul>
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-n-dimension><code>&lt;n-dimension&gt;</code><a class=self-link href=#typedef-n-dimension></a></dfn> is a <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> with its type flag set to "integer", and a unit that is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "n"
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-ndash-dimension><code>&lt;ndash-dimension&gt;</code><a class=self-link href=#typedef-ndash-dimension></a></dfn> is a <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> with its type flag set to "integer", and a unit that is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "n-"
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-ndashdigit-dimension><code>&lt;ndashdigit-dimension&gt;</code><a class=self-link href=#typedef-ndashdigit-dimension></a></dfn> is a <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> with its type flag set to "integer", and a unit that is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "n-*", where "*" is a series of one or more <a data-link-type=dfn href=#digit title=digits>digits</a>
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-ndashdigit-ident><code>&lt;ndashdigit-ident&gt;</code><a class=self-link href=#typedef-ndashdigit-ident></a></dfn> is an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a> whose value is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "n-*", where "*" is a series of one or more <a data-link-type=dfn href=#digit title=digits>digits</a>
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-dashndashdigit-ident><code>&lt;dashndashdigit-ident&gt;</code><a class=self-link href=#typedef-dashndashdigit-ident></a></dfn> is an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a> whose value is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match for "-n-*", where "*" is a series of one or more <a data-link-type=dfn href=#digit title=digits>digits</a>
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-integer><code>&lt;integer&gt;</code><a class=self-link href=#typedef-integer></a></dfn> is a <a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a> with its type flag set to "integer"
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-signed-integer><code>&lt;signed-integer&gt;</code><a class=self-link href=#typedef-signed-integer></a></dfn> is a <a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a> with its type flag set to "integer", and whose representation starts with "+" or "-"
		<li><dfn class=css data-dfn-type=type data-export="" id=typedef-signless-integer><code>&lt;signless-integer&gt;</code><a class=self-link href=#typedef-signless-integer></a></dfn> is a <a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a> with its type flag set to "integer", and whose representation start with a <a data-link-type=dfn href=#digit title=digit>digit</a>
	</ul>

	<p id=anb-plus>
		<sup>†</sup>: When a plus sign (+) precedes an ident starting with "n", as in the cases marked above,
		there must be no whitespace between the two tokens,
		or else the tokens do not match the above grammar.
		Whitespace is valid (and ignored) between any other two tokens.

<p>The clauses of the production are interpreted as follows:</p>

	<dl>
		<dt><span class=css>odd</span>
		<dd>
			<var>A</var> is 2, <var>B</var> is 1.

		<dt><span class=css>even</span>
		<dd>
			<var>A</var> is 2, <var>B</var> is 0.

		<dt><code><var>&lt;integer&gt;</var></code>
		<dd>
			<var>A</var> is 0, <var>B</var> is the integer’s value.

		<dt><code><var>&lt;n-dimension&gt;</var></code>
		<dt><code>'+'? n</code>
		<dt><code>-n</code>
		<dd>
			<var>A</var> is the dimension’s value, 1, or -1, respectively.
			<var>B</var> is 0.

		<dt><code><var>&lt;ndashdigit-dimension&gt;</var></code>
		<dt><code>'+'? <var>&lt;ndashdigit-ident&gt;</var></code>
		<dd>
			<var>A</var> is the dimension’s value or 1, respectively.
			<var>B</var> is the dimension’s unit or ident’s value, respectively,
			with the first <a data-link-type=dfn href=#code-point title="code point">code point</a> removed and the remainder interpreted as a base-10 number.
			<span class=note>B is negative.</span>

		<dt><code><var>&lt;dashndashdigit-ident&gt;</var></code>
		<dd>
			<var>A</var> is -1.
			<var>B</var> is the ident’s value, with the first two <a data-link-type=dfn href=#code-point title="code points">code points</a> removed and the remainder interpreted as a base-10 number.
			<span class=note>B is negative.</span>

		<dt><code><var>&lt;n-dimension&gt;</var> <var>&lt;signed-integer&gt;</var></code>
		<dt><code>'+'? n <var>&lt;signed-integer&gt;</var></code>
		<dt><code>-n <var>&lt;signed-integer&gt;</var></code>
		<dd>
			<var>A</var> is the dimension’s value, 1, or -1, respectively.
			<var>B</var> is the integer’s value.

		<dt><code><var>&lt;ndash-dimension&gt;</var> <var>&lt;signless-integer&gt;</var></code>
		<dt><code>'+'? n- <var>&lt;signless-integer&gt;</var></code>
		<dt><code>-n- <var>&lt;signless-integer&gt;</var></code>
		<dd>
			<var>A</var> is the dimension’s value, 1, or -1, respectively.
			<var>B</var> is the negation of the integer’s value.

		<dt><code><var>&lt;n-dimension&gt;</var> ['+' | '-'] <var>&lt;signless-integer&gt;</var></code>
		<dt><code>'+'? n ['+' | '-'] <var>&lt;signless-integer&gt;</var></code>
		<dt><code>-n ['+' | '-'] <var>&lt;signless-integer&gt;</var></code>
		<dd>
			<var>A</var> is the dimension’s value, 1, or -1, respectively.
			<var>B</var> is the integer’s value.
			If a '-' was provided between the two, <var>B</var> is instead the negation of the integer’s value.
	</dl>



<h2 class="heading settled" data-level=7 id=rule-defs><span class=secno>7. </span><span class=content>
Defining Grammars for Rules and Other Values</span><a class=self-link href=#rule-defs></a></h2>

<p>The <a href=http://www.w3.org/TR/css3-values/>Values</a> spec defines how to specify a grammar for properties.
	This section does the same, but for rules.</p>

<p>Just like in property grammars,
	the notation <code>&lt;foo&gt;</code> refers to the "foo" grammar term,
	assumed to be defined elsewhere.
	Substituting the <code>&lt;foo&gt;</code> for its definition results in a semantically identical grammar.</p>

<p>Several types of tokens are written literally, without quotes:</p>

	<ul>
		<li><a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>s (such as <span class=css>auto</span>, <span class=css>disc</span>, etc), which are simply written as their value.
		<li><a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>s, which are written as an @ character followed by the token’s value, like "@media".
		<li><a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>s, which are written as the function name followed by a ( character, like "translate(".
		<li>The <a class="production css" data-link-type=type href=#typedef-colon-token title="<colon-token>">&lt;colon-token&gt;</a> (written as <code>:</code>), <a class="production css" data-link-type=type href=#typedef-comma-token title="<comma-token>">&lt;comma-token&gt;</a> (written as <code>,</code>), <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a> (written as <code>;</code>), <a href=#tokendef-open-paren>&lt;(-token&gt;</a>, <a href=#tokendef-close-paren>&lt;)-token&gt;</a>, <a href=#tokendef-open-curly>&lt;{-token&gt;</a>, and <a href=#tokendef-close-curly>&lt;}-token&gt;</a>s.
	</ul>

<p>Tokens match if their value is an <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a> match
	for the value defined in the grammar.</p>

	<p class=note>
		Although it is possible, with <a data-link-type=dfn href=#escaping0 title=escaping>escaping</a>,
		to construct an <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a> whose value ends with <code>(</code> or  starts with <code>@</code>,
		such a tokens is not a <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a> or an <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>
		and does not match corresponding grammar definitions.

<p><a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>s are written with their value enclosed in single quotes.
	For example, a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a> containing the "+" <a data-link-type=dfn href=#code-point title="code point">code point</a> is written as <code>'+'</code>.
	Similarly, the <a href=#tokendef-open-square>&lt;[-token&gt;</a> and <a href=#tokendef-close-square>&lt;]-token&gt;</a>s must be written in single quotes,
	as they’re used by the syntax of the grammar itself to group clauses.
	<a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a> is never indicated in the grammar;
	<a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>s are allowed before, after, and between any two tokens,
	unless explicitly specified otherwise in prose definitions.
	(For example, if the prelude of a rule is a selector,
	whitespace is significant.)</p>

<p>When defining a function or a block,
	the ending token must be specified in the grammar,
	but if it’s not present in the eventual token stream,
	it still matches.</p>

	<div class=example>
		For example, the syntax of the <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-transforms-1/#funcdef-translatex title=translateX()>translateX()</a> function is:

<pre>translateX( <a class=production data-link-type=type href=http://www.w3.org/TR/css3-2d-transforms/#typedef-translation-value title="<translation-value>">&lt;translation-value&gt;</a> )</pre>

<p>However, the stylesheet may end with the function unclosed, like:</p>

<pre>.foo { transform: translate(50px</pre>

<p>The CSS parser parses this as a style rule containing one declaration,
		whose value is a function named "translate".
		This matches the above grammar,
		even though the ending token didn’t appear in the token stream,
		because by the time the parser is finished,
		the presence of the ending token is no longer possible to determine;
		all you have is the fact that there’s a block and a function.</p>
	</div>

<h3 class="heading settled" data-level=7.1 id=declaration-rule-list><span class=secno>7.1. </span><span class=content>
Defining Block Contents: the <a class="production css" data-link-type=type href=#typedef-declaration-list title="<declaration-list>">&lt;declaration-list&gt;</a>, <a class="production css" data-link-type=type href=#typedef-rule-list title="<rule-list>">&lt;rule-list&gt;</a>, and <a class="production css" data-link-type=type href=#typedef-stylesheet title="<stylesheet>">&lt;stylesheet&gt;</a> productions</span><a class=self-link href=#declaration-rule-list></a></h3>

<p>The CSS parser is agnostic as to the contents of blocks,
	such as those that come at the end of some at-rules.
	Defining the generic grammar of the blocks in terms of tokens is non-trivial,
	but there are dedicated and unambiguous algorithms defined for parsing this.</p>

<p>The <dfn class=css data-dfn-type=type data-export="" id=typedef-declaration-list>&lt;declaration-list&gt;<a class=self-link href=#typedef-declaration-list></a></dfn> production represents a list of declarations.
	It may only be used in grammars as the sole value in a block,
	and represents that the contents of the block must be parsed using the <a data-link-type=dfn href=#consume-a-list-of-declarations0 title="consume a list of declarations">consume a list of declarations</a> algorithm.</p>

<p>Similarly, the <dfn class=css data-dfn-type=type data-export="" id=typedef-rule-list>&lt;rule-list&gt;<a class=self-link href=#typedef-rule-list></a></dfn> production represents a list of rules,
	and may only be used in grammars as the sole value in a block.
	It represents that the contents of the block must be parsed using the <a data-link-type=dfn href=#consume-a-list-of-rules0 title="consume a list of rules">consume a list of rules</a> algorithm.</p>

<p>Finally, the <dfn class=css data-dfn-type=type data-export="" id=typedef-stylesheet>&lt;stylesheet&gt;<a class=self-link href=#typedef-stylesheet></a></dfn> production represents a list of rules.
	It is identical to <a class="production css" data-link-type=type href=#typedef-rule-list title="<rule-list>">&lt;rule-list&gt;</a>,
	except that blocks using it default to accepting all rules
	that aren’t otherwise limited to a particular context.</p>

	<div class=example>
		For example, the <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-fonts-3/#at-font-face-rule title=@font-face>@font-face</a> rule is defined to have an empty prelude,
		and to contain a list of declarations.
		This is expressed with the following grammar:

<pre>@font-face { <a class=production data-link-type=type href=#typedef-declaration-list title="<declaration-list>">&lt;declaration-list&gt;</a> }</pre>

<p>This is a complete and sufficient definition of the rule’s grammar.</p>

<p>For another example,
		<a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-animations-1/#at-ruledef-keyframes title=@keyframes>@keyframes</a> rules are more complex,
		interpreting their prelude as a name and containing keyframes rules in their block
		Their grammar is:</p>

<pre>@keyframes <a class=production data-link-type=type title="<keyframes-name>">&lt;keyframes-name&gt;</a> { <a class=production data-link-type=type href=#typedef-rule-list title="<rule-list>">&lt;rule-list&gt;</a> }</pre>
	</div>

<p>For rules that use <a class="production css" data-link-type=type href=#typedef-declaration-list title="<declaration-list>">&lt;declaration-list&gt;</a>,
	the spec for the rule must define which properties, descriptors, and/or at-rules are valid inside the rule;
	this may be as simple as saying "The @foo rule accepts the properties/descriptors defined in this specification/section.",
	and extension specs may simply say "The @foo rule additionally accepts the following properties/descriptors.".
	Any declarations or at-rules found inside the block that are not defined as valid
	must be removed from the rule’s value.</p>

<p>Within a <a class="production css" data-link-type=type href=#typedef-declaration-list title="<declaration-list>">&lt;declaration-list&gt;</a>,
	<code>!important</code> is automatically invalid on any descriptors.
	If the rule accepts properties,
	the spec for the rule must define whether the properties interact with the cascade,
	and with what specificity.
	If they don’t interact with the cascade,
	properties containing <code>!important</code> are automatically invalid;
	otherwise using <code>!important</code> is valid and has its usual effect on the cascade origin of the property.</p>

	<div class=example>
		For example, the grammar for <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-fonts-3/#at-font-face-rule title=@font-face>@font-face</a> in the previous example must,
		in addition to what is written there,
		define that the allowed declarations are the descriptors defined in the Fonts spec.
	</div>

<p>For rules that use <a class="production css" data-link-type=type href=#typedef-rule-list title="<rule-list>">&lt;rule-list&gt;</a>,
	the spec for the rule must define what types of rules are valid inside the rule,
	same as <a class="production css" data-link-type=type href=#typedef-declaration-list title="<declaration-list>">&lt;declaration-list&gt;</a>,
	and unrecognized rules must similarly be removed from the rule’s value.</p>

	<div class=example>
		For example, the grammar for <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-animations-1/#at-ruledef-keyframes title=@keyframes>@keyframes</a> in the previous example must,
		in addition to what is written there,
		define that the only allowed rules are <a class="production css" data-link-type=type title="<keyframe-rule>">&lt;keyframe-rule&gt;</a>s,
		which are defined as:

<pre><a class=production data-link-type=type title="<keyframe-rule>">&lt;keyframe-rule&gt;</a> = <a class=production data-link-type=type title="<keyframe-selector>">&lt;keyframe-selector&gt;</a> { <a class=production data-link-type=type href=#typedef-declaration-list title="<declaration-list>">&lt;declaration-list&gt;</a> }</pre>

<p>Keyframe rules, then,
		must further define that they accept as declarations all animatable CSS properties,
		plus the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-animations-1/#propdef-animation-timing-function title=animation-timing-function>animation-timing-function</a> property,
		but that they do not interact with the cascade.</p>
	</div>

<p>For rules that use <a class="production css" data-link-type=type href=#typedef-stylesheet title="<stylesheet>">&lt;stylesheet&gt;</a>,
	all rules are allowed by default,
	but the spec for the rule may define what types of rules are <em>invalid</em> inside the rule.</p>

	<div class=example>
		For example, the <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a> rule accepts anything that can be placed in a stylesheet,
		except more <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a> rules.
		As such, its grammar is:

<pre>@media <a class=production data-link-type=type href=http://dev.w3.org/csswg/mediaqueries-4/#typedef-media-query-list title="<media-query-list>">&lt;media-query-list&gt;</a> { <a class=production data-link-type=type href=#typedef-stylesheet title="<stylesheet>">&lt;stylesheet&gt;</a> }</pre>

<p>It additionally defines a restriction that the <a class="production css" data-link-type=type href=#typedef-stylesheet title="<stylesheet>">&lt;stylesheet&gt;</a> can not contain <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a> rules,
		which causes them to be dropped from the outer rule’s value if they appear.</p>
	</div>


<h2 class="heading settled" data-level=8 id=css-stylesheets><span class=secno>8. </span><span class=content>
CSS stylesheets</span><a class=self-link href=#css-stylesheets></a></h2>

<p>To <dfn data-dfn-type=dfn data-noexport="" id=parse-a-css-stylesheet>parse a CSS stylesheet<a class=self-link href=#parse-a-css-stylesheet></a></dfn>,
	first <a data-link-type=dfn href=#parse-a-stylesheet0 title="parse a stylesheet">parse a stylesheet</a>.
	Interpret all of the resulting top-level <a data-link-type=dfn href=#qualified-rule title="qualified rules">qualified rules</a> as <a data-link-type=dfn href=#style-rule title="style rules">style rules</a>, defined below.</p>

<p>If any style rule is invalid,
	or any at-rule is not recognized or is invalid according to its grammar or context,
	it’s a <a data-link-type=dfn href=#parse-error title="parse error">parse error</a>.
	Discard that rule.</p>

<h3 class="heading settled" data-level=8.1 id=style-rules><span class=secno>8.1. </span><span class=content>
Style rules</span><a class=self-link href=#style-rules></a></h3>

<p>A <dfn data-dfn-type=dfn data-noexport="" id=style-rule>style rule<a class=self-link href=#style-rule></a></dfn> is a <a data-link-type=dfn href=#qualified-rule title="qualified rule">qualified rule</a>
	that associates a <a href=http://dev.w3.org/csswg/selectors4/#selector-list>selector list</a> <a data-biblio-type=normative data-link-type=biblio href=#biblio-select title=SELECT>[SELECT]</a>
	with a list of property declarations.
	They are also called
	<a href=http://www.w3.org/TR/CSS21/syndata.html#rule-sets>rule sets</a> in <a data-biblio-type=normative data-link-type=biblio href=#biblio-css21 title=CSS21>[CSS21]</a>.
	CSS Cascading and Inheritance <a data-biblio-type=normative data-link-type=biblio href=#biblio-css3cascade title=CSS3CASCADE>[CSS3CASCADE]</a> defines how the declarations inside of style rules participate in the cascade.</p>

<p>The prelude of the qualified rule is parsed as a
	<a href=http://dev.w3.org/csswg/selectors4/#selector-list>selector list</a>.
	If this results in an <a href=http://dev.w3.org/csswg/selectors4/#invalid>invalid selector list</a>,
	the entire style rule is invalid.</p>

<p>The content of the qualified rule’s block is parsed as a
	<a data-link-type=dfn href=#parse-a-list-of-declarations0 title="parse a list of declarations">list of declarations</a>.
	Unless defined otherwise by another specification or a future level of this specification,
	at-rules in that list are invalid
	and must be ignored.
	Declaration for an unknown CSS property
	or whose value does not match the syntax defined by the property are invalid
	and must be ignored.
	The validity of the style rule’s contents have no effect on the validity of the style rule itself.
	Unless otherwise specified, property names are <a data-link-type=dfn href=#ascii-case-insensitive title="ASCII case-insensitive">ASCII case-insensitive</a>.</p>

<p class=note>Note: The names of Custom Properties <a data-biblio-type=informative data-link-type=biblio href=#biblio-css-variables title=CSS-VARIABLES>[CSS-VARIABLES]</a> are case-sensitive.</p>

<p><a data-link-type=dfn href=#qualified-rule title="Qualified rules">Qualified rules</a> at the top-level of a CSS stylesheet are style rules.
	Qualified rules in other contexts may or may not be style rules,
	as defined by the context.</p>

	<p class=example>
		For example, qualified rules inside <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-conditional-3/#at-ruledef-media title=@media>@media</a> rules <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-conditional title=CSS3-CONDITIONAL>[CSS3-CONDITIONAL]</a> are style rules,
		but qualified rules inside <a class=css data-link-type=maybe href=http://dev.w3.org/csswg/css-animations-1/#at-ruledef-keyframes title=@keyframes>@keyframes</a> rules are not <a data-biblio-type=informative data-link-type=biblio href=#biblio-css3-animations title=CSS3-ANIMATIONS>[CSS3-ANIMATIONS]</a>.

<h3 class="heading settled" data-level=8.2 id=charset-rule><span class=secno>8.2. </span><span class=content>
The <a class=css data-link-type=maybe href=#at-ruledef-charset title=@charset>@charset</a> Rule</span><a class=self-link href=#charset-rule></a></h3>

<p>The @charset rule is an artifact of the algorithm used to <a data-link-type=dfn href=#determine-the-fallback-encoding title="determine the fallback encoding">determine the fallback encoding</a> for the stylesheet.
	That algorithm looks for a specific byte sequence as the very first few bytes in the file,
	which has the syntactic form of an @-rule.
	Those bytes are not discarded from the input,
	whether or not they influence the encoding actually used to process the stylesheet.</p>

<p>Therefore, the stylesheet parser recognizes an @-rule with the general syntax</p>

<pre class=prod><dfn data-dfn-type=at-rule data-export="" id=at-ruledef-charset>@charset<a class=self-link href=#at-ruledef-charset></a></dfn> = @charset <a class=production data-link-type=type href=http://dev.w3.org/csswg/css-values-3/#string-value title="<string>">&lt;string&gt;</a> ;</pre>

<p>and, for backward compatibility, includes it in the object model for the stylesheet.
	Modifying, adding, or removing an @charset rule via the object model has no effect
	(in particular it does <strong>not</strong> cause the stylesheet to be rescanned in a different encoding).
	The @charset rule is invalid if it is not the very first, top-level rule in the stylesheet,
	but it is parsed according to the normal syntax for @-rules,
	which are less restrictive than the algorithm that determines the fallback encoding.
	Therefore, an @charset rule may appear in the object model even if it was ignored by that algorithm.
	(For instance, if it was written with extra whitespace or with single rather than double quotes.)</p>



<h2 class="heading settled" data-level=9 id=serialization><span class=secno>9. </span><span class=content>
Serialization</span><a class=self-link href=#serialization></a></h2>

<p>The tokenizer described in this specification does not produce tokens for comments,
	or otherwise preserve them in any way.
	Implementations may preserve the contents of comments and their location in the token stream.
	If they do, this preserved information must have no effect on the parsing step.</p>

<p>This specification does not define how to serialize CSS in general,
	leaving that task to the CSSOM and individual feature specifications.
	In particular, the serialization of comments an whitespace is not defined.</p>

<p>The only requirement for serialization is that it must "round-trip" with parsing,
	that is, parsing the stylesheet must produce the same data structures as
	parsing, serializing, and parsing again,
	except for consecutive <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>s,
	which may be collapsed into a single token.</p>

<p class=note>Note: This exception can exist because
	CSS grammars always interpret any amount of whitespace as identical to a single space.</p>

	<div class=note id=serialization-tables><a class=self-link href=#serialization-tables></a>
		To satisfy this requirement:

		<ul>
			<li>
				A <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a> containing U+005C REVERSE SOLIDUS (\)
				must be serialized as U+005C REVERSE SOLIDUS
				followed by a <a data-link-type=dfn href=#newline title=newline>newline</a>.
				(The tokenizer only ever emits such a token followed by a <a class="production css" data-link-type=type href=#typedef-whitespace-token title="<whitespace-token>">&lt;whitespace-token&gt;</a>
				that starts with a newline.)

			<li>
				A <a class="production css" data-link-type=type href=#typedef-hash-token title="<hash-token>">&lt;hash-token&gt;</a> with the "unrestricted" type flag may not need
				as much escaping as the same token with the "id" type flag.

			<li>
				The unit of a <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> may need escaping
				to disambiguate with scientific notation.

			<li>
				For any consecutive pair of tokens,
				if the first token shows up in the row headings of either of the following two tables,
				and the second token shows up in the column headings,
				and there’s a ✗ in the cell denoted by the intersection of the chosen row and column,
				the pair of tokens must be serialized with a comment between them.

<p>If the tokenizer preserves comments,
				the preserved comment should be used;
				otherwise, an empty comment (<code>/**/</code>) must be inserted.
				(Preserved comments may be reinserted even if the following tables don’t require a comment between two tokens.)</p>

<p>Single characters in the row and column headings represent a <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a> with that value,
				except for "<code>(</code>",
				which represents a <a href=#tokendef-open-paren>(-token</a>.</p>
		</ul>

		<table class=data>
			<tr>
				<td>
				<th>ident
				<th>function
				<th>url
				<th>bad url
				<th>-
				<th>number
				<th>percentage
				<th>dimension
				<th>unicode range
				<th>CDC
				<th>(
				<th>?
			<tr>
				<th>ident
				<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗ <td>
			<tr>
				<th>at-keyword
				<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td> <td>
			<tr>
				<th>hash
				<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td> <td>
			<tr>
				<th>dimension
				<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td> <td>
			<tr>
				<th>#
				<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td>✗<td> <td> <td>
			<tr>
				<th>-
				<td>✗<td>✗<td>✗<td>✗<td> <td>✗<td>✗<td>✗<td>✗<td> <td> <td>
			<tr>
				<th>number
				<td>✗<td>✗<td>✗<td>✗<td> <td>✗<td>✗<td>✗<td>✗<td> <td> <td>
			<tr>
				<th>@
				<td>✗<td>✗<td>✗<td>✗<td>✗<td> <td> <td> <td>✗<td> <td> <td>
			<tr>
				<th>unicode range
				<td>✗<td>✗<td> <td> <td> <td>✗<td>✗<td>✗<td> <td> <td> <td>✗
			<tr>
				<th>.
				<td> <td> <td> <td> <td> <td>✗<td>✗<td>✗<td> <td> <td> <td>
			<tr>
				<th>+
				<td> <td> <td> <td> <td> <td>✗<td>✗<td>✗<td> <td> <td> <td>
		</table>

		<table class=data>
			<tr>
				<td>
				<th>=<th>|<th>*
			<tr>
				<th>$
				<td>✗<td> <td>
			<tr>
				<th>*
				<td>✗<td> <td>
			<tr>
				<th>^
				<td>✗<td> <td>
			<tr>
				<th>~
				<td>✗<td> <td>
			<tr>
				<th>|
				<td>✗<td>✗<td>
			<tr>
				<th>/
				<td> <td> <td>✗
		</table>
	</div>

<h3 class="heading settled" data-level=9.1 id=serializing-anb><span class=secno>9.1. </span><span class=content>
Serializing <var>&lt;an+b&gt;</var></span><a class=self-link href=#serializing-anb></a></h3>

<p>To serialize an <var>&lt;an+b&gt;</var> value,
	let <var>s</var> initially be the empty string:</p>

	<dl>
		<dt><var>A</var> and <var>B</var> are both zero
		<dd>
			Append "0" to <var>s</var>.

		<dt><var>A</var> is zero, <var>B</var> is non-zero
		<dd>
			Serialize <var>B</var> and append it to <var>s</var>.

		<dt><var>A</var> is non-zero, <var>B</var> is zero
		<dd>
			Serialize <var>A</var> and append it to <var>s</var>.
			Append "n" to <var>s</var>.

		<dt><var>A</var> and <var>B</var> are both non-zero
		<dd>
			Serialize <var>A</var> and append it to <var>s</var>.
			Append "n" to <var>s</var>.
			If <var>B</var> is positive,
			append "+" to <var>s</var>
			Serialize <var>B</var> and append it to <var>s</var>.
	</dl>

<p>Return <var>s</var>.</p>

<h2 class="heading settled" data-level=10 id=changes><span class=secno>10. </span><span class=content>
Changes</span><a class=self-link href=#changes></a></h2>

<p><em>This section is non-normative.</em></p>

<h3 class="heading settled" data-level=10.1 id=changes-CR-20140220><span class=secno>10.1. </span><span class=content>
Changes from the 20 February 2014 Candidate Recommendation</span><a class=self-link href=#changes-CR-20140220></a></h3>

<p>The following substantive changes were made:</p>

<ul><li data-md=""><p>Fixed a bug in the "Consume a URL token" algorithm,
where it didn’t consume the quote character starting a string before attempting to consume the string.</p>

<li data-md=""><p>Fixed a bug in several of the parser algorithms
related to the current/next input token and things getting consumed early/late.</p>

<li data-md=""><p>Fix several bugs in the tokenization and parsing algorithms.</p>

<li data-md=""><p>Change the definition of ident-like tokens to allow "--" to start an ident.</p>
</ul>
<p>The following editorial changes were made:</p>

<ul><li data-md=""><p>The "Consume a string token" algorithm was changed to allow calling it without specifying an explicit ending token,
so that it uses the current input token instead.
The three call-sites of the algorithm were changed to use that form.</p>

<li data-md=""><p>Minor editorial restructuring of algorithms.</p>
</ul>
<h3 class="heading settled" data-level=10.2 id=changes-WD-20131105><span class=secno>10.2. </span><span class=content>
Changes from the 5 November 2013 Last Call Working Draft</span><a class=self-link href=#changes-WD-20131105></a></h3>

	<ul>
		<li>
			The <a href=#serialization>Serialization</a> section has been rewritten
			to make only the "round-trip" requirement normative,
			and move the details of how to achieve it into a note.
			Some corner cases in these details have been fixed.
		<li>
			<a data-biblio-type=informative data-link-type=biblio href=#biblio-encoding title=ENCODING>[ENCODING]</a> has been added to the list of normative references.
			It was already referenced in normative text before,
			just not listed as such.
		<li>
			In the algorithm to <a data-link-type=dfn href=#determine-the-fallback-encoding title="determine the fallback encoding">determine the fallback encoding</a> of a stylesheet,
			limit the <code>@charset</code> byte sequence to 1024 bytes.
			This aligns with what HTML does for <code>&lt;meta charset&gt;</code>
			and makes sure the size of the sequence is bounded.
			This only makes a difference with leading or trailing whitespace
			in the encoding label:

<pre>@charset "   <em>(lots of whitespace)</em>   utf-8";</pre>
	</ul>

<h3 class="heading settled" data-level=10.3 id=changes-WD-20130919><span class=secno>10.3. </span><span class=content>
Changes from the 19 September 2013 Working Draft</span><a class=self-link href=#changes-WD-20130919></a></h3>

	<ul>
		<li>
			The concept of <a data-link-type=dfn href=#environment-encoding title="environment encoding">environment encoding</a> was added.
			The behavior does not change,
			but some of the definitions should be moved to the relevant specs.
	</ul>

<h3 class="heading settled" data-level=10.4 id=changes-css21><span class=secno>10.4. </span><span class=content>
Changes from CSS 2.1 and Selectors Level 3</span><a class=self-link href=#changes-css21></a></h3>

<p class=note>Note: The point of this spec is to match reality;
	changes from CSS2.1 are nearly always because CSS 2.1 specified something that doesn’t match actual browser behavior,
	or left something unspecified.
	If some detail doesn’t match browsers,
	please let me know
	as it’s almost certainly unintentional.</p>

<p>Changes in decoding from a byte stream:</p>

	<ul>
		<li>
			Only detect <a class=css data-link-type=maybe href=#at-ruledef-charset title=@charset>@charset</a> rules in ASCII-compatible byte patterns.

		<li>
			Ignore <a class=css data-link-type=maybe href=#at-ruledef-charset title=@charset>@charset</a> rules that specify an ASCII-incompatible encoding,
			as that would cause the rule itself to not decode properly.

		<li>
			Refer to <a data-biblio-type=normative data-link-type=biblio href=#biblio-encoding title=ENCODING>[ENCODING]</a>
			rather than the IANA registery for character encodings.

	</ul>

<p>Tokenization changes:</p>

	<ul>
		<li>
			Any U+0000 NULL <a data-link-type=dfn href=#code-point title="code point">code point</a> in the CSS source is replaced with U+FFFD REPLACEMENT CHARACTER.

		<li>
			Any hexadecimal escape sequence such as <span class=css>\0</span> that evaluates to zero
			produce U+FFFD REPLACEMENT CHARACTER rather than U+0000 NULL.
			

		<li>
			The definition of <a data-link-type=dfn href=#non-ascii-code-point title="non-ASCII code point">non-ASCII code point</a> was changed
			to be consistent with every definition of ASCII.
			This affects <a data-link-type=dfn href=#code-point title="code points">code points</a> U+0080 to U+009F,
			which are now <a data-link-type=dfn href=#name-code-point title="name code points">name code points</a> rather than <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a>s,
			like the rest of <a data-link-type=dfn href=#non-ascii-code-point title="non-ASCII code points">non-ASCII code points</a>.

		<li>
			Tokenization does not emit COMMENT or BAD_COMMENT tokens anymore.
			BAD_COMMENT is now considered the same as a normal token (not an error).
			<a href=#serialization>Serialization</a> is responsible
			for inserting comments as necessary between tokens that need to be separated,
			e.g. two consecutive <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>s.

		<li>
			The <a class="production css" data-link-type=type href=#typedef-unicode-range-token title="<unicode-range-token>">&lt;unicode-range-token&gt;</a> is now more restrictive,
			and doesn’t include non-sensical patterns that the 2.1 definition allowed.

		<li>
			Apply the <a href=http://www.w3.org/TR/CSS21/syndata.html#unexpected-eof>EOF error handling rule</a> in the tokenizer
			and emit normal <a class="production css" data-link-type=type href=#typedef-string-token title="<string-token>">&lt;string-token&gt;</a> and <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a> rather than BAD_STRING or BAD_URI
			on EOF.

		<li>
			<a class="production css" data-link-type=type href=#typedef-prefix-match-token title="<prefix-match-token>">&lt;prefix-match-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-suffix-match-token title="<suffix-match-token>">&lt;suffix-match-token&gt;</a>, and <a class="production css" data-link-type=type href=#typedef-substring-match-token title="<substring-match-token>">&lt;substring-match-token&gt;</a> have been imported from Selectors 3.

		<li>
			The BAD_URI token (now <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a>) is "self-contained".
			In other words, once the tokenizer realizes it’s in a <a class="production css" data-link-type=type href=#typedef-bad-url-token title="<bad-url-token>">&lt;bad-url-token&gt;</a> rather than a <a class="production css" data-link-type=type href=#typedef-url-token title="<url-token>">&lt;url-token&gt;</a>,
			it just seeks forward to look for the closing ),
			ignoring everything else.
			This behavior is simpler than treating it like a <a class="production css" data-link-type=type href=#typedef-function-token title="<function-token>">&lt;function-token&gt;</a>
			and paying attention to opened blocks and such.
			Only WebKit exhibits this behavior,
			but it doesn’t appear that we’ve gotten any compat bugs from it.

		<li>
			The <a class="production css" data-link-type=type href=#typedef-comma-token title="<comma-token>">&lt;comma-token&gt;</a> has been added.

		<li>
			<a class="production css" data-link-type=type href=#typedef-number-token title="<number-token>">&lt;number-token&gt;</a>, <a class="production css" data-link-type=type href=#typedef-percentage-token title="<percentage-token>">&lt;percentage-token&gt;</a>, and <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> have been changed
			to include the preceding +/- sign as part of their value
			(rather than as a separate <a class="production css" data-link-type=type href=#typedef-delim-token title="<delim-token>">&lt;delim-token&gt;</a> that needs to be manually handled every time the token is mentioned in other specs).
			The only consequence of this is that comments can no longer be inserted between the sign and the number.

		<li>
			Scientific notation is supported for numbers/percentages/dimensions to match SVG,
			per WG resolution.

		<li>
			<a class="production css" data-link-type=type href=#typedef-column-token title="<column-token>">&lt;column-token&gt;</a> has been added,
			to keep Selectors parsing in single-token lookahead.

		<li>
			Hexadecimal escape for <a data-link-type=dfn href=#surrogate-code-point title="surrogate code points">surrogate code points</a> now emit a replacement character rather than the surrogate.
			This allows implementations to safely use UTF-16 internally.

	</ul>

<p>Parsing changes:</p>

	<ul>
		<li>
			Any list of declarations now also accepts at-rules, like <span class=css>@page</span>,
			per WG resolution.
			This makes a difference in error handling
			even if no such at-rules are defined yet:
			an at-rule, valid or not, ends at a {} block without a <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a>
			and lets the next declaration begin.

		<li>
			The handling of some miscellanous "special" tokens
			(like an unmatched <a href=#tokendef-close-curly>&lt;}-token&gt;</a>)
			showing up in various places in the grammar
			has been specified with some reasonable behavior shown by at least one browser.
			Previously, stylesheets with those tokens in those places just didn’t match the stylesheet grammar at all,
			so their handling was totally undefined.
			Specifically:

			<ul>
				<li>
					[] blocks, () blocks and functions can now contain {} blocks, <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>s or <a class="production css" data-link-type=type href=#typedef-semicolon-token title="<semicolon-token>">&lt;semicolon-token&gt;</a>s

				<li>
					Qualified rule preludes can now contain semicolons

				<li>
					Qualified rule and at-rule preludes can now contain <a class="production css" data-link-type=type href=#typedef-at-keyword-token title="<at-keyword-token>">&lt;at-keyword-token&gt;</a>s
			</ul>

	</ul>

<p><var>An+B</var> changes from Selectors Level 3 <a data-biblio-type=informative data-link-type=biblio href=#biblio-select title=SELECT>[SELECT]</a>:</p>

	<ul>
		<li>
			The <var>An+B</var> microsyntax has now been formally defined in terms of CSS tokens,
			rather than with a separate tokenizer.
			This has resulted in minor differences:

			<ul>
				<li>
					In some cases, minus signs or digits can be escaped
					(when they appear as part of the unit of a <a class="production css" data-link-type=type href=#typedef-dimension-token title="<dimension-token>">&lt;dimension-token&gt;</a> or <a class="production css" data-link-type=type href=#typedef-ident-token title="<ident-token>">&lt;ident-token&gt;</a>).
			</ul>
	</ul>

<h2 class="no-num heading settled" id=acknowledgments><span class=content>
Acknowledgments</span><a class=self-link href=#acknowledgments></a></h2>

<p>Thanks for feedback and contributions from
	Anne van Kesteren,
	David Baron,
	Henri Sivonen,
	Johannes Koch,
	呂康豪 (Kang-Hao Lu),
	Marc O’Morain,
	Raffaello Giulietti,
	Simon Pieter,
	and Zack Weinberg.</p>

<h2 class="no-ref no-num heading settled" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#biblio-rfc2119 title=RFC2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

    <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"&gt;</code>, like
    this:

    <strong class=advisement>
        UAs MUST provide an accessible alternative.
    </strong>

<h3 class="no-ref heading settled" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.



<h2 class="no-num heading settled" id=references><span class=content>References</span><a class=self-link href=#references></a></h2><h3 class="no-num heading settled" id=normative><span class=content>Normative References</span><a class=self-link href=#normative></a></h3><dl><dt id=biblio-css21 title=CSS21><a class=self-link href=#biblio-css21></a>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>http://www.w3.org/TR/2011/REC-CSS2-20110607</a><dt id=biblio-css3cascade title=CSS3CASCADE><a class=self-link href=#biblio-css3cascade></a>[CSS3CASCADE]<dd>Håkon Wium Lie; Elika J. Etemad; Tab Atkins Jr.. <a href=http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/>CSS Cascading and Inheritance Level 3</a>. 3 October 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/>http://www.w3.org/TR/2013/CR-css-cascade-3-20131003/</a><dt id=biblio-select title=SELECT><a class=self-link href=#biblio-select></a>[SELECT]<dd>Tantek Çelik; et al. <a href=http://www.w3.org/TR/2011/REC-css3-selectors-20110929/>Selectors Level 3</a>. 29 September 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-css3-selectors-20110929/>http://www.w3.org/TR/2011/REC-css3-selectors-20110929/</a><dt id=biblio-unicode title=UNICODE><a class=self-link href=#biblio-unicode></a>[UNICODE]<dd>???. <a href=http://www.unicode.org/versions/latest/>The Unicode Standard</a>. URL: <a href=http://www.unicode.org/versions/latest/>http://www.unicode.org/versions/latest/</a><dt id=biblio-encoding title=encoding><a class=self-link href=#biblio-encoding></a>[encoding]<dd>Anne van Kesteren; Joshua Bell; Addison Phillips. <a href=http://www.w3.org/TR/encoding/>Encoding</a>. 16 September 2014. CR. URL: <a href=http://www.w3.org/TR/encoding/>http://www.w3.org/TR/encoding/</a><dt id=biblio-rfc2119 title=rfc2119><a class=self-link href=#biblio-rfc2119></a>[rfc2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dl><h3 class="no-num heading settled" id=informative><span class=content>Informative References</span><a class=self-link href=#informative></a></h3><dl><dt id=biblio-css-variables title=CSS-VARIABLES><a class=self-link href=#biblio-css-variables></a>[CSS-VARIABLES]<dd>Tab Atkins Jr.; Luke Macpherson; Daniel Glazman. <a href=http://www.w3.org/TR/2013/WD-css-variables-20130620/>CSS Custom Properties for Cascading Variables Module Level 1</a>. 20 June 2013. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/WD-css-variables-20130620/>http://www.w3.org/TR/2013/WD-css-variables-20130620/</a><dt id=biblio-html title=HTML><a class=self-link href=#biblio-html></a>[HTML]<dd>Ian Hickson. <a href=http://whatwg.org/html>HTML</a>. Living Standard. URL: <a href=http://whatwg.org/html>http://whatwg.org/html</a><dt id=biblio-mediaq title=MEDIAQ><a class=self-link href=#biblio-mediaq></a>[MEDIAQ]<dd>Florian Rivoal. <a href=http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/>Media Queries</a>. 19 June 2012. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/>http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/</a><dt id=biblio-css3-animations title=css3-animations><a class=self-link href=#biblio-css3-animations></a>[css3-animations]<dd>Dean Jackson; et al. <a href=http://www.w3.org/TR/css3-animations/>CSS Animations</a>. 19 February 2013. WD. URL: <a href=http://www.w3.org/TR/css3-animations/>http://www.w3.org/TR/css3-animations/</a><dt id=biblio-css3-conditional title=css3-conditional><a class=self-link href=#biblio-css3-conditional></a>[css3-conditional]<dd>David Baron. <a href=http://www.w3.org/TR/css3-conditional/>CSS Conditional Rules Module Level 3</a>. 4 April 2013. CR. URL: <a href=http://www.w3.org/TR/css3-conditional/>http://www.w3.org/TR/css3-conditional/</a><dt id=biblio-cssom title=cssom><a class=self-link href=#biblio-cssom></a>[cssom]<dd>Simon Pieters; Glenn Adams. <a href=http://www.w3.org/TR/cssom/>CSS Object Model (CSSOM)</a>. 5 December 2013. WD. URL: <a href=http://www.w3.org/TR/cssom/>http://www.w3.org/TR/cssom/</a></dl><h2 class="no-num heading settled" id=index><span class=content>Index</span><a class=self-link href=#index></a></h2><ul class=indexlist><li>A, <a href=#a title="section 6">6</a><li>An+B, <a href=#anb0 title="section 6">6</a><li>&lt;an+b&gt;, <a href=#anb-production title="section 6.2">6.2</a><li>are a valid escape, <a href=#check-if-two-code-points-are-a-valid-escape title="section 4.3.9">4.3.9</a><li>ASCII case-insensitive, <a href=#ascii-case-insensitive title="section 5.2">5.2</a><li>ASCII case-insensitively, <a href=#ascii-case-insensitive title="section 5.2">5.2</a><li>&lt;at-keyword-token&gt;, <a href=#typedef-at-keyword-token title="section 4">4</a><li>at-rule, <a href=#at-rule title="section 5">5</a><li>B, <a href=#b title="section 6">6</a><li>&lt;bad-string-token&gt;, <a href=#typedef-bad-string-token title="section 4">4</a><li>&lt;bad-url-token&gt;, <a href=#typedef-bad-url-token title="section 4">4</a><li>case-sensitive, <a href=#case-sensitive title="section 5.2">5.2</a><li>case-sensitively, <a href=#case-sensitive title="section 5.2">5.2</a><li>&lt;CDC-token&gt;, <a href=#typedef-cdc-token title="section 4">4</a><li>&lt;CDO-token&gt;, <a href=#typedef-cdo-token title="section 4">4</a><li>@charset, <a href=#at-ruledef-charset title="section 8.2">8.2</a><li>check if three code points would start an identifier, <a href=#check-if-three-code-points-would-start-an-identifier title="section 4.3.10">4.3.10</a><li>check if three code points would start a number, <a href=#check-if-three-code-points-would-start-a-number title="section 4.3.11">4.3.11</a><li>check if two code points are a valid escape, <a href=#check-if-two-code-points-are-a-valid-escape title="section 4.3.9">4.3.9</a><li>code point, <a href=#code-point title="section 4.2">4.2</a><li>&lt;colon-token&gt;, <a href=#typedef-colon-token title="section 4">4</a><li>&lt;column-token&gt;, <a href=#typedef-column-token title="section 4">4</a><li>&lt;comma-token&gt;, <a href=#typedef-comma-token title="section 4">4</a><li>component value, <a href=#component-value title="section 5">5</a><li>consume a component value, <a href=#consume-a-component-value0 title="section 5.4.6">5.4.6</a><li>consume a declaration, <a href=#consume-a-declaration0 title="section 5.4.5">5.4.5</a><li>consume a function, <a href=#consume-a-function0 title="section 5.4.8">5.4.8</a><li>consume a list of declarations, <a href=#consume-a-list-of-declarations0 title="section 5.4.4">5.4.4</a><li>consume a list of rules, <a href=#consume-a-list-of-rules0 title="section 5.4.1">5.4.1</a><li>consume a name, <a href=#consume-a-name0 title="section 4.3.12">4.3.12</a><li>consume an at-rule, <a href=#consume-an-at-rule0 title="section 5.4.2">5.4.2</a><li>consume an escaped code point, <a href=#consume-an-escaped-code-point0 title="section 4.3.8">4.3.8</a><li>consume an ident-like token, <a href=#consume-an-ident-like-token0 title="section 4.3.4">4.3.4</a><li>consume a number, <a href=#consume-a-number0 title="section 4.3.13">4.3.13</a><li>consume a numeric token, <a href=#consume-a-numeric-token0 title="section 4.3.3">4.3.3</a><li>consume a qualified rule, <a href=#consume-a-qualified-rule0 title="section 5.4.3">5.4.3</a><li>consume a simple block, <a href=#consume-a-simple-block0 title="section 5.4.7">5.4.7</a><li>consume a string token, <a href=#consume-a-string-token0 title="section 4.3.5">4.3.5</a><li>consume a token, <a href=#consume-a-token0 title="section 4.3.1">4.3.1</a><li>consume a unicode-range token, <a href=#consume-a-unicode-range-token0 title="section 4.3.7">4.3.7</a><li>consume a url token, <a href=#consume-a-url-token0 title="section 4.3.6">4.3.6</a><li>consume comments, <a href=#consume-comments0 title="section 4.3.2">4.3.2</a><li>consume the next input token, <a href=#consume-the-next-input-token title="section 5.2">5.2</a><li>consume the remnants of a bad url, <a href=#consume-the-remnants-of-a-bad-url0 title="section 4.3.15">4.3.15</a><li>convert a string to a number, <a href=#convert-a-string-to-a-number0 title="section 4.3.14">4.3.14</a><li>current input code point, <a href=#current-input-code-point title="section 4.2">4.2</a><li>current input token, <a href=#current-input-token title="section 5.2">5.2</a><li>&lt;dash-match-token&gt;, <a href=#typedef-dash-match-token title="section 4">4</a><li>&lt;dashndashdigit-ident&gt;, <a href=#typedef-dashndashdigit-ident title="section 6.2">6.2</a><li>declaration, <a href=#declaration title="section 5">5</a><li>&lt;declaration-list&gt;, <a href=#typedef-declaration-list title="section 7.1">7.1</a><li>decode, <a href=#decode title="section 3.2">3.2</a><li>&lt;delim-token&gt;, <a href=#typedef-delim-token title="section 4">4</a><li>determine the fallback encoding, <a href=#determine-the-fallback-encoding title="section 3.2">3.2</a><li>digit, <a href=#digit title="section 4.2">4.2</a><li>&lt;dimension-token&gt;, <a href=#typedef-dimension-token title="section 4">4</a><li>ending token, <a href=#ending-token title="section 5.4.7">5.4.7</a><li>end of the range, <a href=#unicode-range-end title="section 4">4</a><li>environment encoding, <a href=#environment-encoding title="section 3.2">3.2</a><li>EOF code point, <a href=#eof-code-point title="section 4.2">4.2</a><li>&lt;EOF-token&gt;, <a href=#typedef-eof-token title="section 5.2">5.2</a><li>escaping, <a href=#escaping0 title="section 2.1">2.1</a><li>function, <a href=#function title="section 5">5</a><li>&lt;function-token&gt;, <a href=#typedef-function-token title="section 4">4</a><li>get an encoding, <a href=#get-an-encoding title="section 3.2">3.2</a><li>&lt;hash-token&gt;, <a href=#typedef-hash-token title="section 4">4</a><li>hex digit, <a href=#hex-digit title="section 4.2">4.2</a><li>identifier, <a href=#identifier title="section 4.2">4.2</a><li>&lt;ident-token&gt;, <a href=#typedef-ident-token title="section 4">4</a><li>&lt;include-match-token&gt;, <a href=#typedef-include-match-token title="section 4">4</a><li>&lt;integer&gt;, <a href=#typedef-integer title="section 6.2">6.2</a><li>letter, <a href=#letter title="section 4.2">4.2</a><li>lowercase letter, <a href=#lowercase-letter title="section 4.2">4.2</a><li>maximum allowed code point, <a href=#maximum-allowed-code-point title="section 4.2">4.2</a><li>name code point, <a href=#name-code-point title="section 4.2">4.2</a><li>name-start code point, <a href=#name-start-code-point title="section 4.2">4.2</a><li>&lt;ndashdigit-dimension&gt;, <a href=#typedef-ndashdigit-dimension title="section 6.2">6.2</a><li>&lt;ndashdigit-ident&gt;, <a href=#typedef-ndashdigit-ident title="section 6.2">6.2</a><li>&lt;ndash-dimension&gt;, <a href=#typedef-ndash-dimension title="section 6.2">6.2</a><li>&lt;n-dimension&gt;, <a href=#typedef-n-dimension title="section 6.2">6.2</a><li>newline, <a href=#newline title="section 4.2">4.2</a><li>next input code point, <a href=#next-input-code-point title="section 4.2">4.2</a><li>next input token, <a href=#next-input-token title="section 5.2">5.2</a><li>non-ASCII code point, <a href=#non-ascii-code-point title="section 4.2">4.2</a><li>non-printable code point, <a href=#non-printable-code-point title="section 4.2">4.2</a><li>&lt;number-token&gt;, <a href=#typedef-number-token title="section 4">4</a><li>parse a comma-separated list of component values, <a href=#parse-a-comma-separated-list-of-component-values0 title="section 5.3.9">5.3.9</a><li>parse a component value, <a href=#parse-a-component-value0 title="section 5.3.7">5.3.7</a><li>parse a CSS stylesheet, <a href=#parse-a-css-stylesheet title="section 8">8</a><li>parse a declaration, <a href=#parse-a-declaration0 title="section 5.3.5">5.3.5</a><li>parse a list of component values, <a href=#parse-a-list-of-component-values0 title="section 5.3.8">5.3.8</a><li>parse a list of declarations, <a href=#parse-a-list-of-declarations0 title="section 5.3.6">5.3.6</a><li>parse a list of rules, <a href=#parse-a-list-of-rules0 title="section 5.3.3">5.3.3</a><li>parse a rule, <a href=#parse-a-rule0 title="section 5.3.4">5.3.4</a><li>parse a stylesheet, <a href=#parse-a-stylesheet0 title="section 5.3.2">5.3.2</a><li>parse error, <a href=#parse-error title="section 3">3</a><li>parse something according to a CSS grammar, <a href=#parse-something-according-to-a-css-grammar title="section 5.3.1">5.3.1</a><li>&lt;percentage-token&gt;, <a href=#typedef-percentage-token title="section 4">4</a><li>&lt;prefix-match-token&gt;, <a href=#typedef-prefix-match-token title="section 4">4</a><li>preserved tokens, <a href=#preserved-tokens title="section 5">5</a><li>qualified rule, <a href=#qualified-rule title="section 5">5</a><li>reconsume the current input code point, <a href=#reconsume-the-current-input-code-point title="section 4.2">4.2</a><li>reconsume the current input token, <a href=#reconsume-the-current-input-token title="section 5.2">5.2</a><li>&lt;rule-list&gt;, <a href=#typedef-rule-list title="section 7.1">7.1</a><li>&lt;semicolon-token&gt;, <a href=#typedef-semicolon-token title="section 4">4</a><li>&lt;signed-integer&gt;, <a href=#typedef-signed-integer title="section 6.2">6.2</a><li>&lt;signless-integer&gt;, <a href=#typedef-signless-integer title="section 6.2">6.2</a><li>simple block, <a href=#simple-block title="section 5">5</a><li>start of the range, <a href=#unicode-range-start title="section 4">4</a><li>starts with an identifier, <a href=#check-if-three-code-points-would-start-an-identifier title="section 4.3.10">4.3.10</a><li>starts with a number, <a href=#check-if-three-code-points-would-start-a-number title="section 4.3.11">4.3.11</a><li>starts with a valid escape, <a href=#check-if-two-code-points-are-a-valid-escape title="section 4.3.9">4.3.9</a><li>start with an identifier, <a href=#check-if-three-code-points-would-start-an-identifier title="section 4.3.10">4.3.10</a><li>start with a number, <a href=#check-if-three-code-points-would-start-a-number title="section 4.3.11">4.3.11</a><li>&lt;string-token&gt;, <a href=#typedef-string-token title="section 4">4</a><li>style rule, <a href=#style-rule title="section 8.1">8.1</a><li>&lt;stylesheet&gt;, <a href=#typedef-stylesheet title="section 7.1">7.1</a><li>&lt;substring-match-token&gt;, <a href=#typedef-substring-match-token title="section 4">4</a><li>&lt;suffix-match-token&gt;, <a href=#typedef-suffix-match-token title="section 4">4</a><li>surrogate code point, <a href=#surrogate-code-point title="section 4.2">4.2</a><li>&lt;{-token&gt;, <a href=#tokendef-open-curly title="section 4">4</a><li>&lt;)-token&gt;, <a href=#tokendef-close-paren title="section 4">4</a><li>&lt;}-token&gt;, <a href=#tokendef-close-curly title="section 4">4</a><li>&lt;]-token&gt;, <a href=#tokendef-close-square title="section 4">4</a><li>&lt;(-token&gt;, <a href=#tokendef-open-paren title="section 4">4</a><li>&lt;[-token&gt;, <a href=#tokendef-open-square title="section 4">4</a><li>top-level flag, <a href=#top-level-flag title="section 5.4.1">5.4.1</a><li>&lt;unicode-range-token&gt;, <a href=#typedef-unicode-range-token title="section 4">4</a><li>uppercase letter, <a href=#uppercase-letter title="section 4.2">4.2</a><li>&lt;url-token&gt;, <a href=#typedef-url-token title="section 4">4</a><li>whitespace, <a href=#whitespace title="section 4.2">4.2</a><li>&lt;whitespace-token&gt;, <a href=#typedef-whitespace-token title="section 4">4</a><li>would start an identifier, <a href=#check-if-three-code-points-would-start-an-identifier title="section 4.3.10">4.3.10</a><li>would start a number, <a href=#check-if-three-code-points-would-start-a-number title="section 4.3.11">4.3.11</a></ul>