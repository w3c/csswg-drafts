<!DOCTYPE html><html lang=en><head>
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Paged Media Module Level 3</title>
  <link href=../default.css rel=stylesheet type=text/css>
  <link href=../csslogo.ico rel="shortcut icon" type=image/x-icon>
  <style>
  body {
    background: url("https://www.w3.org/StyleSheets/TR/logo-ED") top left no-repeat white;
    background-attachment: fixed;
    color: black;
    font-family: sans-serif;
    margin: 0 auto;
    max-width: 50em;
    padding: 2em 1em 2em 70px;
  }
  :link { color: #00C; background: transparent }
  :visited { color: #609; background: transparent }
  a[href]:active { color: #C00; background: transparent }
  a[href]:hover { background: #ffa }

  a[href] img { border-style: none }

  h1, h2, h3, h4, h5, h6 { text-align: left }
  h1, h2, h3 { color: #005A9C; }
  h1 { font: 170% sans-serif }
  h2 { font: 140% sans-serif }
  h3 { font: 120% sans-serif }
  h4 { font: bold 100% sans-serif }
  h5 { font: italic 100% sans-serif }
  h6 { font: small-caps 100% sans-serif }

  .hide { display: none }

  div.head { margin-bottom: 1em }
  div.head h1 { margin-top: 2em; clear: both }
  div.head table { margin-left: 2em; margin-top: 2em }

  p.copyright { font-size: small }
  p.copyright small { font-size: small }

  pre { margin-left: 2em }
  dt { font-weight: bold }

  ul.toc, ol.toc {
    list-style: none;
  }
  </style>
<style type=text/css>
  #margin-values { border-collapse: collapse; }
  #margin-values td,
  #margin-values th
  {
                padding: 0.2em;
                border: thin solid black;
  }

  .property-list
  {
                border: 1px solid black;
                padding: .2em;
                margin-top: 2em;
  }

  .property-list td
  {
                border: 1px solid black;
                padding: .1em;
  }

  .RFC2119
  {
                text-transform: lowercase;
                font-style: italic
  }

  table.page-sizes
  {
                border: thin solid;
                margin-top: 1.5em;
  }
  table.page-sizes td
  {
                border: thin solid;
                padding: .5em;
  }
  table.page-sizes th
  {
                border: thin solid;
                padding: .5em;
                background: #ffffaa;
  }
</style>


</head>
<body class=h-entry>
<div class=head>
  <p data-fill-with=logo><a class=logo href=http://www.w3.org/>
    <img alt=W3C height=48 src=https://www.w3.org/Icons/w3c_home width=72>
</a>
</p>
  <h1 class="p-name no-ref" id=title>CSS Paged Media Module Level 3</h1>
  <h2 class="no-num no-toc no-ref heading settled" id=subtitle><span class=content>Editor’s Draft,
    <span class=dt-updated><span class=value-title title=20140909>9 September 2014</span></span></span></h2>
  <div data-fill-with=spec-metadata><dl>
	<dt>This version:
	<dd><a class=u-url href=http://dev.w3.org/csswg/css-page/>http://dev.w3.org/csswg/css-page/</a>
	<dt>Latest version:
	<dd><a href=http://www.w3.org/TR/css3-page/>http://www.w3.org/TR/css3-page/</a>
	<dt>Previous Versions:
	<dd><a href=http://www.w3.org/TR/2013/WD-css3-page-20130314/ rel=previous>http://www.w3.org/TR/2013/WD-css3-page-20130314/</a>
	<dt>Feedback:
	<dd><a href="mailto:www-style@w3.org?subject=%5Bcss-page%5D%20feedback">www-style@w3.org</a>
            with subject line
            “<kbd>[css-page] <var>… message topic …</var></kbd>”(<a href=http://lists.w3.org/Archives/Public/www-style/ rel=discussion>archives</a>)
	<dt>Editors:
	<dd><div class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://fantasai.inkedblade.net/contact>Elika J. Etemad</a> (<span class="p-org org">Invited Expert, formerly Mozilla</span>)</div>
	<dd><div class="p-author h-card vcard"><a class="p-name fn u-url url" href=http://exyr.org/about/>Simon Sapin</a> (<span class="p-org org">Mozilla, formerly Kozea</span>)</div>
	<dt>Issue Tracking:
	<dd><a href=http://www.w3.org/Style/CSS/Tracker/products/13 rel=issues>http://www.w3.org/Style/CSS/Tracker/products/13</a>
</dl>
</div>
  <div data-fill-with=warning></div>
  <p class=copyright data-fill-with=copyright><a href=http://www.w3.org/Consortium/Legal/ipr-notice#Copyright>Copyright</a> © 2014 <a href=http://www.w3.org/><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=http://www.csail.mit.edu/><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href=http://www.ercim.eu/><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href=http://www.keio.ac.jp/>Keio</a>, <a href=http://ev.buaa.edu.cn/>Beihang</a>), All Rights Reserved. W3C <a href=http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer>liability</a>, <a href=http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks>trademark</a> and <a href=http://www.w3.org/Consortium/Legal/copyright-documents>document use</a> rules apply.
</p>
  <hr title="Separator for header">
</div>

<h2 class="no-num no-toc no-ref heading settled" id=abstract><span class=content>Abstract</span></h2>
<div class=p-summary data-fill-with=abstract><p>This CSS module specifies how pages are generated and laid out to hold fragmented content in a paged presentation. It adds functionality for controlling page margins, page size and orientation, and headers and footers, and extends generated content to enable page numbering and running headers / footers. The process of paginating a flow into such generated pages is covered in <a data-biblio-type=normative data-link-type=biblio href=#css3-break title=biblio-CSS3-BREAK>[CSS3-BREAK]</a>.</p>

<a href=http://www.w3.org/TR/CSS/>CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.</div>

<h2 class="no-num no-toc no-ref heading settled" id=status><span class=content>Status of this document</span></h2>
<div data-fill-with=status><p>
	This is a public copy of the editors’ draft. 
	It is provided for discussion only and may change at any moment. 
	Its publication here does not imply endorsement of its contents by W3C. 
	Don’t cite this document other than as work in progress.

<p>
	The (<a href=http://lists.w3.org/Archives/Public/www-style/>archived</a>) public mailing list
	<a href="mailto:www-style@w3.org?Subject=%5Bcss-page%5D%20PUT%20SUBJECT%20HERE">www-style@w3.org</a> 
	(see <a href=http://www.w3.org/Mail/Request>instructions</a>) 
	is preferred for discussion of this specification. 
	When sending e-mail, 
	please put the text “css-page” in the subject, 
	preferably like this:
	“[css-page] <em>…summary of comment…</em>”

<p>
	This document was produced by the <a href=http://www.w3.org/Style/CSS/members>CSS Working Group</a> 
	(part of the <a href=http://www.w3.org/Style/>Style Activity</a>).

<p>
	This document was produced by a group operating under 
	the <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/>5 February 2004 W3C Patent Policy</a>. 
	W3C maintains a <a href=http://www.w3.org/2004/01/pp-impl/32061/status rel=disclosure>public list of any patent disclosures</a> 
	made in connection with the deliverables of the group; 
	that page also includes instructions for disclosing a patent. 
	An individual who has actual knowledge of a patent which the individual believes contains <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential>Essential Claim(s)</a> 
	must disclose the information in accordance with <a href=http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure>section 6 of the W3C Patent Policy</a>.</div>
<div data-fill-with=at-risk></div>

<h2 class="no-num no-toc no-ref heading settled" id=contents><span class=content>Table of Contents</span></h2>
<div data-fill-with=table-of-contents><ul class=toc>
	<li><a href=#intro><span class=secno>1</span> Introduction</a>
	<li><a href=#page-terms><span class=secno>2</span> Page Terminology</a>
	<li><a href=#page-model><span class=secno>3</span> The Page Model</a>
		<ul class=toc>
		<li><a href=#painting><span class=secno>3.1</span>  Page Backgrounds and Painting Order</a>
		<li><a href=#content-outside-box><span class=secno>3.2</span> Content outside the page box</a>
		<li><a href=#progression><span class=secno>3.3</span> Page Progression</a></ul>
	<li><a href=#page-selector-and-context><span class=secno>4</span>  Page Selectors and the Page Context</a>
		<ul class=toc>
		<li><a href=#at-page-rule><span class=secno>4.1</span> <span> The @page Rule</span></a>
		<li><a href=#page-selectors><span class=secno>4.2</span> Page selectors</a>
			<ul class=toc>
			<li><a href=#spread-pseudos><span class=secno>4.2.1</span> <span></span> Spread pseudo-classes: <span class=css data-link-type=maybe title=:left>:left</span>, <span class=css data-link-type=maybe title=:right>:right</span></a>
			<li><a href=#first-pseudo><span class=secno>4.2.2</span>  First-page pseudo-class: <span class=css data-link-type=maybe title=:first>:first</span></a>
			<li><a href=#blank-pseudo><span class=secno>4.2.3</span>  Blank-page pseudo-class: <span class=css data-link-type=maybe title=:blank>:blank</span></a></ul>
		<li><a href=#syntax-page-selector><span class=secno>4.3</span> @page rule grammar</a>
		<li><a href=#cascading-and-page-context><span class=secno>4.4</span> Cascading in the page context</a></ul>
	<li><a href=#margin-boxes><span class=secno>5</span> Page-Margin Boxes</a>
		<ul class=toc>
		<li><a href=#margin-at-rules><span class=secno>5.1</span> At-rules for page-margin boxes</a>
		<li><a href=#populating-margin-boxes><span class=secno>5.2</span> Populating page-margin boxes</a>
		<li><a href=#margin-dimension><span class=secno>5.3</span> Computing Page-margin Box Dimensions</a>
			<ul class=toc>
			<li><a href=#margin-box-terms><span class=secno>5.3.1</span> <span></span>Page-Margin Box Layout Terminology</a>
			<li><a href=#variable-sizing><span class=secno>5.3.2</span>  Page-Margin Box Variable Dimension Computation Rules</a>
				<ul class=toc>
				<li><a href=#variable-auto-margins><span class=secno>5.3.2.1</span> Margins</a>
				<li><a href=#variable-auto-sizing><span class=secno>5.3.2.2</span> Resolving <span class=css data-link-type=maybe title=auto>auto</span> widths</a>
				<li><a href=#variable-minmax><span class=secno>5.3.2.3</span> Handling <span class=property data-link-type=propdesc title=min-width>min-width</span> and <span class=property data-link-type=propdesc title=max-width>max-width</span></a>
				<li><a href=#variable-position><span class=secno>5.3.2.4</span> Positioning</a>
				<li><a href=#variable-mapping><span class=secno>5.3.2.5</span> Boxes on other sides</a></ul>
			<li><a href=#fixed-sizing><span class=secno>5.3.3</span> Page-Margin Box Fixed Dimension Computation Rules</a></ul>
		<li><a href=#margin-box-ex><span class=secno>5.4</span> Page-margin box examples</a></ul>
	<li><a href=#page-properties><span class=secno>6</span> Page Properties</a>
		<ul class=toc>
		<li><a href=#page-based-counters><span class=secno>6.1</span> Page-based counters</a>
		<li><a href=#margin-text-alignment><span class=secno>6.2</span> Page-margin boxes and default values</a></ul>
	<li><a href=#page-size><span class=secno>7</span> Page Size</a>
		<ul class=toc>
		<li><a href=#page-size-prop><span class=secno>7.1</span> Page size: the <span class=property data-link-type=propdesc title=size>size</span> property</a>
			<ul class=toc>
			<li><a href=#page-size-media-query><span class=secno>7.1.1</span> Media Queries</a></ul>
		<li><a href=#marks><span class=secno>7.2</span>  Crop and Registration Marks: the <span class=property data-link-type=propdesc title=marks>marks</span> property</a>
		<li><a href=#bleed><span class=secno>7.3</span>  Bleed Area: the <span class=property data-link-type=propdesc title=bleed>bleed</span> property</a>
		<li><a href=#renderingpages><span class=secno>7.4</span> Rendering page boxes that do not fit a page sheet</a>
		<li><a href=#positioning-page-box><span class=secno>7.5</span> Positioning the page box on the sheet</a></ul>
	<li><a href=#page-breaks><span class=secno>8</span>      <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     <span></span>     Page Breaks </a>
		<ul class=toc>
		<li><a href=#using-named-pages><span class=secno>8.1</span> Using named pages: <span class=property data-link-type=propdesc title=page>page</span></a></ul>
	<li><a href=#image-properties><span class=secno>9</span> Image Properties</a>
	<li><a href=#properties-list><span class=secno></span> Appendix A: Applicable CSS2.1 Properties</a>
		<ul class=toc>
		<li><a href=#page-property-list><span class=secno></span>    CSS 2.1 Properties that apply within the page context</a>
		<li><a href=#margin-property-list><span class=secno></span>    CSS 2.1 properties that apply within the margin contexts</a></ul>
	<li><a href=#transfer-possibilities><span class=secno></span> Appendix B: Transfer Possibilities</a>
	<li><a href=#changes><span class=secno></span> Changes</a>
	<li><a href=#acknowledgements><span class=secno></span> Acknowledgements</a>
	<li><a href=#conformance><span class=secno></span>  Conformance</a>
		<ul class=toc>
		<li><a href=#conventions><span class=secno></span>  Document conventions</a>
		<li><a href=#conformance-classes><span class=secno></span>  Conformance classes</a>
		<li><a href=#partial><span class=secno></span>  Partial implementations</a>
		<li><a href=#experimental><span class=secno></span>  Experimental implementations</a>
		<li><a href=#testing><span class=secno></span>  Non-experimental implementations</a></ul>
	<li><a href=#references><span class=secno></span>  References</a>
		<ul class=toc>
		<li><a href=#normative><span class=secno></span>  Normative References</a>
		<li><a href=#informative><span class=secno></span>  Informative References</a></ul>
	<li><a href=#index><span class=secno></span>  Index</a>
	<li><a href=#property-index><span class=secno></span>  Property index</a>
	<li><a href=#issues-index><span class=secno></span> Issues Index</a></ul></div>




<h2 class="heading settled" data-level=1 id=intro><span class=secno>1 </span><span class=content>Introduction</span><a class=self-link href=#intro></a></h2>

<p>Paged media (e.g., paper, transparencies, photo album pages, pages
displayed on computer screens as printed output simulations) differ from
<a href=http://www.w3.org/TR/CSS2/media.html#continuous-media-group>continuous media</a>
in that the content of the document is split into one or more discrete
static display surfaces. To handle pages, CSS3 Paged Media describes how:</p>

<ul>
  <li><a href=#page-breaks>page breaks</a> are created and avoided;</li>
  <li>the page properties such as size, orientation, margins, border, and
  padding are specified;</li>
  <li>headers and footers are established within the page margins;</li>
  <li>content such as page counters are placed in the headers and footers; and</li>
  <li>orphans and widows can be controlled.</li>
</ul>

<p>This module defines a <a href=#page-model>page model</a> that specifies how a
document is formatted within a rectangular area, called the
<a href=#page-box-page-rule>page box</a>, that has finite width and height.

<p>Although CSS3 does not specify how user agents transfer page boxes to sheets,
it does include certain mechanisms for telling user agents about the intended
page sheet <a href=#page-size>size and orientation</a>. In the general case,
CSS3 assumes that one page box will be transferred to one surface of similar
size.</p>

<p>All properties defined in this specification also accept the
<a href=http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit>inherit</a>
keyword as their value, but for readability it has not been listed explicitly.

<h2 class="heading settled" data-level=2 id=page-terms><span class=secno>2 </span><span class=content>Page Terminology</span><a class=self-link href=#page-terms></a></h2>

<p>The following terminology and accompanying diagrams help to describe the
page model:</p>

<dl>
  <dt id=page-sheet><a class=self-link href=#page-sheet></a>Page sheet</dt>
  <dd><img alt="The corner of a page sheet with the non-printable area at the edge and printable area inside it" height=148 src=PageSheet.png style="float: right;" width=194>The page sheet is one surface of the physical
  medium. The illustration to the right shows a representation of the upper-left
  corner of a page sheet.</dd>

  <dt id=printable-area><a class=self-link href=#printable-area></a>Printable and non-printable areas</dt>
  <dd>The non-printable area is the area of a page sheet that a physical device such
  as a printer is not capable of marking reliably, usually due to the printer’s
  paper handling mechanism. This value is printer dependent and is usually a
  small region along each edge of the page sheet. The printable area is the area
  of page sheet that a printer <em>is</em> capable of marking reliably. The size
  of the printable area is the size of the page sheet reduced by the size of the
  non-printable area. A user agent may not know the dimensions of this area for a
  particular printing device; but when its dimensions are known, user agents
  <em class=RFC2119>MAY</em> adjust the formatting of the document so that
  content falls within the printable area. How this adjustment is accomplished is
  device dependent within the constraints expressed in the sections
  <a href=#renderingpages>Rendering page boxes that do not fit a page sheet</a> and
  <a href=#content-outside-box>Content outside the page box</a>.</dd>

  <dt id=page-orientation><a class=self-link href=#page-orientation></a>Page Orientation</dt>
  <dd>The page orientation is defined by comparing the length of the edges of a
  <a href=#page-box>page box</a>. The page box is a rectangle with two
  perpendicular edges called the long edge and the short edge. The length of the
  long edge is always greater than or equal to the length of the short edge. When
  the page box is square, the two edges are of the same length and either can be
  used as the long edge with the other being the short edge. This specification
  defines page orientations of <span class=css>portrait</span> and <span class=css>landscape</span>.</dd>

  <dt id=portrait><a class=self-link href=#portrait></a>Portrait Orientation</dt>
  <dd>A portrait page’s height is greater than or equal to its width. Horizontal
  elements are parallel to the short edge and vertical elements to the long edge.</dd>

  <dt id=landscape><a class=self-link href=#landscape></a>Landscape Orientation</dt>
  <dd>A landscape page’s width is greater than or equal to its height. Horizontal
  elements are parallel to the long edge and vertical elements to the short edge.
  <span class=note>Note that CSS3 makes no distinction between landscape and
  reverse-landscape orientations. However, future versions of CSS may do so.
  UAs should consider, when formatting for duplexed printing, the binding edge,
  page progression, and ease of reading when choosing between landscape and
  reverse-landscape renderings.</span>
  </dd>

  <dt id=duplex-printing><a class=self-link href=#duplex-printing></a>Duplex Printing</dt>
  <dd>Duplex printing prints one page box per side of a page sheet and uses both
  sides of the page sheet. This module provides no ability to specify whether a
  document is duplex printed, but the concept of left and right pages is based on
  the assumption that the document is duplex printed, regardless of whether or
  not it actually is.</dd>

  <dt id=binding-edge><a class=self-link href=#binding-edge></a>Binding Edge</dt>
  <dd>The binding edge is the edge of the page box that is toward the binding if the
  material is bound. The binding edge often has a larger margin than the opposite
  edge to provide for the space used by the binding. The binding edge can be any
  of the four edges. However, page sheets are customarily bound so that the
  binding edge of page boxes with portrait orientation is vertical. This module
  provides no method to specify the binding edge. In duplex printing, the binding
  edge is on opposite sides of the page box for the left and right pages.</dd>

  <dt id=facing-pages><a class=self-link href=#facing-pages></a>Facing Pages</dt>
  <dd>Facing pages are two sequential pages such that when the document is duplex
  printed they are on separate sheets of paper. Typically, the earlier page will
  be the back side of one sheet and the later page will be the front side of
  another. They are usually laid out so that the binding edges of facing pages
  are vertical and adjacent when the pages are placed in their normal reading
  orientation.</dd>

  <dt><dfn data-dfn-type=dfn data-noexport="" id=left-page>Left Page<a class=self-link href=#left-page></a></dfn></dt>
  <dd>A page that would be on the left if it is part of a pair of facing pages as
  typically laid out. Page layouts for documents using a left-to-right page
  progression have the earlier of the facing pages on the left. Rules specific to
  the left page can be specified using the <a class=css data-link-type=maybe href=#valdef-page-left title=:left>:left</a> <a data-link-type=dfn href=#page-selector title="page selector">page selector</a>.
  </dd>

  <dt><dfn data-dfn-type=dfn data-noexport="" id=right-page>Right Page<a class=self-link href=#right-page></a></dfn></dt>
  <dd>A page that would be on the right if it is part of a pair of facing pages as
  typically laid out. Page layouts for documents using a right-to-left page
  progression have the earlier of the facing pages on the right. Rules specific
  to the right page can be specified using the <a class=css data-link-type=maybe href=#valdef-page-right title=:right>:right</a> <a data-link-type=dfn href=#page-selector title="page selector">page selector</a>.
  </dd>
</dl>


<h2 class="heading settled" data-level=3 id=page-model><span class=secno>3 </span><span class=content>The Page Model</span><a class=self-link href=#page-model></a></h2>

<p>In the paged media formatting model, the document is transferred into one
or more page boxes. The <dfn data-dfn-type=dfn data-noexport="" id=page-box>page box<a class=self-link href=#page-box></a></dfn> is a specialized CSS
box that maps to a rectangular print media surface, such as a page of paper.
It is roughly analogous to the <a href=http://www.w3.org/TR/CSS21/visuren.html#viewport>viewport</a>.
<img alt="" height=266 src=PageBox.png style="float: right;" width=267>

<p>As with other CSS <a href=http://www.w3.org/TR/CSS21/box.html>boxes</a>, a page box
consists of margin, border, padding, and content areas. The content and
margin areas of a page box have special functions:</p>

<p class=issue id=issue-5371a3e4><a class=self-link href=#issue-5371a3e4></a>
    In CSS 2.1, both the page box and page area are simple rectangles.
    Neither is a CSS box with margins, borders, and padding.
    This CSS box should be distinct from the page box and page area,
    which would be its margin area and content area, respectively.
    Naming ideas?

<ul>
  <li>The content area of a page box is called the <dfn data-dfn-type=dfn data-noexport="" id=page-area>page
  area<a class=self-link href=#page-area></a></dfn>. The content of the document is flowed into one or more page boxes.
  The page area acts as a container for all the boxes generated by the root
  element and its descendants that are laid out within a given page box. The
  edges of the page area on the first page establish the rectangle that is the
  initial <a href=http://www.w3.org/TR/CSS21/visudet.html#containing-block-details>containing block</a>
  of the document.</li>
  <li>The margin area of a page box is divided into
  16 <dfn data-dfn-type=dfn data-noexport="" id=page-margin-box title="page-margin box">page-margin boxes<a class=self-link href=#page-margin-box></a></dfn>.
  Each page-margin box has its own margin, border, padding and content areas.
  Page-margin boxes are typically used to display running headers and footers.</li>
</ul>

<p>The properties of a <a data-link-type=dfn href=#page-box title="page box">page box</a> are determined by properties
<a href=http://www.w3.org/TR/CSS21/syndata.html#declaration>declared</a> within the
<a data-link-type=dfn href=#page-context title="page context">page context</a>, which is the
<a href=http://www.w3.org/TR/CSS21/syndata.html#x14>declaration block</a> of the
<code>@page</code> rule. Similarly the properties of a <a data-link-type=dfn href=#page-margin-box title="page-margin box">page-margin box</a>
are determined by properties declared within its <a data-link-type=dfn href=#margin-context title="margin context">margin context</a>.
Declarations in the page context can affect the page box and/or inherit
to the page-margin boxes, but they do not apply to or inherit into the
document’s root element or other content.</p>

<p>The <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> of the page box is specified using the <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a>
property in the <a data-link-type=dfn href=#page-context title="page context">page context</a>. The width and horizontal margins
of the page box are then calculated exactly as for a
<a href=http://www.w3.org/TR/CSS21/visudet.html#blockwidth>non-replaced
block element in normal flow</a>. <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a> The height and vertical margins
of the page box are calculated analogously (instead of using the block height
formulas). In both cases if the values are over-constrained, instead of
ignoring any margins, the containing block is resized to coincide with the
margin edges of the page box.

<h3 class="heading settled" data-level=3.1 id=painting><span class=secno>3.1 </span><span class=content>
Page Backgrounds and Painting Order</span><a class=self-link href=#painting></a></h3>

  <p>When drawing a page of content, the page layers are painted in the
  following painting order (bottommost first):

  <ol>
    <li>page background
    <li>document canvas
    <li>page borders
    <li>document contents
    <li>page-margin boxes
  </ol>

  <p>In the page model, the page background behaves similar to the root background:
  its <a data-link-spec=css-backgrounds data-link-type=dfn href=http://dev.w3.org/csswg/css-backgrounds-3/#background-painting-area title="background painting area">background painting area</a> is the <a data-link-type=dfn href=#bleed-area title="bleed area">bleed area</a>,
  which covers the entire page box, including its margins (regardless of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#background-clip title=background-clip>background-clip</a>).
  Page backgrounds are anchored within the page box’s padding area by default
  (and honor <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#background-origin title=background-origin>background-origin</a> if the UA supports <a data-biblio-type=normative data-link-type=biblio href=#css3bg title=biblio-CSS3BG>[CSS3BG]</a>).
  However if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#background-attachment title=background-attachment>background-attachment</a> is <span class=css>fixed</span>
  then the image is positioned relative to the page box including its margins
  (i.e. the <a data-link-spec=css-backgrounds data-link-type=dfn href=http://dev.w3.org/csswg/css-backgrounds-3/#background-positioning-area title="background positioning area">background positioning area</a>
  is the page’s margin box).

  <p>The document canvas background is drawn as the page box’s background:
  by default its <a data-link-spec=css-backgrounds data-link-type=dfn href=http://dev.w3.org/csswg/css-backgrounds-3/#background-painting-area title="background painting area">background painting area</a> covers the page box’s border box,
  and for UAs that support <a data-biblio-type=normative data-link-type=biblio href=#css3bg title=biblio-CSS3BG>[CSS3BG]</a>, follows the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#background-clip title=background-clip>background-clip</a> value specified on the root element.
  It remains, however, positioned with respect to the root element
  or page area as usual.

  <p>
  With respect to the page-margin boxes,
  the document canvas, page borders, and all of the document contents
  are treated as a single element with a <code>z-index</code> value of <a class=property data-link-type=propdesc title=0>0</a>
  that establishes a
  <a href=http://www.w3.org/TR/CSS21/visuren.html#x43>stacking context</a>
  <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>:
  the page-margin boxes never interleave with parts of the document content
  or between the content and the canvas.
  They may only paint in front of the document content
  or behind the document canvas.
  The page background is always painted underneath everything else.

  <p>The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a> property applies to page-margin boxes.
  Since the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#position title=position>position</a> property does not apply to page-margin boxes,
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a> always affects page-margin boxes as if they were positioned elements
  regardless of the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#position title=position>position</a> property’s value.
  Each page-margin boxes always establishes a stacking context.

  <p>The default painting order,
  or <a href=http://www.w3.org/TR/CSS21/zindex.html>CSS2.1 Appendix E</a> "tree order",
  of page-margin boxes with respect to each other is as follows:

  <ol>
    <li><span class=css>@top-left-corner</span>
    <li><span class=css>@top-left</span>
    <li><span class=css>@top-center</span>
    <li><span class=css>@top-right</span>
    <li><span class=css>@top-right-corner</span>

    <li><span class=css>@right-top</span>
    <li><span class=css>@right-middle</span>
    <li><span class=css>@right-bottom</span>

    <li><span class=css>@bottom-right-corner</span>
    <li><span class=css>@bottom-right</span>
    <li><span class=css>@bottom-center</span>
    <li><span class=css>@bottom-left</span>
    <li><span class=css>@bottom-left-corner</span>

    <li><span class=css>@left-bottom</span>
    <li><span class=css>@left-middle</span>
    <li><span class=css>@left-top</span>
  </ol>

  <p class=note>
    Start with <span class=css>@top-left-corner</span>, then go clockwise.
    This order is arbitrary but can be overridden with <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-position-3/#z-index title=z-index>z-index</a>.
    It only has a visible effect when page-margin boxes overlap,
    which should not happen in most cases.

<h3 class="heading settled" data-level=3.2 id=content-outside-box><span class=secno>3.2 </span><span class=content>Content outside the page box</span><a class=self-link href=#content-outside-box></a></h3>

<p>When formatting content in the page model, some content may end up outside the
page box. For example, an element whose <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-text-3/#propdef-white-space title=white-space>white-space</a> property has the value
<span class=css>pre</span> can generate a box that is wider than the page box. As another example,
when boxes are positioned absolutely or relatively, they may end up in
"inconvenient" locations. For example, images may be placed on the edge of
the page box or 100,000 meters below the page box. </p>

<p>A specification for the exact formatting of such elements lies outside the
scope of this document. However, it is recommended that authors and user agents
observe the following general principles concerning content outside the page
box:</p>

<ul>
  <li><p>Content should be allowed slightly beyond the page box to allow pages
  to "bleed".
  <li><p>User agents <em class=RFC2119>SHOULD</em> avoid generating a large
  number of content-empty pages to honor the positioning of elements (e.g.,
  printing 100 blank pages is probably neither the author’s nor the user’s
  intent).
  A <dfn data-dfn-type=dfn data-noexport="" id=content-empty>Content-empty page<a class=self-link href=#content-empty></a></dfn> is a page box whose page
  area contains no printable content other than backgrounds and/or borders. A
  page box whose page area contains generated content, or content whose
  visibility is <span class=css>hidden</span>, or invisible content such as a zero-width space is
  not a content-empty page. On the other hand, a page containing only a
  background and/or borders and/or page-margin box content <em>is</em> a
  content-empty page.
  <p class=note>Note, however, that generating a small number of empty page
  boxes is sometimes necessary to honor the forced-break values for
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/page.html#propdef-page-break-before title=page-break-before>page-break-before</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-break-3/#break-before title=break-before>break-before</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/page.html#propdef-page-break-after title=page-break-after>page-break-after</a>/<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-break-3/#break-after title=break-after>break-after</a>.
  <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a> <a data-biblio-type=normative data-link-type=biblio href=#css3-break title=biblio-CSS3-BREAK>[CSS3-BREAK]</a></li>

  <li><p>Authors <em class=RFC2119>SHOULD NOT</em> position elements in
  inconvenient locations just to avoid rendering them. Instead:
  <ul>
    <li>To suppress box generation entirely, set the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> property to <a class=css data-link-type=maybe href=#valdef-marks-none title=none>none</a>.</li>
    <li>To make a box invisible, set the <span class=property><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visufx.html#propdef-visibility title=visibility>visibility</a></span>
    property.</li>
    </ul></li>
    <li><p>This specification does not define how boxes positioned outside the page
    box are handled. Possibilities include discarding them or creating page boxes
    for them at the end of the document.</li>
</ul>

<h3 class="heading settled" data-level=3.3 id=progression><span class=secno>3.3 </span><span class=content>Page Progression</span><a class=self-link href=#progression></a></h3>

<p>CSS distinguishes between left pages and right pages on all documents,
whether they are printed duplex or not. Each left page is followed by a
right page and vice versa. Left and right pages can be styled differently
with the <a href=#left-right-first><code>:left</code> and <code>:right</code>
pseudo-classes</a>.

<p>Whether the first page of a document is a left page or a right page
depends on the page progression of the document. The <dfn data-dfn-type=dfn data-noexport="" id=page-progression>page progression<a class=self-link href=#page-progression></a></dfn>
is the direction in which the printed pages of a document would be sequenced
when laid out side-to-side. For example, English and horizontally-set Japanese
typically progress from left to right, whereas Arabic and vertically-set
Japanese pages typically progress from right to left. In documents with
a left-to-right page progression the first page of the document is a right
page, and vice versa.</p>

<p>The page progression direction is determined as follows:</p>

<ul>
  <li>If text is laid out in horizontal lines, the page progression is the
  same as the inline progression.</li>
  <li>If text is laid out in vertical lines, the page progression is the
  same as the block progression.</li>
</ul>

<p>If the UA supports the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> properties
from the CSS 3 Writing Modes Module <a data-biblio-type=informative data-link-type=biblio href=#css3-writing-modes title=biblio-CSS3-WRITING-MODES>[CSS3-WRITING-MODES]</a>, it must
<a href=http://www.w3.org/TR/css3-writing-modes/#page-direction>determine</a>
whether the first page is a left or right page from the values of those
properties on the root element.</p>

<p>
  To explicitly force a document to begin printing on a left or right page,
  authors can specify a <a href=http://www.w3.org/TR/css3-break/#break-before><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-break-3/#break-before title=break-before>break-before</a></a> value
  that that propagates a page break to the root. <a data-biblio-type=normative data-link-type=biblio href=#css3-break title=biblio-CSS3-BREAK>[CSS3-BREAK]</a>
  The UA must suppress the first (empty) page(s) in this case
  (and the <code>:first</code> pseudo-class matches the first printed page).

<div class=example>
<pre>html { break-before: always }
</pre>

<p>
  For an HTML document with a left-to-right page progression,
  the above style rule will cause the first page of the document
  to print on a ':left' page
</p>

<pre>html { break-before: left }
</pre>

<p>
  For an HTML document,
  the above style rule will cause the first page of the document
  to print on a ':left' page,
  regardless of the page progression.
</p>
</div>

<h2 class="heading settled" data-level=4 id=page-selector-and-context><span class=secno>4 </span><span class=content>
Page Selectors and the Page Context</span><a class=self-link href=#page-selector-and-context></a></h2>

<h3 class="heading settled" data-level=4.1 id=at-page-rule><span class=secno>4.1 </span><span class=content><span id=page-box-page-rule>
The @page Rule</span></span><a class=self-link href=#at-page-rule></a></h3>

  <p>Authors can specify various aspects of a page box,
  such as its dimensions, orientation, and margins,
  within an <span class=css>@page</span> rule.
  <span class=css>@page</span> rules are allowed
  wherever <a href=http://www.w3.org/TR/CSS21/syndata.html#rule-sets>rule-sets</a> are allowed.
  An <span class=css>@page</span> rule consists of the keyword <span class=css>@page</span>,
  an <em class=RFC2119>OPTIONAL</em> comma-separated list of
  <a href=#page-selectors>page selectors</a>
  and a block of declarations
  (said to be in the <dfn data-dfn-type=dfn data-noexport="" id=page-context>page context<a class=self-link href=#page-context></a></dfn>).
  An <span class=css>@page</span> rule can also contain other at-rules,
  interleaved between declarations.
  The current level of this specification
  only allows <a href=#margin-at-rules>margin at-rules</a> inside <span class=css>@page</span>.

  <p><span class=css>@page</span> rules without a selector list apply to every page.
  Other <span class=css>@page</span> rules apply to pages that <a data-link-type=dfn href=#match title=match>match</a>
  at least one of their selectors.
  Properties declared within the page context apply to the page box.


<p>If an error is encountered during the processing of a declaration block within
a page or a margin context, the <a href=http://www.w3.org/TR/CSS21/syndata.html#parsing-errors>Rules for handling parsing errors</a>
apply; that is, valid declarations within the block are applied.</p>


<h3 class="heading settled" data-level=4.2 id=page-selectors><span class=secno>4.2 </span><span class=content>Page selectors</span><a class=self-link href=#page-selectors></a></h3>

  <p>A <dfn data-dfn-type=dfn data-noexport="" id=page-selector>page selector<a class=self-link href=#page-selector></a></dfn> is made of
  either a <a data-link-type=dfn href=#page-type-selector title="page type selector">page type selector</a>
  or a <a data-link-type=dfn href=#page-pseudo-class title="page pseudo-class">page pseudo-class</a>,
  followed by zero or more additional <a data-link-type=dfn href=#page-pseudo-class title="page pseudo-classes">page pseudo-classes</a>.
  No whitespace is allowed between components of a selector.
  The <a data-link-type=dfn href=#page_selector title=page_selector>page selector grammar</a>
  and examples can be found below.

  <p>A <a data-link-type=dfn href=#page-selector title="page selector">page selector</a> is said to <dfn data-dfn-type=dfn data-noexport="" id=match>match<a class=self-link href=#match></a></dfn> a given page if and only if
  all of its components match the page.

  <p>A <dfn data-dfn-type=dfn data-noexport="" id=page-type-selector>page type selector<a class=self-link href=#page-type-selector></a></dfn> is
  a case-sensitive <a href=http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier>CSS identifier</a> <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>.
  It <a data-link-type=dfn href=#match title=matches>matches</a> pages of the <a href=#using-named-pages>named page type</a>
  generated by the <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property.
  <span id=page-selector-syntax-restrict>
    A page type name of <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>
    (<a href=http://www.w3.org/TR/CSS21/syndata.html#characters>ASCII case-insensitive</a>)
    does not make the rule invalid,
    but <em class=RFC2119>MUST</em> never match.
  </span>

  <p>A <dfn data-dfn-type=dfn data-noexport="" id=page-pseudo-class>page pseudo-class<a class=self-link href=#page-pseudo-class></a></dfn> is <a href=http://www.w3.org/TR/CSS21/syndata.html#characters>ASCII case-insensitive</a>
  and has the same syntax as <a href=http://www.w3.org/TR/selectors/#pseudo-classes>pseudo-classes</a> in regular Selectors. <a data-biblio-type=normative data-link-type=biblio href=#select title=biblio-SELECT>[SELECT]</a>
  The various <a data-link-type=dfn href=#page-pseudo-class title="page pseudo-classes">page pseudo-classes</a> are defined below.

<h4 class="heading settled" data-level=4.2.1 id=spread-pseudos><span class=secno>4.2.1 </span><span class=content><span id=left-right-first></span>
Spread pseudo-classes: <a class=css data-link-type=maybe href=#valdef-page-left title=:left>:left</a>, <a class=css data-link-type=maybe href=#valdef-page-right title=:right>:right</a></span><a class=self-link href=#spread-pseudos></a></h4>

  <p>When printing double-sided documents,
  left and right pages are often formatted differently.
  This can be expressed by using the <a class=css data-link-type=maybe href=#valdef-page-left title=:left>:left</a> and <a class=css data-link-type=maybe href=#valdef-page-right title=:right>:right</a> page pseudo-classes.

  <p data-dfn-for=@page data-dfn-type=value>All pages are automatically classified by user agents
  as either left pages or right pages,
  based on <a href=#progression>page progression</a>.
  The <dfn class=css data-dfn-for=@page data-dfn-type=value data-export="" id=valdef-page-left>:left<a class=self-link href=#valdef-page-left></a></dfn> and <dfn class=css data-dfn-for=@page data-dfn-type=value data-export="" id=valdef-page-right>:right<a class=self-link href=#valdef-page-right></a></dfn> pseudo-classes
  only <a data-link-type=dfn href=#match title=match>match</a> <a data-link-type=dfn href=#left-page title="left page">left</a> or <a data-link-type=dfn href=#right-page title="right page">right pages</a>,
  respectively.

<div class=example>
The following example creates left and right binding edges using these pseudo-classes:
<pre>@page :left {
margin-left: 3cm;
margin-right: 4cm;
}

@page :right {
margin-left: 4cm;
margin-right: 3cm;
}
</pre>
</div>

<p>If different declarations have been given for left and right pages, the user
agent <em class=RFC2119>MUST</em> honor these declarations even if the user
agent does not transfer the page boxes to left and right sheets (i.e., a
printer that only prints on one side of the medium must nevertheless produce
correctly formatted output).</p>

<div class=note>
<p>
  <em><strong>Note.</strong>
  Adding declarations to the <a class=css data-link-type=maybe href=#valdef-page-left title=:left>:left</a> or <a class=css data-link-type=maybe href=#valdef-page-right title=:right>:right</a> pseudo-class
  does not necessarily influence whether the document
  comes out of the printer double- or single-sided
  (which is outside the scope of this specification).</em>
</p>
</div>

<h4 class="heading settled" data-level=4.2.2 id=first-pseudo><span class=secno>4.2.2 </span><span class=content>
First-page pseudo-class: <a class=css data-link-type=maybe href=#valdef-page-first title=:first>:first</a></span><a class=self-link href=#first-pseudo></a></h4>

  <p>The <dfn class=css data-dfn-for=@page data-dfn-type=value data-export="" id=valdef-page-first>:first<a class=self-link href=#valdef-page-first></a></dfn> pseudo-class <a data-link-type=dfn href=#match title=match>matches</a>
  the first printed page of a document.

<div class=example>
<pre>@page { margin: 2cm } /* All margins set to 2cm */

@page :first {
margin-top: 10cm /* Top margin on first page 10cm */
}
</pre>
</div>

<h4 class="heading settled" data-level=4.2.3 id=blank-pseudo><span class=secno>4.2.3 </span><span class=content>
Blank-page pseudo-class: <a class=css data-link-type=maybe href=#valdef-page-blank title=:blank>:blank</a></span><a class=self-link href=#blank-pseudo></a></h4>

  <p>The <dfn class=css data-dfn-for=@page data-dfn-type=value data-export="" id=valdef-page-blank>:blank<a class=self-link href=#valdef-page-blank></a></dfn> pseudo-class <a data-link-type=dfn href=#match title=match>matches</a>
  <a data-link-type=dfn href=#content-empty title="content-empty page">content-empty pages</a>
  that appear as a result of
  <a href=http://www.w3.org/TR/css3-break/#forced-breaks>forced page breaks</a>.

  <div class=note>
    <p>Only the <span class=css>left</span>, <span class=css>right</span>, <span class=css>recto</span> and <span class=css>verso</span> values
    of the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-break-3/#break-before title=break-before>break-before</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-break-3/#break-after title=break-after>break-after</a> properties
    can generate pages that match <a class=css data-link-type=maybe href=#valdef-page-blank title=:blank>:blank</a>.
  </div>

<div class=example>
<p>In this example, forced page break may occur before <code>h1</code> elements.
<pre>h1 { break-before: left }

@page :blank {
  @top-center { content: "This page is intentionally left blank" }
}
</pre>
</div>

<p>
  A page matched by <a class=css data-link-type=maybe href=#valdef-page-blank title=:blank>:blank</a> can also be matched
  by other page pseudo-classes.

<div class=example>

<p>If headers have been specified on all right pages, a blank right
page will be matched by both <code>:blank</code>
and <code>:right</code>. Therefore, margin boxes set on right pages
will have to be removed unless they are wanted on blank pages. Here is
an example where the top center header is removed from blank pages,
while the page number remains:

<pre>h1 { break-before: left }

@page :blank {
  @top-center { content: none }
}

@page :right {
  @top-center { content: "Preliminary edition" }
  @bottom-center { content: counter(page) }
}
</pre>

<p>Due to the higher <a data-link-type=dfn href=#specificity title=specificity>specificity</a> of <code>:blank</code>
over <code>:right</code>, the top center header is removed even
if <code>content: none</code> comes before <code>content: "Preliminary
edition"</code>.

</div>

<div class=note>
<p><em><strong>Note.</strong> Future versions of CSS may include other page
pseudo-classes.</em></p>
</div>

<h3 class="heading settled" data-level=4.3 id=syntax-page-selector><span class=secno>4.3 </span><span class=content>@page rule grammar</span><a class=self-link href=#syntax-page-selector></a></h3>

<p>The syntax for the @page rule is a specialization of the generic at-rule
defined by CSS 2.1. This grammar extends the at-rule syntax to allow @page rules
nested inside @media rules. User agents <em class=RFC2119>MUST</em> adhere
to the following grammar:</p>

<p>See <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>, Section 4.1.1 and Appendix G for the expansion of missing
productions:</p>
<p id=specializatons-of-ATKEYWORD>
All new lexical tokens are specializations of the ATKEYWORD lexical token:</p>
<pre class=lexical>PAGE_SYM              ::= "@page"
TOPLEFTCORNER_SYM     ::= "@top-left-corner"
TOPLEFT_SYM           ::= "@top-left"
TOPCENTER_SYM         ::= "@top-center"
TOPRIGHT_SYM          ::= "@top-right"
TOPRIGHTCORNER_SYM    ::= "@top-right-corner"
BOTTOMLEFTCORNER_SYM  ::= "@bottom-left-corner"
BOTTOMLEFT_SYM        ::= "@bottom-left"
BOTTOMCENTER_SYM      ::= "@bottom-center"
BOTTOMRIGHT_SYM       ::= "@bottom-right"
BOTTOMRIGHTCORNER_SYM ::= "@bottom-right-corner"
LEFTTOP_SYM           ::= "@left-top"
LEFTMIDDLE_SYM        ::= "@left-middle"
LEFTBOTTOM_SYM        ::= "@left-bottom"
RIGHTTOP_SYM          ::= "@right-top"
RIGHTMIDDLE_SYM       ::= "@right-middle"
RIGHTBOTTOM_SYM       ::= "@right-bottom"

<dfn data-dfn-type=dfn data-noexport="" id=media>media<a class=self-link href=#media></a></dfn> :
     MEDIA_SYM S* medium [ COMMA S* medium ]* LBRACE S* [ <a data-link-type=dfn href=#syntax-prod-page title=page_rule>page_rule</a> | ruleset ]* '}' S*
     ;

<dfn data-dfn-type=dfn data-noexport="" id=syntax-prod-page>page_rule<a class=self-link href=#syntax-prod-page></a></dfn> :
     PAGE_SYM S* <a data-link-type=dfn href=#page_selector_list title=page_selector_list>page_selector_list</a> '{' S* <a data-link-type=dfn href=#page_body title=page_body>page_body</a> '}' S*
     ;

<dfn data-dfn-type=dfn data-noexport="" id=page_selector_list>page_selector_list<a class=self-link href=#page_selector_list></a></dfn> :
     [ <a data-link-type=dfn href=#page_selector title=page_selector>page_selector</a> S* [ ',' <a data-link-type=dfn href=#page_selector title=page_selector>page_selector</a> S* ]* ]?
     ;

<dfn data-dfn-type=dfn data-noexport="" id=page_selector>page_selector<a class=self-link href=#page_selector></a></dfn> :
     <a data-link-type=dfn href=#syntax-prod-pseudo-page title=pseudo_page>pseudo_page</a>+ | IDENT <a data-link-type=dfn href=#syntax-prod-pseudo-page title=pseudo_page>pseudo_page</a>*
     ;

<dfn data-dfn-type=dfn data-noexport="" id=syntax-prod-pseudo-page>pseudo_page<a class=self-link href=#syntax-prod-pseudo-page></a></dfn> :
     ':' [ "left" | "right" | "first" | "blank" ]
     ;

<dfn data-dfn-type=dfn data-noexport="" id=page_body>page_body<a class=self-link href=#page_body></a></dfn> :  /* Can be empty */
     declaration? [ ';' S* <a data-link-type=dfn href=#page_body title=page_body>page_body</a> ]? |
     <a data-link-type=dfn href=#syntax-prod-margin title=page_margin_box>page_margin_box</a> <a data-link-type=dfn href=#page_body title=page_body>page_body</a>
     ;

<dfn data-dfn-type=dfn data-noexport="" id=syntax-prod-margin>page_margin_box<a class=self-link href=#syntax-prod-margin></a></dfn> :
     <a data-link-type=dfn href=#syntax-prod-margin-sym title=margin_sym>margin_sym</a> S* '{' S* declaration? [ ';' S* declaration? ]* '}' S*
     ;

<dfn data-dfn-type=dfn data-noexport="" id=syntax-prod-margin-sym>margin_sym<a class=self-link href=#syntax-prod-margin-sym></a></dfn> :
     TOPLEFTCORNER_SYM |
     TOPLEFT_SYM |
     TOPCENTER_SYM |
     TOPRIGHT_SYM |
     TOPRIGHTCORNER_SYM |
     BOTTOMLEFTCORNER_SYM |
     BOTTOMLEFT_SYM |
     BOTTOMCENTER_SYM |
     BOTTOMRIGHT_SYM |
     BOTTOMRIGHTCORNER_SYM |
     LEFTTOP_SYM |
     LEFTMIDDLE_SYM |
     LEFTBOTTOM_SYM |
     RIGHTTOP_SYM |
     RIGHTMIDDLE_SYM |
     RIGHTBOTTOM_SYM
     ;
</pre>

<div class=example>
<p>The following are examples of page selectors (declaration block intentionally
left blank)</p>
<pre>@page { ... }
@page :left { ... }
@page :right { ... }
@page LandscapeTable { ... }
@page CompanyLetterHead:first { ... } /*  identifier and pseudo page. */
@page:first { ... }
@page toc, index { ... }
@page :blank:first { ... }
</pre>

<p>The following are examples of page-margin boxes
where the declaration blocks are intentionally left blank.</p>
<pre>@page {
 @top-left { ... /* document name */ }
 @bottom-center { ... /* page number */}
}
@page :left { @left-middle { ... /* page number in left margin */ }}
@page :right{ @right-middle { ... /* page number in right margins of right pages */}}

@page :left { @bottom-left-corner { ... /* left page numbers */ }}
@page :right { @bottom-right-corner { ... /* right page numbers */ }}
@page :first { @bottom-left-corner { ... /* empty footer on 1st page */ }
             @bottom-right-corner { ... /* empty footer */ } }
</pre>
</div>

<h3 class="heading settled" data-level=4.4 id=cascading-and-page-context><span class=secno>4.4 </span><span class=content>Cascading in the page context</span><a class=self-link href=#cascading-and-page-context></a></h3>

<p>Declarations in page and margin contexts <a href=http://www.w3.org/TR/CSS21/cascade.html>cascade</a> just like declarations in style rule for elements.</p>

<p>The <dfn data-dfn-type=dfn data-noexport="" id=specificity>specificity<a class=self-link href=#specificity></a></dfn> of page a selector is computed in a manner
analogous to the computations defined in
the <a href=http://www.w3.org/TR/CSS21/selector.html>Selectors</a> module:

<ul>
  <li>Count the number of page type names (= <var>f</var>)
    <p class=note>
      Given the syntax of page seletors, <var>f</var> can only ever be 0 or 1.
  <li>Count the number of ':first' or ':blank' pseudo-classes (= <var>g</var>)
  <li>Count the number of ':left' or ':right' pseudo-classes (= <var>h</var>)
</ul>

<p class=note>
  Note: Repeated occurrences of the same pseudo-classes are allowed
  and do increase specificity.

<p>
  Due to storage limitations,
  implementations may have limitations on
  the size of <var>f</var>, <var>g</var>, or <var>h</var>.
  If so, values higher than the limit must be clamped to that limit,
  and not overflow.

<p>
  Specificities are compared by comparing the three components in order
  (<var>f</var>, <var>g</var>, <var>h</var>):
  the specificity with a larger <var>f</var> value is more specific;
  if the two <var>f</var> values are tied,
  then the two <var>g</var> values are compared, etc.
  If all the values are tied, the two specificities are equal.

<div class=example>

<p>Some page specificity calculation examples follow:</p>
<pre>@page { } /* specificity = (0,0,0) */
@page :left { } /* specificity = (0,0,1) */
@page :first { } /* specificity = (0,1,0) */
@page :blank:left { } /* specificity = (0,1,1) */
@page artsy { } /* specificity = (1,0,0) */
@page artsy:left { } /* specificity = (1,0,1) */
@page artsy:first { } /* specificity = (1,1,0) */
</pre>
</div>

<div class=example>

<p>Consider the following usage example:</p>
<pre>@page :left {
  margin-left: 4cm;
}

@page {
  margin-left: 3cm;
}
</pre>

<p>Due to the higher specificity of the pseudo-class selector,
the left margin on left pages will be 4cm and all other pages
(the right-facing pages) will have a left margin of 3cm.
</div>

<div class=example>
<p>In this example, the higher specificity of the green rules wins over the red
rule.
Therefore the first page will have blue text in the top-left page-margin box
and green text in the top-right page-margin box,
while subsequent pages will have red text in the page-margin boxes.</p>
<pre>@page :first {
  color: green;

  @top-left {
    content: "foo";
    color: blue;
  }
  @top-right {
    content: "bar";
  }
}

@page { color: red;
  @top-center {
    content: "Page " counter(page);
  }
}
</pre>
</div>

<div class=example>

<p>Page contexts cascade, so the following stylesheet would style pages with 25
millimeter margins and 14 point type in the page-margin boxes:</p>
<pre>@page { margin: 25mm;}
@page { font-size: 14pt;}
</pre>
</div>

<h2 class="heading settled" data-level=5 id=margin-boxes><span class=secno>5 </span><span class=content>Page-Margin Boxes</span><a class=self-link href=#margin-boxes></a></h2>

  <p>Page-margin boxes are boxes within the page margin that,
  like pseudo-elements, can contain generated content.

  <p>Page-margin boxes can be used to create page headers and footers,
  which are portions of the page set aside for supplementary information
  such as the page number or document title.

  <div class=example>
    <p>Typically, a <dfn data-dfn-type=dfn data-noexport="" id=page-header>page header<a class=self-link href=#page-header></a></dfn> is located at the top of the page
    in documents with a predominately horizontal writing direction
    and on the side opposite the <a href=#binding-edge>binding edge</a>
    for documents with a predominately vertical writing direction.
    One possible design of page headers for horizontally written documents uses the
    <span class=css>@top-left-corner</span>, <span class=css>@top-left</span>, <span class=css>@top-center</span>, <span class=css>@top-right</span> and <span class=css>@top-right-corner</span>
    page-margin boxes.
    Another design, for vertically written documents, could use the
    <span class=css>@right-top</span>, <span class=css>@right-middle</span>, and <span class=css>@right-bottom</span> page-margin boxes
    for <a href=#right-page>right facing pages</a> and
    <span class=css>@left-top</span>, <span class=css>@left-middle</span>, and <span class=css>@left-bottom</span>
    for <a href=#left-page>left facing pages</a>.

    <p>The <dfn data-dfn-type=dfn data-noexport="" id=page-footer>page footer<a class=self-link href=#page-footer></a></dfn> is typically at
    the opposite end of the page from the page header.
    For example, the design of a horizontally written document with a page header
    at the top of the page could use the
    <span class=css>@bottom-left-corner</span>, <span class=css>@bottom-left</span>, <span class=css>@bottom-center</span>, <span class=css>@bottom-right</span> and <span class=css>@bottom-right-corner</span>
    page-margin boxes as the page footer.
    The design of a vertically written document could use
    the page-margin boxes of the binding edge of the page for the page footer.
  </div>

  <p>Page-margin boxes are positioned with respect to the page area
  and are independent of page orientation,
  for example the top page-margin boxes are above the page area
  in both portrait and landscape orientation.
  The various page-margin boxes are defined
  and illustrated in the diagram below:

  <table class=data id=margin-box-def summary="defintion of each of the page-margin boxes">
    <caption>Table 1 Page-Margin Box Definitions</caption>
    <thead>
      <tr>
        <th>Box</th>
        <th>Description</th>
        <th>Placement</th>
      </tr>
    </thead>
    <tbody>
      <tr id=top-margin-boxes-def>
        <th id=top-left-corner-box-def>top-left-corner</th>
        <td>a fixed-size box defined by the intersection of the top and left margins of the
        page box</td>
        <td><img alt="the top left corner box with margin, border, and padding, nested within intersection of the page’s top and left margins" height=47 src=TopLeftCornerBox.png width=181></td>
      </tr>
      <tr id=top-left-box-def>
        <th>top-left</th>
        <td>a variable-width box filling the top page margin between the top-left-corner
        and top-center page-margin boxes</td>
        <td><img alt="the top left box with margin, border, and padding, nested in the page’s top margin next to the top left corner box" height=47 src=TopLeftMarginBox.png width=181></td>
      </tr>
      <tr id=top-center-box-def>
        <th>top-center</th>
        <td>a variable-width box centered horizontally between the page’s left and right
        border edges and filling the page top margin between the top-left and top-right
        page-margin boxes</td>
        <td><img alt="the top center box with margin, border, and padding, centered within the page’s top margin" height=47 src=TopCenterMarginBox.png width=181></td>
      </tr>
      <tr id=top-right-box-def>
        <th>top-right</th>
        <td>a variable-width box filling the top page margin between the top-center and
        top-right-corner page-margin boxes</td>
        <td><img alt="the top right box with margin, border, and padding, nested within the page’s top margin" height=47 src=TopRightMarginBox.png width=181></td>
      </tr>
      <tr>
        <th id=top-right-corner-box-def>top-right-corner</th>
        <td>a fixed-size box defined by the intersection of the top and right margins of
        the page box</td>
        <td><img alt="the top right corner box with margin, border, and padding, nested within the intersection of the page’s top and right margin" height=47 src=TopRightCornerMarginBox.png width=181></td>
      </tr>
      <tr id=left-margin-boxes-def>
        <th id=left-top-box-def>left-top</th>
        <td>a variable-height box filling the left page margin between the top-left-corner
        and left-middle page-margin boxes</td>
        <td rowspan=3><img alt="left-top, left-middle, and left-bottom page-margin boxes in the page box’s left margin" height=226 src=LeftMarginBoxes.png width=181></td>
      </tr>
      <tr id=left-middle-box-def>
        <th>left-middle</th>
        <td>a variable-height box centered vertically between the page’s top and bottom
        border edges and filling the left page margin between the left-top and
        left-bottom page-margin boxes</td>
      </tr>
      <tr id=left-bottom-box-def>
        <th>left-bottom</th>
        <td>a variable-height box filling the left page margin between the left-middle and
        bottom-left-corner page-margin boxes</td>
      </tr>
      <tr id=right-margin-boxes-def>
        <th id=right-top-box-def>right-top</th>
        <td>a variable-height box filling the right page margin between the
        top-right-corner and right-middle page-margin boxes</td>
        <td rowspan=3><img alt="right-top, right-middle, and right-bottom page-margin boxes in the page box’s right margin" height=226 src=RightMarginBoxes.png width=181></td>
      </tr>
      <tr id=right-middle-box-def>
        <th>right-middle</th>
        <td>a variable-height box centered vertically between the page’s top and bottom
        border edges and filling the right page margin between the right-top and
        right-bottom page-margin boxes</td>
      </tr>
      <tr id=right-bottom-box-def>
        <th>right-bottom</th>
        <td>a variable-height box filling the right page margin between the right-middle
        and bottom-right-corner page-margin boxes</td>
      </tr>
      <tr id=bottom-margin-boxes-def>
        <th id=bottom-left-corner-box-def>bottom-left-corner</th>
        <td>a fixed-size box defined by the intersection of the bottom and left margins of
        the page box</td>
        <td><img alt="bottom left corner box with margin, border, and padding, nested within the page margin at the intersection of the left and bottom page margins" height=48 src=BottomLeftCornerBox.png width=181></td>
      </tr>
      <tr id=bottom-left-box-def>
        <th>bottom-left</th>
        <td>a variable-width box filling the bottom page margin between the
        bottom-left-corner and bottom-center page-margin boxes</td>
        <td><img alt="bottom left page-margin box with margin, border, and padding, nested within the page’s bottom margin next to the bottom-left-corner box" height=48 src=BottomLeftMarginBox.png width=181></td>
      </tr>
      <tr id=bottom-center-box-def>
        <th>bottom-center</th>
        <td>a variable-width box centered horizontally between the page’s left and right
        border edges and filling the bottom page margin between the bottom-left and
        bottom-right page-margin boxes</td>
        <td style="vertical-align: middle;"><img alt="bottom center box with margin, border, and padding, nested within the page’s bottom margin and centered on the page" height=48 src=BottomCenterMarginBox.png width=181></td>
      </tr>
      <tr id=bottom-right-box-def>
        <th>bottom-right</th>
        <td>a variable-width box filling the bottom page margin between the bottom-center
        and bottom-right-corner page-margin boxes</td>
        <td><img alt="bottom right page-margin box with margin, border, and padding, nested within the page’s bottom margin and next to the bottom-right-corner box" height=48 src=BottomRightMarginBox.png width=181></td>
      </tr>
      <tr id=bottom-right-corner-box-def>
        <th>bottom-right-corner</th>
        <td>a fixed-size box defined by the intersection of the bottom and right margins of
        the page box</td>
        <td><img alt="bottom right corner box with margin, border, and padding, nested within the page margin at the intersection of the right and bottom page margins" height=48 src=BottomRightCornerBox.png width=181></td>
      </tr>
    </tbody>
  </table>

<h3 class="heading settled" data-level=5.1 id=margin-at-rules><span class=secno>5.1 </span><span class=content>At-rules for page-margin boxes</span><a class=self-link href=#margin-at-rules></a></h3>

<p>Page-margin boxes are created by
<a href=#margin-at-rules>margin at-rules</a>
inside the <a href=#page-context>page context</a>.
Authors should put these rules after any declarations in the page context
as legacy clients may not handle declarations
after margin at-rules correctly.
</p>

<p>A <dfn data-dfn-type=dfn data-noexport="" id=margin-at-rule>margin at-rule<a class=self-link href=#margin-at-rule></a></dfn> consists of an
<a href=#specializatons-of-ATKEYWORD>ATKEYWORD</a>
that identifies the page-margin box
(e.g. <span class=css>@top-left</span>) and a block of declarations (said
to be in the <dfn data-dfn-type=dfn data-noexport="" id=margin-context>margin context<a class=self-link href=#margin-context></a></dfn>).</p>

<div class=example>

<p>The following style sheet establishes a page header containing the title
("Hamlet") on the left side and the page number, preceded by "Page ", on the
right side:</p>
<pre>@page {
  size: 8.5in 11in;
  margin: 10%;

  @top-left {
    content: "Hamlet";
  }
  @top-right {
    content: "Page " counter(page);
  }
}
</pre>
</div>


<h3 class="heading settled" data-level=5.2 id=populating-margin-boxes><span class=secno>5.2 </span><span class=content>Populating page-margin boxes</span><a class=self-link href=#populating-margin-boxes></a></h3>

<p>As with the <span class=css>:before</span> and <span class=css>:after</span> pseudo-elements,
a specified 'content: normal' on a page-margin box computes to <a class=css data-link-type=maybe href=#valdef-marks-none title=none>none</a>.
A page-margin box is <dfn data-dfn-type=dfn data-noexport="" id=generated>generated<a class=self-link href=#generated></a></dfn>
if and only if the computed value of its <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#content title=content>content</a> property is not <a class=css data-link-type=maybe href=#valdef-marks-none title=none>none</a>.
Otherwise, no box is generated, as for elements with <a class=css data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display: none</a>.

<p class=note>
  The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visuren.html#propdef-display title=display>display</a> property does not apply to page-margin boxes.

<div class=example>
<p>The following style sheet creates a green box in each corner of the page
except the bottom-left corner.</p>
<pre>@page {
  @top-left-corner { content: " "; border: solid green; }
  @top-right-corner { content: url(foo.png); border: solid green; }
  @bottom-right-corner { content: counter(page); border: solid green; }
  @bottom-left-corner { content: normal; border: solid green; }
}
</pre>
</div>

<h3 class="heading settled" data-level=5.3 id=margin-dimension><span class=secno>5.3 </span><span class=content>Computing Page-margin Box Dimensions</span><a class=self-link href=#margin-dimension></a></h3>

<p>The width and height of each page-margin box is determined by the rules
below. These rules define the equivalent of CSS2.1 Sections 10.3 and
10.6 for page-margin boxes.</p>

<p>The rules for applying <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-height title=min-height>min-height</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-height title=max-height>max-height</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a>, and
<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-width title=max-width>max-width</a> <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a> do apply to page-margin boxes and may imply
a recalculation of the width, height, and/or margins
if the dimensions resulting from the specified <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>
violate their constraints.
If the UA does not support the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-height title=min-height>min-height</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a> properties
then it must behave as if <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-height title=min-height>min-height</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a> were always zero.

<h4 class="heading settled" data-level=5.3.1 id=margin-box-terms><span class=secno>5.3.1 </span><span class=content><span id=max-margin-dimension></span>Page-Margin Box Layout Terminology</span><a class=self-link href=#margin-box-terms></a></h4>

  <p>In addition to the box model definitions in CSS2.1 <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>,
  and the sizing terms in CSS Intrinsic Sizing <a data-biblio-type=normative data-link-type=biblio href=#css3-sizing title=biblio-CSS3-SIZING>[CSS3-SIZING]</a>,
  the following terms are defined for use
  in the subsequent page-margin box calculations:

  <dl>

    <dt><dfn data-dfn-type=dfn data-noexport="" id=available-width>available width<a class=self-link href=#available-width></a></dfn></dt>
    <dd>The sum of the page’s
      left border width, left padding, <a href=#page-box>page area</a> width,
      right padding, and right border width.
      In other words, it is the distance between
      the <a href=#page-box>page box</a>’s left right border edges.
      This quantity is used  when calculating dimensions
      of the top and bottom page-margin boxes.

    <dt><dfn data-dfn-type=dfn data-noexport="" id=available-height>available height<a class=self-link href=#available-height></a></dfn></dt>
    <dd>The sum of the page’s
      top border width, top padding, <a href=#page-box>page area</a> height,
      bottom padding, and bottom border width.
      In other words, it is the distance between
      the <a href=#page-box>page box</a>’s top bottom border edges.
      This quantity is used when calculating dimensions
      of the left and right page-margin boxes.

    <dt><dfn data-dfn-type=dfn data-noexport="" id=outer-width>outer width<a class=self-link href=#outer-width></a></dfn></dt>
    <dd>The width of the
      <a href=http://www.w3.org/TR/CSS21/box.html#outer-edge>outer edge</a>,
      as defined in <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>.

    <dt><dfn data-dfn-type=dfn data-noexport="" id=min-content-width>min-content width<a class=self-link href=#min-content-width></a></dfn></dt>
    <dd>Whichever of <a data-link-spec=css-sizing data-link-type=dfn title="min-content measure">min-content measure</a>
    or <a data-link-spec=css-sizing data-link-type=dfn title="min-content extent">min-content extent</a> is the physical width.

    <dt><dfn data-dfn-type=dfn data-noexport="" id=max-content-width>max-content width<a class=self-link href=#max-content-width></a></dfn></dt>
    <dd>Whichever of <a data-link-spec=css-sizing data-link-type=dfn title="max-content measure">max-content measure</a>
    or <a data-link-spec=css-sizing data-link-type=dfn title="max-content extent">max-content extent</a> is the physical width.

    <dt><dfn data-dfn-type=dfn data-noexport="" id=outer-min-width>outer min width<a class=self-link href=#outer-min-width></a></dfn></dt>
    <dd>Like the <a data-link-type=dfn href=#outer-width title="outer width">outer width</a>,
    except the <a data-link-type=dfn href=#min-content-width title="min-content width">min-content width</a> is used when the computed <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>.

    <dt><dfn data-dfn-type=dfn data-noexport="" id=outer-max-width>outer max width<a class=self-link href=#outer-max-width></a></dfn></dt>
    <dd>Like the <a data-link-type=dfn href=#outer-width title="outer width">outer width</a>,
    except the <a data-link-type=dfn href=#max-content-width title="max-content width">max-content width</a> is used when the computed <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> is <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>.
  </dl>

  <p>The <dfn data-dfn-type=dfn data-noexport="" id=containing-block>containing block<a class=self-link href=#containing-block></a></dfn> for a page-margin box depends on its location:

  <p>For a corner page-margin box,
  it is the rectangle defined by the intersection of the two page margins meeting at that corner.

  <p>For all other page-margin boxes,
  the <a data-link-type=dfn href=#containing-block title="containing block">containing block</a> is the rectangle
  formed by the encapsulating page margin minus the containing blocks of the
  adjacent corners' page-margin boxes.
  This means that the size of this containing block is given
  in one dimension by the used page margin and in the other dimension
  by the <a data-link-type=dfn href=#available-width title="available width">available width</a>
  (for top and bottom page-margin boxes) or
  <a data-link-type=dfn href=#available-height title="available height">available height</a>
  (for left and right page-margin boxes).</p>

<h4 class="heading settled" data-level=5.3.2 id=variable-sizing><span class=secno>5.3.2 </span><span class=content>
Page-Margin Box Variable Dimension Computation Rules</span><a class=self-link href=#variable-sizing></a></h4>

<p>The following rules apply to <span class=css>@top-left</span>, <span class=css>@top-center</span> and <span class=css>@top-right</span>
page-margin boxes,
which are referred to as A, B, and C, respectively, in this section.</p>

<h5 class="heading settled" data-level=5.3.2.1 id=variable-auto-margins><span class=secno>5.3.2.1 </span><span class=content>Margins</span><a class=self-link href=#variable-auto-margins></a></h5>

<p>If the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a> property of any of the three boxes
computes to <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>, the used value is zero.</p>

<h5 class="heading settled" data-level=5.3.2.2 id=variable-auto-sizing><span class=secno>5.3.2.2 </span><span class=content>Resolving <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> widths</span><a class=self-link href=#variable-auto-sizing></a></h5>

<p>The following algorithm determines the used width of each box.
For this purpose, boxes that are not <a data-link-type=dfn href=#generated title=generated>generated</a>
are assumed to have a <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and an <a data-link-type=dfn href=#outer-width title="outer width">outer width</a> of zero.
</p>

<p class=note>
Note: The high-level goals are (in order of priority) to center the middle
box (B) if it is generated, to minimize overflow and overlap, and to
distribute space proportionally to the amount of content.</p>

  <p>If the middle box (B) is not <a data-link-type=dfn href=#generated title=generated>generated</a>,
  distribute the <a data-link-type=dfn href=#available-width title="available width">available width</a> to A and C as follows:

  <ul>
    <li>
      If only one box has 'width: auto',
      its used width is resolved so that
      the sum of the <a data-link-type=dfn href=#outer-width title="outer width">outer width</a>s equals <a data-link-type=dfn href=#available-width title="available width">available width</a>.
    </li>

    <li id=flex-fit><a class=self-link href=#flex-fit></a>
      If A and C both have 'width: auto', distribute the space to each box as follows:
      <ol>
        <li>If the sum of the outer <a data-link-type=dfn href=#max-content-width title="max-content widths">max-content widths</a> is less than the <a data-link-type=dfn href=#available-width title="available width">available width</a>,
            call that difference the <dfn data-dfn-type=dfn data-noexport="" id=flex-space>flex space<a class=self-link href=#flex-space></a></dfn>.
            Calculate each box’s <dfn data-dfn-type=dfn data-noexport="" id=flex-factor>flex factor<a class=self-link href=#flex-factor></a></dfn> as proportional to
            its outer <a data-link-type=dfn href=#max-content-width title="max-content width">max-content width</a>,
            and set its used outer width to:
            <p><code><a data-link-type=dfn href=#max-content-width title="max-content width">max-content width</a> + <a data-link-type=dfn href=#flex-space title="flex space">flex space</a> × <a data-link-type=dfn href=#flex-factor title="flex factor">flex factor</a> ÷ ∑<a data-link-type=dfn href=#flex-factor title="flex factors">flex factors</a></code></p>
        <li>Otherwise if the sum of the outer <a data-link-type=dfn href=#min-content-width title="min-content widths">min-content widths</a> is less than the <a data-link-type=dfn href=#available-width title="available width">available width</a>,
            call that difference the <a data-link-type=dfn href=#flex-space title="flex space">flex space</a>
            calculate each box’s <a data-link-type=dfn href=#flex-factor title="flex factor">flex factor</a> as proportional to
            its <a data-link-type=dfn href=#max-content-width title="max-content width">max-content width</a> minus <a data-link-type=dfn href=#min-content-width title="min-content width">min-content width</a>,
            and set its used outer width to:
            <p><code><a data-link-type=dfn href=#min-content-width title="min-content width">min-content width</a> + <a data-link-type=dfn href=#flex-space title="flex space">flex space</a> × <a data-link-type=dfn href=#flex-factor title="flex factor">flex factor</a> ÷ ∑<a data-link-type=dfn href=#flex-factor title="flex factors">flex factors</a></code></p>
        <li>Otherwise,
            calculate its outer size as in the previous case,
            but set each box’s <a data-link-type=dfn href=#flex-factor title="flex factor">flex factor</a> as proportional to
            its outer <a data-link-type=dfn href=#min-content-width title="min-content width">min-content width</a>.
      </ol>
      In each case, both <a data-link-type=dfn href=#flex-factor title="flex factors">flex factors</a> are assumed to be <span class=css>1</span> if their sum is equal to zero.
    </li>
  </ul>

  <p>If the middle box (B) is <a data-link-type=dfn href=#generated title=generated>generated</a>,
  determine the <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> widths of A, B, and C as follows:

  <ol>
    <li>
      First, resolve any <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> width of the middle box (B):
      Assume there are two boxes, B and AC,
      where each of AC’s dimensions is double the maximum of A and C.
      (This preserves B’s centering.)
      Distribute the space to these two boxes (B and the imaginary AC)
      as described for A and C <a href=#flex-fit>above</a>.
    <li>
      Then, resolve any <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> widths of the side boxes (A and C)
      by setting that box’s outer width to
      <p><code>(<a data-link-type=dfn href=#available-width title="available width">available width</a> − used <a data-link-type=dfn href=#outer-width title="outer width">outer width</a>s of B) ÷ 2</code></p>
    </li>
  </ol>

<h5 class="heading settled" data-level=5.3.2.3 id=variable-minmax><span class=secno>5.3.2.3 </span><span class=content>Handling <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-width title=max-width>max-width</a></span><a class=self-link href=#variable-minmax></a></h5>

<p>
  The <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-width title=max-width>max-width</a> properties <a data-biblio-type=informative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a> apply to page-margin
  boxes in the variable dimension like on normal elements, except that the
  three boxes on the same side are considered together.
</p>

<p>
  More precisely:
</p>

<ol>
  <li>
    The tentative used widths are calculated
    (without <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-width title=max-width>max-width</a>) following the rules under
    <a href=#variable-auto-sizing>Resolving </a><a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> widths
    above.
  </li>
  <li>
    If the tentative used width of any of the three boxes
    is greater than <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-width title=max-width>max-width</a>, the rules above are applied again,
    but this time using the computed value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-max-width title=max-width>max-width</a>
    as the computed value for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>.
  </li>
  <li>
    If the resulting width of any of the three boxes
    is smaller than <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a>, the rules above are applied again,
    but this time using the value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-min-width title=min-width>min-width</a>
    as the computed value for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>.
  </li>
</ol>

<h5 class="heading settled" data-level=5.3.2.4 id=variable-position><span class=secno>5.3.2.4 </span><span class=content>Positioning</span><a class=self-link href=#variable-position></a></h5>

<p>
  Once the dimensions of the boxes are determined,
  they are positioned as follows:
</p>

<ul>
  <li>The left outer edge of A is flush with the left edge of the
      containing block</li>
  <li>The outer area of B is centered in the containing block.</li>
  <li>The right outer edge of C is flush with the right edge of the
      containing block.</li>
</ul>

<h5 class="heading settled" data-level=5.3.2.5 id=variable-mapping><span class=secno>5.3.2.5 </span><span class=content>Boxes on other sides</span><a class=self-link href=#variable-mapping></a></h5>

<p>The used values for <span class=css>@bottom-left</span>, <span class=css>@bottom-center</span> and <span class=css>@bottom-right</span>
page-margin boxes are established by the same rules as
for <span class=css>@top-left</span>, <span class=css>@top-center</span>, and <span class=css>@top-right</span>, respectively.</p>

<p>The used values for <span class=css>@left-top</span>, <span class=css>@left-middle</span> and <span class=css>@left-bottom</span> boxes are
established by the same rules, with "width" replaced by "height", "left" by
"top", "right" by "bottom" and "center" by "middle".</p>

<p>The used values for <span class=css>@right-top</span>, <span class=css>@right-middle</span> and <span class=css>@right-bottom</span>
page-margin boxes
are established by the same rules as for <span class=css>@left-top</span>, <span class=css>@left-middle</span> and
<span class=css>@left-bottom</span>, respectively.</p>

<h4 class="heading settled" data-level=5.3.3 id=fixed-sizing><span class=secno>5.3.3 </span><span class=content>Page-Margin Box Fixed Dimension Computation Rules</span><a class=self-link href=#fixed-sizing></a></h4>

<p>The rules below are used to calculate the used values of each
<span class=css>@top-left-corner</span>, <span class=css>@top-left</span>, <span class=css>@top-center</span>, <span class=css>@top-right</span>, and
<span class=css>@top-right-corner</span> page-margin box’s <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a>, and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a>
properties:</p>

<ol>
  <li>The following constraint must hold among the used values of the margin
  box’s properties:
  <p><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#border-top-width title=border-top-width>border-top-width</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-padding-top title=padding-top>padding-top</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> +
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-padding-bottom title=padding-bottom>padding-bottom</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#border-bottom-width title=border-bottom-width>border-bottom-width</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> = top page margin

  <li>If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#border-top-width title=border-top-width>border-top-width</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-padding-top title=padding-top>padding-top</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> (if it is not <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>)
<ul><li data-md=""><p><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-padding-bottom title=padding-bottom>padding-bottom</a> + <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-backgrounds-3/#border-bottom-width title=border-bottom-width>border-bottom-width</a>, plus <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and/or
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> if not <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>, is larger than the height of the top page
  margin, then any <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> values for <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> or <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> are, for
  the following rules, treated as zero.</p>
</ul>
  <li>If at this point all of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a>, <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a>, and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a>
  have a computed value other than <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>, the values are said to be
  "over-constrained". In this case, the specified value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> is
  treated as <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>.

  <li>If there is now exactly one value specified as <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>, its used value
  follows from the equality.

  <li>If <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> is set to <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>, any other <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> values become <a class=property data-link-type=propdesc title=0>0</a> and
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> follows from the resulting equality

  <li>If both <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> are <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>,
  their used values are equal.
  This vertically centers the page-margin box content
  within the top page margin.
</ol>

<p>The same rules apply to the bottom page-margin boxes (bottom-left-corner,
bottom-left, bottom-center, bottom-right, and bottom-right-corner), except that
in the overconstrained case, the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-bottom title=margin-bottom>margin-bottom</a> is ignored rather than the
<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-top title=margin-top>margin-top</a>.</p>

<p>Analogous rules govern the properties for the left and right
page-margin boxes with respect to <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a>
(top-left-corner, left-top, left-middle, left-bottom, and
bottom-left-corner; top-right-corner, right-top, right-middle, right-bottom,
bottom-right-corner), with "top" replaced by "left", "bottom" replaced by
"right", and "height" replaced by "width".
In the overconstrained case for left (right) page-margin boxes,
the specified value of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-left title=margin-left>margin-left</a> (<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin-right title=margin-right>margin-right</a>) is ignored.</p>

<h3 class="heading settled" data-level=5.4 id=margin-box-ex><span class=secno>5.4 </span><span class=content>Page-margin box examples</span><a class=self-link href=#margin-box-ex></a></h3>

<p>The following is a collection of examples of page-margin box usage.</p>

<div class=example>

<p>Here is an example of a page with only a top-left header:</p>
<pre>@page {
@top-left { content: "Header in Left Cell (top-left)" }
}
</pre>

<p>Because there are no contents defined for the top-center or the top-right
page-margin boxes, the extent of the top-left page-margin box
is allowed to cross the center of the page box.</p>

<p><img alt="Header Example 1" height=177 src=header-ex-1.png width=737></p>
</div>

<div class=example>

<p>The following is an example of a page with a centered header:</p>
<pre>@page {
@top-center { content: "Header in Center Cell (top-center)" }
}
</pre>

<p><img alt="Header Example 2" height=177 src=header-ex-2.png width=737></p>
</div>

<div class=example>

<p>The following is an example of a page with a single header in the top-right
page-margin box:</p>
<pre>@page {
@top-right { content: "Header in Right Cell (top-right)" }
}
</pre>

<p>Because the content of the center cell is empty, the extent of the top-right
page-margin box is allowed to cross the center of the page box.</p>

<p><img alt="Header Example 3" height=177 src=header-ex-3.png width=737></p>
</div>

<div class=example>

<p>The following is an example of a page with a top-center and a top-left header:</p>
<pre>@page {
@top-left { content: "Left Cell (top-left)" }
@top-center { content: "Header in Center Cell (top-center)" }
}
</pre>

<p><img alt="Header Example 4" height=177 src=header-ex-4.png width=737></p>
</div>

<div class=example>

<p>The following is an example of a page with a top-center and a top-right header:</p>
<pre>@page {
@top-center { content: "Header in Center Cell (top-center)" }
@top-right { content: "Right Cell (top-right)" }
}
</pre>

<p><img alt="Header Example 5" height=177 src=header-ex-5.png width=737></p>
</div>

<div class=example>

<p>The following is an example of a page with top-left and top-right headers:</p>
<pre>@page {
@top-left { content: "Header in top-left with approx. "
                   "twice as many words as right cell." }
@top-right { content: "Right cell (top-right)" }
}
</pre>

<p>Because there are no center cell contents, the extent of the top-left is
allowed to cross the center of the page box.</p>

<p><img alt="Header Example 6" height=177 src=header-ex-6.png width=737></p>
</div>

<h2 class="heading settled" data-level=6 id=page-properties><span class=secno>6 </span><span class=content>Page Properties</span><a class=self-link href=#page-properties></a></h2>
<div>

<p>
  <a href=#properties-list>Appendix A</a> defines the normative list of
  CSS 2.1 <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>
  <a href=#page-property-list>properties that apply to page boxes</a>.
  If a conforming user agent supports any of these properties on block boxes,
  then it <em class=RFC2119>MUST</em> also support that property
  in the <a data-link-type=dfn href=#page-context title="page context">page context</a>.
  This specification additionally defines the <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a> property
  that only applies in the page context.

<p>
  Properties that apply to the page-margin boxes can also be set
  within the page context:
  if inheritable or explicitly inherited
  (with the <span class=css>inherit</span> keyword in the margin context),
  they will inherit to the page-margin boxes.

<p>
  The same appendix defines the normative list of
  CSS 2.1 <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>
  <a href=#page-property-list>properties that apply to page-margin boxes</a>.
  If a conforming user agent supports any of these properties on block boxes,
  then it <em class=RFC2119>MUST</em> also support that property
  in the <a data-link-type=dfn href=#margin-context title="margin context">margin context</a>.

<p>
  Other properties defined by <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a> do not apply in these contexts.
  Behavior for properties not included in CSS 2.1 is undefined.

<p class=note>
Note: The intent of leaving other properties undefined is to allow the gradual
addition of appropriate CSS3 properties as they emerge, without having to
update this specification with each addition.</p>

<p><a href=http://www.w3.org/TR/CSS21/cascade.html#value-stages>As with
elements in the document</a>, both the page context and the margin context
have a computed value for every property, even if that property does not
apply to the page or page-margin box.</p>

<p>The normal rules for CSS properties apply with the following exceptions:</p>

<ul>
  <li>page-margin boxes inherit from the page context.
  The page context inherits from the root element.
  However, since the previous revision of CSS Paged
  Media Level 3 did not specify this point, an implementation that sets
  inherited properties in the page context to their initial values (as for the
  root element) is also conformant to CSS Paged Media Level 3. Note that this
  exception will be removed in Level 4.
  <li>Values in units of <span class=css>em</span> and <span class=css>ex</span> are interpreted relative to the font
  associated with their context. When used on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-fonts-3/#propdef-font-size title=font-size>font-size</a> property in the
  margin context, they are relative to the font of the page context. When used
  on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-fonts-3/#propdef-font-size title=font-size>font-size</a> property in the page context, they are relative to the
  <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-fonts-3/#propdef-font-size title=font-size>font-size</a> of the root element. However, since a previous revision of CSS
  Paged Media Level 3 was ambiguous on this point, an implementation that
  treats <span class=css>em</span> and <span class=css>ex</span> on <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-fonts-3/#propdef-font-size title=font-size>font-size</a> as relative to the initial value is
  also conformant to CSS Paged Media Level 3. Note that this exception will
  be removed in Level 4.
  <li>Percentage values on the margin and padding properties are relative to the
  dimensions of the containing block. For right and left values, percentages are
  relative to the width of the containing block; for top and bottom values,
  percentages are relative to the height of the containing block.</li>
  <li>The used values of <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-width title=width>width</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-height title=height>height</a> have special computation rules
  for page boxes and page-margin boxes; see <a href=#page-size>Page Size</a>
  and <a href=#margin-dimension>Computing Page-Margin Box Dimensions</a>.
  <li>The page background is positioned and painted
    <a href=#painting>as described above</a>.
  <li>The rules for counter scoping are modified <a href=#page-based-counters>as
  described below</a>.</li>
  <li>
    As on the '::before' and '::after' pseudo-elements,
    the <span class=css>normal</span> value of the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#content title=content>content</a> property computes to <a class=css data-link-type=maybe href=#valdef-marks-none title=none>none</a>
    on page-margin boxes.
  </li>
  <li>On page-margin boxes, the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-vertical-align title=vertical-align>vertical-align</a> property behaves
  <a href=http://www.w3.org/TR/CSS21/tables.html#height-layout>as specified for table cells</a>.
  It <em>always</em> performs alignment in the vertical dimension,
  regardless of writing mode.
</ul>

<p>It is <em class=RFC2119>recommended</em> that user agents establish a default
page margin via the user agent stylesheet that includes any non-printable area.
It is further <em class=RFC2119>recommended</em> that authors assume that the
default page area will not include unprintable regions.</p>

<h3 class="heading settled" data-level=6.1 id=page-based-counters><span class=secno>6.1 </span><span class=content>Page-based counters</span><a class=self-link href=#page-based-counters></a></h3>

<p>Counters can be defined and controlled within an <span class=css>@page</span>
rule, and used as content in page-margin boxes.
This is useful for maintaining a page count.</p>

<p>A <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#counter-increment title=counter-increment>counter-increment</a> within either a page or margin context causes the counter
to increment with the generation of each page box.</p>

<p>If a counter is reset or incremented within the page context, it is in scope
for all page-margin boxes and obscures all counters of the same name within the
document.</p>

<p>If a counter is reset or incremented within a margin context, it is in scope
for that page-margin box and obscures any counters of the same name
in both the page context and the document.</p>

<p>If a counter that has not been reset or incremented within the margin context
or the page context is used by counter() or counters() in the margin context,
then the resultant value is exactly
as if the page-margin box were an element within
the document at the start of the page, inside the deepest element in the normal
flow that spans the page break. Use of the counter in this way does not affect
the calculation of the counter’s value.</p>

<p>
  A counter named <span class=css>page</span> is automatically created
  and incremented by 1 on every page of the document,
  unless the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#counter-increment title=counter-increment>counter-increment</a> property in the <a data-link-type=dfn href=#page-context title="page context">page context</a>
  explicitly specifies a different increment for the <span class=css>page</span> counter.
  The implied <span class=css>page</span> counter is a real counter,
  and can be directly affected using the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#counter-increment title=counter-increment>counter-increment</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#counter-reset title=counter-reset>counter-reset</a> properties
  when named explicitly in those properties.
  It can also be used in the 'counter()' and 'counters()' function forms.
</p>

<div class=example>
<p>The following rules result in the placement of the current page number in the
middle of the outside margin of each page.</p>
<pre>@page {
  margin: 10%;

  @top-center {
    font-family: sans-serif;
    font-weight: bold;
    font-size: 2em;
    content: counter(page);
  }
}
</pre>

<p>Adding the following rule will make all pages even-numbered.</p>
<pre>@page {
  counter-increment: page 2;
}
</pre>
</div>

<p>Additionally, a counter named <span class=css>pages</span> is automatically created by the UA.
Its value is always the total number of pages in the document. (In continuous
media this is always 1.) The value of <span class=css>pages</span> cannot be manipulated: while
<a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#counter-reset title=counter-reset>counter-reset</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-content-3/#counter-increment title=counter-increment>counter-increment</a> statements that set it are valid, they
have no effect.

  <p>In all other respects, page-associated counters behave as described
    in <a data-biblio-type=normative data-link-type=biblio href=#css21 title=biblio-CSS21>[CSS21]</a>,
    <a href=http://www.w3.org/TR/CSS21/generate.html#scope>Nested Counters
    and Scope</a> and
    <a href=http://www.w3.org/TR/CSS21/syndata.html#counter>Counters</a>.

<h3 class="heading settled" data-level=6.2 id=margin-text-alignment><span class=secno>6.2 </span><span class=content>Page-margin boxes and default values</span><a class=self-link href=#margin-text-alignment></a></h3>

<p>Properties used within page or margin contexts take their initial values from
their respective property definitions; however, user agents must behave as
though the values in the following table were established by rules in the UA
default style sheet.</p>
<table class=data id=margin-values summary="definition of page-margin box default properties">
  <caption>Table 2. Default values for Page-Margin Boxes</caption>
  <thead>
    <tr>
      <th>Page-margin box</th>
      <th><span class=property><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-text-3/#propdef-text-align title=text-align>text-align</a></span></th>
      <th><span class=property><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/visudet.html#propdef-vertical-align title=vertical-align>vertical-align</a></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href=#top-left-corner-box-def>top-left-corner</a></td>
      <td>right</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#top-left-box-def>top-left</a></td>
      <td>left</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#top-center-box-def>top-center</a></td>
      <td>center</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#top-right-box-def>top-right</a></td>
      <td>right</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#top-right-corner-box-def>top-right-corner</a></td>
      <td>left</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#left-top-box-def>left-top</a></td>
      <td>center</td>
      <td>top</td>
      </tr>
    <tr>
      <td><a href=#left-middle-box-def>left-middle</a></td>
      <td>center</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#left-bottom-box-def>left-bottom</a></td>
      <td>center</td>
      <td>bottom</td>
      </tr>
    <tr>
      <td><a href=#right-top-box-def>right-top</a></td>
      <td>center</td>
      <td>top</td>
      </tr>
    <tr>
      <td><a href=#right-middle-box-def>right-middle</a></td>
      <td>center</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#right-bottom-box-def>right-bottom</a></td>
      <td>center</td>
      <td>bottom</td>
      </tr>
    <tr>
      <td><a href=#bottom-left-corner-box-def>bottom-left-corner</a></td>
      <td>right</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#bottom-left-box-def>bottom-left</a></td>
      <td>left</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#bottom-center-box-def>bottom-center</a></td>
      <td>center</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#bottom-right-box-def>bottom-right</a></td>
      <td>right</td>
      <td>middle</td>
      </tr>
    <tr>
      <td><a href=#bottom-right-corner-box-def>bottom-right-corner</a></td>
      <td>left</td>
      <td>middle</td>
    </tr>
  </tbody>
</table>

<div class=example>

<p>This example style sheet could be used to create a centered header with the
current chapter name:</p>
<pre>body {counter-reset: chapter;}
div.chapter {counter-increment: chapter;}
@page {
margin: 10%;
@top-center { content: "Chapter" counter(chapter) }
}
</pre>
</div>

<h2 class="heading settled" data-level=7 id=page-size><span class=secno>7 </span><span class=content>Page Size</span><a class=self-link href=#page-size></a></h2>

<p>People around the world use many different paper sizes. It is a goal of this
specification that web content should be adaptable to a range of different
sizes without having to write a specific style sheet for each paper size.</p>

<p>However, in some situations it is important that a certain page size achieves a
certain style. One way to achieve this goal is to utilize the <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a> property,
which indicates that the document should preferentially be displayed on a
surface of a certain size; another method is to use Media Queries <a data-biblio-type=informative data-link-type=biblio href=#mediaq title=biblio-MEDIAQ>[MEDIAQ]</a>
which allow different style sheets to be applied to different page sizes.</p>

<h3 class="heading settled" data-level=7.1 id=page-size-prop><span class=secno>7.1 </span><span class=content>Page size: the <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a> property</span><a class=self-link href=#page-size-prop></a></h3>

<table class=propdef summary="definition of the size property">
  <tr>
    <th>Name:
    <td><dfn class=css data-dfn-type=property data-export="" id=propdef-size>size<a class=self-link href=#propdef-size></a></dfn><tr>
    <th>Value:
    <td>&lt;length&gt;{1,2} | auto | [ &lt;page-size&gt; || [ portrait | landscape] ]
  <tr>
    <th>Initial:
    <td>auto
  <tr>
    <td><em>Applies to:</em>
    <td>page context
  <tr>
    <th>Inherited:
    <td>N/A
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>paged
  <tr>
    <td><em>Computed value:</em>
    <td>specified value
</table>

<p>This property specifies the target size and orientation of the
<a href=#page-box>page box</a>’s containing block.
In the general case, where one page box is rendered onto one <a href=#page-sheet>page sheet</a>,
the <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a> property also indicates the size of the destination page sheet.

<p>The size of a page box can either be "absolute" (fixed size) or "scalable"
(i.e., fitting available sheet sizes).
The first three values in the table below can be used to create scalable page
boxes.
Other values define a fixed-size page box, and thereby indicate the preferred
output media size. When possible, output should be rendered on the media size
indicated.
If the specified size is not available, the rules for
<a href=#renderingpages>transposing a page box to a different size</a>
apply.</p>

<p>If a <code>size</code> property declaration is qualified by a <span class=css>width</span>,
<span class=css>height</span>, <span class=css>device-width</span>, <span class=css>device-height</span>, <span class=css>aspect-ratio</span>,
<span class=css>device-aspect-ratio</span> or <span class=css>orientation</span>
media query <a data-biblio-type=normative data-link-type=biblio href=#mediaq title=biblio-MEDIAQ>[MEDIAQ]</a> (or other conditional on the size of the paper), then
the declaration must be
<a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignored</a>. Media
queries do not honor <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a>: they assume the paper size that would be chosen
if no @page rules were specified.</p>

<div class=issue id=issue-d08134f6><a class=self-link href=#issue-d08134f6></a>
  <p>It would be useful if media queries could respond at least
  to sizes specified on an unqualified @page.

  <p>Another option could be to do like <span class=css>@viewport</span> rules
  <a data-biblio-type=informative data-link-type=biblio href=#css-device-adapt title=biblio-CSS-DEVICE-ADAPT>[CSS-DEVICE-ADAPT]</a>:
  First apply <span class=css>@page</span> rules (matching which selectors?),
  using the UA’s default page size for Media Queries and
  <a href=http://www.w3.org/TR/css3-values/#viewport-relative-lengths>viewport-percentage lengths</a>
  <a data-biblio-type=informative data-link-type=biblio href=#css3val title=biblio-CSS3VAL>[CSS3VAL]</a>.
  The resulting page size is the "base page size".
  The entire set of stylesheets is applied again,
  this time using the "base page size" for Media Queries
  and viewport-percentage lengths.
</div>


<div class=example>
  <p>In the following example
  <pre>@page {
  size: 4in 6in;
}
@media (max-width: 6in) {
  @page {
    size: letter;
  }
}
</pre>
  <p>The second <code>size</code> declaration is ignored, i.e. the specified value
  of the <code>size</code> property is <code>4in 6in</code>.
</div>

<table class=page-sizes>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
<tr>
<td>auto</td>
<td>The page box will be set to a size and orientation chosen by the UA. In the
usual case, the page box size and orientation is chosen to match the target
media sheet.</td>
</tr>
<tr>
<td>landscape</td>
<td>Specifies that the page’s content be printed in landscape orientation. The
longer sides of the page box are horizontal. If a <a class="production css" data-link-type=type href=#typedef-page-size title="<page-size>">&lt;page-size&gt;</a> is not specified, the size of the page sheet
is chosen by the UA.</td>
</tr>
<tr>
<td>portrait</td>
<td>Specifies that the page’s content be printed in portrait orientation. The
shorter sides of the page box are horizontal. If a <a class="production css" data-link-type=type href=#typedef-page-size title="<page-size>">&lt;page-size&gt;</a> is not specified, the size of the page sheet
is chosen by the UA.</td>
</tr>
<tr>
<td>&lt;length&gt;</td>
<td>The page box will be set to the given absolute dimension(s). If only one length
value is specified, it sets both the width and height of the page box (i.e.,
the box is a square). If two length values are specified, the first establishes
the page box width, and the second the page box height. Values in units of
<span class=css>em</span> and <span class=css>ex</span> refer to the
page context’s font. Negative lengths are illegal.</td>
</tr>
<tr>
<td><dfn class=css data-dfn-type=type data-export="" id=typedef-page-size><a class="production css" data-link-type=type href=#typedef-page-size title="<page-size>">&lt;page-size&gt;</a><a class=self-link href=#typedef-page-size></a></dfn></td>
<td>A page size can be specified using one of the following media names. This is
the equivalent of specifying <a class=property data-link-type=propdesc href=#propdef-size title=size>size</a>
using length values. The definition of the the media names comes from
<cite>Media Standardized Names</cite> <a data-biblio-type=normative data-link-type=biblio href=#pwgmsn title=biblio-PWGMSN>[PWGMSN]</a>.

<dl>

<dt>A5</dt>
<dd>Equivalent to the size of ISO A5 media: 148mm wide and 210 mm high.</dd>

<dt>A4</dt>
<dd>Equivalent to the size of ISO A4 media: 210 mm wide and 297 mm high.</dd>

<dt>A3</dt>
<dd>Equivalent to the size of ISO A3 media: 297mm wide and 420mm high.</dd>

<dt>B5</dt>
<dd>Equivalent to the size of ISO B5 media: 176mm wide by 250mm high.</dd>

<dt>B4</dt>
<dd>Equivalent to the size of ISO B4 media: 250mm wide by 353mm high.</dd>

<dt>letter</dt>
<dd>Equivalent to the size of North American letter media: 8.5 inches wide and 11
inches high</dd>

<dt>legal</dt>
<dd>Equivalent to the size of North American legal: 8.5 inches wide by 14 inches
high.</dd>

<dt>ledger</dt>
<dd>Equivalent to the size of North American ledger: 11 inches wide by 17 inches
high.</dd>
</dl></td>
</tr>
</table>

<p>The <a class="production css" data-link-type=type href=#typedef-page-size title="<page-size>">&lt;page-size&gt;</a> names can be used in conjunction with <span class=css>landscape</span> or
<span class=css>portrait</span> to indicate both size and orientation.</p>

<div class=example>
<pre>@page {
size: A4 landscape;
}
</pre>

<p>The above example sets the width of the page box to be 297mm and the height to
be 210mm. The page box in this example should be rendered on a page sheet size
of 210 mm by 297 mm.</p>
</div>

<div class=example>

<p>In the following example, the outer edges of the page box will align with the
page. The percentage value on the <span class=property><a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css2/box.html#propdef-margin title=margin>margin</a></span>
property is relative to the page size so if the page sheet dimensions are 210mm
x 297mm (i.e., A4), the margins are 21mm and 29.7mm. Assuming there are no page
borders or padding set in the UA default style sheet, the resulting page area
is 189mm by 367.3mm (210mm-21mm by 297mm-29.7mm).</p>
<pre>@page {
size: auto;/* auto is the initial value */
margin: 10%;
}
</pre>
</div>

<div class=example>
<pre>@page {
size: 8.5in 11in;/* width height */
}
</pre>

<p>The above example sets the width of the page box to be 8.5 inches and the
height to be 11 inches. This indicates that the page sheet size should be
8.5"x11" and the orientation <span class=css>portrait</span>.</p>
</div>

<h4 class="heading settled" data-level=7.1.1 id=page-size-media-query><span class=secno>7.1.1 </span><span class=content>Media Queries</span><a class=self-link href=#page-size-media-query></a></h4>

<p>This section is informative.</p>

<p>By using Media Queries <a data-biblio-type=informative data-link-type=biblio href=#mediaq title=biblio-MEDIAQ>[MEDIAQ]</a>, one style sheet can express different
stylistic preferences for different page sizes. Consider this example:</p>

<div class=example style="font-size: 10pt;">
<pre>/* style sheet for "A4" printing */
@media print and (width: 21cm) and (height: 29.7cm) {
   @page {
      margin: 3cm;
   }
}
/* style sheet for "letter" printing */
@media print and (width: 8.5in) and (height: 11in) {
   @page {
       margin: 1in;
   }
}
</pre>
</div>

<p>In the example above, "A4" sheets are given a "3cm" page margin, and "letter"
sheets are given a "1in" page margin.</p>


<h3 class="heading settled" data-level=7.2 id=marks><span class=secno>7.2 </span><span class=content>
Crop and Registration Marks: the <a class=property data-link-type=propdesc href=#propdef-marks title=marks>marks</a> property</span><a class=self-link href=#marks></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-marks>marks<a class=self-link href=#propdef-marks></a></dfn><tr><th>Value:<td class=prod>none <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> [ crop <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-any title=||>||</a> cross ]<tr><th>Initial:<td>none<tr><th>Applies to:<td>page context<tr><th>Inherited:<td>no<tr><th>Media:<td>paged<tr><th>Computed value:<td>as specified</table>

	<p>This property adds crop and/or registration marks to the document.
	These are printed outside the page box to facilitate
	the trimming and alignment of sheets of paper.
	Values have the following meanings:

	<dl>
		<dt><dfn class=css data-dfn-for=marks data-dfn-type=value data-export="" id=valdef-marks-none><a class=css data-link-type=maybe href=#valdef-marks-none title=none>none</a><a class=self-link href=#valdef-marks-none></a></dfn>
			Specifies that neither crop marks nor registration marks should be printed:
			the area outside the <a data-link-type=dfn href=#bleed-area title="bleed area">bleed area</a> will be completely blank.
		<dt><dfn class=css data-dfn-for=marks data-dfn-type=value data-export="" id=valdef-marks-crop><a class=css data-link-type=maybe href=#valdef-marks-crop title=crop>crop</a><a class=self-link href=#valdef-marks-crop></a></dfn>
			Specifies that crop marks should be printed.
			These are typically short lines outside the page box
			that are effectively extensions of the page box’s four edges,
			thereby indicating the precise location of those edges
			without placing any ink near or within the page box itself.
		<dt><dfn class=css data-dfn-for=marks data-dfn-type=value data-export="" id=valdef-marks-cross><a class=css data-link-type=maybe href=#valdef-marks-cross title=cross>cross</a><a class=self-link href=#valdef-marks-cross></a></dfn>
		<dd>
			Specifies that registration marks should be printed.
			These are typically cross-shaped marks outside each edge of the page box
			used to align sheets of paper during the printing process.
	</dl>

	<p class=note>
		Note that crop marks and registration marks are only visible
		if the page box is smaller than the printable area.

<div class=example>
<p>To set crop and cross marks on a document, this code can be used:
<pre>@page { marks: crop cross }
</pre>
</div>

<h3 class="heading settled" data-level=7.3 id=bleed><span class=secno>7.3 </span><span class=content>
Bleed Area: the <a class=property data-link-type=propdesc href=#propdef-bleed title=bleed>bleed</a> property</span><a class=self-link href=#bleed></a></h3>

<table class="definition propdef"><tr><th>Name:<td><dfn class=css data-dfn-type=property data-export="" id=propdef-bleed>bleed<a class=self-link href=#propdef-bleed></a></dfn><tr><th>Value:<td class=prod>auto <a class=prod-punc data-link-type=grammar href=http://dev.w3.org/csswg/css-values-3/#comb-one title=|>|</a> <a class="production css" data-link-type=type href=#typedef-length title="<length>">&lt;length&gt;</a><tr><th>Initial:<td>auto<tr><th>Applies to:<td>page context<tr><th>Inherited:<td>no<tr><th>Media:<td>paged<tr><th>Computed value:<td>as specified<tr><th>Percentages:<td>N/A</table>

	<p>This property specifies the extent of the <dfn data-dfn-type=dfn data-noexport="" id=bleed-area>bleed area<a class=self-link href=#bleed-area></a></dfn> outside the page box;
	in other words the extent beyond the page box at which the page rendering is clipped.
	Values have the following meanings:

	<dl>
		<dt><dfn class=css data-dfn-for=bleed data-dfn-type=value data-export="" id=valdef-bleed-auto><a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a><a class=self-link href=#valdef-bleed-auto></a></dfn>
		<dd>
			Computes to 6pt if <a class=property data-link-type=propdesc href=#propdef-marks title=marks>marks</a> has <a class=css data-link-type=maybe href=#valdef-marks-crop title=crop>crop</a> and to zero otherwise.
		<dt><dfn class=css data-dfn-for=bleed data-dfn-type=type data-export="" id=typedef-length><a class="production css" data-link-type=type href=#typedef-length title="<length>">&lt;length&gt;</a><a class=self-link href=#typedef-length></a></dfn>
		<dd>
			Specifies by how far outward, in each direction,
			the <a data-link-type=dfn href=#bleed-area title="bleed area">bleed area</a> extends past the <a data-link-type=dfn href=#page-box title="page box">page box</a>.
			Values may be negative, but there may be implementation-specific limits.
	</dl>

<h3 class="heading settled" data-level=7.4 id=renderingpages><span class=secno>7.4 </span><span class=content>Rendering page boxes that do not fit a page sheet</span><a class=self-link href=#renderingpages></a></h3>

<p>If a page box does not match the target page sheet dimensions, the user agent
should do one of the following (in order of preference):</p>

<ol>
  <li>Render the page box at the indicated size on a larger page sheet.</li>
  <li>Rotate the page box 90° if this will make the page box fit the page sheet.</li>
  <li>Scale the page box to fit the page sheet. (The aspect ratio of the page box
  <em class=RFC2119>should</em> be preserved.)</li>
  <li>Graphically "slice" the page box onto multiple page sheets.</li>
  <li>Clip overflowed content (least preferred).</li>
</ol>

<p>The user agent <em class=RFC2119>MAY</em> wish to consult the user before
performing these operations.</p>

<h3 class="heading settled" data-level=7.5 id=positioning-page-box><span class=secno>7.5 </span><span class=content>Positioning the page box on the sheet</span><a class=self-link href=#positioning-page-box></a></h3>

<p>When the page box is smaller than the page sheet, the user agent <em class=RFC2119>SHOULD</em> either:</p>

<ul>
  <li>center the page box on the sheet since this will align double-sided pages
  and avoid accidental loss of information that is printed near the edge of the
  sheet; or</li>
  <li>position the page box in the upper left corner of the page sheet
  (or another corner,
  based on the <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-direction title=direction>direction</a> and <a class=property data-link-type=propdesc href=http://dev.w3.org/csswg/css-writing-modes-3/#propdef-writing-mode title=writing-mode>writing-mode</a> properties of the page box)
  as this may minimize media consumption.</li>
</ul>

<p>The user agent <em class=RFC2119>MAY</em> wish to consult the user in this
regard.</p>

<h2 class="heading settled" data-level=8 id=page-breaks><span class=secno>8 </span><span class=content>
    <span id=pg-br-before-after></span>
    <span id=page-break-before></span>
    <span id=page-break-after></span>
    <span id=page-break-inside></span>
    <span id=breaks-inside></span>
    <span id=orphans></span>
    <span id=widows></span>
    <span id=allowed-pg-brk></span>
    <span id=brk-btw-blocks></span>
    <span id=brk-btw-lines></span>
    <span id=brk-end-block></span>
    <span id=forced-pg-brk></span>
    <span id=best-pg-brk></span>
    Page Breaks
</span><a class=self-link href=#page-breaks></a></h2>

<p>
  The CSS Fragmentation Module <a data-biblio-type=normative data-link-type=biblio href=#css3-break title=biblio-CSS3-BREAK>[CSS3-BREAK]</a> module
  defines how and where CSS boxes
  can be <em>fragmented</em>, including across page breaks.
  It defines a few properties that indicate where the user agent
  <em class=RFC2119>MAY</em> or <em class=RFC2119>MUST</em> break pages,
  and on what page (left or right) the subsequent content resumes.
  Each page break ends layout in the current <a href=#page-box>page box</a>
  and causes remaining pieces of the document tree to be laid out
  in a new page box.
</p>

<h3 class="heading settled" data-level=8.1 id=using-named-pages><span class=secno>8.1 </span><span class=content>Using named pages: <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a></span><a class=self-link href=#using-named-pages></a></h3>
<table class=propdef summary="property definition">
  <tr>
    <th>Name:
    <td><dfn class=css data-dfn-type=property data-export="" id=propdef-page>page<a class=self-link href=#propdef-page></a></dfn><tr>
    <th>Value:
    <td>auto | &lt;identifier&gt;
  <tr>
    <th>Initial:
    <td>auto
  <tr>
    <th>Applies to:
    <td>boxes that create <a href=http://www.w3.org/TR/css3-break/#btw-blocks>class A</a> break points
  <tr>
    <th>Inherited:
    <td>no (but see prose)
  <tr>
    <th>Percentages:
    <td>N/A
  <tr>
    <th>Media:
    <td>paged
  <tr>
    <th>Computed value:
    <td>specified value
</table>

<p>
  The <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property is used to specify a particular type of page (called a <dfn data-dfn-type=dfn data-noexport="" id=named-page>named page<a class=self-link href=#named-page></a></dfn>)
  on which an element <em class=RFC2119>MUST</em> be displayed.
  If necessary, a <a data-link-spec=css-break data-link-type=dfn href=http://dev.w3.org/csswg/css-break-3/#forced-break title="forced break">forced page break</a> is introduced
  and a new page generated of the specified type.

<p class=note>
  This page can be styled by using the same type name
  in a <a href=#page-selectors>page selector</a>.

<p>
  Page type names are case-sensitive identifiers.
  However the <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> value, being a CSS keyword, is
  <a href=http://www.w3.org/TR/CSS21/syndata.html#characters>ASCII case-insensitive</a>.

<p>
  The <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property does not inherit.
  However, if the <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value on an element is <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a>,
  then its used value is the value specified
  on its nearest ancestor with a non-auto value.
  When specified on the root element,
  the used value for <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> is the empty string.

  

<p>
  Because a previous version of this specification
  indicated that the <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property is inherited,
  an implementation that inherits the <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property
  and treats <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> as always naming the empty string
  remains conformant to CSS Paged Media Level 3.
  Note that this exception will be removed in Level 4.
  Therefore authors should not explicitly specify the <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> value
  on a descendant of an element with a non-<a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> value,
  as the resulting behavior will be unpredictable.

<p>
  The <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property works as follows:

<ol>

  <li>
    First, any <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> values are resolved against non-<a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> ancestors
    (as specified above).

  <li>
    Next,
    a <dfn data-dfn-type=dfn data-noexport="" id=start-page-value>start <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value<a class=self-link href=#start-page-value></a></dfn> and <dfn data-dfn-type=dfn data-noexport="" id=end-page-value>end <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value<a class=self-link href=#end-page-value></a></dfn>
    is determined for each box
    as the value (if any) propagated from
    its first or last child box (respectively),
    else the used value on the box itself.
    A child propagates its own
    <a data-link-type=dfn href=#start-page-value title="start page value">start</a> or <a data-link-type=dfn href=#end-page-value title="end page value">end <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value</a>
    if and only if the <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property applies to it.

    <p class=note>
      Note:
      A first or last child <em>box</em> is not always generated by
      a first or last child <em>element</em>.
      For example,
      an element could only have a previous sibling with 'display: none'
      which does not generate any box.

  <li>
    The first printed page’s type is the <a data-link-type=dfn href=#start-page-value title="start page value">start <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value</a> of the root.

  <li>
    If for any two boxes meeting at a <a href=http://www.w3.org/TR/css3-break/#btw-blocks>class A</a> break point,
    the <a data-link-type=dfn href=#end-page-value title="end page value">end <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value</a> of the box preceding the break
    and <a data-link-type=dfn href=#start-page-value title="start page value">start <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> value</a> of the box succeeding the break
    do not match,
    then a page break is forced between the two boxes,
    and content after the break resumes on a page box of the named type.
</ol>

<p class=note>
  Essentially, the two <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> values compared are those from the deepest boxes
  meeting at the <a href=http://www.w3.org/TR/css3-break/#btw-blocks>class A break point</a>,
  ignoring any subtrees rooted by boxes to which the <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property does not apply.

<p>See <a data-biblio-type=normative data-link-type=biblio href=#css3-break title=biblio-CSS3-BREAK>[CSS3-BREAK]</a> for additional details on page breaks.

<div class=example>

<p>In this example, the two tables are rendered on landscape pages (indeed, on the
same page, if they fit). The page type "narrow" is used for the &lt;p&gt; after
the second table, as the page properties for the table element are no longer in
effect:</p>
<pre>@page narrow { size: 9cm 18cm }
@page rotated { size: landscape }
div { page: narrow }
table { page: rotated }
</pre>with this document:<pre>&lt;div&gt;
&lt;table&gt;...&lt;/table&gt;
&lt;table&gt;...&lt;/table&gt;
&lt;p&gt;This text is rendered on a 'narrow' page&lt;/p&gt;
&lt;/div&gt;
</pre>
</div>

<div class=example>
  <p>In Japanese documents, sometimes different parts of a single document
  will have different <em lang=ja-Latn>kihon hanmen</em>. <a data-biblio-type=informative data-link-type=biblio href=#jlreq title=biblio-JLREQ>[JLREQ]</a>
  The <a class=property data-link-type=propdesc href=#propdef-page title=page>page</a> property, together with <span class=css>@page</span> rules specifying different page widths,
  can accomodate this type of layout:
  <pre>&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
  &lt;style&gt;
    html   { writing-mode: vertical-rl;
             line-height: 1.6; }
    .main  { page: main;
             columns: 2; column-gap: 1rem; }
    .index { page: index;
             columns: 3; column-gap: 1rem; }
    @page       { margin: auto;    /* center kihon hanmen on page */
                  width:  40rem; } /* 1.6 × 25 lines        */
    @page main  { height: 61rem; } /* 2 × 30 chars + 1 × gap */
    @page index { height: 62rem; } /* 3 × 20 chars + 2 × gap */
  &lt;/style&gt;
  &lt;section class="main"&gt; ... &lt;/section&gt;
  &lt;section class="index"&gt; ... &lt;/section&gt;
&lt;/html&gt;
</pre>
</div>


<h2 class="heading settled" data-level=9 id=image-properties><span class=secno>9 </span><span class=content>Image Properties</span><a class=self-link href=#image-properties></a></h2>

<p class=note>This section has been moved to <a data-biblio-type=informative data-link-type=biblio href=#css3-images title=biblio-CSS3-IMAGES>[CSS3-IMAGES]</a>.</p>

<h2 class="no-num heading settled" id=properties-list><span class=content>Appendix A: Applicable CSS2.1 Properties</span><a class=self-link href=#properties-list></a></h2>

<h3 class="no-num heading settled" id=page-property-list><span class=content>
  CSS 2.1 Properties that apply within the page context</span><a class=self-link href=#page-property-list></a></h3>

<p>
  This list is described in the
  <a href=#page-properties>Page Properties</a> section.

<table class=property-list>
  <tbody>
    <tr><td rowspan=2><a href=http://www.w3.org/TR/CSS21/visuren.html#direction>bidi properties</a>
        <td>direction
  <tbody>
    <tr><td rowspan=6><a href=http://www.w3.org/TR/CSS21/colors.html#background-properties>background properties</a>
        <td>background-color
    <tr><td>background-image
    <tr><td>background-repeat
    <tr><td>background-attachment
    <tr><td>background-position
    <tr><td>background
  <tbody>
    <tr><td rowspan=20><a href=http://www.w3.org/TR/CSS21/box.html#border-properties>border properties</a>
        <td>border-top-width
    <tr><td>border-right-width
    <tr><td>border-bottom-width
    <tr><td>border-left-width
    <tr><td>border-width
    <tr><td>border-top-color
    <tr><td>border-right-color
    <tr><td>border-bottom-color
    <tr><td>border-left-color
    <tr><td>border-color
    <tr><td>border-top-style
    <tr><td>border-right-style
    <tr><td>border-bottom-style
    <tr><td>border-left-style
    <tr><td>border-short-style
    <tr><td>border-top
    <tr><td>border-right
    <tr><td>border-bottom
    <tr><td>border-left
    <tr><td>border
  <tbody>
    <tr><td rowspan=2><a href=http://www.w3.org/TR/CSS21/generate.html#counters>counter properties</a>
        <td>counter-reset
    <tr><td>counter-increment
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/colors.html#propdef-color>color</a>
  <tbody>
    <tr><td rowspan=6><a href=http://www.w3.org/TR/CSS21/fonts.html>font properties</a>
        <td>font-family
    <tr><td>font-size
    <tr><td>font-style
    <tr><td>font-variant
    <tr><td>font-weight
    <tr><td>font
  <tbody>
    <tr><td rowspan=3><a href=http://www.w3.org/TR/CSS21/visudet.html#the-height-property>height</a> <a href=http://www.w3.org/TR/CSS21/visudet.html#min-max-heights>properties</a>
        <td>height
    <tr><td>min-height
    <tr><td>max-height
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visudet.html#line-height>line-height</a>
  <tbody>
    <tr><td rowspan=5><a href=http://www.w3.org/TR/CSS21/box.html#margin-properties>margin properties</a>
        <td>margin-top
    <tr><td>margin-right
    <tr><td>margin-bottom
    <tr><td>margin-left
    <tr><td>margin
  <tbody>
    <tr><td rowspan=5><a href=http://www.w3.org/TR/CSS21/ui.html#dynamic-outlines>outline properties</a>
        <td>outline-width
    <tr><td>outline-style
    <tr><td>outline-color
    <tr><td>outline
  <tbody>
    <tr><td rowspan=5><a href=http://www.w3.org/TR/CSS21/box.html#padding-properties>padding properties</a>
        <td>padding-top
    <tr><td>padding-right
    <tr><td>padding-bottom
    <tr><td>padding-left
    <tr><td>padding
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/generate.html#quotes-specify>quotes</a>
  <tbody>
    <tr><td rowspan=7><a href=http://www.w3.org/TR/CSS21/text.html>text properties</a>
        <td>letter-spacing
    <tr><td>text-align
    <tr><td>text-decoration
    <tr><td>text-indent
    <tr><td>text-transform
    <tr><td>white-space
    <tr><td>word-spacing
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visufx.html#visibility>visibility</a>
  <tbody>
    <tr><td rowspan=3><a href=http://www.w3.org/TR/CSS21/visudet.html#the-width-property>width</a> <a href=http://www.w3.org/TR/CSS21/visudet.html#min-max-widths>properties</a>
        <td>width
    <tr><td>min-width
    <tr><td>max-width
</table>


<h3 class="no-num heading settled" id=margin-property-list><span class=content>
  CSS 2.1 properties that apply within the margin contexts</span><a class=self-link href=#margin-property-list></a></h3>

<p>
  This list is described in the
  <a href=#page-properties>Page Properties</a> section.

<table class=property-list>
  <tbody>
    <tr><td rowspan=2><a href=http://www.w3.org/TR/CSS21/visuren.html#direction>bidi properties</a>
        <td>direction
    <tr><td>unicode-bidi
  <tbody>
    <tr><td rowspan=6><a href=http://www.w3.org/TR/CSS21/colors.html#background-properties>background properties</a>
        <td>background-color
    <tr><td>background-image
    <tr><td>background-repeat
    <tr><td>background-attachment
    <tr><td>background-position
    <tr><td>background
  <tbody>
    <tr><td rowspan=20><a href=http://www.w3.org/TR/CSS21/box.html#border-properties>border properties</a>
        <td>border-top-width
    <tr><td>border-right-width
    <tr><td>border-bottom-width
    <tr><td>border-left-width
    <tr><td>border-width
    <tr><td>border-top-color
    <tr><td>border-right-color
    <tr><td>border-bottom-color
    <tr><td>border-left-color
    <tr><td>border-color
    <tr><td>border-top-style
    <tr><td>border-right-style
    <tr><td>border-bottom-style
    <tr><td>border-left-style
    <tr><td>border-short-style
    <tr><td>border-top
    <tr><td>border-right
    <tr><td>border-bottom
    <tr><td>border-left
    <tr><td>border
  <tbody>
    <tr><td rowspan=2><a href=http://www.w3.org/TR/CSS21/generate.html#counters>counter properties</a>
        <td>counter-reset
    <tr><td>counter-increment
  <tbody>
    <tr><td colspan=2><a href="">content</a>
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/colors.html#propdef-color>color</a>
  <tbody>
    <tr><td rowspan=6><a href=http://www.w3.org/TR/CSS21/fonts.html>font properties</a>
        <td>font-family
    <tr><td>font-size
    <tr><td>font-style
    <tr><td>font-variant
    <tr><td>font-weight
    <tr><td>font
  <tbody>
    <tr><td rowspan=3><a href=http://www.w3.org/TR/CSS21/visudet.html#the-height-property>height</a> <a href=http://www.w3.org/TR/CSS21/visudet.html#min-max-heights>properties</a>
        <td>height
    <tr><td>min-height
    <tr><td>max-height
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visudet.html#line-height>line-height</a>
  <tbody>
    <tr><td rowspan=5><a href=http://www.w3.org/TR/CSS21/box.html#margin-properties>margin properties</a>
        <td>margin-top
    <tr><td>margin-right
    <tr><td>margin-bottom
    <tr><td>margin-left
    <tr><td>margin
  <tbody>
    <tr><td rowspan=5><a href=http://www.w3.org/TR/CSS21/ui.html#dynamic-outlines>outline properties</a>
        <td>outline-width
    <tr><td>outline-style
    <tr><td>outline-color
    <tr><td>outline
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visufx.html#overflow>overflow</a>
  <tbody>
    <tr><td rowspan=5><a href=http://www.w3.org/TR/CSS21/box.html#padding-properties>padding properties</a>
        <td>padding-top
    <tr><td>padding-right
    <tr><td>padding-bottom
    <tr><td>padding-left
    <tr><td>padding
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/generate.html#quotes-specify>quotes</a>
  <tbody>
    <tr><td rowspan=7><a href=http://www.w3.org/TR/CSS21/text.html>text properties</a>
        <td>letter-spacing
    <tr><td>text-align
    <tr><td>text-decoration
    <tr><td>text-indent
    <tr><td>text-transform
    <tr><td>white-space
    <tr><td>word-spacing
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visudet.html#line-height>vertical-align</a>
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visufx.html#visibility>visibility</a>
  <tbody>
    <tr><td rowspan=3><a href=http://www.w3.org/TR/CSS21/visudet.html#the-width-property>width</a> <a href=http://www.w3.org/TR/CSS21/visudet.html#min-max-widths>properties</a>
        <td>width
    <tr><td>min-width
    <tr><td>max-width
  <tbody>
    <tr><td colspan=2><a href=http://www.w3.org/TR/CSS21/visuren.html#z-index>z-index</a>
</table>

<h2 class="no-num heading settled" id=transfer-possibilities><span class=content>Appendix B: Transfer Possibilities</span><a class=self-link href=#transfer-possibilities></a></h2>

<p>Often, but not always, the page box has a one-to-one correspondence to the
physical surface onto which the document is ultimately rendered. The CSS3 page
model specifies formatting within the page box, but it is the user agent’s
responsibility to transfer the page box to the sheet. Some user agent transfer
possibilities that are not addressed by CSS3 include:</p>

<ul id=complex-usecases>
  <li>Transferring one page box to one sheet (e.g. single-sided printing);</li>
  <li>Transferring two page boxes to the front and back surfaces of the same
  sheet (e.g. double-sided printing);</li>
  <li>Transferring N (small) page boxes to one sheet (called "N-up");</li>
  <li>Transferring one (large) page box to N x M sheets (called "tiling");</li>
  <li>Creating signatures. A <dfn data-dfn-type=dfn data-noexport="" id=signature>signature<a class=self-link href=#signature></a></dfn> is a group of pages printed on
  a sheet, which, when folded and trimmed like a book, appear in their proper
  sequence;</li>
  <li>Printing one document to multiple output trays;</li>
  <li>Generating files containing print instructions.</li>
</ul>

<h2 class="no-num heading settled" id=changes><span class=content>Changes</span><a class=self-link href=#changes></a></h2>

<p>
  Changes since the <a href=http://www.w3.org/TR/2013/WD-css3-page-20130314/>14 March 2013 Working Draft</a> are:
</p>

<ul>
  <li>Imported the <a class=property data-link-type=propdesc href=#propdef-marks title=marks>marks</a> and <a class=property data-link-type=propdesc href=#propdef-bleed title=bleed>bleed</a> properties from <a data-biblio-type=informative data-link-type=biblio href=#css3gcpm title=biblio-CSS3GCPM>[CSS3GCPM]</a>.
  <li>Added <a class=css data-link-type=maybe href=#valdef-bleed-auto title=auto>auto</a> as the initial value of <a class=property data-link-type=propdesc href=#propdef-bleed title=bleed>bleed</a> and allowed it to apply even when <a class=property data-link-type=propdesc href=#propdef-marks title=marks>marks</a> is <a class=css data-link-type=maybe href=#valdef-marks-none title=none>none</a>.
</ul>

<h2 class="no-num heading settled" id=acknowledgements><span class=content>Acknowledgements</span><a class=self-link href=#acknowledgements></a></h2>

  <p>The CSS Working Group would like to give very special thanks
  to this module’s former editors:
  Robert Stevahn (Hewlett-Packard),
  Håkon Wium Lie (Opera Software),
  Jim Bigelow (Hewlett-Packard),
  Jacob Refstrup (Hewlett-Packard),
  and
  Melinda Grant (Hewlett-Packard).

  <p>We would also like to acknowledge our expert contributors
  Michael Day (YesLogic),
  Shinyu Murakami (Antenna House),
  Peter Linss (Hewlett-Packard),
  and the other members of the CSS Working Group and www-style community
  who have provided review and comment on CSS Paged Media Level 3.

<h2 class="no-ref no-num heading settled" id=conformance><span class=content>
Conformance</span><a class=self-link href=#conformance></a></h2>

<h3 class="no-ref heading settled" id=conventions><span class=content>
Document conventions</span><a class=self-link href=#conventions></a></h3>

    <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words "MUST",
    "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification.

    <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-biblio-type=normative data-link-type=biblio href=#rfc2119 title=biblio-RFC2119>[RFC2119]</a></p>

    <p>Examples in this specification are introduced with the words "for example"
    or are set apart from the normative text with <code>class="example"</code>,
    like this:

    <div class=example>
        <p>This is an example of an informative example.</p>
    </div>

    <p>Informative notes begin with the word "Note" and are set apart from the
    normative text with <code>class="note"</code>, like this:

    <p class=note>Note, this is an informative note.</p>

    <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"&gt;</code>, like
    this:

    <strong class=advisement>
        UAs MUST provide an accessible alternative.
    </strong>

<h3 class="no-ref heading settled" id=conformance-classes><span class=content>
Conformance classes</span><a class=self-link href=#conformance-classes></a></h3>

    <p>Conformance to this specification
    is defined for three conformance classes:
    <dl>
        <dt>style sheet
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#style-sheet>CSS
            style sheet</a>.
        <dt>renderer
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that interprets the semantics of a style sheet and renders
            documents that use them.
        <dt>authoring tool
            <dd>A <a href=http://www.w3.org/TR/CSS21/conform.html#user-agent>UA</a>
            that writes a style sheet.
    </dl>

    <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module.

    <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.)

    <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module.

<h3 class="no-ref heading settled" id=partial><span class=content>
Partial implementations</span><a class=self-link href=#partial></a></h3>

    <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong>
    treat as invalid (and <a href=http://www.w3.org/TR/CSS21/conform.html#ignore>ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>

<h3 class="no-ref heading settled" id=experimental><span class=content>
Experimental implementations</span><a class=self-link href=#experimental></a></h3>

    <p>To avoid clashes with future CSS features, the CSS2.1 specification
    reserves a <a href=http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords>prefixed
    syntax</a> for proprietary and experimental extensions to CSS.

    <p>Prior to a specification reaching the Candidate Recommendation stage
    in the W3C process, all implementations of a CSS feature are considered
    experimental. The CSS Working Group recommends that implementations
    use a vendor-prefixed syntax for such features, including those in
    W3C Working Drafts. This avoids incompatibilities with future changes
    in the draft.
    </p>

<h3 class="no-ref heading settled" id=testing><span class=content>
Non-experimental implementations</span><a class=self-link href=#testing></a></h3>

    <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec.

    <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group.

    <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at
    <a href=http://www.w3.org/Style/CSS/Test/>http://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the
    <a href=http://lists.w3.org/Archives/Public/public-css-testsuite>public-css-testsuite@w3.org</a>
    mailing list.

<h2 class="no-num no-ref heading settled" id=references><span class=content>
References</span><a class=self-link href=#references></a></h2>

<h3 class="no-num no-ref heading settled" id=normative><span class=content>
Normative References</span><a class=self-link href=#normative></a></h3>
<div data-fill-with=normative-references><dl>
<dt id=biblio-css21 title=CSS21><a class=self-link href=#biblio-css21></a>[CSS21]<dd>Bert Bos; et al. <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-CSS2-20110607>http://www.w3.org/TR/2011/REC-CSS2-20110607</a></dd>
<dt id=biblio-css3-break title=CSS3-BREAK><a class=self-link href=#biblio-css3-break></a>[CSS3-BREAK]<dd>Rossen Atanassov; Elika J. Etemad. <a href=http://www.w3.org/TR/2012/WD-css3-break-20120823/>CSS Fragmentation Module Level 3</a>. 23 August 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-break-20120823/>http://www.w3.org/TR/2012/WD-css3-break-20120823/</a></dd>
<dt id=biblio-css3-sizing title=CSS3-SIZING><a class=self-link href=#biblio-css3-sizing></a>[CSS3-SIZING]<dd>Tab Atkins Jr.; Elika J. Etemad. <a href=http://www.w3.org/TR/2012/WD-css3-sizing-20120927/>CSS Intrinsic &amp; Extrinsic Sizing Module Level 3</a>. 27 September 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-sizing-20120927/>http://www.w3.org/TR/2012/WD-css3-sizing-20120927/</a></dd>
<dt id=biblio-css3bg title=CSS3BG><a class=self-link href=#biblio-css3bg></a>[CSS3BG]<dd>Bert Bos; Elika J. Etemad; Brad Kemper. <a href=http://www.w3.org/TR/2012/CR-css3-background-20120724/>CSS Backgrounds and Borders Module Level 3</a>. 24 July 2012. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/CR-css3-background-20120724/>http://www.w3.org/TR/2012/CR-css3-background-20120724/</a></dd>
<dt id=biblio-mediaq title=MEDIAQ><a class=self-link href=#biblio-mediaq></a>[MEDIAQ]<dd>Florian Rivoal. <a href=http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/>Media Queries</a>. 19 June 2012. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/>http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/</a></dd>
<dt id=biblio-pwgmsn title=PWGMSN><a class=self-link href=#biblio-pwgmsn></a>[PWGMSN]<dd>Ron Bergman; Tom Hastings. <a href=ftp://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn10-20020226-5101.1.pdf>Media Standardized Names</a>. 26 February 2002. URL: <a href=ftp://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn10-20020226-5101.1.pdf>ftp://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn10-20020226-5101.1.pdf</a></dd>
<dt id=biblio-rfc2119 title=RFC2119><a class=self-link href=#biblio-rfc2119></a>[RFC2119]<dd>S. Bradner. <a href=http://www.ietf.org/rfc/rfc2119.txt>Key words for use in RFCs to Indicate Requirement Levels</a>. URL: <a href=http://www.ietf.org/rfc/rfc2119.txt>http://www.ietf.org/rfc/rfc2119.txt</a></dd>
<dt id=biblio-select title=SELECT><a class=self-link href=#biblio-select></a>[SELECT]<dd>Tantek Çelik; et al. <a href=http://www.w3.org/TR/2011/REC-css3-selectors-20110929/>Selectors Level 3</a>. 29 September 2011. W3C Recommendation. URL: <a href=http://www.w3.org/TR/2011/REC-css3-selectors-20110929/>http://www.w3.org/TR/2011/REC-css3-selectors-20110929/</a></dd>
</dl></div>

<h3 class="no-num no-ref heading settled" id=informative><span class=content>
Informative References</span><a class=self-link href=#informative></a></h3>
<div data-fill-with=informative-references><dl>
<dt id=biblio-css-device-adapt title=CSS-DEVICE-ADAPT><a class=self-link href=#biblio-css-device-adapt></a>[CSS-DEVICE-ADAPT]<dd>Rune Lillesveen. <a href=http://www.w3.org/TR/2011/WD-css-device-adapt-20110915/>CSS Device Adaptation</a>. 15 September 2011. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2011/WD-css-device-adapt-20110915/>http://www.w3.org/TR/2011/WD-css-device-adapt-20110915/</a></dd>
<dt id=biblio-css3-images title=CSS3-IMAGES><a class=self-link href=#biblio-css3-images></a>[CSS3-IMAGES]<dd>Elika J. Etemad; Tab Atkins Jr.. <a href=http://www.w3.org/TR/2012/CR-css3-images-20120417/>CSS Image Values and Replaced Content Module Level 3</a>. 17 April 2012. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/CR-css3-images-20120417/>http://www.w3.org/TR/2012/CR-css3-images-20120417/</a></dd>
<dt id=biblio-css3-writing-modes title=CSS3-WRITING-MODES><a class=self-link href=#biblio-css3-writing-modes></a>[CSS3-WRITING-MODES]<dd>Elika J. Etemad; Koji Ishii. <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>CSS Writing Modes Module Level 3</a>. 15 November 2012. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/>http://www.w3.org/TR/2012/WD-css3-writing-modes-20121115/</a></dd>
<dt id=biblio-css3gcpm title=CSS3GCPM><a class=self-link href=#biblio-css3gcpm></a>[CSS3GCPM]<dd>Håkon Wium Lie. <a href=http://www.w3.org/TR/2011/WD-css3-gcpm-20111129/>CSS Generated Content for Paged Media Module</a>. 29 November 2011. W3C Working Draft. (Work in progress.) URL: <a href=http://www.w3.org/TR/2011/WD-css3-gcpm-20111129/>http://www.w3.org/TR/2011/WD-css3-gcpm-20111129/</a></dd>
<dt id=biblio-css3val title=CSS3VAL><a class=self-link href=#biblio-css3val></a>[CSS3VAL]<dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>CSS Values and Units Module Level 3</a>. 30 July 2013. W3C Candidate Recommendation. (Work in progress.) URL: <a href=http://www.w3.org/TR/2013/CR-css3-values-20130730/>http://www.w3.org/TR/2013/CR-css3-values-20130730/</a></dd>
<dt id=biblio-jlreq title=JLREQ><a class=self-link href=#biblio-jlreq></a>[JLREQ]<dd>Yasuhiro Anan; et al. <a href=http://www.w3.org/TR/2012/NOTE-jlreq-20120403/>Requirements for Japanese Text Layout</a>. 3 April 2012. W3C Working Group Note. URL: <a href=http://www.w3.org/TR/2012/NOTE-jlreq-20120403/>http://www.w3.org/TR/2012/NOTE-jlreq-20120403/</a></dd>
</dl></div>

<h2 class="no-num no-ref heading settled" id=index><span class=content>
Index</span><a class=self-link href=#index></a></h2>
<div data-fill-with=index><ul class=indexlist>
<li>auto, <a href=#valdef-bleed-auto title="section 7.3">7.3</a>
<li>available height, <a href=#available-height title="section 5.3.1">5.3.1</a>
<li>available width, <a href=#available-width title="section 5.3.1">5.3.1</a>
<li>:blank, <a href=#valdef-page-blank title="section 4.2.3">4.2.3</a>
<li>bleed, <a href=#propdef-bleed title="section 7.3">7.3</a>
<li>bleed area, <a href=#bleed-area title="section 7.3">7.3</a>
<li>containing block, <a href=#containing-block title="section 5.3.1">5.3.1</a>
<li>Content-empty page, <a href=#content-empty title="section 3.2">3.2</a>
<li>crop, <a href=#valdef-marks-crop title="section 7.2">7.2</a>
<li>cross, <a href=#valdef-marks-cross title="section 7.2">7.2</a>
<li>end page value, <a href=#end-page-value title="section 8.1">8.1</a>
<li>:first, <a href=#valdef-page-first title="section 4.2.2">4.2.2</a>
<li>flex factor, <a href=#flex-factor title="section 5.3.2.2">5.3.2.2</a>
<li>flex space, <a href=#flex-space title="section 5.3.2.2">5.3.2.2</a>
<li>generated, <a href=#generated title="section 5.2">5.2</a>
<li>:left, <a href=#valdef-page-left title="section 4.2.1">4.2.1</a>
<li>Left Page, <a href=#left-page title="section 2">2</a>
<li>&lt;length&gt;, <a href=#typedef-length title="section 7.3">7.3</a>
<li>margin at-rule, <a href=#margin-at-rule title="section 5.1">5.1</a>
<li>margin context, <a href=#margin-context title="section 5.1">5.1</a>
<li>margin_sym, <a href=#syntax-prod-margin-sym title="section 4.3">4.3</a>
<li>marks, <a href=#propdef-marks title="section 7.2">7.2</a>
<li>match, <a href=#match title="section 4.2">4.2</a>
<li>max-content width, <a href=#max-content-width title="section 5.3.1">5.3.1</a>
<li>media, <a href=#media title="section 4.3">4.3</a>
<li>min-content width, <a href=#min-content-width title="section 5.3.1">5.3.1</a>
<li>named page, <a href=#named-page title="section 8.1">8.1</a>
<li>none, <a href=#valdef-marks-none title="section 7.2">7.2</a>
<li>outer max width, <a href=#outer-max-width title="section 5.3.1">5.3.1</a>
<li>outer min width, <a href=#outer-min-width title="section 5.3.1">5.3.1</a>
<li>outer width, <a href=#outer-width title="section 5.3.1">5.3.1</a>
<li>page, <a href=#propdef-page title="section 8.1">8.1</a>
<li>page
  area, <a href=#page-area title="section 3">3</a>
<li>page_body, <a href=#page_body title="section 4.3">4.3</a>
<li>page box, <a href=#page-box title="section 3">3</a>
<li>page context, <a href=#page-context title="section 4.1">4.1</a>
<li>page footer, <a href=#page-footer title="section 5">5</a>
<li>page header, <a href=#page-header title="section 5">5</a>
<li>page_margin_box, <a href=#syntax-prod-margin title="section 4.3">4.3</a>
<li>page-margin box, <a href=#page-margin-box title="section 3">3</a>
<li>page progression, <a href=#page-progression title="section 3.3">3.3</a>
<li>page pseudo-class, <a href=#page-pseudo-class title="section 4.2">4.2</a>
<li>page_rule, <a href=#syntax-prod-page title="section 4.3">4.3</a>
<li>page selector, <a href=#page-selector title="section 4.2">4.2</a>
<li>page_selector, <a href=#page_selector title="section 4.3">4.3</a>
<li>page_selector_list, <a href=#page_selector_list title="section 4.3">4.3</a>
<li>&lt;page-size&gt;, <a href=#typedef-page-size title="section 7.1">7.1</a>
<li>page type selector, <a href=#page-type-selector title="section 4.2">4.2</a>
<li>pseudo_page, <a href=#syntax-prod-pseudo-page title="section 4.3">4.3</a>
<li>:right, <a href=#valdef-page-right title="section 4.2.1">4.2.1</a>
<li>Right Page, <a href=#right-page title="section 2">2</a>
<li>signature, <a href=#signature title="section Unnumbered section">Unnumbered section</a>
<li>size, <a href=#propdef-size title="section 7.1">7.1</a>
<li>specificity, <a href=#specificity title="section 4.4">4.4</a>
<li>start page value, <a href=#start-page-value title="section 8.1">8.1</a>
</ul></div>

<h2 class="no-num no-ref heading settled" id=property-index><span class=content>
Property index</span><a class=self-link href=#property-index></a></h2>
<div data-fill-with=property-index><table class="proptable data"><thead><tr><th scope=col>Name<th scope=col>Value<th scope=col>Initial<th scope=col>Applies to<th scope=col>Inh.<th scope=col>%ages<th scope=col>Media<th scope=col>Computed value<tbody>
<tr><th scope=row><a class=css data-link-type=property href=#propdef-size title=size>size</a><td>&lt;length&gt;{1,2} | auto | [ &lt;page-size&gt; || [ portrait | landscape] ]<td>auto<td>page context<td>N/A<td>N/A<td>paged<td>specified value
<tr><th scope=row><a class=css data-link-type=property href=#propdef-marks title=marks>marks</a><td>none | [ crop || cross ]<td>none<td>page context<td>no<td><td>paged<td>as specified
<tr><th scope=row><a class=css data-link-type=property href=#propdef-bleed title=bleed>bleed</a><td>auto | &lt;length&gt;<td>auto<td>page context<td>no<td>N/A<td>paged<td>as specified
<tr><th scope=row><a class=css data-link-type=property href=#propdef-page title=page>page</a><td>auto | &lt;identifier&gt;<td>auto<td>boxes that create class A break points<td>no (but see prose)<td>N/A<td>paged<td>specified value</table></div>


</div><h2 class="no-num heading settled" id=issues-index><span class=content>Issues Index</span><a class=self-link href=#issues-index></a></h2><div style="counter-reset: issue"><div class=issue>
    In CSS 2.1, both the page box and page area are simple rectangles.
    Neither is a CSS box with margins, borders, and padding.
    This CSS box should be distinct from the page box and page area,
    which would be its margin area and content area, respectively.
    Naming ideas?

<a href=#issue-5371a3e4> ↵ </a></div><div class=issue>
  <p>It would be useful if media queries could respond at least
  to sizes specified on an unqualified @page.

  <p>Another option could be to do like <span class=css>@viewport</span> rules
  <a data-biblio-type=informative data-link-type=biblio href=#css-device-adapt title=biblio-CSS-DEVICE-ADAPT>[CSS-DEVICE-ADAPT]</a>:
  First apply <span class=css>@page</span> rules (matching which selectors?),
  using the UA’s default page size for Media Queries and
  <a href=http://www.w3.org/TR/css3-values/#viewport-relative-lengths>viewport-percentage lengths</a>
  <a data-biblio-type=informative data-link-type=biblio href=#css3val title=biblio-CSS3VAL>[CSS3VAL]</a>.
  The resulting page size is the "base page size".
  The entire set of stylesheets is applied again,
  this time using the "base page size" for Media Queries
  and viewport-percentage lengths.
</p><a href=#issue-d08134f6> ↵ </a></div></div>