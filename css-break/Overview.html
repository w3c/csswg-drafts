<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>CSS Fragmentation Module Level 3</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="testing" name="csswg-work-status">
  <meta content="ED" name="w3c-status">
  <meta content="This module describes the fragmentation model that partitions a flow  into pages, columns, or regions.  It builds on the Page model module and introduces and defines the fragmentation model.  It adds functionality for pagination, breaking variable fragment size and orientation, widows and orphans." name="abstract">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
<style>
  body {
    background-image: url("https://www.w3.org/StyleSheets/TR/logo-ED");
  };
  </style>
  <meta content="Bikeshed 1.0.0" name="generator">
<script defer="" src="https://test.csswg.org/harness/annotate.js#!css-break-3_dev/css-break-3" type="text/javascript"></script>
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure);
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "¶"; }
            .heading > a.self-link::before { content: "§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "‘";
            }
            .css::after, .property::after, .descriptor::after {
                content: "’";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "‘";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "’";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="http://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1>CSS Fragmentation Module Level 3</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2016-06-23">23 June 2016</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://drafts.csswg.org/css-break/">https://drafts.csswg.org/css-break/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/css-break-3/">https://www.w3.org/TR/css-break-3/</a>
     <dt>Previous Versions:
     <dd><a href="https://www.w3.org/TR/2016/CR-css-break-3-20160114/" rel="previous">https://www.w3.org/TR/2016/CR-css-break-3-20160114/</a>
     <dt>Test Suite:
     <dd><a href="http://test.csswg.org/suites/css-break-3_dev/nightly-unstable/">http://test.csswg.org/suites/css-break-3_dev/nightly-unstable/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/w3c/csswg-drafts/issues/">GitHub</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:ratan@microsoft.com">Rossen Atanassov</a> (<span class="p-org org">Microsoft</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="p-org org">Invited Expert</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p>This module describes the fragmentation model that partitions a flow  into pages, columns, or regions.

It builds on the Page model module and introduces and defines the fragmentation model.
It adds functionality for pagination, breaking variable fragment size and orientation, widows and orphans.</p>
    <a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents 
(such as HTML and XML) 
on screen, on paper, in speech, etc.
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This is a public copy of the editors’ draft.
	It is provided for discussion only and may change at any moment.
	Its publication here does not imply endorsement of its contents by W3C.
	Don’t cite this document other than as work in progress. </p>
   <p> <a href="https://github.com/w3c/csswg-drafts/issues">GitHub Issues</a> are preferred for discussion of this specification.
	When filing an issue, please put the text “css-break” in the title,
	preferably like this:
	“[css-break] <em>…summary of comment…</em>”.
	All issues and comments are <a href="https://lists.w3.org/Archives/Public/public-css-archive/">archived</a>,
	and there is also a <a href="http://lists.w3.org/Archives/Public/www-style/">historical archive</a>. </p>
   <p> This document was produced by the <a href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of the <a href="http://www.w3.org/Style/">Style Activity</a>). </p>
   <p> This document was produced by a group operating under
	the <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 W3C Patent Policy</a>.
	W3C maintains a <a href="http://www.w3.org/2004/01/pp-impl/32061/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p> This document is governed by the <a href="http://www.w3.org/2015/Process-20150901/" id="w3c_process_revision">1 September 2015 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk">
   <p>The following features are at-risk, and may be dropped during the CR period: </p>
   <ul>
    <li>the <a class="css" data-link-type="maybe" href="#valdef-break-before-region">region</a> and <a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-region">avoid-region</a> values of <a class="property" data-link-type="propdesc">break-*</a>
   </ul>
   <p>“At-risk” is a W3C Process term-of-art, and does not necessarily imply that the feature is in danger of being dropped or delayed. It means that the WG believes the feature may have difficulty being interoperably implemented in a timely manner, and marking it as such allows the WG to drop the feature if necessary when transitioning to the Proposed Rec stage, without having to publish a new Candidate Rec without the feature first.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content"> Introduction</span></a>
     <ol class="toc">
      <li><a href="#placement"><span class="secno">1.1</span> <span class="content"> Module Interactions</span></a>
      <li><a href="#values"><span class="secno">1.2</span> <span class="content"> Values</span></a>
     </ol>
    <li>
     <a href="#fragmentation-model"><span class="secno">2</span> <span class="content"> Fragmentation Model and Terminology</span></a>
     <ol class="toc">
      <li><a href="#parallel-flows"><span class="secno">2.1</span> <span class="content"> Parallel Fragmentation Flows</span></a>
      <li><a href="#nested-flows"><span class="secno">2.2</span> <span class="content"> Nested Fragmentation Flows</span></a>
     </ol>
    <li>
     <a href="#breaking-controls"><span class="secno">3</span> <span class="content"> Controlling Breaks</span></a>
     <ol class="toc">
      <li>
       <a href="#break-between"><span class="secno">3.1</span> <span class="content"> Breaks Between Boxes: the <span class="property">break-before</span> and <span class="property">break-after</span> properties</span></a>
       <ol class="toc">
        <li><a href="#generic-break-values"><span class="secno"></span> <span class="content"> Generic Break Values</span></a>
        <li><a href="#page-break-values"><span class="secno"></span> <span class="content"> Page Break Values</span></a>
        <li><a href="#column-break-values"><span class="secno"></span> <span class="content"> Column Break Values</span></a>
        <li><a href="#region-break-values"><span class="secno"></span> <span class="content"> Region Break Values</span></a>
       </ol>
      <li><a href="#break-within"><span class="secno">3.2</span> <span class="content"> Breaks Within Boxes: the <span class="property">break-inside</span> property</span></a>
      <li><a href="#widows-orphans"><span class="secno">3.3</span> <span class="content"> Breaks Between Lines: <span class="property">orphans</span>, <span class="property">widows</span></span></a>
      <li><a href="#page-break-properties"><span class="secno">3.4</span> <span class="content"> Page Break Aliases: the <span class="property">page-break-before</span>, <span class="property">page-break-after</span>, and <span class="property">page-break-inside</span> properties</span></a>
     </ol>
    <li>
     <a href="#breaking-rules"><span class="secno">4</span> <span class="content"> Rules for Breaking</span></a>
     <ol class="toc">
      <li><a href="#possible-breaks"><span class="secno">4.1</span> <span class="content"> Possible Break Points</span></a>
      <li><a href="#break-types"><span class="secno">4.2</span> <span class="content"> Types of Breaks</span></a>
      <li><a href="#forced-breaks"><span class="secno">4.3</span> <span class="content"> Forced Breaks</span></a>
      <li><a href="#unforced-breaks"><span class="secno">4.4</span> <span class="content"> Unforced Breaks</span></a>
      <li><a href="#best-breaks"><span class="secno">4.5</span> <span class="content"> Optimizing Unforced Breaks</span></a>
     </ol>
    <li>
     <a href="#breaking-boxes"><span class="secno">5</span> <span class="content"> Box Model for Breaking</span></a>
     <ol class="toc">
      <li><a href="#varying-size-boxes"><span class="secno">5.1</span> <span class="content"> Breaking into Varying-size Fragmentainers</span></a>
      <li><a href="#break-margins"><span class="secno">5.2</span> <span class="content"> Adjoining Margins at Breaks</span></a>
      <li><a href="#box-splitting"><span class="secno">5.3</span> <span class="content"> Splitting Boxes</span></a>
      <li>
       <a href="#break-decoration"><span class="secno">5.4</span> <span class="content"> Fragmented Borders and Backgrounds: the <span class="property">box-decoration-break</span> property</span></a>
       <ol class="toc">
        <li><a href="#joining-boxes"><span class="secno">5.4.1</span> <span class="content"> Joining Boxes for <span class="css">slice</span></span></a>
       </ol>
      <li><a href="#transforms"><span class="secno">5.5</span> <span class="content"> Transforms, Positioning, and Pagination</span></a>
     </ol>
    <li><a href="#changes"><span class="secno"></span> <span class="content"> Changes</span></a>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content"> Acknowledgments</span></a>
    <li>
     <a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#document-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#conform-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#conform-responsible"><span class="secno"></span> <span class="content"> Requirements for Responsible Implementation of CSS</span></a>
       <ol class="toc">
        <li><a href="#conform-partial"><span class="secno"></span> <span class="content"> Partial Implementations</span></a>
        <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
        <li><a href="#conform-testing"><span class="secno"></span> <span class="content"> Implementations of CR-level Features</span></a>
       </ol>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="no-num no-toc heading settled" id="tagline"><span class="content">Breaking the Web, one fragment at a time</span></h2>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content"> Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is not normative.</em></p>
   <p> In paged media (e.g., paper, transparencies, photo album pages, pages
    displayed on computer screens as printed output simulations), as
    opposed to <a href="https://www.w3.org/TR/CSS2/media.html#continuous-media-group"> continuous media</a>, the content of the document is split into one or
    more discrete display surfaces. In order to avoid awkward breaks
    (such as halfway through a line of text), the layout engine must be
    able to shift around content that would fall across the page break.
    This process is called <dfn data-dfn-type="dfn" data-noexport="" id="pagination">pagination<a class="self-link" href="#pagination"></a></dfn>. </p>
   <p> In CSS, in addition to paged media, certain layout features such as <a href="https://www.w3.org/TR/css3-regions/">regions</a> <a data-link-type="biblio" href="#biblio-css3-regions">[CSS3-REGIONS]</a> and <a href="https://www.w3.org/TR/css3-multicol/">multi-column layout</a> <a data-link-type="biblio" href="#biblio-css3col">[CSS3COL]</a> create a similarly fragmented environment.
    The generic term for breaking content across containers is <a data-link-type="dfn" href="#fragmentation" id="ref-for-fragmentation-1">fragmentation</a>.
    This module explains how content breaks across <a data-link-type="dfn" href="#fragmentation-container" id="ref-for-fragmentation-container-1">fragmentation containers</a> (<a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-1">fragmentainers</a>)
    such as pages and columns and how such breaks can be <a href="#breaking-controls">controlled by the author</a>. </p>
   <h3 class="heading settled" data-level="1.1" id="placement"><span class="secno">1.1. </span><span class="content"> Module Interactions</span><a class="self-link" href="#placement"></a></h3>
   <p> This module replaces and extends the pagination controls defined in <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> <a href="https://www.w3.org/TR/CSS21/page.html#page-breaks">section 13.3</a> and in <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a>. </p>
   <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content"> Values</span><a class="self-link" href="#values"></a></h3>
   <p> This specification follows the <a href="https://www.w3.org/TR/CSS21/about.html#property-defs"> CSS property definition conventions</a> from <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>. Value types not defined
    in this specification are defined in CSS Level 2 Revision 1 <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>. Other CSS
    modules may expand the definitions of these value types: for example <a data-link-type="biblio" href="#biblio-css3val">[CSS3VAL]</a>,
    when combined with this module, adds the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-cascade-4/#valdef-all-initial">initial</a> value
    to the properties defined here.</p>
   <p> In addition to the property-specific values listed in their definitions, all properties
    defined in this specification also accept the <a href="https://www.w3.org/TR/CSS21/cascade.html#value-def-inherit"> inherit</a> keyword as their property value. For readability it has not been
    repeated explicitly. </p>
   <h2 class="heading settled" data-level="2" id="fragmentation-model"><span class="secno">2. </span><span class="content"> Fragmentation Model and Terminology</span><a class="self-link" href="#fragmentation-model"></a></h2>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragmentation-container">fragmentation container</dfn> (<dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragmentainer">fragmentainer</dfn>)
    <dd> A box—such as a page box, column box, or region—that contains
      a portion (or all) of a <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-1">fragmented flow</a>.
      Fragmentainers can be pre-defined, or generated as needed.
      When breakable content would overflow a fragmentainer in the block dimension,
      it breaks into the next container in its <a data-link-type="dfn" href="#fragmentation-context" id="ref-for-fragmentation-context-1">fragmentation context</a> instead. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragmentation-context">fragmentation context</dfn>
    <dd> An ordered series of <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-2">fragmentainers</a>,
      such as created by a <a href="https://www.w3.org/TR/css3-multicol/">multi-column element</a>,
      a chain of <a href="https://www.w3.org/TR/css3-regions">CSS regions</a>,
      or a <a href="https://www.w3.org/TR/css3-page/">paged media display</a>.
      A given fragmentation context can only have one block flow direction
      across all its <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-3">fragmentainers</a>.
      (Descendants of the <a data-link-type="dfn" href="#fragmentation-root" id="ref-for-fragmentation-root-1">fragmentation root</a> may have other block flow directions,
      but fragmentation proceeds according to the block flow direction applied to the <a data-link-type="dfn" href="#fragmentation-root" id="ref-for-fragmentation-root-2">fragmentation root</a>.) 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragmented-flow">fragmented flow</dfn>
    <dd> Content that is being laid out in a <a data-link-type="dfn" href="#fragmentation-context" id="ref-for-fragmentation-context-2">fragmentation context</a>.
      The <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-2">fragmented flow</a> consists of the content of a (possibly anonymous) box
      called the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragmentation-root">fragmentation root</dfn>. 
    <dt><dfn data-dfn-type="dfn" data-export="" id="fragmentation-direction">fragmentation direction<a class="self-link" href="#fragmentation-direction"></a></dfn>
    <dd> The block flow direction of the <a data-link-type="dfn" href="#fragmentation-context" id="ref-for-fragmentation-context-3">fragmentation context</a>,
      i.e. the direction in which content is fragmented.
      (In this level of CSS, content only fragments in one dimension.) 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragmentation">fragmentation</dfn>
    <dd> The process of splitting a content flow across the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-4">fragmentainers</a> that form a <a data-link-type="dfn" href="#fragmentation-context" id="ref-for-fragmentation-context-4">fragmentation context</a>. 
    <dt><dfn data-dfn-type="dfn" data-export="" id="box-fragment">box fragment<a class="self-link" href="#box-fragment"></a></dfn> or <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="fragment">fragment</dfn>
    <dd> The portion of a box that belongs to exactly one <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-5">fragmentainer</a>.
      A box in continuous flow always consists of only one fragment.
      A box in a fragmented flow consists of one or more fragments.
      Each fragment has its own share of the box’s border, padding, and margin,
      and therefore has its own <a href="https://www.w3.org/TR/CSS2/box.html#box-padding-area">padding area</a>, <a href="https://www.w3.org/TR/CSS2/box.html#box-border-area">border area</a>,
      and <a href="https://www.w3.org/TR/CSS2/box.html#box-margin-area">margin area</a>.
      (See <a class="property" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-1">box-decoration-break</a>, which controls how these are affected by fragmentation.) 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="remaining-fragmentainer-extent">remaining fragmentainer extent</dfn>
    <dd> The remaining <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-axis">block-axis</a> space in the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-6">fragmentainer</a> available to a given element,
      i.e. between the end of preceding content in <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-7">fragmentainer</a> and the edge of the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-8">fragmentainer</a>. 
   </dl>
   <p> Each <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="fragmentation-break">fragmentation break</dfn> (hereafter, <dfn data-dfn-type="dfn" data-noexport="" id="break">break<a class="self-link" href="#break"></a></dfn>)
    ends layout of the fragmented box in the current <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-9">fragmentainer</a> and causes the remaining content to be laid out in the next <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-10">fragmentainer</a>,
    in some cases causing a new <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-11">fragmentainer</a> to be generated
    to hold the deferred content. </p>
   <p class="note" role="note"> Breaking inline content into lines is another form of fragmentation,
    and similarly creates box fragments when it breaks <a href="https://www.w3.org/TR/CSS21/visuren.html#inline-boxes">inline boxes</a> across <a href="https://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
    However, inline breaking is not covered here; see <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>/<a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>. </p>
   <h3 class="heading settled" data-level="2.1" id="parallel-flows"><span class="secno">2.1. </span><span class="content"> Parallel Fragmentation Flows</span><a class="self-link" href="#parallel-flows"></a></h3>
   <p> When multiple <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#formatting-context">formatting contexts</a> are laid out parallel to each other,
    fragmentation is performed independently in each <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#formatting-context">formatting context</a>.
    For example, if an element is floated,
    then a forced break inside the float
    will not affect the content outside the float
    (except insofar as it may increase the height of the float).
    UAs <em>may</em> (but are not required to)
    adjust the placement of <a data-link-type="dfn" href="#unforced-break" id="ref-for-unforced-break-1">unforced breaks</a> in parallel <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#formatting-context">formatting contexts</a> to visually balance such side-by-side content,
    but <em>must not</em> do so to match a <a data-link-type="dfn" href="#forced-break" id="ref-for-forced-break-1">forced break</a>. </p>
   <p> The following are examples of parallel flows
    whose contents will fragment independently: </p>
   <ul>
    <li>The contents of a float vs. the content wrapping outside the float. 
    <li>The contents of a float vs. the contents of an adjacent float. 
    <li>The contents of each table cell in a single table row. 
    <li>The contents of each grid item in a single grid row. 
    <li>The contents of each flex item in a flex layout row. 
    <li>The contents of absolutely-positioned elements
        that cover the same range of their containing block’s fragmentation context. 
   </ul>
   <p> Content overflowing the content edge of a fixed-size box
    is considered parallel to the content after the fixed-size box
    and follows the normal fragmentation rules.
    Although overflowing content doesn’t affect the size of the <a data-link-type="dfn" href="#fragmentation-root" id="ref-for-fragmentation-root-3">fragmentation root</a> box,
    it does increase the length of the <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-3">fragmented flow</a>,
    spilling into or generating additional <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-12">fragmentainers</a> as necessary. </p>
   <h3 class="heading settled" data-level="2.2" id="nested-flows"><span class="secno">2.2. </span><span class="content"> Nested Fragmentation Flows</span><a class="self-link" href="#nested-flows"></a></h3>
   <p> Breaking a <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-13">fragmentainer</a> <var>F</var> effectively splits the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-14">fragmentainer</a> into two <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-15">fragmentainers</a> (<var>F<sub>1</sub></var> and <var>F<sub>2</sub></var>).
    The only difference is that,
    with regards to the content of <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-16">fragmentainer</a> <var>F</var>,
    the type of break
    between the two pieces <var>F<sub>1</sub></var> and <var>F<sub>2</sub></var> is the <a href="#break-types">type of break</a> created
    by the <a data-link-type="dfn" href="#fragmentation-context" id="ref-for-fragmentation-context-5">fragmentation context</a> that split <var>F</var>,
    not the type of break normally created by <var>F</var>’s own <a data-link-type="dfn" href="#fragmentation-context" id="ref-for-fragmentation-context-6">fragmentation context</a>. </p>
   <div class="example" id="example-336a11b1"><a class="self-link" href="#example-336a11b1"></a> For example, if a region box is broken at a page boundary,
    then the content of the region will be affected by a page break at that point
    (but not by a region break). </div>
   <div class="note" role="note"> Note that when a multi-column element breaks across pages,
    it generates a new row of columns on the next page for the rest of its content,
    so that a page break within a multi-column element
    is always both a page break and a column break. </div>
   <h2 class="heading settled" data-level="3" id="breaking-controls"><span class="secno">3. </span><span class="content"> Controlling Breaks</span><a class="self-link" href="#breaking-controls"></a></h2>
   <p> The following sections explain how breaks are controlled in a <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-4">fragmented flow</a>.
    A page/column/region break opportunity between two boxes
    is under the influence of
    the containing block’s <a class="property" data-link-type="propdesc" href="#propdef-break-inside" id="ref-for-propdef-break-inside-1">break-inside</a> property,
    the <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-1">break-after</a> property of the preceding element,
    and the <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-1">break-before</a> property of the following element.
    A page/column/region break opportunity between line boxes
    is under the influence of
    the containing block’s <a class="property" data-link-type="propdesc" href="#propdef-break-inside" id="ref-for-propdef-break-inside-2">break-inside</a>, <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-1">widows</a>, and <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-1">orphans</a> properties.
    A fragmentation break can be
    allowed, forced, or discouraged depending on the values of these properties.
    A forced break overrides any break restrictions acting at that break point.
    In the case of forced page breaks, the author can also specify
    on which page (<a href="https://www.w3.org/TR/css3-page/#left-right-first">left or right</a>)
    the subsequent content should resume. </p>
   <p> See the section on <a href="#breaking-rules">rules for breaking</a> for the exact rules on how these properties affect fragmentation. </p>
   <h3 class="heading settled" data-level="3.1" id="break-between"><span class="secno">3.1. </span><span class="content"> Breaks Between Boxes: the <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-2">break-before</a> and <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-2">break-after</a> properties</span><a class="self-link" href="#break-between"></a></h3>
   <table class="propdef">
    <tbody>
     <tr>
      <th>Name: 
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-break-before">break-before</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-break-after">break-after</dfn>
     <tr>
      <th>Value: 
      <td>auto | avoid |
          avoid-page | page | left | right | recto | verso |
          avoid-column | column | avoid-region | region 
     <tr>
      <th>Initial: 
      <td>auto 
     <tr>
      <th>Applies to: 
      <td>block-level elements, table row groups, table rows (but see prose) 
     <tr>
      <th>Inherited: 
      <td>no 
     <tr>
      <th>Percentages: 
      <td>N/A 
     <tr>
      <th>Media: 
      <td>visual 
     <tr>
      <th>Computed value: 
      <td>specified value 
   </table>
   <p> These properties specify page/column/region break behavior
    before/after the generated box.
    The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="forced-break-values">forced break values</dfn> <a class="css" data-link-type="maybe" href="#valdef-break-before-left" id="ref-for-valdef-break-before-left-1">left</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-right" id="ref-for-valdef-break-before-right-1">right</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-recto" id="ref-for-valdef-break-before-recto-1">recto</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-verso" id="ref-for-valdef-break-before-verso-1">verso</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-page" id="ref-for-valdef-break-before-page-1">page</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-column" id="ref-for-valdef-break-before-column-1">column</a> and <a class="css" data-link-type="maybe" href="#valdef-break-before-region" id="ref-for-valdef-break-before-region-1">region</a> create a <a href="#forced-breaks">forced break</a> in the flow
    while the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="avoid-break-values">avoid break values</dfn> <a class="css" data-link-type="maybe" href="#valdef-break-before-avoid" id="ref-for-valdef-break-before-avoid-1">avoid</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-page" id="ref-for-valdef-break-before-avoid-page-1">avoid-page</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-column" id="ref-for-valdef-break-before-avoid-column-1">avoid-column</a> and <a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-region" id="ref-for-valdef-break-before-avoid-region-1">avoid-region</a> indicate that content should be kept together. </p>
   <p> Since breaks are only allowed between siblings,
    not between a box and its container (see <a href="#possible-breaks">Possible Break Points</a>),
    a <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-3">break-before</a> value on a first-child box is propagated to its container.
    Likewise a <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-3">break-after</a> value on a last-child box is propagated to its container.
    (Conflicting values <a href="#forced-breaks">combine</a> as defined below.)
    This propagation stops before it breaks through the nearest matching fragmentation context. </p>
   <p> Values for <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-4">break-before</a> and <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-4">break-after</a> are defined in the sub-sections below.
    User Agents must apply these properties to boxes in the normal flow of the <a data-link-type="dfn" href="#fragmentation-root" id="ref-for-fragmentation-root-4">fragmentation root</a>.
    User agents should also apply these properties to floated boxes
    whose containing block is in the normal flow of the root fragmented element.
    User agents may also apply these properties to other boxes. </p>
   <h4 class="no-num heading settled" id="generic-break-values"><span class="content"> Generic Break Values</span><a class="self-link" href="#generic-break-values"></a></h4>
   <p> These values have an effect regardless of
    the type of fragmented context containing the flow. </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-auto">auto</dfn> 
    <dd> Neither force nor forbid a break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-avoid">avoid</dfn> 
    <dd> Avoid a break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
   </dl>
   <h4 class="no-num heading settled" id="page-break-values"><span class="content"> Page Break Values</span><a class="self-link" href="#page-break-values"></a></h4>
   <p> These values only have an effect in paginated contexts;
    if the flow is not paginated, they have no effect. </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-avoid-page">avoid-page</dfn> 
    <dd> Avoid a page break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-page">page</dfn> 
    <dd> Always force a page break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-left">left</dfn> 
    <dd> Force one or two page breaks before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a> so that the next page is formatted as a left page. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-right">right</dfn> 
    <dd> Force one or two page breaks before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a> so that the next page is formatted as a right page. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-recto">recto</dfn> 
    <dd> Force one or two page breaks before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a> so that
      the next page is formatted as either a left page or a right page,
      whichever is second (according to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-page-3/#page-progression">page progression</a>) in a page spread. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-verso">verso</dfn> 
    <dd> Force one or two page breaks before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a> so that
      the next page is formatted as either a left page or a right page,
      whichever is first (according to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-page-3/#page-progression">page progression</a>) in a page spread. 
   </dl>
   <h4 class="no-num heading settled" id="column-break-values"><span class="content"> Column Break Values</span><a class="self-link" href="#column-break-values"></a></h4>
   <p> These values only have an effect in multi-column contexts;
    if the flow is not within a multi-column context, they have no effect. </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-avoid-column">avoid-column</dfn> 
    <dd> Avoid a column break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-column">column</dfn> 
    <dd> Always force a column break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
   </dl>
   <h4 class="no-num heading settled" id="region-break-values"><span class="content"> Region Break Values</span><a class="self-link" href="#region-break-values"></a></h4>
   <p> These values only have an effect in multi-region contexts;
    if the flow is not linked across multiple regions, these values have no effect. </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-avoid-region">avoid-region</dfn> 
    <dd> Avoid a region break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-before,break-after" data-dfn-type="value" data-export="" id="valdef-break-before-region">region</dfn> 
    <dd> Always force a region break before/after the <a href="https://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal box</a>. 
   </dl>
   <h3 class="heading settled" data-level="3.2" id="break-within"><span class="secno">3.2. </span><span class="content"> Breaks Within Boxes: the <a class="property" data-link-type="propdesc" href="#propdef-break-inside" id="ref-for-propdef-break-inside-3">break-inside</a> property</span><a class="self-link" href="#break-within"></a></h3>
   <table class="propdef">
    <tbody>
     <tr>
      <th>Name: 
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-break-inside">break-inside</dfn>
     <tr>
      <th>Value: 
      <td>auto | avoid | avoid-page | avoid-column | avoid-region 
     <tr>
      <th>Initial: 
      <td>auto 
     <tr>
      <th>Applies to: 
      <td>elements in the normal flow that establish formatting contexts,
        or that are block containers, table row groups, or table rows 
     <tr>
      <th>Inherited: 
      <td>no 
     <tr>
      <th>Percentages: 
      <td>N/A 
     <tr>
      <th>Media: 
      <td>visual 
     <tr>
      <th>Computed value: 
      <td>specified value 
   </table>
   <p> This property specifies page/column/region break behavior
    within the element’s principal box.
    Values have the following meanings: </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-inside,page-break-inside" data-dfn-type="value" data-export="" id="valdef-break-inside-auto">auto</dfn> 
    <dd> Impose no additional breaking constraints within the box. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="break-inside,page-break-inside" data-dfn-type="value" data-export="" id="valdef-break-inside-avoid">avoid</dfn> 
    <dd> Avoid breaks within the box. 
    <dt><dfn class="css" data-dfn-for="break-inside,page-break-inside" data-dfn-type="value" data-export="" id="valdef-break-inside-avoid-page">avoid-page<a class="self-link" href="#valdef-break-inside-avoid-page"></a></dfn> 
    <dd> Avoid a page break within the box. 
    <dt><dfn class="css" data-dfn-for="break-inside,page-break-inside" data-dfn-type="value" data-export="" id="valdef-break-inside-avoid-column">avoid-column<a class="self-link" href="#valdef-break-inside-avoid-column"></a></dfn> 
    <dd> Avoid a column break within the box. 
    <dt><dfn class="css" data-dfn-for="break-inside,page-break-inside" data-dfn-type="value" data-export="" id="valdef-break-inside-avoid-region">avoid-region<a class="self-link" href="#valdef-break-inside-avoid-region"></a></dfn> 
    <dd> Avoid a region break within the box. 
   </dl>
   <h3 class="heading settled" data-level="3.3" id="widows-orphans"><span class="secno">3.3. </span><span class="content"> Breaks Between Lines: <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-2">orphans</a>, <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-2">widows</a></span><a class="self-link" href="#widows-orphans"></a></h3>
   <table class="propdef">
    <tbody>
     <tr>
      <th>Name: 
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-orphans">orphans</dfn>, <dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-widows">widows</dfn>
     <tr>
      <th>Value: 
      <td>&lt;integer> 
     <tr>
      <th>Initial: 
      <td>2 
     <tr>
      <th>Applies to: 
      <td>block containers 
     <tr>
      <th>Inherited: 
      <td>yes 
     <tr>
      <th>Percentages: 
      <td>N/A 
     <tr>
      <th>Media: 
      <td>visual 
     <tr>
      <th>Computed value: 
      <td>specified value 
   </table>
   <p> The <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-3">orphans</a> property specifies the minimum number
    of line boxes in a block container
    that must be left in a <a data-link-type="dfn" href="#fragment" id="ref-for-fragment-1">fragment</a> <em>before</em> a fragmentation break.
    The <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-3">widows</a> property specifies the minimum number
    of line boxes of a block container
    that must be left in a <a data-link-type="dfn" href="#fragment" id="ref-for-fragment-2">fragment</a> <em>after</em> a break.
    Examples of how they are used to control fragmentation breaks are given <a href="#widows-orphans-example">below</a>. </p>
   <p> Only positive integers are allowed as values of <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-4">orphans</a> and <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-4">widows</a>.
    Negative values and zero are invalid and must cause the declaration to be <a href="https://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>. </p>
   <p> If a block contains fewer lines than the value of <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-5">widows</a> or <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-5">orphans</a>,
    the rule simply becomes that all lines in the block must be kept together. </p>
   <h3 class="heading settled" data-level="3.4" id="page-break-properties"><span class="secno">3.4. </span><span class="content"> Page Break Aliases: the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/page.html#propdef-page-break-before">page-break-before</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/page.html#propdef-page-break-after">page-break-after</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/page.html#propdef-page-break-inside">page-break-inside</a> properties</span><a class="self-link" href="#page-break-properties"></a></h3>
   <p>For compatibility with <a href="https://www.w3.org/TR/CSS21/page.html">CSS Level 2</a>,
  UAs that conform to <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> must alias the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/page.html#propdef-page-break-before">page-break-before</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/page.html#propdef-page-break-after">page-break-after</a>, and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/page.html#propdef-page-break-inside">page-break-inside</a> properties
  to <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-5">break-before</a>, <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-5">break-after</a>, and <a class="property" data-link-type="propdesc" href="#propdef-break-inside" id="ref-for-propdef-break-inside-4">break-inside</a> by treating the <a class="property" data-link-type="propdesc">page-break-*</a> properties as shorthands for the <a class="property" data-link-type="propdesc">break-*</a> properties
  with the following value mappings: </p>
   <table class="data">
    <thead>
     <tr>
      <th>Shorthand (<a class="property" data-link-type="propdesc">page-break-*</a>) Values 
      <th>Longhand (<a class="property" data-link-type="propdesc">break-*</a>) Values 
    <tbody>
     <tr>
      <td><span class="css">auto | left | right | avoid</span> 
      <td><span class="css">auto | left | right | avoid</span> 
     <tr>
      <td><span class="css">always</span> 
      <td><span class="css">page</span> 
   </table>
   <h2 class="heading settled" data-level="4" id="breaking-rules"><span class="secno">4. </span><span class="content"> Rules for Breaking</span><a class="self-link" href="#breaking-rules"></a></h2>
   <p> A <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-5">fragmented flow</a> may be broken across <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-17">fragmentainers</a> at a number of <a href="#possible-breaks">possible break points</a>. In the case of <a href="#forced-breaks">forced breaks</a>, the UA is required to
    break the flow at that point. In the case of <a href="#unforced-breaks">unforced breaks</a>, the UA has to choose
    among the possible breaks that are allowed. </p>
   <p> To guarantee progress, fragmentainers are assumed to have a minimum <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-size">block size</a> of 1px regardless of their used size. </p>
   <h3 class="heading settled" data-level="4.1" id="possible-breaks"><span class="secno">4.1. </span><span class="content"> Possible Break Points</span><a class="self-link" href="#possible-breaks"></a></h3>
   <p> Fragmentation splits boxes in the block flow dimension.
    In block-and-inline flow, breaks may occur at the following places: </p>
   <dl>
    <dt id="btw-blocks"><a class="self-link" href="#btw-blocks"></a>Class A
    <dd>
      Between sibling boxes of the following types: 
     <dl>
      <dt>Block-parallel Fragmentation
      <dd> When the block flow direction of the siblings' containing block
          is parallel to that of the fragmentation context: <a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#positioning-scheme">in-flow</a> block-level boxes,
          a float and an immediately-adjacent in-flow or floated box,
          table row group boxes,
          table row boxes,
          multi-column column row boxes. 
      <dt>Block-perpendicular Fragmentation
      <dd> When the block flow direction of the siblings' containing block
          is perpendicular to that of the fragmentation context:
          table column group boxes,
          table column boxes,
          multi-column column boxes. 
     </dl>
    <dt id="btw-lines"><a class="self-link" href="#btw-lines"></a>Class B
    <dd> Between line boxes inside a block container box. 
    <dt id="end-block"><a class="self-link" href="#end-block"></a>Class C
    <dd> Between the content edge of a block container box and the outer edges of its
      child content (margin edges of block-level children or line box
      edges for inline-level children) <em>if</em> there is a (non-zero)
      gap between them. 
   </dl>
   <p class="note" role="note"> There is no inherent prioritization among these classes of break points.
    However, individual break points may be prioritized or de-prioritized
    by using the <a href="#breaking-controls">breaking controls</a>. </p>
   <p class="note" role="note"> Other layout models may add breakpoints to the above classes.
    For example, <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a> adds certain points within a flex formatting context
    to classes A and C. </p>
   <p> Some content is not fragmentable, for example many types of <a href="https://www.w3.org/TR/CSS21/conform.html#replaced-element">replaced elements</a> <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> (such as images or video),
    scrollable elements, or a single line of text content.
    Such content is considered <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="monolithic">monolithic</dfn>:
    it contains no possible break points.
    Any forced breaks within such boxes
    therefore cannot split the box,
    and must therefore also be ignored by the box’s own fragmentation context. </p>
   <p> In addition to any content which is not generally fragmentable,
    UAs may consider as <a data-link-type="dfn" href="#monolithic" id="ref-for-monolithic-1">monolithic</a> any elements with <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-overflow-4/#propdef-overflow">overflow</a> set to <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-auto">auto</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-scroll">scroll</a> and
    any elements with <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-overflow-4/#propdef-overflow">overflow: hidden</a> and a non-<span class="css">auto</span> <a href="https://www.w3.org/TR/css3-writing-modes/#block-size">logical height</a> (and no specified maximum logical height). </p>
   <p> Since line boxes contain no possible break points, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-table">inline-table</a> boxes
    (and other inline-level <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#display-type">display types</a> that establish a new <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#formatting-context">formatting context</a>)
    may also be considered <a data-link-type="dfn" href="#monolithic" id="ref-for-monolithic-2">monolithic</a>. </p>
   <h3 class="heading settled" data-level="4.2" id="break-types"><span class="secno">4.2. </span><span class="content"> Types of Breaks</span><a class="self-link" href="#break-types"></a></h3>
   <p> There are different types of breaks in CSS, defined based on the type of
    fragmentainers they span: </p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="page-break">page break</dfn>
    <dd> A break between two <a href="https://www.w3.org/TR/css3-page/#page-box">page boxes</a>. <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a> 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="spread-break">spread break<a class="self-link" href="#spread-break"></a></dfn>
    <dd> A break between two page boxes that are not associated with <a href="https://www.w3.org/TR/css3-page/#facing-pages">facing pages</a>.
      A spread break is always also a page break. <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a> 
    <dt><dfn data-dfn-type="dfn" data-noexport="" id="column-break">column break<a class="self-link" href="#column-break"></a></dfn>
    <dd> A break between two <a href="https://www.w3.org/TR/css3-multicol/#column-box">column boxes</a>.
      Note that if the column boxes are on different pages, then the break is
      also a <a data-link-type="dfn" href="#page-break" id="ref-for-page-break-1">page break</a>.
      Similarly, if the column boxes are in different regions,
      then the break is also a <a data-link-type="dfn" href="#region-break" id="ref-for-region-break-1">region break</a>. <a data-link-type="biblio" href="#biblio-css3col">[CSS3COL]</a> 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="region-break">region break</dfn>
    <dd> A break between two <a href="https://www.w3.org/TR/css3-regions/#regions">regions</a>.
      Note that if the region boxes are on different pages, then the break is
      also a <a data-link-type="dfn" href="#page-break" id="ref-for-page-break-2">page break</a>. <a data-link-type="biblio" href="#biblio-css3-regions">[CSS3-REGIONS]</a> 
   </dl>
   <p class="note" role="note"> A fifth type of break is the <dfn data-dfn-type="dfn" data-noexport="" id="line-break">line break<a class="self-link" href="#line-break"></a></dfn>, which is a break between
    two <a href="https://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
    These are not covered in this specification; see <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a> <a data-link-type="biblio" href="#biblio-css3text">[CSS3TEXT]</a>. </p>
   <h3 class="heading settled" data-level="4.3" id="forced-breaks"><span class="secno">4.3. </span><span class="content"> Forced Breaks</span><a class="self-link" href="#forced-breaks"></a></h3>
   <p> A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="forced-break">forced break</dfn> is one explicitly indicated by the style sheet author.
    A <a data-link-type="dfn" href="#forced-break" id="ref-for-forced-break-2">forced break</a> occurs at a <a href="#btw-blocks">class A break point</a> if,
    among the <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-6">break-after</a> properties specified on or propagated to the earlier sibling box
    and the <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-6">break-before</a> properties specified on or propagated to the later sibling box
    there is at least one with a <a data-link-type="dfn" href="#forced-break-values" id="ref-for-forced-break-values-1">forced break value</a>.
    (Thus a <a data-link-type="dfn" href="#forced-break-values" id="ref-for-forced-break-values-2">forced break value</a> effectively overrides any <a data-link-type="dfn" href="#avoid-break-values" id="ref-for-avoid-break-values-1">avoid break value</a> that also applies at that break point.) </p>
   <p> When multiple <a data-link-type="dfn" href="#forced-break-values" id="ref-for-forced-break-values-3">forced break values</a> apply to a single break point,
    they combine such that all types of break are honored.
    When <a class="css" data-link-type="maybe" href="#valdef-break-before-left" id="ref-for-valdef-break-before-left-2">left</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-right" id="ref-for-valdef-break-before-right-2">right</a>, <a class="css" data-link-type="maybe" href="#valdef-break-before-recto" id="ref-for-valdef-break-before-recto-2">recto</a>, and/or <a class="css" data-link-type="maybe" href="#valdef-break-before-verso" id="ref-for-valdef-break-before-verso-2">verso</a> are combined,
    the value specified on the latest element in the flow wins. </p>
   <p class="note" role="note"> A forced page break must also occur at a <a href="#btw-blocks">class A break point</a> if the last line box above this margin and the first one below it do not have the
    same value for <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-page-3/#propdef-page">page</a>. See <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a> </p>
   <p> When a forced break occurs,
    it forces ensuing content into the next fragmentainer of the type associated with the break,
    breaking through as many fragmentation contexts as necessary
    until the specified break types are all satisfied.
    If the forced break is not contained within a matching type of fragmentation context,
    then the forced break has no effect. </p>
   <h3 class="heading settled" data-level="4.4" id="unforced-breaks"><span class="secno">4.4. </span><span class="content"> Unforced Breaks</span><a class="self-link" href="#unforced-breaks"></a></h3>
   <p> While <a href="#breaking-controls">breaking controls</a> can force breaks,
    they can also discourage them.
    An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="unforced-break">unforced break</dfn> is one that is inserted automatically by the UA
    in order to prevent content from overflowing the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-18">fragmentainer</a>.
    The following rules control whether unforced breaking
    at a <a href="#possible-breaks">possible break point</a> is allowed: </p>
   <dl>
    <dt>Rule 1
    <dd> A <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-6">fragmented flow</a> may break at a <a href="#btw-blocks">class A break point</a> only if
      all the <a class="property" data-link-type="propdesc" href="#propdef-break-after" id="ref-for-propdef-break-after-7">break-after</a> and <a class="property" data-link-type="propdesc" href="#propdef-break-before" id="ref-for-propdef-break-before-7">break-before</a> values applicable to this
      break point allow it, which is when at least one of them forces a
      break or when none of them forbid it
      (<a class="css" data-link-type="maybe" href="#valdef-break-before-avoid" id="ref-for-valdef-break-before-avoid-2">avoid</a> or <a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-page" id="ref-for-valdef-break-before-avoid-page-2">avoid-page</a>/<a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-column" id="ref-for-valdef-break-before-avoid-column-2">avoid-column</a>/<a class="css" data-link-type="maybe" href="#valdef-break-before-avoid-region" id="ref-for-valdef-break-before-avoid-region-2">avoid-region</a>, depending on the <a href="#break-types">break type</a>). 
    <dt>Rule 2
    <dd> However, if all of them are <a class="css" data-link-type="maybe" href="#valdef-break-before-auto" id="ref-for-valdef-break-before-auto-1">auto</a> and a common ancestor of all
      the elements has a <a class="property" data-link-type="propdesc" href="#propdef-break-inside" id="ref-for-propdef-break-inside-5">break-inside</a> value of <a class="css" data-link-type="maybe" href="#valdef-break-inside-avoid" id="ref-for-valdef-break-inside-avoid-1">avoid</a>, then breaking
      here is not allowed. 
    <dt>Rule 3
    <dd> Breaking at a <a href="#btw-lines">class B break point</a> is allowed only if the number
      of line boxes between the break and the start of the enclosing block
      box is the value of <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-6">orphans</a> or more, and the number of line boxes
      between the break and the end of the box is the value of <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-6">widows</a> or more. 
    <dt>Rule 4
    <dd> Additionally, breaking at <a href="#btw-blocks">class B</a> or <a href="#end-block">class C</a> break points
      is allowed only if the <a class="property" data-link-type="propdesc" href="#propdef-break-inside" id="ref-for-propdef-break-inside-6">break-inside</a> property of all ancestors is <a class="css" data-link-type="maybe" href="#valdef-break-inside-auto" id="ref-for-valdef-break-inside-auto-1">auto</a>. 
   </dl>
   <p> If the above doesn’t provide enough break points to keep content from
    overflowing the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-19">fragmentainer</a>,
    then rule 3 is dropped to provide more break points. </p>
   <p> If that still does not lead to sufficient break points,
    then rules 1, 2 and 4 are dropped in order to find additional breakpoints.
    In this case the UA may use the <span class="css">avoid</span>s that are in effect at those
    points to weigh the appropriateness of the new breakpoints; however,
    this specification does not suggest a precise algorithm. </p>
   <p> If even that does not lead to sufficient break points, <a href="#valdef-box-decoration-break-clone" id="ref-for-valdef-box-decoration-break-clone-1">cloned margins/border/padding</a> at on the block-end side are truncated;
    and if more room is still needed, <a href="#valdef-box-decoration-break-clone" id="ref-for-valdef-box-decoration-break-clone-2">cloned margins/border/padding</a> are truncated at the block-end side as well. </p>
   <p> Finally, if there are no possible break points below the top of the fragmentainer,
    and not all the content fits, the UA may break anywhere
    in order to avoid losing content off the edge of the fragmentainer. <span id="monolithic-breaking"> In such cases, the UA may also fragment the contents of <a data-link-type="dfn" href="#monolithic" id="ref-for-monolithic-3">monolithic</a> elements
    by slicing the element’s graphical representation.
    However, the UA must not break at the top of the page,
    i.e. it must place at least some content on each fragmentainer,
    so that each fragmentainer has a non-zero amount of content,
    in order to guarantee progress through the content. </span></p>
   <h3 class="heading settled" data-level="4.5" id="best-breaks"><span class="secno">4.5. </span><span class="content"> Optimizing Unforced Breaks</span><a class="self-link" href="#best-breaks"></a></h3>
   <p>While CSS3 requires that a <a data-link-type="dfn" href="#fragmented-flow" id="ref-for-fragmented-flow-7">fragmented flow</a> must break at allowed
    break points in order to avoid overflowing the fragmentainers in its
    fragmentation context, it does not define whether content breaks
    at a particular <a href="#unforced-breaks">allowed break</a>.
    However, it is recommended that user agents observe the following
    guidelines (while recognizing that they are sometimes contradictory): </p>
   <ul>
    <li>Break as few times as possible.
    <li>Make all fragmentainers that don’t end with a forced break appear
      to be equally filled with content.
    <li>Avoid breaking inside a replaced element.
   </ul>
   <div class="example" id="widows-orphans-example">
    <a class="self-link" href="#widows-orphans-example"></a> 
    <p> Suppose, for example, that the style sheet contains <span class="css">orphans : 4</span>, <span class="css">widows : 2</span>, and there is space for 20 lines (line boxes) available
      at the bottom of the current page, and the next block in normal flow
      is considered for placement: </p>
    <ul>
     <li> If the block contains 20 line boxes or fewer, it should be placed
        on the current page. 
     <li> If the block contains 21 or 22 line boxes, the second fragment of
        the paragraph must not violate the <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-7">widows</a> constraint, and so
        the second fragment must contain at least two line boxes;
        likewise the first fragment must contain at least four line boxes. 
     <li> If the block contains 23 line boxes or more, the first fragment should
        contain 20 lines and the second fragment the remaining lines. But if
        any fragment of the block is placed on the current page, that fragment
        must contain at least four line boxes and the second fragment at least
        two line boxes. 
    </ul>
    <p> Now suppose that <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-7">orphans</a> is <span class="css">10</span>, <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-8">widows</a> is <span class="css">20</span>, and there
      are 8 lines available at the bottom of the current page: </p>
    <ul>
     <li> If the block contains 8 lines or fewer, it should be placed
        on the current page. 
     <li> If the block contains 9 lines or more, it must NOT be split
        (that would violate the <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-8">orphans</a> constraint), so it must
        move as a block to the next page. 
    </ul>
   </div>
   <h2 class="heading settled" data-level="5" id="breaking-boxes"><span class="secno">5. </span><span class="content"> Box Model for Breaking</span><a class="self-link" href="#breaking-boxes"></a></h2>
   <p class="note" role="note"> The sizing terminology used in this section is defined in <a data-link-type="biblio" href="#biblio-css3-sizing">[CSS3-SIZING]</a>. </p>
   <h3 class="heading settled" data-level="5.1" id="varying-size-boxes"><span class="secno">5.1. </span><span class="content"> Breaking into Varying-size Fragmentainers</span><a class="self-link" href="#varying-size-boxes"></a></h3>
   <p> When a flow is fragmented into varying-size fragmentainers, the following
    rules are observed for adapting layout: </p>
   <ul>
    <li> Intrinsic sizes are calculated and maintained across the entire element.
      Where an initial containing block size is needed to resolve an intrinsic
      size, assume the size of the first fragmentainer defining a fragmentation context. 
    <li> Layout is performed per-fragmentainer, with each fragmentainer continuing
      progress from the breakpoint on the previous, but recalculating sizes
      and positions using its own size as if the entire element were fragmented
      across fragmentainers of this size. Progress is measured in percentages
      (not absolute lengths) of used/remaining fragmentainer extent and in amount of
      used/remaining content.
      However, when laying out <a data-link-type="dfn" href="#monolithic" id="ref-for-monolithic-4">monolithic</a> elements,
      the UA may instead maintain a consistent <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#inline-size">inline size</a> and resolved <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-size">block size</a> across fragmentainers. 
    <li>
      Fragments of boxes that began on a previous fragmentainer must obey
      placement rules with the additional constraint that fragments must
      not be positioned above the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-start">block-start</a> edge of the fragmentainer.
      If this results in a box’s continuation fragment
      shifting away from the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-start">block-start</a> edge of the fragmentainer, then <a class="css" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-2">box-decoration-break: clone</a>, if specified, wraps the fragment
      with the box’s margin in addition to its padding and border. 
     <div class="figure">
      <p><img alt="Illustration: Breaking in varying-size fragmentainers" src="images/Varying-Size-Fragmentainers.svg" style="width: 75%"> </p>
      <p class="caption"> Illustration of breaking in varying-size fragmentainers. </p>
     </div>
   </ul>
   <p class="note" role="note"> Since document order of elements doesn’t change during fragmentation,
    fragments are processed following the same rules that apply to continuous
    media. In particular, the order of floats is preserved across all
    fragments and follows the same rules as defined in CSS 2.1 9.5. </p>
   <p>Below are listed (informatively) some implications of these rules:</p>
   <ul>
    <li> Boxes (including tables) fullfilling layout constraints at their <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-4/#fill-available-size">fill-available</a> or percentage-based size
      may change <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#inline-size">inline size</a> across pages. 
    <li> Boxes (including tables) fulfilling layout constraints at their <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-4/#min-content">min-content</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/css-sizing-4/#max-content">max-content</a>, or absolute-length size
      will maintain their <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#inline-size">inline size</a> across pages. 
    <li> A block-level continuation fragment may be placed below the top of
      the page if, e.g. it establishes a block formatting context and
      is placed beside a float and both it and the float continue onto
      a narrower page that is too narrow to hold both of them side-by-side. 
    <li> An element adjacent to a preceding float on one page may wind up above
      the float’s continuation on the next page if,
      e.g. that float is pushed down because
      it no longer fits side-by-side with an earlier float
      that also continues onto this narrower page. 
    <li> A left float may appear on a page <em>before</em> the remaining fragments of a preceding right float
      if that right float does not fit on the earlier page.
      However another right float will be forced down until
      the preceding right float’s remaining fragment can be placed. 
   </ul>
   <div class="example" id="example-9765ba0a">
    <a class="self-link" href="#example-9765ba0a"></a> 
    <p>Here is an example that shows the use of percentage-based progress:
    Suppose we have an absolutely-positioned element that is positioned <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-top">top: calc(150% + 30px)</a> and has <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visudet.html#propdef-height">height: calc(100% - 10px)</a>. If
    it is placed into a paginated context with a first page height of 400px,
    a second page of 200px, and a third page of 600px, its layout progresses
    as follows: </p>
    <ul>
     <li>First, the top position is resolved against the height of the first page.
      This results in 630px. Since the first page has a height of only 400px, layout
      moves to the second page, recording progress of 400/630 = 63.49% with
      36.51% left to go. 
     <li>Now on the second page, the top position is again resolved, this
      time against the height of the second page. This results in 330px. The
      remaining 36.51% of progress thus resolves to 120.5px, placing the top edge of
      the element 120.5px down the second page. 
     <li>Now the height is resolved against the second page; it resolves
      to 190px. Since there are only 79.5px left on the page, layout moves
      to the third page, recording progress of 79.5/190 = 41.84%, with 58.16%
      left to go. 
     <li>On the third page, the height resolves to 590px. The remaining
      58.16% of progress thus resolves to 343.1px, which fits on this page
      and completes the element. 
    </ul>
   </div>
   <h3 class="heading settled" data-level="5.2" id="break-margins"><span class="secno">5.2. </span><span class="content"> Adjoining Margins at Breaks</span><a class="self-link" href="#break-margins"></a></h3>
   <p> When an unforced break occurs between block-level boxes,
    any margins adjoining the break truncate to the <a data-link-type="dfn" href="#remaining-fragmentainer-extent" id="ref-for-remaining-fragmentainer-extent-1">remaining fragmentainer extent</a> before the break,
    and are truncated to zero after the break.
    When a forced break occurs there, adjoining margins before the break are truncated,
    but margins after the break are preserved. <a href="#valdef-box-decoration-break-clone" id="ref-for-valdef-box-decoration-break-clone-3">Cloned margins</a> are always truncated to zero on block-level margins. </p>
   <h3 class="heading settled" data-level="5.3" id="box-splitting"><span class="secno">5.3. </span><span class="content"> Splitting Boxes</span><a class="self-link" href="#box-splitting"></a></h3>
   <p> When a box breaks,
    its content box extends to fill any <a data-link-type="dfn" href="#remaining-fragmentainer-extent" id="ref-for-remaining-fragmentainer-extent-2">remaining fragmentainer extent</a> (leaving room for any margins/borders/padding applied by <a class="css" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-3">box-decoration-break: clone</a>)
    before the content resumes on the next <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-20">fragmentainer</a>.
    (A <a data-link-type="dfn" href="#fragmentation-break" id="ref-for-fragmentation-break-1">fragmentation break</a> that pushes content to the next <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-21">fragmentainer</a> effectively increases the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-size">block size</a> of a box’s contents.) </p>
   <p class="note" role="note"> The extra <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-size">block size</a> contributed by fragmenting the box
    (i.e. the distance from the break point to the edge of the <a data-link-type="dfn" href="#fragmentainer" id="ref-for-fragmentainer-22">fragmentainer</a>)
    contributes progress towards any specified limits on the box’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-size">block size</a>. </p>
   <div class="figure">
    <p><img alt="Illustration: Filling remaining fragmentainer extent" src="images/Remaining-Fragmentainer-Extent.svg" style="width: 80%"> </p>
    <p class="caption"> Illustration of filling the <a data-link-type="dfn" href="#remaining-fragmentainer-extent" id="ref-for-remaining-fragmentainer-extent-3">remaining fragmentainer extent</a>. </p>
   </div>
   <h3 class="heading settled" data-level="5.4" id="break-decoration"><span class="secno">5.4. </span><span class="content"> Fragmented Borders and Backgrounds: the <a class="property" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-4">box-decoration-break</a> property</span><a class="self-link" href="#break-decoration"></a></h3>
   <table class="propdef">
    <tbody>
     <tr>
      <th>Name: 
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-box-decoration-break">box-decoration-break</dfn>
     <tr>
      <th><a href="#values">Value</a>: 
      <td>slice | clone 
     <tr>
      <th>Initial: 
      <td>slice 
     <tr>
      <th>Applies to: 
      <td>all elements 
     <tr>
      <th>Inherited: 
      <td>no 
     <tr>
      <th>Percentages: 
      <td>N/A 
     <tr>
      <th>Media: 
      <td>visual 
     <tr>
      <th>Computed value: 
      <td>as specified 
     <tr>
      <th>Animatable: 
      <td>no 
   </table>
   <p> When a break (page/column/region/line) splits a box,
    the <a class="property" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-5">box-decoration-break</a> property controls </p>
   <ul>
    <li>whether the box’s margins, borders, padding, and other decorations
      wrap the broken edges of the box fragments 
    <li>how the <a href="https://www.w3.org/TR/css3-background/#background-positioning-area"><i data-lt="background positioning area">background positioning area</i></a> <a data-link-type="biblio" href="#biblio-css3bg">[CSS3BG]</a> (and <a data-link-type="dfn" href="https://drafts.fxtf.org/css-masking-1/#mask-positioning-area">mask positioning area</a> <a data-link-type="biblio" href="#biblio-css-masking-1">[CSS-MASKING-1]</a>,
      shape <a data-link-type="dfn">reference box</a> <a data-link-type="biblio" href="#biblio-css-shapes-1">[CSS-SHAPES-1]</a>, etc.)
      is derived from or duplicated across the box fragments
      and how the element’s background is drawn within them. 
   </ul>
   <p> Values have the following meanings: </p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="box-decoration-break" data-dfn-type="value" data-export="" id="valdef-box-decoration-break-clone">clone</dfn> 
    <dd>
      Each box fragment is independently wrapped with the border, padding, and margin.
      The <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a> and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#box-shadow">box-shadow</a>, if any,
      are applied to each fragment independently.
      The background is drawn independently in each fragment of the element.
      A no-repeat background image will thus be rendered once in each fragment of the element. 
     <p class="note" role="note">Note: Cloned margins are <a href="#break-margins">truncated</a> on block-level boxes.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="box-decoration-break" data-dfn-type="value" data-export="" id="valdef-box-decoration-break-slice">slice</dfn> 
    <dd>
     <p> The effect is as though the element were rendered with no breaks present,
      and then sliced by the breaks afterward:
      no border and no padding are inserted at a break;
      no box-shadow is drawn at a broken edge;
      and backgrounds, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a>, and the <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a> are applied to the geometry of the whole box
      as if it were unbroken. </p>
   </dl>
   <div class="figure">
    <p><img alt="Illustration:
      (1) a single box cut in two in between two lines of text by a page break and
      (2) two boxes, one before and one after the page break,
      both with a border all around and their own background image" src="images/box-break.png"> </p>
    <p class="caption">Two possibilities for <a class="property" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-6">box-decoration-break</a>:
    on the left, the value <a class="css" data-link-type="maybe" href="#valdef-box-decoration-break-slice" id="ref-for-valdef-box-decoration-break-slice-1">slice</a>, on the right the value <a class="css" data-link-type="maybe" href="#valdef-box-decoration-break-clone" id="ref-for-valdef-box-decoration-break-clone-4">clone</a>. </p>
   </div>
   <p>UAs may also apply <a class="property" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-7">box-decoration-break</a> to control rendering
  at bidi-imposed breaks, i.e. when bidi reordering causes an inline
  to split into non-contiguous fragments. Otherwise such breaks are
  always handled as <a class="css" data-link-type="maybe" href="#valdef-box-decoration-break-slice" id="ref-for-valdef-box-decoration-break-slice-2">slice</a>. </p>
   <p class="note" role="note"> For inline elements, which side of a fragment is considered the broken edge
  is determined by the parent element’s inline progression direction.
  For example, if an inline element whose parent has <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction: rtl</a> breaks across two lines, the <em>left</em> edge of the fragment on
  the first line will be the broken edge. (Note in particular that
  neither the element’s own <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> nor its containing block’s <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is used.) See <a data-link-type="biblio" href="#biblio-css3-writing-modes">[CSS3-WRITING-MODES]</a>. </p>
   <h4 class="heading settled" data-level="5.4.1" id="joining-boxes"><span class="secno">5.4.1. </span><span class="content"> Joining Boxes for <a class="css" data-link-type="maybe" href="#valdef-box-decoration-break-slice" id="ref-for-valdef-box-decoration-break-slice-3">slice</a></span><a class="self-link" href="#joining-boxes"></a></h4>
   <p>For <a class="css" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-8">box-decoration-break: slice</a>, backgrounds (and <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a>)
  are drawn as if applied to a composite box
  consisting of all of the box’s fragments
  reassembled in visual order.
  This theoretical assembly occurs after the element has been laid out
  (including any justification, bidi reordering, page breaks, etc.).
  To assemble the composite box... </p>
   <dl>
    <dt>For boxes broken across lines
    <dd> First, fragments on the same line are connected in visual order.
      Then, fragments on subsequent lines are ordered
      according to the element’s <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#inline-base-direction">inline base direction</a> and aligned on the element’s dominant baseline.
      For example, in a left-to-right containing block (<a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a> is <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>),
      the first fragment is the leftmost fragment on the first line
      and fragments from subsequent lines are put to the right of it.
      In a right-to-left containing block,
      the first fragment is the rightmost on the first line
      and subsequent fragments are put to the left of it. 
    <dt>For boxes broken across columns
    <dd> Fragments are connected as if the column boxes were glued together
      in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-flow-direction">block flow direction</a> of the multi-column element. 
    <dt>For boxes broken across pages
    <dd> Fragments are connected as if page content areas were glued together
      in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-flow-direction">block flow direction</a> of the root element. 
    <dt>For boxes broken across regions
    <dd> Fragments are connected as if region content areas were glued together
      in the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-flow-direction">block flow direction</a> of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#principal-writing-mode">principal writing mode</a> of the <a data-link-type="dfn" href="https://drafts.csswg.org/css-regions-1/#region-chain">region chain</a>. 
   </dl>
   <p>If the box fragments have different widths
  (heights, if the fragments are joined horizontally),
  then each piece draws its portion of the background
  assuming that the whole element has the same width (height) as this piece.
  However, if the used height (width) of an image is derived from the width (height) of the box,
  then it is calculated using the widest fragment’s width
  and maintained as a fixed size.
  This ensures that right-aligned images stay aligned to the right edge,
  left-aligned images stay aligned to the left edge,
  centered images stay centered,
  and stretched images cover the background area as intended
  while preserving continuity across fragments. </p>
   <h3 class="heading settled" data-level="5.5" id="transforms"><span class="secno">5.5. </span><span class="content"> Transforms, Positioning, and Pagination</span><a class="self-link" href="#transforms"></a></h3>
   <p> Fragmentation interacts with layout, and thus occurs <em>before</em> relative positioning <a data-link-type="biblio" href="#biblio-css21">[CSS21]</a>, transforms <a data-link-type="biblio" href="#biblio-css3-transforms">[CSS3-TRANSFORMS]</a>,
    and any other graphical effects.
    Such effects are applied per fragment:
    for example, rotation applied to a fragmented box
    will calculate a rotation origin for each fragment
    and independently rotate that fragment around its origin.
    (The origin of an overflow-only fragment is determined
    as if that content were overflowing an empty box with zero margins/borders/padding
    at the start of the fragmentainer.)
    However, the separation and transfer of page boxes <em>should</em> occur last;
    thus a transformed fragment that spans pages <em>should</em> be sliced at the page breaks and print in its entirety
    rather than being clipped by its originating page. </p>
   <div class="figure">
    <p><img alt="Illustration: Transformed overflow fragmentation" src="images/fragmented-transforms.png"> </p>
    <p class="caption">A fixed-height box spanning 2.5 pages with overflow content spanning
      to a total of 4 pages.
      The transform origin of each fragment is the center of its border box;
      the fragment without a border box assumes a zero-height box at the start of the overflow. </p>
   </div>
   <p> Absolute positioning affects layout and thus interacts with fragmentation.
    Both the coordinate system and absolutely-positioned boxes belonging to a containing block
    will fragment across pages in the same fragmentation flow as the containing block. </p>
   <p> UAs are not required to correctly position boxes that span a <a data-link-type="dfn" href="#fragmentation-break" id="ref-for-fragmentation-break-2">fragmentation break</a> and whose <a data-link-type="dfn" href="https://drafts.csswg.org/css-writing-modes-3/#block-start">block-start</a> edge position depends on where the box’s content fragments.
    UAs with memory constraints that prevent them from manipulating an entire document in memory
    are not required to correctly position absolutely-positioned elements
    that end up on a previously-rendered page. </p>
   <h2 class="no-num heading settled" id="changes"><span class="content"> Changes</span><a class="self-link" href="#changes"></a></h2>
   <p>The following significant changes were made since the <a href="https://www.w3.org/TR/2015/WD-css3-break-20150129/">29 January 2015 Working Draft</a>: </p>
   <ul>
    <li>Dropped <span class="css">any</span> and <span class="css">always</span> values of <a class="property" data-link-type="propdesc">break-*</a>. 
    <li>Switched priority of <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-9">widows</a> and <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-9">orphans</a> vs. <a class="property" data-link-type="propdesc">break-*</a> restrictions
        to make <a class="property" data-link-type="propdesc" href="#propdef-widows" id="ref-for-propdef-widows-10">widows</a> and <a class="property" data-link-type="propdesc" href="#propdef-orphans" id="ref-for-propdef-orphans-10">orphans</a> lower-priority rather than higher-priority. 
    <li>Defined that margins are also cloned for <a class="css" data-link-type="propdesc" href="#propdef-box-decoration-break" id="ref-for-propdef-box-decoration-break-9">box-decoration-break: clone</a> (but are truncated in block-level layout). 
    <li>Corrected unforced breaking rules (Class A) to handle new break types
        (original rules only handled page breaks). 
    <li>Allowed dropping cloned box decorations when running out of room. 
   </ul>
   <p>A <a href="https://drafts.csswg.org/css-break-3/issues-lc-2015">Disposition of Comments</a> is available. </p>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content"> Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p> The editors would like to thank
    Mihai Balan,
    Michael Day,
    Alex Mogilevsky,
    Shinyu Murakami,
    Florian Rivoal,
    and Alan Stearns
    for their contributions to this module.
    Special thanks go to the former <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a> editors
    Jim Bigelow (HP),
    Melinda Grant (HP),
    Håkon Wium Lie (Opera),
    and
    Jacob Refstrup (HP)
    for their contributions to this specification,
    which is a successor of their work there. </p>
  </main>
  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
  <h3 class="heading settled" id="document-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#document-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
  <p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this: </p>
  <div class="example" id="example-52448c84">
   <a class="self-link" href="#example-52448c84"></a> 
   <p>This is an example of an informative example. </p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note. </p>
  <p>Advisements are normative sections styled to evoke special attention and are
	set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
	this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong> </p>
  <h3 class="heading settled" id="conform-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#conform-classes"></a></h3>
  <p>Conformance to this specification
	is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#style-sheet">CSS
			style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
			documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
	if all of its statements that use syntax defined in this module are valid
	according to the generic CSS grammar and the individual grammars of each
	feature defined in this module. </p>
  <p>A renderer is conformant to this specification
	if, in addition to interpreting the style sheet as defined by the
	appropriate specifications, it supports all the features defined
	by this specification by parsing them correctly
	and rendering the document accordingly. However, the inability of a
	UA to correctly render a document due to limitations of the device
	does not make the UA non-conformant. (For example, a UA is not
	required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
	if it writes style sheets that are syntactically correct according to the
	generic CSS grammar and the individual grammars of each feature in
	this module, and meet all other conformance requirements of style sheets
	as described in this module. </p>
  <h3 class="heading settled" id="conform-responsible"><span class="content"> Requirements for Responsible Implementation of CSS</span><a class="self-link" href="#conform-responsible"></a></h3>
  <p>The following sections define several conformance requirements
		for implementing CSS responsibly,
		in a way that promotes interoperability in the present and future. </p>
  <h4 class="heading settled" id="conform-partial"><span class="content"> Partial Implementations</span><a class="self-link" href="#conform-partial"></a></h4>
  <p>So that authors can exploit the forward-compatible parsing rules to assign fallback values, <strong>CSS renderers <em>must</em> treat as invalid
		(and <a href="http://www.w3.org/TR/CSS2/conform.html#ignore">ignore as appropriate</a>)
		any at-rules, properties, property values, keywords, and other syntactic constructs
		for which they have no usable level of support</strong>.
		In particular, user agents <em>must not</em> selectively ignore
		unsupported property values and honor supported values in a single multi-value property declaration:
		if any value is considered invalid (as unsupported values must be),
		CSS requires that the entire declaration be ignored. </p>
  <h4 class="heading settled" id="conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
		the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h4 class="heading settled" id="conform-testing"><span class="content"> Implementations of CR-level Features</span><a class="self-link" href="#conform-testing"></a></h4>
  <p>Once a specification reaches the Candidate Recommendation stage,
		implementers should release an <a data-link-type="dfn" href="http://www.w3.org/TR/CSS/#vendor-prefix">unprefixed</a> implementation
		of any CR-level feature they can demonstrate
		to be correctly implemented according to spec,
		and should avoid exposing a prefixed variant of that feature. </p>
  <p>To establish and maintain the interoperability of CSS across
		implementations, the CSS Working Group requests that non-experimental
		CSS renderers submit an implementation report (and, if necessary, the
		testcases used for that implementation report) to the W3C before
		releasing an unprefixed implementation of any CSS features. Testcases
		submitted to W3C are subject to review and correction by the CSS
		Working Group. </p>
  <p>
   Further information on submitting testcases and implementation reports
		can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
		Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list. 
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  </p>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    auto
    <ul>
     <li><a href="#valdef-break-before-auto">value for break-before, break-after</a><span>, in §3.1</span>
     <li><a href="#valdef-break-inside-auto">value for break-inside, page-break-inside</a><span>, in §3.2</span>
    </ul>
   <li>
    avoid
    <ul>
     <li><a href="#valdef-break-before-avoid">value for break-before, break-after</a><span>, in §3.1</span>
     <li><a href="#valdef-break-inside-avoid">value for break-inside, page-break-inside</a><span>, in §3.2</span>
    </ul>
   <li><a href="#avoid-break-values">avoid break values</a><span>, in §3.1</span>
   <li>
    avoid-column
    <ul>
     <li><a href="#valdef-break-before-avoid-column">value for break-before, break-after</a><span>, in §3.1</span>
     <li><a href="#valdef-break-inside-avoid-column">value for break-inside, page-break-inside</a><span>, in §3.2</span>
    </ul>
   <li>
    avoid-page
    <ul>
     <li><a href="#valdef-break-before-avoid-page">value for break-before, break-after</a><span>, in §3.1</span>
     <li><a href="#valdef-break-inside-avoid-page">value for break-inside, page-break-inside</a><span>, in §3.2</span>
    </ul>
   <li>
    avoid-region
    <ul>
     <li><a href="#valdef-break-before-avoid-region">value for break-before, break-after</a><span>, in §3.1</span>
     <li><a href="#valdef-break-inside-avoid-region">value for break-inside, page-break-inside</a><span>, in §3.2</span>
    </ul>
   <li><a href="#propdef-box-decoration-break">box-decoration-break</a><span>, in §5.4</span>
   <li><a href="#box-fragment">box fragment</a><span>, in §2</span>
   <li><a href="#break">break</a><span>, in §2</span>
   <li><a href="#propdef-break-after">break-after</a><span>, in §3.1</span>
   <li><a href="#propdef-break-before">break-before</a><span>, in §3.1</span>
   <li><a href="#propdef-break-inside">break-inside</a><span>, in §3.2</span>
   <li><a href="#valdef-box-decoration-break-clone">clone</a><span>, in §5.4</span>
   <li><a href="#valdef-break-before-column">column</a><span>, in §3.1</span>
   <li><a href="#column-break">column break</a><span>, in §4.2</span>
   <li><a href="#forced-break">forced break</a><span>, in §4.3</span>
   <li><a href="#forced-break-values">forced break values</a><span>, in §3.1</span>
   <li><a href="#fragment">fragment</a><span>, in §2</span>
   <li><a href="#fragmentainer">fragmentainer</a><span>, in §2</span>
   <li><a href="#fragmentation">fragmentation</a><span>, in §2</span>
   <li><a href="#fragmentation-break">fragmentation break</a><span>, in §2</span>
   <li><a href="#fragmentation-container">fragmentation container</a><span>, in §2</span>
   <li><a href="#fragmentation-context">fragmentation context</a><span>, in §2</span>
   <li><a href="#fragmentation-direction">fragmentation direction</a><span>, in §2</span>
   <li><a href="#fragmentation-root">fragmentation root</a><span>, in §2</span>
   <li><a href="#fragmented-flow">fragmented flow</a><span>, in §2</span>
   <li><a href="#valdef-break-before-left">left</a><span>, in §3.1</span>
   <li><a href="#line-break">line break</a><span>, in §4.2</span>
   <li><a href="#monolithic">monolithic</a><span>, in §4.1</span>
   <li><a href="#propdef-orphans">orphans</a><span>, in §3.3</span>
   <li><a href="#valdef-break-before-page">page</a><span>, in §3.1</span>
   <li><a href="#page-break">page break</a><span>, in §4.2</span>
   <li><a href="#pagination">pagination</a><span>, in §1</span>
   <li><a href="#valdef-break-before-recto">recto</a><span>, in §3.1</span>
   <li><a href="#valdef-break-before-region">region</a><span>, in §3.1</span>
   <li><a href="#region-break">region break</a><span>, in §4.2</span>
   <li><a href="#remaining-fragmentainer-extent">remaining fragmentainer extent</a><span>, in §2</span>
   <li><a href="#valdef-break-before-right">right</a><span>, in §3.1</span>
   <li><a href="#valdef-box-decoration-break-slice">slice</a><span>, in §5.4</span>
   <li><a href="#spread-break">spread break</a><span>, in §4.2</span>
   <li><a href="#unforced-break">unforced break</a><span>, in §4.4</span>
   <li><a href="#valdef-break-before-verso">verso</a><span>, in §3.1</span>
   <li><a href="#propdef-widows">widows</a><span>, in §3.3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-backgrounds-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-image">border-image</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#border-radius">border-radius</a>
     <li><a href="https://drafts.csswg.org/css-backgrounds-3/#box-shadow">box-shadow</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-cascade-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-cascade-4/#valdef-all-initial">initial</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-display-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-display-3/#display-type">display type</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#formatting-context">formatting context</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-block">inline-block</a>
     <li><a href="https://drafts.csswg.org/css-display-3/#valdef-display-inline-table">inline-table</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-MASKING-1]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.fxtf.org/css-masking-1/#mask-positioning-area">mask positioning area</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-overflow-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-auto">auto</a>
     <li><a href="https://drafts.csswg.org/css-overflow-4/#propdef-overflow">overflow</a>
     <li><a href="https://drafts.csswg.org/css-overflow-4/#valdef-overflow-scroll">scroll</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-page-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-page-3/#propdef-page">page</a>
     <li><a href="https://drafts.csswg.org/css-page-3/#page-progression">page progression</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-position-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-top">top</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-REGIONS]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-regions-1/#region-chain">region chain</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-sizing-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-sizing-4/#fill-available-size">fill-available size</a>
     <li><a href="https://drafts.csswg.org/css-sizing-4/#max-content">max-content size</a>
     <li><a href="https://drafts.csswg.org/css-sizing-4/#min-content">min-content size</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-WRITING-MODES]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#block-flow-direction">block flow direction</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#block-size">block size</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#block-axis">block-axis</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#block-start">block-start</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#propdef-direction">direction</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#inline-base-direction">inline base direction</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#inline-size">inline size</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#valdef-direction-ltr">ltr</a>
     <li><a href="https://drafts.csswg.org/css-writing-modes-3/#principal-writing-mode">principal writing mode</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS21]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css2/visudet.html#propdef-height">height</a>
     <li><a href="https://drafts.csswg.org/css2/page.html#propdef-page-break-after">page-break-after</a>
     <li><a href="https://drafts.csswg.org/css2/page.html#propdef-page-break-before">page-break-before</a>
     <li><a href="https://drafts.csswg.org/css2/page.html#propdef-page-break-inside">page-break-inside</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>CSS Backgrounds and Borders Module Level 3 URL: <a href="https://drafts.csswg.org/css-backgrounds-3/">https://drafts.csswg.org/css-backgrounds-3/</a>
   <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="http://dev.w3.org/csswg/css-cascade/">CSS Cascading and Inheritance Level 4</a>. 14 January 2016. CR. URL: <a href="http://dev.w3.org/csswg/css-cascade/">http://dev.w3.org/csswg/css-cascade/</a>
   <dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="http://dev.w3.org/csswg/css-display/">CSS Display Module Level 3</a>. 15 October 2015. WD. URL: <a href="http://dev.w3.org/csswg/css-display/">http://dev.w3.org/csswg/css-display/</a>
   <dt id="biblio-css-masking-1">[CSS-MASKING-1]
   <dd>Dirk Schulze; Brian Birtles; Tab Atkins Jr.. <a href="http://dev.w3.org/fxtf/css-masking-1/">CSS Masking Module Level 1</a>. 26 August 2014. CR. URL: <a href="http://dev.w3.org/fxtf/css-masking-1/">http://dev.w3.org/fxtf/css-masking-1/</a>
   <dt id="biblio-css-overflow-4">[CSS-OVERFLOW-4]
   <dd>CSS Overflow Module Level 4 URL: <a href="https://drafts.csswg.org/css-overflow-4/">https://drafts.csswg.org/css-overflow-4/</a>
   <dt id="biblio-css-page-3">[CSS-PAGE-3]
   <dd>CSS Paged Media Module Level 3 URL: <a href="https://drafts.csswg.org/css-page-3/">https://drafts.csswg.org/css-page-3/</a>
   <dt id="biblio-css-shapes-1">[CSS-SHAPES-1]
   <dd>Vincent Hardy; Rossen Atanassov; Alan Stearns. <a href="http://dev.w3.org/csswg/css-shapes/">CSS Shapes Module Level 1</a>. 20 March 2014. CR. URL: <a href="http://dev.w3.org/csswg/css-shapes/">http://dev.w3.org/csswg/css-shapes/</a>
   <dt id="biblio-css-sizing-4">[CSS-SIZING-4]
   <dd>CSS Intrinsic &amp; Extrinsic Sizing Module Level 4 URL: <a href="https://drafts.csswg.org/css-sizing-4/">https://drafts.csswg.org/css-sizing-4/</a>
   <dt id="biblio-css21">[CSS21]
   <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS2">Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS2">https://www.w3.org/TR/CSS2</a>
   <dt id="biblio-css3-regions">[CSS3-REGIONS]
   <dd>Rossen Atanassov; Alan Stearns. <a href="http://dev.w3.org/csswg/css-regions/">CSS Regions Module Level 1</a>. 9 October 2014. WD. URL: <a href="http://dev.w3.org/csswg/css-regions/">http://dev.w3.org/csswg/css-regions/</a>
   <dt id="biblio-css3-transforms">[CSS3-TRANSFORMS]
   <dd>Simon Fraser; et al. <a href="http://dev.w3.org/csswg/css-transforms/">CSS Transforms Module Level 1</a>. 26 November 2013. WD. URL: <a href="http://dev.w3.org/csswg/css-transforms/">http://dev.w3.org/csswg/css-transforms/</a>
   <dt id="biblio-css3-writing-modes">[CSS3-WRITING-MODES]
   <dd>Elika Etemad; Koji Ishii. <a href="http://dev.w3.org/csswg/css-writing-modes-3/">CSS Writing Modes Level 3</a>. 15 December 2015. CR. URL: <a href="http://dev.w3.org/csswg/css-writing-modes-3/">http://dev.w3.org/csswg/css-writing-modes-3/</a>
   <dt id="biblio-css3bg">[CSS3BG]
   <dd>Bert Bos; Elika Etemad; Brad Kemper. <a href="http://dev.w3.org/csswg/css3-background/">CSS Backgrounds and Borders Module Level 3</a>. 9 September 2014. CR. URL: <a href="http://dev.w3.org/csswg/css3-background/">http://dev.w3.org/csswg/css3-background/</a>
   <dt id="biblio-css3col">[CSS3COL]
   <dd>Håkon Wium Lie. <a href="https://www.w3.org/TR/css3-multicol">CSS Multi-column Layout Module</a>. 12 April 2011. CR. URL: <a href="https://www.w3.org/TR/css3-multicol">https://www.w3.org/TR/css3-multicol</a>
   <dt id="biblio-css3page">[CSS3PAGE]
   <dd>Melinda Grant; et al. <a href="https://www.w3.org/TR/css3-page/">CSS Paged Media Module Level 3</a>. 14 March 2013. WD. URL: <a href="https://www.w3.org/TR/css3-page/">https://www.w3.org/TR/css3-page/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Rossen Atanassov; Arron Eicholz. <a href="https://drafts.csswg.org/css-position/">CSS Positioned Layout Module Level 3</a>. 17 May 2016. WD. URL: <a href="https://drafts.csswg.org/css-position/">https://drafts.csswg.org/css-position/</a>
   <dt id="biblio-css3-flexbox">[CSS3-FLEXBOX]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://drafts.csswg.org/css-flexbox/">CSS Flexible Box Layout Module Level 1</a>. 26 May 2016. CR. URL: <a href="https://drafts.csswg.org/css-flexbox/">https://drafts.csswg.org/css-flexbox/</a>
   <dt id="biblio-css3-sizing">[CSS3-SIZING]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-sizing">CSS Intrinsic &amp; Extrinsic Sizing Module Level 3</a>. 12 May 2016. WD. URL: <a href="https://drafts.csswg.org/css-sizing">https://drafts.csswg.org/css-sizing</a>
   <dt id="biblio-css3text">[CSS3TEXT]
   <dd>Elika Etemad; Koji Ishii. <a href="http://dev.w3.org/csswg/css-text-3/">CSS Text Module Level 3</a>. 10 October 2013. LCWD. URL: <a href="http://dev.w3.org/csswg/css-text-3/">http://dev.w3.org/csswg/css-text-3/</a>
   <dt id="biblio-css3val">[CSS3VAL]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="http://dev.w3.org/csswg/css-values/">CSS Values and Units Module Level 3</a>. 11 June 2015. CR. URL: <a href="http://dev.w3.org/csswg/css-values/">http://dev.w3.org/csswg/css-values/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Media
      <th scope="col">Ani­mat­able
      <th scope="col">Com­puted value
      <th scope="col">Computed value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-break-before">break-before</a>
      <td>auto | avoid |
          avoid-page | page | left | right | recto | verso |
          avoid-column | column | avoid-region | region
      <td>auto
      <td>block-level elements, table row groups, table rows (but see prose)
      <td>no
      <td>N/A
      <td>visual
      <td>
      <td>
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-break-after">break-after</a>
      <td>auto | avoid |
          avoid-page | page | left | right | recto | verso |
          avoid-column | column | avoid-region | region
      <td>auto
      <td>block-level elements, table row groups, table rows (but see prose)
      <td>no
      <td>N/A
      <td>visual
      <td>
      <td>
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-break-inside">break-inside</a>
      <td>auto | avoid | avoid-page | avoid-column | avoid-region
      <td>auto
      <td>elements in the normal flow that establish formatting contexts,
        or that are block containers, table row groups, or table rows
      <td>no
      <td>N/A
      <td>visual
      <td>
      <td>
      <td>specified value
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-orphans">orphans</a>
      <td>&lt;integer>
      <td>2
      <td>block containers
      <td>yes
      <td>N/A
      <td>visual
      <td>
      <td>specified value
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-widows">widows</a>
      <td>&lt;integer>
      <td>2
      <td>block containers
      <td>yes
      <td>N/A
      <td>visual
      <td>
      <td>specified value
      <td>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-box-decoration-break">box-decoration-break</a>
      <td>slice | clone
      <td>slice
      <td>all elements
      <td>no
      <td>N/A
      <td>visual
      <td>no
      <td>as specified
      <td>
   </table>
  </div>
  <aside class="dfn-panel" data-for="fragmentation-container">
   <b><a href="#fragmentation-container">#fragmentation-container</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmentation-container-1">1. 
Introduction</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragmentainer">
   <b><a href="#fragmentainer">#fragmentainer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmentainer-1">1. 
Introduction</a>
    <li><a href="#ref-for-fragmentainer-2">2. 
Fragmentation Model and Terminology</a> <a href="#ref-for-fragmentainer-3">(2)</a> <a href="#ref-for-fragmentainer-4">(3)</a> <a href="#ref-for-fragmentainer-5">(4)</a> <a href="#ref-for-fragmentainer-6">(5)</a> <a href="#ref-for-fragmentainer-7">(6)</a> <a href="#ref-for-fragmentainer-8">(7)</a> <a href="#ref-for-fragmentainer-9">(8)</a> <a href="#ref-for-fragmentainer-10">(9)</a> <a href="#ref-for-fragmentainer-11">(10)</a>
    <li><a href="#ref-for-fragmentainer-12">2.1. 
Parallel Fragmentation Flows</a>
    <li><a href="#ref-for-fragmentainer-13">2.2. 
Nested Fragmentation Flows</a> <a href="#ref-for-fragmentainer-14">(2)</a> <a href="#ref-for-fragmentainer-15">(3)</a> <a href="#ref-for-fragmentainer-16">(4)</a>
    <li><a href="#ref-for-fragmentainer-17">4. 
Rules for Breaking</a>
    <li><a href="#ref-for-fragmentainer-18">4.4. 
Unforced Breaks</a> <a href="#ref-for-fragmentainer-19">(2)</a>
    <li><a href="#ref-for-fragmentainer-20">5.3. 
Splitting Boxes</a> <a href="#ref-for-fragmentainer-21">(2)</a> <a href="#ref-for-fragmentainer-22">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragmentation-context">
   <b><a href="#fragmentation-context">#fragmentation-context</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmentation-context-1">2. 
Fragmentation Model and Terminology</a> <a href="#ref-for-fragmentation-context-2">(2)</a> <a href="#ref-for-fragmentation-context-3">(3)</a> <a href="#ref-for-fragmentation-context-4">(4)</a>
    <li><a href="#ref-for-fragmentation-context-5">2.2. 
Nested Fragmentation Flows</a> <a href="#ref-for-fragmentation-context-6">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragmented-flow">
   <b><a href="#fragmented-flow">#fragmented-flow</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmented-flow-1">2. 
Fragmentation Model and Terminology</a> <a href="#ref-for-fragmented-flow-2">(2)</a>
    <li><a href="#ref-for-fragmented-flow-3">2.1. 
Parallel Fragmentation Flows</a>
    <li><a href="#ref-for-fragmented-flow-4">3. 
Controlling Breaks</a>
    <li><a href="#ref-for-fragmented-flow-5">4. 
Rules for Breaking</a>
    <li><a href="#ref-for-fragmented-flow-6">4.4. 
Unforced Breaks</a>
    <li><a href="#ref-for-fragmented-flow-7">4.5. 
Optimizing Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragmentation-root">
   <b><a href="#fragmentation-root">#fragmentation-root</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmentation-root-1">2. 
Fragmentation Model and Terminology</a> <a href="#ref-for-fragmentation-root-2">(2)</a>
    <li><a href="#ref-for-fragmentation-root-3">2.1. 
Parallel Fragmentation Flows</a>
    <li><a href="#ref-for-fragmentation-root-4">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragmentation">
   <b><a href="#fragmentation">#fragmentation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmentation-1">1. 
Introduction</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragment">
   <b><a href="#fragment">#fragment</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragment-1">3.3. 
Breaks Between Lines: orphans, widows</a> <a href="#ref-for-fragment-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="remaining-fragmentainer-extent">
   <b><a href="#remaining-fragmentainer-extent">#remaining-fragmentainer-extent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-remaining-fragmentainer-extent-1">5.2. 
Adjoining Margins at Breaks</a>
    <li><a href="#ref-for-remaining-fragmentainer-extent-2">5.3. 
Splitting Boxes</a> <a href="#ref-for-remaining-fragmentainer-extent-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="fragmentation-break">
   <b><a href="#fragmentation-break">#fragmentation-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-fragmentation-break-1">5.3. 
Splitting Boxes</a>
    <li><a href="#ref-for-fragmentation-break-2">5.5. 
Transforms, Positioning, and Pagination</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-break-before">
   <b><a href="#propdef-break-before">#propdef-break-before</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-break-before-1">3. 
Controlling Breaks</a>
    <li><a href="#ref-for-propdef-break-before-2">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a> <a href="#ref-for-propdef-break-before-3">(2)</a> <a href="#ref-for-propdef-break-before-4">(3)</a>
    <li><a href="#ref-for-propdef-break-before-5">3.4. 
Page Break Aliases: the page-break-before, page-break-after, and page-break-inside properties</a>
    <li><a href="#ref-for-propdef-break-before-6">4.3. 
Forced Breaks</a>
    <li><a href="#ref-for-propdef-break-before-7">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-break-after">
   <b><a href="#propdef-break-after">#propdef-break-after</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-break-after-1">3. 
Controlling Breaks</a>
    <li><a href="#ref-for-propdef-break-after-2">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a> <a href="#ref-for-propdef-break-after-3">(2)</a> <a href="#ref-for-propdef-break-after-4">(3)</a>
    <li><a href="#ref-for-propdef-break-after-5">3.4. 
Page Break Aliases: the page-break-before, page-break-after, and page-break-inside properties</a>
    <li><a href="#ref-for-propdef-break-after-6">4.3. 
Forced Breaks</a>
    <li><a href="#ref-for-propdef-break-after-7">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="forced-break-values">
   <b><a href="#forced-break-values">#forced-break-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-forced-break-values-1">4.3. 
Forced Breaks</a> <a href="#ref-for-forced-break-values-2">(2)</a> <a href="#ref-for-forced-break-values-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="avoid-break-values">
   <b><a href="#avoid-break-values">#avoid-break-values</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-avoid-break-values-1">4.3. 
Forced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-auto">
   <b><a href="#valdef-break-before-auto">#valdef-break-before-auto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-auto-1">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-avoid">
   <b><a href="#valdef-break-before-avoid">#valdef-break-before-avoid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-avoid-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-avoid-2">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-avoid-page">
   <b><a href="#valdef-break-before-avoid-page">#valdef-break-before-avoid-page</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-avoid-page-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-avoid-page-2">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-page">
   <b><a href="#valdef-break-before-page">#valdef-break-before-page</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-page-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-left">
   <b><a href="#valdef-break-before-left">#valdef-break-before-left</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-left-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-left-2">4.3. 
Forced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-right">
   <b><a href="#valdef-break-before-right">#valdef-break-before-right</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-right-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-right-2">4.3. 
Forced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-recto">
   <b><a href="#valdef-break-before-recto">#valdef-break-before-recto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-recto-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-recto-2">4.3. 
Forced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-verso">
   <b><a href="#valdef-break-before-verso">#valdef-break-before-verso</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-verso-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-verso-2">4.3. 
Forced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-avoid-column">
   <b><a href="#valdef-break-before-avoid-column">#valdef-break-before-avoid-column</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-avoid-column-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-avoid-column-2">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-column">
   <b><a href="#valdef-break-before-column">#valdef-break-before-column</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-column-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-avoid-region">
   <b><a href="#valdef-break-before-avoid-region">#valdef-break-before-avoid-region</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-avoid-region-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
    <li><a href="#ref-for-valdef-break-before-avoid-region-2">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-before-region">
   <b><a href="#valdef-break-before-region">#valdef-break-before-region</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-before-region-1">3.1. 
Breaks Between Boxes: the break-before and break-after properties</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-break-inside">
   <b><a href="#propdef-break-inside">#propdef-break-inside</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-break-inside-1">3. 
Controlling Breaks</a> <a href="#ref-for-propdef-break-inside-2">(2)</a>
    <li><a href="#ref-for-propdef-break-inside-3">3.2. 
Breaks Within Boxes: the break-inside property</a>
    <li><a href="#ref-for-propdef-break-inside-4">3.4. 
Page Break Aliases: the page-break-before, page-break-after, and page-break-inside properties</a>
    <li><a href="#ref-for-propdef-break-inside-5">4.4. 
Unforced Breaks</a> <a href="#ref-for-propdef-break-inside-6">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-inside-auto">
   <b><a href="#valdef-break-inside-auto">#valdef-break-inside-auto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-inside-auto-1">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-break-inside-avoid">
   <b><a href="#valdef-break-inside-avoid">#valdef-break-inside-avoid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-break-inside-avoid-1">4.4. 
Unforced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-orphans">
   <b><a href="#propdef-orphans">#propdef-orphans</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-orphans-1">3. 
Controlling Breaks</a>
    <li><a href="#ref-for-propdef-orphans-2">3.3. 
Breaks Between Lines: orphans, widows</a> <a href="#ref-for-propdef-orphans-3">(2)</a> <a href="#ref-for-propdef-orphans-4">(3)</a> <a href="#ref-for-propdef-orphans-5">(4)</a>
    <li><a href="#ref-for-propdef-orphans-6">4.4. 
Unforced Breaks</a>
    <li><a href="#ref-for-propdef-orphans-7">4.5. 
Optimizing Unforced Breaks</a> <a href="#ref-for-propdef-orphans-8">(2)</a>
    <li><a href="#ref-for-propdef-orphans-9"> Changes</a> <a href="#ref-for-propdef-orphans-10">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-widows">
   <b><a href="#propdef-widows">#propdef-widows</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-widows-1">3. 
Controlling Breaks</a>
    <li><a href="#ref-for-propdef-widows-2">3.3. 
Breaks Between Lines: orphans, widows</a> <a href="#ref-for-propdef-widows-3">(2)</a> <a href="#ref-for-propdef-widows-4">(3)</a> <a href="#ref-for-propdef-widows-5">(4)</a>
    <li><a href="#ref-for-propdef-widows-6">4.4. 
Unforced Breaks</a>
    <li><a href="#ref-for-propdef-widows-7">4.5. 
Optimizing Unforced Breaks</a> <a href="#ref-for-propdef-widows-8">(2)</a>
    <li><a href="#ref-for-propdef-widows-9"> Changes</a> <a href="#ref-for-propdef-widows-10">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="monolithic">
   <b><a href="#monolithic">#monolithic</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-monolithic-1">4.1. 
Possible Break Points</a> <a href="#ref-for-monolithic-2">(2)</a>
    <li><a href="#ref-for-monolithic-3">4.4. 
Unforced Breaks</a>
    <li><a href="#ref-for-monolithic-4">5.1. 
Breaking into Varying-size Fragmentainers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="page-break">
   <b><a href="#page-break">#page-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-page-break-1">4.2. 
Types of Breaks</a> <a href="#ref-for-page-break-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="region-break">
   <b><a href="#region-break">#region-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-region-break-1">4.2. 
Types of Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="forced-break">
   <b><a href="#forced-break">#forced-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-forced-break-1">2.1. 
Parallel Fragmentation Flows</a>
    <li><a href="#ref-for-forced-break-2">4.3. 
Forced Breaks</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="unforced-break">
   <b><a href="#unforced-break">#unforced-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-unforced-break-1">2.1. 
Parallel Fragmentation Flows</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-box-decoration-break">
   <b><a href="#propdef-box-decoration-break">#propdef-box-decoration-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-box-decoration-break-1">2. 
Fragmentation Model and Terminology</a>
    <li><a href="#ref-for-propdef-box-decoration-break-2">5.1. 
Breaking into Varying-size Fragmentainers</a>
    <li><a href="#ref-for-propdef-box-decoration-break-3">5.3. 
Splitting Boxes</a>
    <li><a href="#ref-for-propdef-box-decoration-break-4">5.4. 
Fragmented Borders and Backgrounds: the box-decoration-break property</a> <a href="#ref-for-propdef-box-decoration-break-5">(2)</a> <a href="#ref-for-propdef-box-decoration-break-6">(3)</a> <a href="#ref-for-propdef-box-decoration-break-7">(4)</a>
    <li><a href="#ref-for-propdef-box-decoration-break-8">5.4.1. 
Joining Boxes for slice</a>
    <li><a href="#ref-for-propdef-box-decoration-break-9"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-box-decoration-break-clone">
   <b><a href="#valdef-box-decoration-break-clone">#valdef-box-decoration-break-clone</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-box-decoration-break-clone-1">4.4. 
Unforced Breaks</a> <a href="#ref-for-valdef-box-decoration-break-clone-2">(2)</a>
    <li><a href="#ref-for-valdef-box-decoration-break-clone-3">5.2. 
Adjoining Margins at Breaks</a>
    <li><a href="#ref-for-valdef-box-decoration-break-clone-4">5.4. 
Fragmented Borders and Backgrounds: the box-decoration-break property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-box-decoration-break-slice">
   <b><a href="#valdef-box-decoration-break-slice">#valdef-box-decoration-break-slice</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-box-decoration-break-slice-1">5.4. 
Fragmented Borders and Backgrounds: the box-decoration-break property</a> <a href="#ref-for-valdef-box-decoration-break-slice-2">(2)</a>
    <li><a href="#ref-for-valdef-box-decoration-break-slice-3">5.4.1. 
Joining Boxes for slice</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>