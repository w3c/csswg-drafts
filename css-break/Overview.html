<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang=en>
 <head
  profile="http://dublincore.org/documents/2008/08/04/dc-html/ http://www.w3.org/2006/03/hcard">
  <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
  <title>CSS Fragmentation Module Level 3</title>

  <link href="http://purl.org/dc/terms/" rel=schema.dcterms>
  <link href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
   rel=dcterms.rights>
  <meta content="CSS Fragmentation Module Level 3" name=dcterms.title>
  <meta content=text name=dcterms.type>
  <meta content=2014-10-28 name=dcterms.date>
  <meta content="Rossen Atanassov" name=dcterms.creator>
  <meta content="Microsoft Corporation" name=dcterms.creator>
  <meta
   content="&#60;a class=&quot;fn&quot; href=&quot;http://fantasai.inkedblade.net/contact&quot;&#62;Elika J. Etemad&#60;/a&#62;"
   name=dcterms.creator>
  <meta content="Mozilla Corporation" name=dcterms.creator>
  <meta content=W3C name=dcterms.publisher>
  <meta content="http://dev.w3.org/csswg/css3-break/"
   name=dcterms.identifier>
  <link href="../default.css" rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
   type="text/css">

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1 id=css-fragmentation-module>CSS Fragmentation Module Level 3</h1>

   <h2 class="no-num no-toc" id=subtitle>Breaking the Web, one fragment at a
    time</h2>

   <h2 class="no-num no-toc">Editor's Draft 28 October 2014</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dev.w3.org/csswg/css3-break/">http://dev.w3.org/csswg/css3-break/</a>

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css3-break/">http://www.w3.org/TR/css3-break/</a>

    <dt>Editor's Draft:

    <dd><a
     href="http://dev.w3.org/csswg/css3-break/">http://dev.w3.org/csswg/css3-break/</a>

    <dt>Previous version:

    <dd><a
     href="http://www.w3.org/TR/2012/WD-css3-break-20120228/">http://www.w3.org/TR/2012/WD-css3-break-20120228/</a>

    <dt>Editors:

    <dd class=vcard><span class=fn>Rossen Atanassov</span>, <span
     class=org><a class="fn org url"
     href="http://www.microsoft.com/">Microsoft Corporation</a></span>, <span
     class=email>ratan@microsoft.com</span>

    <dd class=vcard><span class=fn><a class=fn
     href="http://fantasai.inkedblade.net/contact">Elika J.
     Etemad</a></span>, <span class=org><a class="fn org url"
     href="http://www.mozilla.org/">Mozilla Corporation</a></span>

    <dt>Issues List:

    <dd><a
     href="http://wiki.csswg.org/spec/css3-break">http://wiki.csswg.org/spec/css3-break</a>

    <dt>Feedback:

    <dd><a
     href="mailto:www-style@w3.org?subject=%5Bcss-break%5D%20feedback">www-style@w3.org</a>
     with subject line “<kbd>[css-break] <var>… message topic
     …</var></kbd>” (<a
     href="http://lists.w3.org/Archives/Public/www-style/"
     rel=discussion>archives</a>)
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> © 2014 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>, <a
    href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract> Abstract</h2>

  <p> This module describes the fragmentation model that partitions a flow
   into pages, columns, or regions. It builds on the Page model module and
   introduces and defines the fragmentation model. It adds functionality for
   pagination, breaking variable fragment size and orientation, widows and
   orphans.

  <h2 class="no-num no-toc" id=status> Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/www-style/">archived</a>) public
   mailing list <a
   href="mailto:www-style@w3.org?Subject=%5Bcss3-break%5D%20PUT%20SUBJECT%20HERE">
   www-style@w3.org</a> (see <a
   href="http://www.w3.org/Mail/Request">instructions</a>) is preferred for
   discussion of this specification. When sending e-mail, please put the text
   “css3-break” in the subject, preferably like this:
   “[<!---->css3-break<!---->] <em>…summary of comment…</em>”

  <p>This document was produced by the <a
   href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of
   the <a href="http://www.w3.org/Style/">Style Activity</a>).

  <p>This document was produced by a group operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures</a> made in
   connection with the deliverables of the group; that page also includes
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.</p>
  <!--end-status-->
  <!--<p>The following features are at risk: …</p>-->

  <p> See the <a href="#changes">Changes section</a> for significant changes
   since the previous draft.

  <h2 class="no-num no-toc" id=contents> Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#intro"><span class=secno>1. </span> Introduction</a>
    <ul class=toc>
     <li><a href="#placement"><span class=secno>1.1. </span> Module
      Interactions</a>

     <li><a href="#values"><span class=secno>1.2. </span> Values</a>
    </ul>

   <li><a href="#fragmentation-model"><span class=secno>2. </span>
    Fragmentation Model and Terminology</a>
    <ul class=toc>
     <li><a href="#parallel-flows"><span class=secno>2.1. </span> Parallel
      Fragmentation Flows</a>

     <li><a href="#nested-flows"><span class=secno>2.2. </span> Nested
      Fragmentation Flows</a>
    </ul>

   <li><a href="#breaking-controls"><span class=secno>3. </span> Controlling
    Breaks</a>
    <ul class=toc>
     <li><a href="#break-between"><span class=secno>3.1. </span> Breaks
      Between Boxes: the ‘<code class=property>break-before</code>’ and
      ‘<code class=property>break-after</code>’ properties</a>
      <ul class=toc>
       <li class=no-num><a href="#generic-break-values"> Generic Break
        Values</a>

       <li class=no-num><a href="#page-break-values"> Page Break Values</a>

       <li class=no-num><a href="#column-break-values"> Column Break
        Values</a>

       <li class=no-num><a href="#region-break-values"> Region Break
        Values</a>
      </ul>

     <li><a href="#break-within"><span class=secno>3.2. </span> Breaks Within
      Boxes: the ‘<code class=property>break-inside</code>’ property</a>

     <li><a href="#widows-orphans"><span class=secno>3.3. </span> Breaks
      Between Lines: ‘<code class=property>orphans</code>’, ‘<code
      class=property>widows</code>’</a>

     <li><a href="#page-break-properties"><span class=secno>3.4. </span> Page
      Break Aliases: the ‘<code class=property>page-break-before</code>’,
      ‘<code class=property>page-break-after</code>’, and ‘<code
      class=property>page-break-inside</code>’ properties</a>
    </ul>

   <li><a href="#breaking-rules"><span class=secno>4. </span> Rules for
    Breaking</a>
    <ul class=toc>
     <li><a href="#possible-breaks"><span class=secno>4.1. </span> Possible
      Break Points</a>

     <li><a href="#break-types"><span class=secno>4.2. </span> Types of
      Breaks</a>

     <li><a href="#forced-breaks"><span class=secno>4.3. </span> Forced
      Breaks</a>

     <li><a href="#unforced-breaks"><span class=secno>4.4. </span> Unforced
      Breaks</a>

     <li><a href="#best-breaks"><span class=secno>4.5. </span> Optimizing
      Unforced Breaks</a>
    </ul>

   <li><a href="#breaking-boxes"><span class=secno>5. </span> Box Model for
    Breaking</a>
    <ul class=toc>
     <li><a href="#varying-size-boxes"><span class=secno>5.1. </span>
      Breaking into Varying-size Fragmentainers</a>

     <li><a href="#break-margins"><span class=secno>5.2. </span> Adjoining
      Margins at Breaks</a>

     <li><a href="#box-splitting"><span class=secno>5.3. </span> Splitting
      Boxes</a>

     <li><a href="#break-decoration"><span class=secno>5.4. </span>
      Fragmented Borders and Backgrounds: the ‘<code
      class=property>box-decoration-break</code>’ property</a>
      <ul class=toc>
       <li><a href="#joining-boxes"><span class=secno>5.4.1. </span> Joining
        Boxes for ‘<code class=css>slice</code>’</a>
      </ul>

     <li><a href="#transforms"><span class=secno>5.5. </span> Transforms,
      Positioning, and Pagination</a>
    </ul>

   <li><a href="#conformance"><span class=secno>6. </span> Conformance</a>
    <ul class=toc>
     <li><a href="#conventions"><span class=secno>6.1. </span> Document
      Conventions</a>

     <li><a href="#conformance-classes"><span class=secno>6.2.
      </span>Conformance Classes</a>

     <li><a href="#partial"><span class=secno>6.3. </span> Partial
      Implementations</a>

     <li><a href="#experimental"><span class=secno>6.4. </span> Experimental
      Implementations</a>

     <li><a href="#testing"><span class=secno>6.5. </span> Non-Experimental
      Implementations</a>

     <li><a href="#cr-exit-criteria"><span class=secno>6.6. </span> CR Exit
      Criteria</a>
    </ul>

   <li class=no-num><a href="#changes"> Changes</a>

   <li class=no-num><a href="#acknowledgments"> Acknowledgments</a>

   <li class=no-num><a href="#references">References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references">Normative
      references</a>

     <li class=no-num><a href="#other-references">Other references</a>
    </ul>

   <li class=no-num><a href="#index">Index</a>

   <li class=no-num><a href="#property-index">Property index</a>
  </ul>
  <!--end-toc-->

  <h2 id=intro><span class=secno>1. </span> Introduction</h2>

  <p><em>This section is not normative.</em>

  <p> In paged media (e.g., paper, transparencies, photo album pages, pages
   displayed on computer screens as printed output simulations), as opposed
   to <a href="http://www.w3.org/TR/CSS2/media.html#continuous-media-group">
   continuous media</a>, the content of the document is split into one or
   more discrete display surfaces. In order to avoid awkward breaks (such as
   halfway through a line of text), the layout engine must be able to shift
   around content that would fall across the page break. This process is
   called <dfn id=pagination>pagination</dfn>.

  <p> In CSS, in addition to paged media, certain layout features such as <a
   href="http://www.w3.org/TR/css3-regions/">regions</a> <a
   href="#ref-CSS3-REGIONS"
   rel=biblioentry>[CSS3-REGIONS]<!--{{CSS3-REGIONS}}--></a> and <a
   href="http://www.w3.org/TR/css3-multicol/">multi-column layout</a> <a
   href="#ref-CSS3COL" rel=biblioentry>[CSS3COL]<!--{{CSS3COL}}--></a> create
   a similarly fragmented environment. The generic term for breaking content
   across containers is <dfn id=fragmentation>fragmentation</dfn>. This
   module explains how content breaks across <a
   href="#fragmentation-container"><i>fragmentation containers</i></a> (<a
   href="#fragmentainer"><i>fragmentainers</i></a>) such as pages and columns
   and how such breaks can be <a href="#breaking-controls">controlled by the
   author</a>.

  <h3 id=placement><span class=secno>1.1. </span> Module Interactions</h3>

  <p> This module replaces and extends the pagination controls defined in <a
   href="#ref-CSS21" rel=biblioentry>[CSS21]<!--{{CSS21}}--></a> <a
   href="http://www.w3.org/TR/CSS21/page.html#page-breaks">section 13.3</a>
   and in <a href="#ref-CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>.</p>
  <!-- End section "Modules Interactions" -->

  <h3 id=values><span class=secno>1.2. </span> Values</h3>

  <p> This specification follows the <a
   href="http://www.w3.org/TR/CSS21/about.html#property-defs"> CSS property
   definition conventions</a> from <a href="#ref-CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>. Value types not defined in
   this specification are defined in CSS Level 2 Revision 1 <a
   href="#ref-CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>. Other CSS
   modules may expand the definitions of these value types: for example <a
   href="#ref-CSS3VAL" rel=biblioentry>[CSS3VAL]<!--{{CSS3VAL}}--></a>, when
   combined with this module, adds the ‘<code class=css>initial</code>’
   value to the properties defined here.

  <p> In addition to the property-specific values listed in their
   definitions, all properties defined in this specification also accept the
   <a href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">
   inherit</a> keyword as their property value. For readability it has not
   been repeated explicitly.

  <h2 id=fragmentation-model><span class=secno>2. </span> Fragmentation Model
   and Terminology</h2>

  <dl>
   <dt><dfn id=fragmentation-container>fragmentation container</dfn> (<dfn
    id=fragmentainer>fragmentainer</dfn>)

   <dd> A box—such as a page box, column box, or region—that contains a
    portion (or all) of a <a href="#fragmented-flow"><i>fragmented
    flow</i></a>. Fragmentainers can be pre-defined, or generated as needed.
    When breakable content overflows a fragmentainer in the block dimension,
    instead of overflowing it breaks into the next container in its <a
    href="#fragmentation-context"><i>fragmentation context</i></a>.

   <dt><dfn id=fragmentation-context>fragmentation context</dfn>

   <dd> An ordered series of <a
    href="#fragmentainer"><i>fragmentainers</i></a>, such as created by a <a
    href="http://www.w3.org/TR/css3-multicol/">multi-column element</a>, a
    chain of <a href="http://www.w3.org/TR/css3-regions">CSS regions</a>, or
    a <a href="http://www.w3.org/TR/css3-page/">paged media display</a>. A
    given fragmentation context can only have one block flow direction across
    all its <a href="#fragmentainer"><i>fragmentainers</i></a>.
    <!-- XXX clarify that multiple writing modes are allowed, just fragmentationis in one direction -->

   <dt><dfn id=fragmented-flow>fragmented flow</dfn>

   <dd> A content flow that is being laid out in a <a
    href="#fragmentation-context"><i>fragmentation context</i></a>. The <a
    href="#fragmented-flow"><i>fragmented flow</i></a> consists of the
    content of a (possibly anonymous) box called the <dfn
    id=fragmentation-root>fragmentation root</dfn>.

   <dt><dfn id=fragmentation-direction>fragmentation direction</dfn>

   <dd> The block flow direction of the <a
    href="#fragmentation-context"><i>fragmentation context</i></a>, i.e. the
    direction in which content is fragmented. (In this level of CSS, content
    only fragments in one dimension.)

   <dt><dfn id=fragmentation0>fragmentation</dfn>

   <dd> The process of splitting a content flow across the <a
    href="#fragmentainer"><i>fragmentainers</i></a> that form a <a
    href="#fragmentation-context"><i>fragmentation context</i></a>.

   <dt><dfn id=box-fragment>box fragment</dfn> or <dfn
    id=fragment>fragment</dfn>

   <dd> The portion of a box that belongs to exactly one <a
    href="#fragmentainer"><i>fragmentainer</i></a>. A box in continuous flow
    always consists of only one fragment. A box in a fragmented flow consists
    of one or more fragments.

   <dt><dfn id=remaining-fragmentainer-extent>remaining fragmentainer
    extent</dfn>

   <dd> The remaining extent in the <a
    href="#fragmentainer"><i>fragmentainer</i></a> available to a given
    element, i.e. between the end of preceding content in <a
    href="#fragmentainer"><i>fragmentainer</i></a> and the edge of the <a
    href="#fragmentainer"><i>fragmentainer</i></a>.
  </dl>

  <p> Each <dfn id=fragmentation-break>fragmentation break</dfn> (hereafter,
   <dfn id=break>break</dfn>) ends layout of the fragmented box in the
   current <a href="#fragmentainer"><i>fragmentainer</i></a> and causes the
   remaining content to be laid out in the next <a
   href="#fragmentainer"><i>fragmentainer</i></a>, in some cases causing a
   new <a href="#fragmentainer"><i>fragmentainer</i></a> to be generated to
   hold the deferred content.

  <p class=note> Breaking inline content into lines is another form of
   fragmentation, and similarly creates box fragments when it breaks <a
   href="http://www.w3.org/TR/CSS21/visuren.html#inline-boxes">inline
   boxes</a> across <a
   href="http://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
   However, inline breaking is not covered here; see <a href="#ref-CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>/<a href="#ref-CSS-TEXT-3"
   rel=biblioentry>[CSS-TEXT-3]<!--{{CSS-TEXT-3}}--></a>.

  <h3 id=parallel-flows><span class=secno>2.1. </span> Parallel Fragmentation
   Flows</h3>

  <p> When multiple flows are laid out parallel to each other, fragmentation
   is performed independently in each flow. For example, if an element is
   floated, then a forced break inside the float will not affect the content
   wrapping outside the float (except insofar as it may increase the height
   of the float).

  <p> The following are examples of parallel flows whose contents will
   fragment independently:

  <ul>
   <li>The contents of a float vs. the content wrapping outside the float.

   <li>The contents of a float vs. the contents of an adjacent float.

   <li>The contents of each table cell in a single table row.

   <li>The contents of each grid item in a single grid row.

   <li>The contents of each flex item in a flex layout row.

   <li>The contents of absolutely-positioned elements that cover the same
    range of their containing block's fragmentation context.
  </ul>

  <p> Content overflowing the content edge of a fixed-size box is considered
   parallel to the content after the fixed-size box. Such content fragments
   within the context of the box's <a href="#fragmented-flow"><i>fragmented
   flow</i></a> following normal fragmentation rules, increasing the length
   of the <a href="#fragmented-flow"><i>fragmented flow</i></a> as necessary.
   <!-- XXX this paragraph is generally confusing -->

  <h3 id=nested-flows><span class=secno>2.2. </span> Nested Fragmentation
   Flows</h3>

  <p> Breaking a <a href="#fragmentainer"><i>fragmentainer</i></a>
   <var>F</var> effectively splits the <a
   href="#fragmentainer"><i>fragmentainer</i></a> into two <a
   href="#fragmentainer"><i>fragmentainers</i></a> (<var>F<sub>1</sub></var>
   and <var>F<sub>2</sub></var>). The only difference is that the type of
   break between the two pieces <var>F<sub>1</sub></var> and
   <var>F<sub>2</sub></var> is the <a href="#break-types">type of break</a>
   created by the <a href="#fragmentation-context"><i>fragmentation
   context</i></a> that split <var>F</var>, not the type of break normally
   created by <var>F</var>’s own <a
   href="#fragmentation-context"><i>fragmentation context</i></a>.

  <h2 id=breaking-controls><span class=secno>3. </span> Controlling Breaks</h2>

  <p> The following sections explain how breaks are controlled in a <a
   href="#fragmented-flow"><i>fragmented flow</i></a>. A page/column/region
   break opportunity between two boxes is under the influence of the
   containing block's ‘<a href="#break-inside"><code
   class=property>break-inside</code></a>’ property, the ‘<a
   href="#break-after"><code class=property>break-after</code></a>’
   property of the preceding element, and the ‘<a
   href="#break-before"><code class=property>break-before</code></a>’
   property of the following element. A page/column/region break opportunity
   between line boxes is under the influence of the containing block's ‘<a
   href="#break-inside"><code class=property>break-inside</code></a>’,
   ‘<a href="#widows"><code class=property>widows</code></a>’, and ‘<a
   href="#orphans"><code class=property>orphans</code></a>’ properties. A
   fragmentation break can be allowed, forced, or discouraged depending on
   the values of these properties. A forced break overrides any break
   restrictions acting at that break point. In the case of forced page
   breaks, the author can also specify on which page (<a
   href="http://www.w3.org/TR/css3-page/#left-right-first">left or right</a>)
   the subsequent content should resume.

  <p> See the section on <a href="#breaking-rules">rules for breaking</a> for
   the exact rules on how these properties affect fragmentation.

  <h3 id=break-between><span class=secno>3.1. </span> Breaks Between Boxes:
   the ‘<a href="#break-before"><code
   class=property>break-before</code></a>’ and ‘<a
   href="#break-after"><code class=property>break-after</code></a>’
   properties</h3>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=break-before>break-before</dfn>, <dfn
      id=break-after>break-after</dfn>

    <tr>
     <th>Value:

     <td>auto | avoid | always | any | avoid-page | page | left | right |
      recto | verso | avoid-column | column | avoid-region | region

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>block-level elements, table row groups, table rows (but see prose)

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>specified value
  </table>

  <p> These properties specify page/column/region break behavior before/after
   the generated box. The <dfn id=forced-break-values>forced break
   values</dfn> ‘<code class=css>always</code>’, ‘<code
   class=css>any</code>’, ‘<code class=css>left</code>’, ‘<code
   class=css>right</code>’, ‘<code class=css>recto</code>’, ‘<code
   class=css>verso</code>’, ‘<code class=css>page</code>’, ‘<code
   class=css>column</code>’ and ‘<code class=css>region</code>’ create
   a <a href="#forced-breaks">forced break</a> in the flow while the <dfn
   id=avoid-break-values>avoid break values</dfn> ‘<code
   class=css>avoid</code>’, ‘<code class=css>avoid-page</code>’,
   ‘<code class=css>avoid-column</code>’ and ‘<code
   class=css>avoid-region</code>’ indicate that content should be kept
   together.

  <p> Since breaks are only allowed between siblings, not between a box and
   its container (see <a href="#possible-breaks">Possible Break Points</a>),
   a ‘<a href="#break-before"><code
   class=property>break-before</code></a>’ value on a first-child box is
   propagated to its container. Likewise a ‘<a href="#break-after"><code
   class=property>break-after</code></a>’ value on a last-child box is
   propagated to its container. (Conflicting values <a
   href="#forced-breaks">combine</a> as defined below.) This propagation
   stops before it breaks through the nearest matching fragmentation context.

  <p> Values for ‘<a href="#break-before"><code
   class=property>break-before</code></a>’ and ‘<a
   href="#break-after"><code class=property>break-after</code></a>’ are
   defined in the sub-sections below. User Agents must apply these properties
   to boxes in the normal flow of the <a
   href="#fragmentation-root"><i>fragmentation root</i></a>. User agents
   should also apply these properties to floated boxes whose containing block
   is in the normal flow of the root fragmented element. User agents may also
   apply these properties to other boxes.

  <h4 class=no-num id=generic-break-values> Generic Break Values</h4>

  <p> These values have an effect regardless of the type of fragmented
   context containing the flow.

  <dl>
   <dt>‘<code class=css>auto</code>’

   <dd> Neither force nor forbid a break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>avoid</code>’

   <dd> Avoid a break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>always</code>’

   <dd> Always force a break (of all possible types, through all
    fragmentation contexts) before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>any</code>’

   <dd> Force a break of any type, whichever is the type of the deepest
    fragmentation context, before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.
  </dl>

  <h4 class=no-num id=page-break-values> Page Break Values</h4>

  <p> These values only have an effect in paginated contexts; if the flow is
   not paginated, they have no effect.

  <dl>
   <dt>‘<code class=css>avoid-page</code>’

   <dd> Avoid a page break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>page</code>’

   <dd> Always force a page break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>left</code>’

   <dd> Force one or two page breaks before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a> so that the next page is formatted as a left page.

   <dt>‘<code class=css>right</code>’

   <dd> Force one or two page breaks before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a> so that the next page is formatted as a right page.

   <dt>‘<code class=css>recto</code>’

   <dd> Force one or two page breaks before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a> so that the next page is formatted as either a left page or a
    right page, whichever is second (according to the page progression) in a
    page spread.

   <dt>‘<code class=css>verso</code>’

   <dd> Force one or two page breaks before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a> so that the next page is formatted as either a left page or a
    right page, whichever is first (according to the page progression) in a
    page spread.
  </dl>

  <h4 class=no-num id=column-break-values> Column Break Values</h4>

  <p> These values only have an effect in multi-column contexts; if the flow
   is not within a multi-column context, they have no effect.

  <dl>
   <dt>‘<code class=css>avoid-column</code>’

   <dd> Avoid a column break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>column</code>’

   <dd> Always force a column break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.
  </dl>

  <h4 class=no-num id=region-break-values> Region Break Values</h4>

  <p> These values only have an effect in multi-region contexts; if the flow
   is not linked across multiple regions, these values have no effect.

  <dl>
   <dt>‘<code class=css>avoid-region</code>’

   <dd> Avoid a region break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.

   <dt>‘<code class=css>region</code>’

   <dd> Always force a region break before/after the <a
    href="http://www.w3.org/TR/CSS21/visuren.html#block-boxes">principal
    box</a>.
  </dl>

  <h3 id=break-within><span class=secno>3.2. </span> Breaks Within Boxes: the
   ‘<a href="#break-inside"><code class=property>break-inside</code></a>’
   property</h3>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=break-inside>break-inside</dfn>

    <tr>
     <th>Value:

     <td>auto | avoid | avoid-page | avoid-column | avoid-region

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>elements in the normal flow that that establish formatting contexts,
      or are block containers, table row groups, or table rows

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>specified value
  </table>

  <p> This property specifies page/column/region break behavior within the
   element's principal box. Values have the following meanings:

  <dl>
   <dt>‘<code class=css>auto</code>’

   <dd> Impose no additional breaking constraints within the box.

   <dt>‘<code class=css>avoid</code>’

   <dd> Avoid breaks within the box.

   <dt>‘<code class=css>avoid-page</code>’

   <dd> Avoid a page break within the box.

   <dt>‘<code class=css>avoid-column</code>’

   <dd> Avoid a column break within the box.

   <dt>‘<code class=css>avoid-region</code>’

   <dd> Avoid a region break within the box.
  </dl>

  <h3 id=widows-orphans><span class=secno>3.3. </span> Breaks Between Lines:
   ‘<a href="#orphans"><code class=property>orphans</code></a>’, ‘<a
   href="#widows"><code class=property>widows</code></a>’</h3>

  <table class=propdef summary="property definition">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=orphans>orphans</dfn>, <dfn id=widows>widows</dfn>

    <tr>
     <th>Value:

     <td>&lt;integer&gt;

    <tr>
     <th>Initial:

     <td>2

    <tr>
     <th>Applies to:

     <td>block containers

    <tr>
     <th>Inherited:

     <td>yes

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>specified value
  </table>

  <p> The ‘<a href="#orphans"><code class=property>orphans</code></a>’
   property specifies the minimum number of line boxes in a block container
   that must be left in a <a href="#fragment"><i>fragment</i></a> before a
   fragment break. The ‘<a href="#widows"><code
   class=property>widows</code></a>’ property specifies the minimum number
   of line boxes of a block container that must be left in a <a
   href="#fragment"><i>fragment</i></a> after a break. Examples of how they
   are used to control fragmentation breaks are given <a
   href="#widows-orphans-example">below</a>.

  <p> Only positive integers are allowed as values of ‘<a
   href="#orphans"><code class=property>orphans</code></a>’ and ‘<a
   href="#widows"><code class=property>widows</code></a>’. Negative values
   and zero are invalid and must cause the declaration to be <a
   href="http://www.w3.org/TR/CSS21/conform.html#ignore">ignored</a>.

  <p> If a block contains fewer lines than the value of ‘<a
   href="#widows"><code class=property>widows</code></a>’ or ‘<a
   href="#orphans"><code class=property>orphans</code></a>’, the rule
   simply becomes that all lines in the block must be kept together.

  <h3 id=page-break-properties><span class=secno>3.4. </span> Page Break
   Aliases: the ‘<code class=property>page-break-before</code>’, ‘<code
   class=property>page-break-after</code>’, and ‘<code
   class=property>page-break-inside</code>’ properties</h3>

  <p>For compatibility with <a
   href="http://www.w3.org/TR/CSS21/page.html">CSS Level 2</a>, UAs that
   conform to <a href="#ref-CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> must alias the ‘<code
   class=property>page-break-before</code>’, ‘<code
   class=property>page-break-after</code>’, and ‘<code
   class=property>page-break-inside</code>’ properties to ‘<a
   href="#break-before"><code class=property>break-before</code></a>’,
   ‘<a href="#break-after"><code class=property>break-after</code></a>’,
   and ‘<a href="#break-inside"><code
   class=property>break-inside</code></a>’ by treating the ‘<code
   class=css>page-break-*</code>’ properties as shorthands for the ‘<code
   class=css>break-*</code>’ properties with the following value mappings:

  <table class=data>
   <thead>
    <tr>
     <th>Shorthand (‘<code class=css>page-break-*</code>’) Values

     <th>Longhand (‘<code class=css>break-*</code>’) Values

   <tbody>
    <tr>
     <td>‘<code class=css>auto | left | right | avoid</code>’

     <td>‘<code class=css>auto | left | right | avoid</code>’

    <tr>
     <td>‘<code class=css>always</code>’

     <td>‘<code class=css>page</code>’
  </table>

  <h2 id=breaking-rules><span class=secno>4. </span> Rules for Breaking</h2>

  <p> A fragmented flow may be broken across fragmentainers at a number of <a
   href="#possible-breaks">possible break points</a>. In the case of <a
   href="#forced-breaks">forced breaks</a>, the UA is required to break the
   flow at that point. In the case of <a href="#unforced-breaks">unforced
   breaks</a>, the UA has to choose among the possible breaks that are
   allowed.

  <p> Some content is not fragmentable, for example many types of <a
   href="http://www.w3.org/TR/CSS21/conform.html#replaced-element">replaced
   elements</a> <a href="#ref-CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> (such as images or video),
   scrollable elements, or a single line of text content. Such content is
   considered <dfn id=monolithic>monolithic</dfn>: it contains no possible
   break points. In addition to any content which is not fragmentable, UAs
   may consider as <a href="#monolithic"><i>monolithic</i></a> any elements
   with ‘<code class=property>overflow</code>’ set to ‘<code
   class=css>auto</code>’ or ‘<code class=css>scroll</code>’ and any
   elements with ‘<code class=css>overflow: hidden</code>’ and a
   non-‘<code class=css>auto</code>’ <a
   href="http://www.w3.org/TR/css3-writing-modes/#extent">logical height</a>
   (and no specified maximum logical height).

  <p> To guarantee progress, fragmentainers are assumend to have a minimum
   extent of 1px regardless of their used size.

  <h3 id=possible-breaks><span class=secno>4.1. </span> Possible Break Points</h3>

  <p> Fragmentation splits boxes in the block flow dimension. In
   block-and-inline flow, breaks may occur at the following places:

  <dl>
   <dt id=btw-blocks>Class A

   <dd> Between sibling boxes of the following types:
    <dl>
     <dt>Block-parallel Fragmentation

     <dd> When the block flow direction of the siblings' containing block is
      parallel to that of the fragmentation context: in-flow block-level
      boxes, <!-- XXX linkify in-flow --> a float and an immediately-adjacent
      in-flow or floated box, table row group boxes, table row boxes,
      multi-column column row boxes.

     <dt>Block-perpendicular Fragmentation

     <dd> When the block flow direction of the siblings' containing block is
      perpendicular to that of the fragmentation context: table column group
      boxes, table column boxes, multi-column column boxes.
    </dl>

   <dt id=btw-lines>Class B

   <dd> Between line boxes inside a block container box.

   <dt id=end-block>Class C

   <dd> Between the content edge of a block container box and the outer edges
    of its child content (margin edges of block-level children or line box
    edges for inline-level children) <em>if</em> there is a (non-zero) gap
    between them. <!-- XXX add example -->
  </dl>

  <p class=note> There is no inherent prioritization among these classes of
   break points. However, individual break points may be prioritized or
   de-prioritized by using the <a href="#breaking-controls">breaking
   controls</a>.

  <p id=monolithic-breaking> The UA is not required to fragment the contents
   of <a href="#monolithic"><i>monolithic</i></a> elements, and may instead
   either slice the element's graphical representation as necessary to
   fragment it or treat its box as unbreakable and overflow the
   fragmentainer. In both cases it must treat the element as having ‘<code
   class=css>break-inside: avoid</code>’, i.e. only slice or overflow at
   the fragmentainer edge if there are no <a href="#possible-breaks">possible
   break points</a> on the fragmentainer.

  <p> When paginating, if there are no possible break points below the top of
   the page, and not all the content fits, the UA may break anywhere in order
   to avoid losing content off the edge of the page. <span class=issue>Should
   this be generalized to fragmentainer?</span>

  <p class=note> Other layout models may add breakpoints to the above
   classes. For example, <a href="#ref-CSS3-FLEXBOX"
   rel=biblioentry>[CSS3-FLEXBOX]<!--{{CSS3-FLEXBOX}}--></a> adds certain
   points within a flex formatting context to classes A and C.

  <h3 id=break-types><span class=secno>4.2. </span> Types of Breaks</h3>

  <p> There are different types of breaks in CSS, defined based on the type
   of fragmentainers they span:

  <dl>
   <dt><dfn id=page-break>page break</dfn>

   <dd> A break between two <a
    href="http://www.w3.org/TR/css3-page/#page-box">page boxes</a>. <a
    href="#ref-CSS3PAGE" rel=biblioentry>[CSS3PAGE]<!--{{!CSS3PAGE}}--></a>

   <dt><dfn id=spread-break>spread break</dfn>

   <dd> A break between two page boxes that are not associated with <a
    href="http://www.w3.org/TR/css3-page/#facing-pages">facing pages</a>. A
    spread break is always also a page break. <a href="#ref-CSS3PAGE"
    rel=biblioentry>[CSS3PAGE]<!--{{!CSS3PAGE}}--></a>

   <dt><dfn id=column-break>column break</dfn>

   <dd> A break between two <a
    href="http://www.w3.org/TR/css3-multicol/#column-box">column boxes</a>.
    Note that if the column boxes are on different pages, then the break is
    also a <a href="#page-break"><i>page break</i></a>. Similarly, if the
    column boxes are in different regions, then the break is also a <a
    href="#region-break"><i>region break</i></a>. <a href="#ref-CSS3COL"
    rel=biblioentry>[CSS3COL]<!--{{!CSS3COL}}--></a>

   <dt><dfn id=region-break>region break</dfn>

   <dd> A break between two <a
    href="http://www.w3.org/TR/css3-regions/#regions">regions</a>. Note that
    if the region boxes are on different pages, then the break is also a <a
    href="#page-break"><i>page break</i></a>. <a href="#ref-CSS3-REGIONS"
    rel=biblioentry>[CSS3-REGIONS]<!--{{!CSS3-REGIONS}}--></a>
  </dl>

  <p class=note> A fifth type of break is the <dfn id=line-break>line
   break</dfn>, which is a break between two <a
   href="http://www.w3.org/TR/CSS21/visuren.html#line-box">line boxes</a>.
   These are not covered in this specification; see <a href="#ref-CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a> <a href="#ref-CSS-TEXT-3"
   rel=biblioentry>[CSS-TEXT-3]<!--{{CSS-TEXT-3}}--></a>.

  <h3 id=forced-breaks><span class=secno>4.3. </span> Forced Breaks</h3>

  <p> A <dfn id=forced-break>forced break</dfn> is one explicitly indicated
   by the style sheet author. A <a href="#forced-break"><i>forced
   break</i></a> occurs at a <a href="#btw-blocks">class A break point</a>
   if, among the ‘<a href="#break-after"><code
   class=property>break-after</code></a>’ properties specified on or
   propagated to the earlier sibling box and the ‘<a
   href="#break-before"><code class=property>break-before</code></a>’
   properties specified on or propagated to the later sibling box there is at
   least one with a <i>forced break value</i>. (Thus a <i>forced break
   value</i> effectively overrides any <i>avoid break value</i> that also
   applies at that break point.)

  <p> When multiple <a href="#forced-break-values"><i>forced break
   values</i></a> apply to a single break point, they combine such that all
   types of break are honored. When ‘<code class=css>left</code>’,
   ‘<code class=css>right</code>’, ‘<code class=css>recto</code>’,
   and/or ‘<code class=css>verso</code>’ are combined, the value
   specified on the latest element in the flow wins.

  <p class=note> A page break must also occur at a <a
   href="#btw-blocks">class A break point</a> if the last line box above this
   margin and the first one below it do not have the same value for ‘<code
   class=property>page</code>’. See <a href="#ref-CSS3PAGE"
   rel=biblioentry>[CSS3PAGE]<!--{{!CSS3PAGE}}--></a>

  <p> When a forced break occurs, it forces ensuing content into the next
   fragmentainer of the type associated with the break, breaking through as
   many fragmentation contexts as necessary until the specified break types
   are all satisfied. If the forced break is not contained within a matching
   type of fragmentation context, then the forced break has no effect.

  <h3 id=unforced-breaks><span class=secno>4.4. </span> Unforced Breaks</h3>

  <p> While <a href="#breaking-controls">breaking controls</a> can force
   breaks, they can also discourage them. An <dfn id=unforced-break>unforced
   break</dfn> is one that is inserted automatically by the UA in order to
   prevent content from overflowing the <a
   href="#fragmentainer"><i>fragmentainer</i></a>. The following rules
   control whether unforced breaking at a <a href="#possible-breaks">possible
   break point</a> is allowed:

  <dl>
   <dt>Rule 1

   <dd> A fragmented flow may break at a <a href="#btw-blocks">class A break
    point</a> only if all the ‘<a href="#break-after"><code
    class=property>break-after</code></a>’ and ‘<a
    href="#break-before"><code class=property>break-before</code></a>’
    values applicable to this break point allow it, which is when at least
    one of them forces a break or when all of them are ‘<code
    class=css>auto</code>’.

   <dt>Rule 2

   <dd> However, if all of them are ‘<code class=css>auto</code>’ and a
    common ancestor of all the elements has a ‘<a
    href="#break-inside"><code class=property>break-inside</code></a>’
    value of ‘<code class=css>avoid</code>’, then breaking here is not
    allowed.

   <dt>Rule 3

   <dd> Breaking at a <a href="#btw-lines">class B break point</a> is allowed
    only if the number of line boxes between the break and the start of the
    enclosing block box is the value of ‘<a href="#orphans"><code
    class=property>orphans</code></a>’ or more, and the number of line
    boxes between the break and the end of the box is the value of ‘<a
    href="#widows"><code class=property>widows</code></a>’ or more.

   <dt>Rule 4

   <dd> Additionally, breaking at <a href="#btw-blocks">class B</a> or <a
    href="#end-block">class C</a> break points is allowed only if the ‘<a
    href="#break-inside"><code class=property>break-inside</code></a>’
    property of all ancestors is ‘<code class=css>auto</code>’.
  </dl>

  <p> If the above doesn't provide enough break points to keep content from
   overflowing the <a href="#fragmentainer"><i>fragmentainer</i></a>, then
   rules 1, 2 and 4 are dropped in order to find additional breakpoints. In
   this case the UA may use the ‘<code class=css>avoid</code>’s that are
   in effect at those points to weigh the appropriateness of the new
   breakpoints; however, this specification does not suggest a precise
   algorithm.

  <p> If that still does not lead to sufficient break points, rule 3 is
   dropped as well, to find still more break points.

  <p class="note issue">This means that ‘<a href="#widows"><code
   class=property>widows</code></a>’ and ‘<a href="#orphans"><code
   class=property>orphans</code></a>’ restrictions are given priority over
   the ‘<code class=css>break-*</code>’ controls.

  <h3 id=best-breaks><span class=secno>4.5. </span> Optimizing Unforced
   Breaks</h3>

  <p>While CSS3 requires that a fragmented flow must break at allowed break
   points in order to avoid overflowing the fragmentainers in its
   fragmentation context, it does not define whether content breaks at a
   particular <a href="#unforced-breaks">allowed break</a>. However, it is
   recommended that user agents observe the following guidelines (while
   recognizing that they are sometimes contradictory):

  <ul>
   <li>Break as few times as possible.

   <li>Make all fragmentainers that don't end with a forced break appear to
    be equally filled with content.

   <li>Avoid breaking inside a replaced element.
  </ul>

  <div class=example id=widows-orphans-example>
   <p> Suppose, for example, that the style sheet contains ‘<code
    class=css>orphans : 4</code>’, ‘<code class=css>widows : 2</code>’,
    and there is space for 20 lines (line boxes) available at the bottom of
    the current page, and the next block in normal flow is considered for
    placement:

   <ul>
    <li> If the block contains 20 line boxes or fewer, it should be placed on
     the current page.

    <li> If the block contains 21 or 22 line boxes, the second fragment of
     the paragraph must not violate the ‘<a href="#widows"><code
     class=property>widows</code></a>’ constraint, and so the second
     fragment must contain at least two line boxes; likewise the first
     fragment must contain at least four line boxes.

    <li> If the block contains 23 line boxes or more, the first fragment
     should contain 20 lines and the second fragment the remaining lines. But
     if any fragment of the block is placed on the current page, that
     fragment must contain at least four line boxes and the second fragment
     at least two line boxes.
   </ul>

   <p> Now suppose that ‘<a href="#orphans"><code
    class=property>orphans</code></a>’ is ‘<code class=css>10</code>’,
    ‘<a href="#widows"><code class=property>widows</code></a>’ is
    ‘<code class=css>20</code>’, and there are 8 lines available at the
    bottom of the current page:

   <ul>
    <li> If the block contains 8 lines or fewer, it should be placed on the
     current page.

    <li> If the block contains 9 lines or more, it must NOT be split (that
     would violate the ‘<a href="#orphans"><code
     class=property>orphans</code></a>’ constraint), so it must move as a
     block to the next page.
   </ul>
  </div>

  <h2 id=breaking-boxes><span class=secno>5. </span> Box Model for Breaking</h2>

  <p class=note> The sizing terminology used in this section is defined in <a
   href="#ref-CSS3-SIZING"
   rel=biblioentry>[CSS3-SIZING]<!--{{CSS3-SIZING}}--></a>.

  <h3 id=varying-size-boxes><span class=secno>5.1. </span> Breaking into
   Varying-size Fragmentainers</h3>

  <p> When a flow is fragmented into varying-size fragmentainers, the
   following rules are observed for adapting layout:</p>
  <!-- try to make this clearer. Steve suggests swapping first two points, maybe break it up more? -->

  <ul>
   <li> Intrinsic sizes are calculated and maintained across the entire
    element. Where an initial containing block size is needed to resolve an
    intrinsic size, assume the size of the first fragmentainer defining a
    fragmentation context.

   <li> Layout is performed per-fragmentainer, with each fragmentainer
    continuing progress from the breakpoint on the previous, but
    recalculating sizes and positions using its own size as if the entire
    element were fragmented across fragmentainers of this size. Progress is
    measured in percentages (not absolute lengths) of used/remaining
    fragmentainer extent and in amount of used/remaining content. However,
    when laying out <a href="#monolithic"><i>monolithic</i></a> elements, the
    UA may instead maintain a consistent measure and resolved extent across
    fragmentainers.

   <li> Fragments of boxes that began on a previous fragmentainer must obey
    placement rules with the additional constraint that fragments must not be
    positioned above the before edge of the fragmentainer. If this results in
    a box's continuation fragment shifting away from the before edge of the
    fragmentainer, then ‘<code class=css>box-decoration-break:
    clone</code>’, if specified, wraps the fragment with the box's margin
    in addition to its padding and border.
    <div class=figure>
     <pre>First page
<!--    -->+----------------------------------+
<!--    -->|########### ......... ############|
<!--    -->|#         # .....     #          #|
<!--    -->|#  left   # .......   #   right  #|
<!--    -->|#  float  # ......... #   float  #|
<!--    -->|#         # ........  #          #|
<!--    -->|#         # ......... #          #|
<!--    -->|#         # ........  #          #|
<!--    -->|#,,,,,,,,,# ......... #,,,,,,,,,,#|
<!--    -->+----------------------------------+
<!--    -->
<!--    -->Second page
<!--    -->
<!--    -->+-----------------+
<!--    -->|#`````````# .... |
<!--    -->|#  left   # ...  |
<!--    -->|#  float  # .... |
<!--    -->|#  cont.  # .... |
<!--    -->|########### ...  |
<!--    -->|.... #``````````#|
<!--    -->|...  #  right   #|
<!--    -->|.... #  float   #|
<!--    -->|.... #  cont.   #|
<!--    -->|.... ############|
<!--    -->|...............  |
<!--    -->|.......          |</pre>
    </div>
  </ul>

  <p class=note> Since document order of elements doesn't change during
   fragmentation, fragments are processed following the same rules that apply
   to continuous media. In particular, the order of floats is preserved
   across all fragments and follows the same rules as defined in CSS 2.1 9.5.

  <p>Below are listed (informatively) some implications of these rules:

  <ul>
   <li> Boxes (including tables) fullfilling layout constraints at their
    <i>fill-available</i> or percentage-based size may change measure across
    pages.

   <li> Boxes (including tables) fulfilling layout constraints at their
    <i>min-content</i>, <i>max-content</i>, or absolute-length size will
    maintain their measure across pages.

   <li> A block-level continuation fragment may be placed below the top of
    the page if, e.g. it establishes a block formatting context and is placed
    beside a float and both it and the float continue onto a narrower page
    that is too narrow to hold both of them side-by-side.

   <li> An element adjacent to a preceding float on one page may wind up
    above the float's continuation on the next page if, e.g. that float is
    pushed down because it no longer fits side-by-side with an earlier float
    that also continues onto this narrower page.

   <li> A left float may appear on a page <em>before</em> the remaining
    fragments of a preceding right float if that right float does not fit on
    the earlier page. However another right float will be forced down until
    the preceding right float's remaining fragment can be placed.
  </ul>

  <div class=example>
   <p>Here is an example that shows the use of percentage-based progress:
    Suppose we have an absolutely-positioned element that is positioned
    ‘<code class=css>top: calc(150% + 30px)</code>’ and has ‘<code
    class=css>height: calc(100% - 10px)</code>’. If it is placed into a
    paginated context with a first page height of 400px, a second page of
    200px, and a third page of 600px, its layout progresses as follows:

   <ul>
    <li>First, the top position is resolved against the height of the first
     page. This results in 630px. Since the first page has a height of only
     400px, layout moves to the second page, recording progress of 400/630 =
     63.49% with 36.51% left to go.

    <li>Now on the second page, the top position is again resolved, this time
     against the height of the second page. This results in 330px. The
     remaining 36.51% of progress thus resolves to 120.5px, placing the top
     edge of the element 120.5px down the second page.

    <li>Now the height is resolved against the second page; it resolves to
     190px. Since there are only 79.5px left on the page, layout moves to the
     third page, recording progress of 79.5/190 = 41.84%, with 58.16% left to
     go.

    <li>On the third page, the height resolves to 590px. The remaining 58.16%
     of progress thus resolves to 343.1px, which fits on this page and
     completes the element.
   </ul>
  </div>

  <h3 id=break-margins><span class=secno>5.2. </span> Adjoining Margins at
   Breaks</h3>

  <p> When an unforced break occurs between block-level boxes, any margins
   adjoining the break truncate to the <a
   href="#remaining-fragmentainer-extent"><i>remaining fragmentainer
   extent</i></a>. When a forced break occurs there, adjoining margins before
   the break are truncated, but margins after the break are preserved.

  <h3 id=box-splitting><span class=secno>5.3. </span> Splitting Boxes</h3>

  <p> When a box breaks, its content box extends to fill any <a
   href="#remaining-fragmentainer-extent"><i>remaining fragmentainer
   extent</i></a> (leaving room for any margins/borders/padding applied by
   ‘<code class=css>box-decoration-break: clone</code>’) before the
   content resumes on the next <a
   href="#fragmentainer"><i>fragmentainer</i></a>. (A <a
   href="#fragmentation-break"><i>fragmentation break</i></a> that pushes
   content to the next <a href="#fragmentainer"><i>fragmentainer</i></a>
   effectively increases the extent of a box's contents.)

  <p class=note> The extra extent contributed by fragmenting the box (i.e.
   the distance from the break point to the edge of the <a
   href="#fragmentainer"><i>fragmentainer</i></a>) contributes progress
   towards any specified limits on the box's extent.

  <div class=figure>
   <p class=caption> The diagrams below illustrate filling the <a
    href="#remaining-fragmentainer-extent"><i>remaining fragmentainer
    extent</i></a>.

   <pre>
+-----------------+  +-----------------+
| ............... |  | ............... |
| ..............  |  | ..............  |
| ............... |  | ............... |
| ..............  |  | ..............  |
| ............    |  | ............    |
| ############### |  | ############### |
| #  this box   # |  | #  this box   # |
| #  is         # |  | #  is         # |  &lt;&lt; auto-height block
| #  fragmented # |  | #  fragmented # |
| #             # |  | #             # |  &lt;-+
| #             # |  | #             # |    | remaining
| #             # |  | #             # |    | blank
| #             # |  | ############### |    | space
+-----------------+  +-----------------+  &lt;-+</pre>
  </div>

  <h3 id=break-decoration><span class=secno>5.4. </span> Fragmented Borders
   and Backgrounds: the ‘<a href="#box-decoration-break"><code
   class=property>box-decoration-break</code></a>’ property</h3>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=box-decoration-break>box-decoration-break</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td>slice | clone

    <tr>
     <th>Initial:

     <td>slice

    <tr>
     <th>Applies to:

     <td>all elements

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified

    <tr>
     <th>Animatable:

     <td>no
  </table>

  <p> When a break (page/column/region/line<!-- ISSUE-182-->) splits a box,
   the ‘<a href="#box-decoration-break"><code
   class=property>box-decoration-break</code></a>’ property controls

  <ul>
   <li>whether the box's margins, borders, padding, and other decorations
    wrap the broken edges of the box fragments

   <li>how the <a
    href="http://www.w3.org/TR/css3-background/#background-positioning-area"><i>background
    positioning area</i></a> <a href="#ref-CSS3BG"
    rel=biblioentry>[CSS3BG]<!--{{!CSS3BG}}--></a> is derived from the box
    fragments and how the element's background is drawn within them.
  </ul>

  <p> Values have the following meanings:

  <dl>
   <dt><dfn id=clone>‘<code class=css>clone</code>’</dfn>

   <dd> Each box fragment is independently wrapped with the border and
    padding. The ‘<code class=property>border-radius</code>’ and ‘<code
    class=property>border-image</code>’ and ‘<code
    class=property>box-shadow</code>’, if any, are applied to each fragment
    independently. The background is drawn independently in each fragment of
    the element. A no-repeat background image will thus be rendered once in
    each fragment of the element.

   <dt><dfn id=slice>‘<code class=css>slice</code>’</dfn>

   <dd>
    <p>No border and no padding are inserted at a break; no box-shadow is
     drawn at a broken edge; ‘<code class=property>border-radius</code>’
     does not apply to its corners; and backgrounds and the ‘<code
     class=property>border-image</code>’ are rendered for the whole box as
     if the box were unbroken. The effect is as though the element were
     rendered with no breaks present, and then sliced by the breaks
     afterward.
  </dl>

  <div class=figure>
   <p><img
    alt="Illustration:       (1) a single box cut in two in between two lines of text by a page break and       (2) two boxes, one before and one after the page break,       both with a border all around and their own background image"
    src=box-break.png>

   <p class=caption>Two possibilities for ‘<a
    href="#box-decoration-break"><code
    class=property>box-decoration-break</code></a>’: on the left, the value
    ‘<a href="#slice"><code class=css>slice</code></a>’, on the right the
    value ‘<a href="#clone"><code class=css>clone</code></a>’.
  </div>

  <p>UAs may also apply ‘<a href="#box-decoration-break"><code
   class=property>box-decoration-break</code></a>’ to control rendering at
   bidi-imposed breaks, i.e. when bidi reordering causes an inline to split
   into non-contiguous fragments. Otherwise such breaks are always handled as
   ‘<a href="#slice"><code class=css>slice</code></a>’.

  <p class=note> For inline elements, which side of a fragment is considered
   the broken edge is determined by the parent element's inline progression
   direction. For example, if an inline element whose parent has ‘<code
   class=css>direction: rtl</code>’ breaks across two lines, the
   <em>left</em> edge of the fragment on the first line will be the broken
   edge. (Note in particular that neither the element's own ‘<code
   class=property>direction</code>’ nor its containing block's ‘<code
   class=property>direction</code>’ is used.) See <a
   href="#ref-CSS-WRITING-MODES-3"
   rel=biblioentry>[CSS-WRITING-MODES-3]<!--{{CSS-WRITING-MODES-3}}--></a>.

  <h4 id=joining-boxes><span class=secno>5.4.1. </span> Joining Boxes for
   ‘<a href="#slice"><code class=css>slice</code></a>’</h4>

  <p>For ‘<code class=css>box-decoration: slice</code>’, backgrounds (and
   ‘<code class=property>border-image</code>’) are drawn as if applied to
   a composite box consisting of all of the box's fragments reassembled in
   visual order. This theoretical assembly occurs after the element has been
   laid out (including any justification, bidi reordering, page breaks,
   etc.). To assemble the composite box...

  <dl>
   <dt>For boxes broken across lines

   <dd> First, fragments on the same line are connected in visual order.
    Then, fragments on subsequent lines are ordered according to the
    element's <i>inline base direction</i> and aligned on the element's
    dominant baseline. For example, in a left-to-right containing block
    (‘<code class=property>direction</code>’ is ‘<code
    class=css>ltr</code>’), the first fragment is the leftmost fragment on
    the first line and fragments from subsequent lines are put to the right
    of it. In a right-to-left containing block, the first fragment is the
    rightmost on the first line and subsequent fragments are put to the left
    of it.

   <dt>For boxes broken across columns

   <dd> Fragments are connected as if the column boxes were glued together in
    the <i>block flow direction</i> of the multi-column element.

   <dt>For boxes broken across pages

   <dd> Fragments are connected as if page content areas were glued together
    in the <i>block flow direction</i> of the root element.

   <dt>For boxes broken across regions

   <dd> Fragments are connected as if region content areas were glued
    together in the <i>block flow direction</i> of the <i>principal writing
    mode</i> of the <i>region chain</i>.
  </dl>

  <p>If the box fragments have different widths (heights, if the fragments
   are joined horizontally), then each piece draws its portion of the
   background assuming that the whole element has the same width (height) as
   this piece. However, if the used height (width) of an image is derived
   from the width (height) of the box, then it is calculated using the widest
   fragment's width and maintained as a fixed size. This ensures that
   right-aligned images stay aligned to the right edge, left-aligned images
   stay aligned to the left edge, centered images stay centered, and
   stretched images cover the background area as intended while preserving
   continuity across fragments.

  <h3 id=transforms><span class=secno>5.5. </span> Transforms, Positioning,
   and Pagination</h3>

  <p> Fragmentation interacts with layout, and thus occurs <em>before</em>
   relative positioning <a href="#ref-CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>, transforms <a
   href="#ref-CSS3-TRANSFORMS"
   rel=biblioentry>[CSS3-TRANSFORMS]<!--{{!CSS3-TRANSFORMS}}--></a>, and any
   other graphical effects. Such effects are applied per fragment: for
   example, rotation applied to a fragmented box will calculate a rotation
   origin for each fragment and independently rotate that fragment around its
   origin. (The origin of an overflow-only fragment is determined as if that
   content were overflowing an empty box with zero margins/borders/padding at
   the start of the fragmentainer.) However, the separation and transfer of
   page boxes <em>should</em> occur last; thus a transformed fragment that
   spans pages <em>should</em> be sliced at the page breaks and print in its
   entirety rather than being clipped by its originating page.

  <div class=figure>
   <p><img alt="Illustration: Transformed overflow fragmentation"
    src=fragmented-transforms.png>

   <p class=caption>A fixed-height box spanning 2.5 pages with overflow
    content spanning to a total of 4 pages. The transform origin of each
    fragment is the center of its border box; the fragment without a border
    box assumes a zero-height box at the start of the overflow.
  </div>

  <p> Absolute positioning affects layout and thus interacts with
   fragmentation. Both the coordinate system and absolutely-positioned boxes
   belonging to a containing block will fragment across pages in the same
   fragmentation flow as the containing block.

  <p> UAs are not required to correctly position boxes that span a <a
   href="#fragmentation-break"><i>fragmentation break</i></a> and whose
   <i>before edge</i> position depends on where the box's content fragments.
   UAs with memory constraints that prevent them from manipulating an entire
   document in memory are not required to correctly position
   absolutely-positioned elements that end up on a previously-rendered page.

  <h2 id=conformance><span class=secno>6. </span> Conformance</h2>

  <h3 id=conventions><span class=secno>6.1. </span> Document Conventions</h3>

  <p> Conformance requirements are expressed with a combination of
   descriptive assertions and RFC 2119 terminology. The key words “must”,
   “must NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”,
   “should”, “should NOT”, “RECOMMENDED”, “may”, and
   “OPTIONAL” in the normative parts of this document are to be
   interpreted as described in RFC 2119. However, for readability, these
   words do not appear in all uppercase letters in this specification.

  <p> All of the text of this specification is normative except sections
   explicitly marked as non-normative, examples, and notes. <a
   href="#ref-RFC2119" rel=biblioentry>[RFC2119]<!--{{!RFC2119}}--></a>

  <p> Examples in this specification are introduced with the words “for
   example” or are set apart from the normative text with
   <code>class="example"</code>, like this:

  <div class=example>
   <p>This is an example of an informative example.
  </div>

  <p> Informative notes begin with the word “Note” and are set apart from
   the normative text with <code>class="note"</code>, like this:

  <p class=note>Note, this is an informative note.

  <h3 id=conformance-classes><span class=secno>6.2. </span>Conformance
   Classes</h3>

  <p>Conformance to CSS Fragmentation is defined for three conformance
   classes:

  <dl>
   <dt><dfn id=style-sheet title="style sheet!!as conformance class">style
    sheet</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
    style sheet</a>.

   <dt><dfn id=renderer>renderer</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that interprets the semantics of a style sheet and renders documents that
    use them.

   <dt><dfn id=authoring-tool>authoring tool</dfn>

   <dd> A <a href="http://www.w3.org/TR/CSS21/conform.html#user-agent">UA</a>
    that writes a style sheet.
  </dl>

  <p> A style sheet is conformant to CSS Fragmentation if all of its
   declarations that use properties defined in this module have values that
   are valid according to the generic CSS grammar and the individual grammars
   of each property as given in this module.

  <p> A renderer is conformant to CSS Fragmentation if, in addition to
   interpreting the style sheet as defined by the appropriate specifications,
   it supports all the features defined by CSS Fragmentation by parsing them
   correctly and rendering the document accordingly. However, the inability
   of a UA to correctly render a document due to limitations of the device
   does not make the UA non-conformant. (For example, a UA is not required to
   render color on a monochrome monitor.)

  <p> An authoring tool is conformant to CSS Fragmentation if it writes style
   sheets that are syntactically correct according to the generic CSS grammar
   and the individual grammars of each feature in this module, and meet all
   other conformance requirements of style sheets as described in this
   module.

  <h3 id=partial><span class=secno>6.3. </span> Partial Implementations</h3>

  <p> So that authors can exploit the forward-compatible parsing rules to
   assign fallback values, CSS renderers <strong>must</strong> treat as
   invalid (and <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">
   ignore as appropriate</a>) any at-rules, properties, property values,
   keywords, and other syntactic constructs for which they have no usable
   level of support. In particular, user agents <strong>must not</strong>
   selectively ignore unsupported component values and honor supported values
   in a single multi-value property declaration: if any value is considered
   invalid (as unsupported values must be), CSS requires that the entire
   declaration be ignored.

  <h3 id=experimental><span class=secno>6.4. </span> Experimental
   Implementations</h3>

  <p> To avoid clashes with future CSS features, the CSS2.1 specification
   reserves a <a
   href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefixed
   syntax</a> for proprietary and experimental extensions to CSS.

  <p> Prior to a specification reaching the Candidate Recommendation stage in
   the W3C process, all implementations of a CSS feature are considered
   experimental. The CSS Working Group recommends that implementations use a
   vendor-prefixed syntax for such features, including those in W3C Working
   Drafts. This avoids incompatibilities with future changes in the draft.

  <h3 id=testing><span class=secno>6.5. </span> Non-Experimental
   Implementations</h3>

  <p> Once a specification reaches the Candidate Recommendation stage,
   non-experimental implementations are possible, and implementors should
   release an unprefixed implementation of any CR-level feature they can
   demonstrate to be correctly implemented according to spec.

  <p> To establish and maintain the interoperability of CSS across
   implementations, the CSS Working Group requests that non-experimental CSS
   renderers submit an implementation report (and, if necessary, the
   testcases used for that implementation report) to the W3C before releasing
   an unprefixed implementation of any CSS features. Testcases submitted to
   W3C are subject to review and correction by the CSS Working Group.

  <p> Further information on submitting testcases and implementation reports
   can be found from on the CSS Working Group's website at <a
   href="http://www.w3.org/Style/CSS/Test/">
   http://www.w3.org/Style/CSS/Test/</a>. Questions should be directed to the
   <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">
   public-css-testsuite@w3.org</a> mailing list.

  <h3 id=cr-exit-criteria><span class=secno>6.6. </span> CR Exit Criteria</h3>

  <p> For this specification to be advanced to Proposed Recommendation, there
   must be at least two independent, interoperable implementations of each
   feature. Each feature may be implemented by a different set of products,
   there is no requirement that all features be implemented by a single
   product. For the purposes of this criterion, we define the following
   terms:

  <dl>
   <dt>independent

   <dd> each implementation must be developed by a different party and cannot
    share, reuse, or derive from code used by another qualifying
    implementation. Sections of code that have no bearing on the
    implementation of this specification are exempt from this requirement.

   <dt>interoperable

   <dd> passing the respective test case(s) in the official CSS test suite,
    or, if the implementation is not a Web browser, an equivalent test. Every
    relevant test in the test suite should have an equivalent test created if
    such a user agent (UA) is to be used to claim interoperability. In
    addition if such a UA is to be used to claim interoperability, then there
    must one or more additional UAs which can also pass those equivalent
    tests in the same way for the purpose of interoperability. The equivalent
    tests must be made publicly available for the purposes of peer review.

   <dt>implementation

   <dd> a user agent which:
    <ol class=inline>
     <li>implements the specification.

     <li>is available to the general public. The implementation may be a
      shipping product or other publicly available version (i.e., beta
      version, preview release, or “nightly build”). Non-shipping product
      releases must have implemented the feature(s) for a period of at least
      one month in order to demonstrate stability.

     <li>is not experimental (i.e., a version specifically designed to pass
      the test suite and is not intended for normal usage going forward).
    </ol>
  </dl>

  <p> The specification will remain Candidate Recommendation for at least six
   months.

  <h2 class=no-num id=changes> Changes</h2>

  <p>The following significant changes were made since the <a
   href="http://www.w3.org/TR/2012/WD-css3-break-20120823/">29 August 2012
   Working Draft</a>:

  <ul>
   <li>Added definition of ‘<a href="#box-decoration-break"><code
    class=property>box-decoration-break</code></a>’ (moved from <a
    href="#ref-CSS3BG" rel=biblioentry>[CSS3BG]<!--{{CSS3BG}}--></a>) and
    defined better handling of aspect-ratio-sized images in variable-sized
    fragments.

   <li>Added ‘<code class=css>any</code>’ value to ‘<a
    href="#break-before"><code class=property>break-before</code></a>’ and
    ‘<a href="#break-after"><code class=property>break-after</code></a>’.

   <li>Defined that boxes <a href="#box-splitting">extend to the bottom of
    the page</a> when broken.

   <li>Defined breaking of <a href="#transforms">transformed/positioned
    content</a>.

   <li>Defined 1px minimum extent of fragmentainers to ensure progress.

   <li>Clarified fragmentation of <a href="#parallel-flows">parallel
    flows</a>.

   <li>Defined handling of overflowing content (as parallel content).

   <li>Clarified <a href="#varying-size-boxes">float fragmentation</a> in
    varying-size fragmentainers.

   <li>Various other clarifications.
  </ul>

  <h2 class=no-num id=acknowledgments> Acknowledgments</h2>

  <p> The editors would like to thank Mihai Balan, Michael Day, Alex
   Mogilevsky, Shinyu Murakami, Florian Rivoal, and Alan Stearns for their
   contributions to this module. Special thanks go to the former <a
   href="#ref-CSS3PAGE" rel=biblioentry>[CSS3PAGE]<!--{{CSS3PAGE}}--></a>
   editors Jim Bigelow (HP), Melinda Grant (HP), Håkon Wium Lie (Opera), and
   Jacob Refstrup (HP) for their contributions to this specification, which
   is a successor of their work there.

  <h2 class=no-num id=references>References</h2>

  <h3 class=no-num id=normative-references>Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dd style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=ref-CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
   </dd>
   <!---->

   <dt id=ref-CSS3-REGIONS>[CSS3-REGIONS]

   <dd>Rossen Atanassov; Alan Stearns. <a
    href="http://www.w3.org/TR/2014/WD-css3-regions-20140218/"><cite>CSS
    Regions Module Level 1.</cite></a> 18 February 2014. W3C Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2014/WD-css3-regions-20140218/">http://www.w3.org/TR/2014/WD-css3-regions-20140218/</a>
   </dd>
   <!---->

   <dt id=ref-CSS3-TRANSFORMS>[CSS3-TRANSFORMS]

   <dd>Simon Fraser; et al. <a
    href="http://www.w3.org/TR/2013/WD-css-transforms-1-20131126/"><cite>CSS
    Transforms Module Level 1.</cite></a> 26 November 2013. W3C Working
    Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2013/WD-css-transforms-1-20131126/">http://www.w3.org/TR/2013/WD-css-transforms-1-20131126/</a>
   </dd>
   <!---->

   <dt id=ref-CSS3BG>[CSS3BG]

   <dd>Bert Bos; Elika J. Etemad; Brad Kemper. <a
    href="http://www.w3.org/TR/2014/CR-css3-background-20140909/"><cite>CSS
    Backgrounds and Borders Module Level 3.</cite></a> 9 September 2014. W3C
    Candidate Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2014/CR-css3-background-20140909/">http://www.w3.org/TR/2014/CR-css3-background-20140909/</a>
   </dd>
   <!---->

   <dt id=ref-CSS3COL>[CSS3COL]

   <dd>Håkon Wium Lie. <a
    href="http://www.w3.org/TR/2011/CR-css3-multicol-20110412"><cite>CSS
    Multi-column Layout Module.</cite></a> 12 April 2011. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2011/CR-css3-multicol-20110412">http://www.w3.org/TR/2011/CR-css3-multicol-20110412</a>
   </dd>
   <!---->

   <dt id=ref-CSS3PAGE>[CSS3PAGE]

   <dd>Melinda Grant; et al. <a
    href="http://www.w3.org/TR/2013/WD-css3-page-20130314/"><cite>CSS Paged
    Media Module Level 3.</cite></a> 14 March 2013. W3C Working Draft. (Work
    in progress.) URL: <a
    href="http://www.w3.org/TR/2013/WD-css3-page-20130314/">http://www.w3.org/TR/2013/WD-css3-page-20130314/</a>
   </dd>
   <!---->

   <dt id=ref-RFC2119>[RFC2119]

   <dd>S. Bradner. <a href="http://www.ietf.org/rfc/rfc2119.txt"><cite>Key
    words for use in RFCs to Indicate Requirement Levels.</cite></a> RFC
    2119. URL: <a
    href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>
   </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references>Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dd style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=ref-CSS-TEXT-3>[CSS-TEXT-3]

   <dd>Elika J. Etemad; Koji Ishii. <a
    href="http://www.w3.org/TR/2013/WD-css-text-3-20131010/"><cite>CSS Text
    Module Level 3.</cite></a> 10 October 2013. W3C Last Call Working Draft.
    (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2013/WD-css-text-3-20131010/">http://www.w3.org/TR/2013/WD-css-text-3-20131010/</a>
   </dd>
   <!---->

   <dt id=ref-CSS-WRITING-MODES-3>[CSS-WRITING-MODES-3]

   <dd>fantasai; Koji Ishii. <a
    href="http://www.w3.org/TR/2014/CR-css-writing-modes-3-20140320/"><cite>CSS
    Writing Modes Level 3.</cite></a> 20 March 2014. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2014/CR-css-writing-modes-3-20140320/">http://www.w3.org/TR/2014/CR-css-writing-modes-3-20140320/</a>
   </dd>
   <!---->

   <dt id=ref-CSS3-FLEXBOX>[CSS3-FLEXBOX]

   <dd>Tab Atkins Jr.; fantasai; Rossen Atanassov. <a
    href="http://www.w3.org/TR/2014/WD-css-flexbox-1-20140325/"><cite>CSS
    Flexible Box Layout Module Level 1.</cite></a> 25 March 2014. W3C Last
    Call Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2014/WD-css-flexbox-1-20140325/">http://www.w3.org/TR/2014/WD-css-flexbox-1-20140325/</a>
   </dd>
   <!---->

   <dt id=ref-CSS3-SIZING>[CSS3-SIZING]

   <dd>Tab Atkins Jr.; Elika J. Etemad. <a
    href="http://www.w3.org/TR/2012/WD-css3-sizing-20120927/"><cite>CSS
    Intrinsic &amp; Extrinsic Sizing Module Level 3.</cite></a> 27 September
    2012. W3C Working Draft. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-sizing-20120927/">http://www.w3.org/TR/2012/WD-css3-sizing-20120927/</a>
   </dd>
   <!---->

   <dt id=ref-CSS3VAL>[CSS3VAL]

   <dd>Håkon Wium Lie; Tab Atkins; Elika J. Etemad. <a
    href="http://www.w3.org/TR/2013/CR-css3-values-20130730/"><cite>CSS
    Values and Units Module Level 3.</cite></a> 30 July 2013. W3C Candidate
    Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2013/CR-css3-values-20130730/">http://www.w3.org/TR/2013/CR-css3-values-20130730/</a>
   </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index>Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>authoring tool, <a href="#authoring-tool"
    title="section 6.2."><strong>6.2.</strong></a>

   <li>avoid break values, <a href="#avoid-break-values"
    title="section 3.1."><strong>3.1.</strong></a>

   <li>box-decoration-break, <a href="#box-decoration-break"
    title="section 5.4."><strong>5.4.</strong></a>

   <li>box fragment, <a href="#box-fragment"
    title="section 2."><strong>2.</strong></a>

   <li>break, <a href="#break" title="section 2."><strong>2.</strong></a>

   <li>break-after, <a href="#break-after"
    title="section 3.1."><strong>3.1.</strong></a>

   <li>break-before, <a href="#break-before"
    title="section 3.1."><strong>3.1.</strong></a>

   <li>break-inside, <a href="#break-inside"
    title="section 3.2."><strong>3.2.</strong></a>

   <li>‘<code class=css>clone</code>’, <a href="#clone"
    title="section 5.4."><strong>5.4.</strong></a>

   <li>column break, <a href="#column-break"
    title="section 4.2."><strong>4.2.</strong></a>

   <li>forced break, <a href="#forced-break"
    title="section 4.3."><strong>4.3.</strong></a>

   <li>forced break values, <a href="#forced-break-values"
    title="section 3.1."><strong>3.1.</strong></a>

   <li>fragment, <a href="#fragment"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentainer, <a href="#fragmentainer"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentation, <a href="#fragmentation"
    title="section 1."><strong>1.</strong></a>, <a href="#fragmentation0"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentation break, <a href="#fragmentation-break"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentation container, <a href="#fragmentation-container"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentation context, <a href="#fragmentation-context"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentation direction, <a href="#fragmentation-direction"
    title="section 2."><strong>2.</strong></a>

   <li>fragmentation root, <a href="#fragmentation-root"
    title="section 2."><strong>2.</strong></a>

   <li>fragmented flow, <a href="#fragmented-flow"
    title="section 2."><strong>2.</strong></a>

   <li>line break, <a href="#line-break"
    title="section 4.2."><strong>4.2.</strong></a>

   <li>monolithic, <a href="#monolithic"
    title="section 4."><strong>4.</strong></a>

   <li>orphans, <a href="#orphans"
    title="section 3.3."><strong>3.3.</strong></a>

   <li>page break, <a href="#page-break"
    title="section 4.2."><strong>4.2.</strong></a>

   <li>pagination, <a href="#pagination"
    title="section 1."><strong>1.</strong></a>

   <li>region break, <a href="#region-break"
    title="section 4.2."><strong>4.2.</strong></a>

   <li>remaining fragmentainer extent, <a
    href="#remaining-fragmentainer-extent"
    title="section 2."><strong>2.</strong></a>

   <li>renderer, <a href="#renderer"
    title="section 6.2."><strong>6.2.</strong></a>

   <li>‘<code class=css>slice</code>’, <a href="#slice"
    title="section 5.4."><strong>5.4.</strong></a>

   <li>spread break, <a href="#spread-break"
    title="section 4.2."><strong>4.2.</strong></a>

   <li>style sheet
    <ul>
     <li>as conformance class, <a href="#style-sheet"
      title="section 6.2."><strong>6.2.</strong></a>
    </ul>

   <li>unforced break, <a href="#unforced-break"
    title="section 4.4."><strong>4.4.</strong></a>

   <li>widows, <a href="#widows"
    title="section 3.3."><strong>3.3.</strong></a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index>Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property
      href="#box-decoration-break">box-decoration-break</a>

     <td>slice | clone

     <td>slice

     <td>all elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-after">break-after</a>

     <td>auto | avoid | always | any | avoid-page | page | left | right |
      recto | verso | avoid-column | column | avoid-region | region

     <td>auto

     <td>block-level elements, table row groups, table rows (but see prose)

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-before">break-before</a>

     <td>auto | avoid | always | any | avoid-page | page | left | right |
      recto | verso | avoid-column | column | avoid-region | region

     <td>auto

     <td>block-level elements, table row groups, table rows (but see prose)

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#break-inside">break-inside</a>

     <td>auto | avoid | avoid-page | avoid-column | avoid-region

     <td>auto

     <td>elements in the normal flow that that establish formatting contexts,
      or are block containers, table row groups, or table rows

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#orphans">orphans</a>

     <td>&lt;integer&gt;

     <td>2

     <td>block containers

     <td>yes

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#widows">widows</a>

     <td>&lt;integer&gt;

     <td>2

     <td>block containers

     <td>yes

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
